var fS=e=>{throw TypeError(e)};var wg=(e,t,n)=>t.has(e)||fS("Cannot "+n);var K=(e,t,n)=>(wg(e,t,"read from private field"),n?n.call(e):t.get(e)),Je=(e,t,n)=>t.has(e)?fS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Te=(e,t,n,i)=>(wg(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),ht=(e,t,n)=>(wg(e,t,"access private method"),n);var Pp=(e,t,n,i)=>({set _(s){Te(e,t,s,n)},get _(){return K(e,t,i)}});function OL(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yO={exports:{}},Rx={},bO={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=Symbol.for("react.element"),TL=Symbol.for("react.portal"),_L=Symbol.for("react.fragment"),IL=Symbol.for("react.strict_mode"),RL=Symbol.for("react.profiler"),ML=Symbol.for("react.provider"),$L=Symbol.for("react.context"),DL=Symbol.for("react.forward_ref"),FL=Symbol.for("react.suspense"),LL=Symbol.for("react.memo"),qL=Symbol.for("react.lazy"),pS=Symbol.iterator;function zL(e){return e===null||typeof e!="object"?null:(e=pS&&e[pS]||e["@@iterator"],typeof e=="function"?e:null)}var jO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wO=Object.assign,NO={};function vd(e,t,n){this.props=e,this.context=t,this.refs=NO,this.updater=n||jO}vd.prototype.isReactComponent={};vd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function SO(){}SO.prototype=vd.prototype;function sw(e,t,n){this.props=e,this.context=t,this.refs=NO,this.updater=n||jO}var aw=sw.prototype=new SO;aw.constructor=sw;wO(aw,vd.prototype);aw.isPureReactComponent=!0;var mS=Array.isArray,CO=Object.prototype.hasOwnProperty,ow={current:null},kO={key:!0,ref:!0,__self:!0,__source:!0};function EO(e,t,n){var i,s={},a=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)CO.call(t,i)&&!kO.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:sp,type:e,key:a,ref:o,props:s,_owner:ow.current}}function BL(e,t){return{$$typeof:sp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lw(e){return typeof e=="object"&&e!==null&&e.$$typeof===sp}function UL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hS=/\/+/g;function Ng(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UL(""+e.key):t.toString(36)}function ym(e,t,n,i,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case sp:case TL:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+Ng(o,0):i,mS(s)?(n="",e!=null&&(n=e.replace(hS,"$&/")+"/"),ym(s,t,n,"",function(d){return d})):s!=null&&(lw(s)&&(s=BL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hS,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",mS(e))for(var l=0;l<e.length;l++){a=e[l];var c=i+Ng(a,l);o+=ym(a,t,n,c,s)}else if(c=zL(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=i+Ng(a,l++),o+=ym(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Tp(e,t,n){if(e==null)return e;var i=[],s=0;return ym(e,i,"","",function(a){return t.call(n,a,s++)}),i}function VL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ur={current:null},bm={transition:null},WL={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:bm,ReactCurrentOwner:ow};function AO(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Tp,forEach:function(e,t,n){Tp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tp(e,function(){t++}),t},toArray:function(e){return Tp(e,function(t){return t})||[]},only:function(e){if(!lw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=vd;bt.Fragment=_L;bt.Profiler=RL;bt.PureComponent=sw;bt.StrictMode=IL;bt.Suspense=FL;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WL;bt.act=AO;bt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=wO({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=ow.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)CO.call(t,c)&&!kO.hasOwnProperty(c)&&(i[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:sp,type:e.type,key:s,ref:a,props:i,_owner:o}};bt.createContext=function(e){return e={$$typeof:$L,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ML,_context:e},e.Consumer=e};bt.createElement=EO;bt.createFactory=function(e){var t=EO.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:DL,render:e}};bt.isValidElement=lw;bt.lazy=function(e){return{$$typeof:qL,_payload:{_status:-1,_result:e},_init:VL}};bt.memo=function(e,t){return{$$typeof:LL,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=bm.transition;bm.transition={};try{e()}finally{bm.transition=t}};bt.unstable_act=AO;bt.useCallback=function(e,t){return ur.current.useCallback(e,t)};bt.useContext=function(e){return ur.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return ur.current.useDeferredValue(e)};bt.useEffect=function(e,t){return ur.current.useEffect(e,t)};bt.useId=function(){return ur.current.useId()};bt.useImperativeHandle=function(e,t,n){return ur.current.useImperativeHandle(e,t,n)};bt.useInsertionEffect=function(e,t){return ur.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return ur.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return ur.current.useMemo(e,t)};bt.useReducer=function(e,t,n){return ur.current.useReducer(e,t,n)};bt.useRef=function(e){return ur.current.useRef(e)};bt.useState=function(e){return ur.current.useState(e)};bt.useSyncExternalStore=function(e,t,n){return ur.current.useSyncExternalStore(e,t,n)};bt.useTransition=function(){return ur.current.useTransition()};bt.version="18.3.1";bO.exports=bt;var N=bO.exports;const L=Pt(N),cw=OL({__proto__:null,default:L},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HL=N,GL=Symbol.for("react.element"),KL=Symbol.for("react.fragment"),YL=Object.prototype.hasOwnProperty,QL=HL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XL={key:!0,ref:!0,__self:!0,__source:!0};function PO(e,t,n){var i,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)YL.call(t,i)&&!XL.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:GL,type:e,key:a,ref:o,props:s,_owner:QL.current}}Rx.Fragment=KL;Rx.jsx=PO;Rx.jsxs=PO;yO.exports=Rx;var r=yO.exports,OO={exports:{}},Lr={},TO={exports:{}},_O={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,H){var D=z.length;z.push(H);e:for(;0<D;){var U=D-1>>>1,I=z[U];if(0<s(I,H))z[U]=H,z[D]=I,D=U;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var H=z[0],D=z.pop();if(D!==H){z[0]=D;e:for(var U=0,I=z.length,se=I>>>1;U<se;){var ge=2*(U+1)-1,ee=z[ge],we=ge+1,me=z[we];if(0>s(ee,D))we<I&&0>s(me,ee)?(z[U]=me,z[we]=D,U=we):(z[U]=ee,z[ge]=D,U=ge);else if(we<I&&0>s(me,D))z[U]=me,z[we]=D,U=we;else break e}}return H}function s(z,H){var D=z.sortIndex-H.sortIndex;return D!==0?D:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,p=3,h=!1,v=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var H=n(d);H!==null;){if(H.callback===null)i(d);else if(H.startTime<=z)i(d),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(d)}}function w(z){if(m=!1,x(z),!v)if(n(c)!==null)v=!0,M(b);else{var H=n(d);H!==null&&G(w,H.startTime-z)}}function b(z,H){v=!1,m&&(m=!1,j(S),S=-1),h=!0;var D=p;try{for(x(H),f=n(c);f!==null&&(!(f.expirationTime>H)||z&&!O());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var I=U(f.expirationTime<=H);H=e.unstable_now(),typeof I=="function"?f.callback=I:f===n(c)&&i(c),x(H)}else i(c);f=n(c)}if(f!==null)var se=!0;else{var ge=n(d);ge!==null&&G(w,ge.startTime-H),se=!1}return se}finally{f=null,p=D,h=!1}}var C=!1,k=null,S=-1,E=5,$=-1;function O(){return!(e.unstable_now()-$<E)}function A(){if(k!==null){var z=e.unstable_now();$=z;var H=!0;try{H=k(!0,z)}finally{H?P():(C=!1,k=null)}}else C=!1}var P;if(typeof g=="function")P=function(){g(A)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,F=_.port2;_.port1.onmessage=A,P=function(){F.postMessage(null)}}else P=function(){y(A,0)};function M(z){k=z,C||(C=!0,P())}function G(z,H){S=y(function(){z(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,M(b))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var D=p;p=H;try{return z()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var D=p;p=z;try{return H()}finally{p=D}},e.unstable_scheduleCallback=function(z,H,D){var U=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=D+I,z={id:u++,callback:H,priorityLevel:z,startTime:D,expirationTime:I,sortIndex:-1},D>U?(z.sortIndex=D,t(d,z),n(c)===null&&z===n(d)&&(m?(j(S),S=-1):m=!0,G(w,D-U))):(z.sortIndex=I,t(c,z),v||h||(v=!0,M(b))),z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(z){var H=p;return function(){var D=p;p=H;try{return z.apply(this,arguments)}finally{p=D}}}})(_O);TO.exports=_O;var ZL=TO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JL=N,Dr=ZL;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IO=new Set,Fu={};function fl(e,t){Ac(e,t),Ac(e+"Capture",t)}function Ac(e,t){for(Fu[e]=t,e=0;e<t.length;e++)IO.add(t[e])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gy=Object.prototype.hasOwnProperty,e5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xS={},vS={};function t5(e){return Gy.call(vS,e)?!0:Gy.call(xS,e)?!1:e5.test(e)?vS[e]=!0:(xS[e]=!0,!1)}function n5(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r5(e,t,n,i){if(t===null||typeof t>"u"||n5(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,n,i,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dn[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dn[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dn[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dn[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dn[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dn[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dn[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dn[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dn[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var dw=/[\-:]([a-z])/g;function uw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dw,uw);Dn[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dw,uw);Dn[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dw,uw);Dn[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dn[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dn[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function fw(e,t,n,i){var s=Dn.hasOwnProperty(t)?Dn[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r5(t,n,s,i)&&(n=null),i||s===null?t5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Js=JL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_p=Symbol.for("react.element"),Rl=Symbol.for("react.portal"),Ml=Symbol.for("react.fragment"),pw=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),RO=Symbol.for("react.provider"),MO=Symbol.for("react.context"),mw=Symbol.for("react.forward_ref"),Yy=Symbol.for("react.suspense"),Qy=Symbol.for("react.suspense_list"),hw=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),$O=Symbol.for("react.offscreen"),gS=Symbol.iterator;function qd(e){return e===null||typeof e!="object"?null:(e=gS&&e[gS]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Object.assign,Sg;function uu(e){if(Sg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sg=t&&t[1]||""}return`
`+Sg+e}var Cg=!1;function kg(e,t){if(!e||Cg)return"";Cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=i.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Cg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?uu(e):""}function i5(e){switch(e.tag){case 5:return uu(e.type);case 16:return uu("Lazy");case 13:return uu("Suspense");case 19:return uu("SuspenseList");case 0:case 2:case 15:return e=kg(e.type,!1),e;case 11:return e=kg(e.type.render,!1),e;case 1:return e=kg(e.type,!0),e;default:return""}}function Xy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ml:return"Fragment";case Rl:return"Portal";case Ky:return"Profiler";case pw:return"StrictMode";case Yy:return"Suspense";case Qy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MO:return(e.displayName||"Context")+".Consumer";case RO:return(e._context.displayName||"Context")+".Provider";case mw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hw:return t=e.displayName||null,t!==null?t:Xy(e.type)||"Memo";case ua:t=e._payload,e=e._init;try{return Xy(e(t))}catch{}}return null}function s5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xy(t);case 8:return t===pw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ba(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function DO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a5(e){var t=DO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ip(e){e._valueTracker||(e._valueTracker=a5(e))}function FO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=DO(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Lm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zy(e,t){var n=t.checked;return sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yS(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ba(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function LO(e,t){t=t.checked,t!=null&&fw(e,"checked",t,!1)}function Jy(e,t){LO(e,t);var n=Ba(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?e0(e,t.type,n):t.hasOwnProperty("defaultValue")&&e0(e,t.type,Ba(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function e0(e,t,n){(t!=="number"||Lm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fu=Array.isArray;function Zl(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ba(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function t0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(fu(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ba(n)}}function qO(e,t){var n=Ba(t.value),i=Ba(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function wS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rp,BO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rp=Rp||document.createElement("div"),Rp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o5=["Webkit","ms","Moz","O"];Object.keys(bu).forEach(function(e){o5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bu[t]=bu[e]})});function UO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bu.hasOwnProperty(e)&&bu[e]?(""+t).trim():t+"px"}function VO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=UO(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var l5=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r0(e,t){if(t){if(l5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function i0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s0=null;function xw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var a0=null,Jl=null,ec=null;function NS(e){if(e=lp(e)){if(typeof a0!="function")throw Error(he(280));var t=e.stateNode;t&&(t=Lx(t),a0(e.stateNode,e.type,t))}}function WO(e){Jl?ec?ec.push(e):ec=[e]:Jl=e}function HO(){if(Jl){var e=Jl,t=ec;if(ec=Jl=null,NS(e),t)for(e=0;e<t.length;e++)NS(t[e])}}function GO(e,t){return e(t)}function KO(){}var Eg=!1;function YO(e,t,n){if(Eg)return e(t,n);Eg=!0;try{return GO(e,t,n)}finally{Eg=!1,(Jl!==null||ec!==null)&&(KO(),HO())}}function qu(e,t){var n=e.stateNode;if(n===null)return null;var i=Lx(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var o0=!1;if(Ls)try{var zd={};Object.defineProperty(zd,"passive",{get:function(){o0=!0}}),window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{o0=!1}function c5(e,t,n,i,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var ju=!1,qm=null,zm=!1,l0=null,d5={onError:function(e){ju=!0,qm=e}};function u5(e,t,n,i,s,a,o,l,c){ju=!1,qm=null,c5.apply(d5,arguments)}function f5(e,t,n,i,s,a,o,l,c){if(u5.apply(this,arguments),ju){if(ju){var d=qm;ju=!1,qm=null}else throw Error(he(198));zm||(zm=!0,l0=d)}}function pl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function QO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function SS(e){if(pl(e)!==e)throw Error(he(188))}function p5(e){var t=e.alternate;if(!t){if(t=pl(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return SS(s),e;if(a===i)return SS(s),t;a=a.sibling}throw Error(he(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==i)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function XO(e){return e=p5(e),e!==null?ZO(e):null}function ZO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ZO(e);if(t!==null)return t;e=e.sibling}return null}var JO=Dr.unstable_scheduleCallback,CS=Dr.unstable_cancelCallback,m5=Dr.unstable_shouldYield,h5=Dr.unstable_requestPaint,dn=Dr.unstable_now,x5=Dr.unstable_getCurrentPriorityLevel,vw=Dr.unstable_ImmediatePriority,eT=Dr.unstable_UserBlockingPriority,Bm=Dr.unstable_NormalPriority,v5=Dr.unstable_LowPriority,tT=Dr.unstable_IdlePriority,Mx=null,Ji=null;function g5(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(Mx,e,void 0,(e.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:j5,y5=Math.log,b5=Math.LN2;function j5(e){return e>>>=0,e===0?32:31-(y5(e)/b5|0)|0}var Mp=64,$p=4194304;function pu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Um(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=pu(l):(a&=o,a!==0&&(i=pu(a)))}else o=n&~s,o!==0?i=pu(o):a!==0&&(i=pu(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ei(t),s=1<<n,i|=e[n],t&=~s;return i}function w5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N5(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ei(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&i)&&(s[o]=w5(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function c0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nT(){var e=Mp;return Mp<<=1,!(Mp&4194240)&&(Mp=64),e}function Ag(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ap(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ei(t),e[t]=n}function S5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ei(n),a=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~a}}function gw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ei(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var It=0;function rT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iT,yw,sT,aT,oT,d0=!1,Dp=[],Ta=null,_a=null,Ia=null,zu=new Map,Bu=new Map,ha=[],C5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kS(e,t){switch(e){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":zu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(t.pointerId)}}function Bd(e,t,n,i,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=lp(t),t!==null&&yw(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function k5(e,t,n,i,s){switch(t){case"focusin":return Ta=Bd(Ta,e,t,n,i,s),!0;case"dragenter":return _a=Bd(_a,e,t,n,i,s),!0;case"mouseover":return Ia=Bd(Ia,e,t,n,i,s),!0;case"pointerover":var a=s.pointerId;return zu.set(a,Bd(zu.get(a)||null,e,t,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Bu.set(a,Bd(Bu.get(a)||null,e,t,n,i,s)),!0}return!1}function lT(e){var t=jo(e.target);if(t!==null){var n=pl(t);if(n!==null){if(t=n.tag,t===13){if(t=QO(n),t!==null){e.blockedOn=t,oT(e.priority,function(){sT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=u0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);s0=i,n.target.dispatchEvent(i),s0=null}else return t=lp(n),t!==null&&yw(t),e.blockedOn=n,!1;t.shift()}return!0}function ES(e,t,n){jm(e)&&n.delete(t)}function E5(){d0=!1,Ta!==null&&jm(Ta)&&(Ta=null),_a!==null&&jm(_a)&&(_a=null),Ia!==null&&jm(Ia)&&(Ia=null),zu.forEach(ES),Bu.forEach(ES)}function Ud(e,t){e.blockedOn===t&&(e.blockedOn=null,d0||(d0=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,E5)))}function Uu(e){function t(s){return Ud(s,e)}if(0<Dp.length){Ud(Dp[0],e);for(var n=1;n<Dp.length;n++){var i=Dp[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ta!==null&&Ud(Ta,e),_a!==null&&Ud(_a,e),Ia!==null&&Ud(Ia,e),zu.forEach(t),Bu.forEach(t),n=0;n<ha.length;n++)i=ha[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<ha.length&&(n=ha[0],n.blockedOn===null);)lT(n),n.blockedOn===null&&ha.shift()}var tc=Js.ReactCurrentBatchConfig,Vm=!0;function A5(e,t,n,i){var s=It,a=tc.transition;tc.transition=null;try{It=1,bw(e,t,n,i)}finally{It=s,tc.transition=a}}function P5(e,t,n,i){var s=It,a=tc.transition;tc.transition=null;try{It=4,bw(e,t,n,i)}finally{It=s,tc.transition=a}}function bw(e,t,n,i){if(Vm){var s=u0(e,t,n,i);if(s===null)Fg(e,t,i,Wm,n),kS(e,i);else if(k5(s,e,t,n,i))i.stopPropagation();else if(kS(e,i),t&4&&-1<C5.indexOf(e)){for(;s!==null;){var a=lp(s);if(a!==null&&iT(a),a=u0(e,t,n,i),a===null&&Fg(e,t,i,Wm,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Fg(e,t,i,null,n)}}var Wm=null;function u0(e,t,n,i){if(Wm=null,e=xw(i),e=jo(e),e!==null)if(t=pl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=QO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wm=e,null}function cT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x5()){case vw:return 1;case eT:return 4;case Bm:case v5:return 16;case tT:return 536870912;default:return 16}default:return 16}}var Aa=null,jw=null,wm=null;function dT(){if(wm)return wm;var e,t=jw,n=t.length,i,s="value"in Aa?Aa.value:Aa.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===s[a-i];i++);return wm=s.slice(e,1<i?1-i:void 0)}function Nm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fp(){return!0}function AS(){return!1}function qr(e){function t(n,i,s,a,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fp:AS,this.isPropagationStopped=AS,this}return sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fp)},persist:function(){},isPersistent:Fp}),t}var gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ww=qr(gd),op=sn({},gd,{view:0,detail:0}),O5=qr(op),Pg,Og,Vd,$x=sn({},op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vd&&(Vd&&e.type==="mousemove"?(Pg=e.screenX-Vd.screenX,Og=e.screenY-Vd.screenY):Og=Pg=0,Vd=e),Pg)},movementY:function(e){return"movementY"in e?e.movementY:Og}}),PS=qr($x),T5=sn({},$x,{dataTransfer:0}),_5=qr(T5),I5=sn({},op,{relatedTarget:0}),Tg=qr(I5),R5=sn({},gd,{animationName:0,elapsedTime:0,pseudoElement:0}),M5=qr(R5),$5=sn({},gd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D5=qr($5),F5=sn({},gd,{data:0}),OS=qr(F5),L5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z5[e])?!!t[e]:!1}function Nw(){return B5}var U5=sn({},op,{key:function(e){if(e.key){var t=L5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nw,charCode:function(e){return e.type==="keypress"?Nm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V5=qr(U5),W5=sn({},$x,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TS=qr(W5),H5=sn({},op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nw}),G5=qr(H5),K5=sn({},gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y5=qr(K5),Q5=sn({},$x,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X5=qr(Q5),Z5=[9,13,27,32],Sw=Ls&&"CompositionEvent"in window,wu=null;Ls&&"documentMode"in document&&(wu=document.documentMode);var J5=Ls&&"TextEvent"in window&&!wu,uT=Ls&&(!Sw||wu&&8<wu&&11>=wu),_S=" ",IS=!1;function fT(e,t){switch(e){case"keyup":return Z5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $l=!1;function eq(e,t){switch(e){case"compositionend":return pT(t);case"keypress":return t.which!==32?null:(IS=!0,_S);case"textInput":return e=t.data,e===_S&&IS?null:e;default:return null}}function tq(e,t){if($l)return e==="compositionend"||!Sw&&fT(e,t)?(e=dT(),wm=jw=Aa=null,$l=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uT&&t.locale!=="ko"?null:t.data;default:return null}}var nq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nq[e.type]:t==="textarea"}function mT(e,t,n,i){WO(i),t=Hm(t,"onChange"),0<t.length&&(n=new ww("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Nu=null,Vu=null;function rq(e){CT(e,0)}function Dx(e){var t=Ll(e);if(FO(t))return e}function iq(e,t){if(e==="change")return t}var hT=!1;if(Ls){var _g;if(Ls){var Ig="oninput"in document;if(!Ig){var MS=document.createElement("div");MS.setAttribute("oninput","return;"),Ig=typeof MS.oninput=="function"}_g=Ig}else _g=!1;hT=_g&&(!document.documentMode||9<document.documentMode)}function $S(){Nu&&(Nu.detachEvent("onpropertychange",xT),Vu=Nu=null)}function xT(e){if(e.propertyName==="value"&&Dx(Vu)){var t=[];mT(t,Vu,e,xw(e)),YO(rq,t)}}function sq(e,t,n){e==="focusin"?($S(),Nu=t,Vu=n,Nu.attachEvent("onpropertychange",xT)):e==="focusout"&&$S()}function aq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dx(Vu)}function oq(e,t){if(e==="click")return Dx(t)}function lq(e,t){if(e==="input"||e==="change")return Dx(t)}function cq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ti=typeof Object.is=="function"?Object.is:cq;function Wu(e,t){if(Ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Gy.call(t,s)||!Ti(e[s],t[s]))return!1}return!0}function DS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FS(e,t){var n=DS(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DS(n)}}function vT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gT(){for(var e=window,t=Lm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lm(e.document)}return t}function Cw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dq(e){var t=gT(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vT(n.ownerDocument.documentElement,n)){if(i!==null&&Cw(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=FS(n,a);var o=FS(n,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uq=Ls&&"documentMode"in document&&11>=document.documentMode,Dl=null,f0=null,Su=null,p0=!1;function LS(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;p0||Dl==null||Dl!==Lm(i)||(i=Dl,"selectionStart"in i&&Cw(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Su&&Wu(Su,i)||(Su=i,i=Hm(f0,"onSelect"),0<i.length&&(t=new ww("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Dl)))}function Lp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fl={animationend:Lp("Animation","AnimationEnd"),animationiteration:Lp("Animation","AnimationIteration"),animationstart:Lp("Animation","AnimationStart"),transitionend:Lp("Transition","TransitionEnd")},Rg={},yT={};Ls&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function Fx(e){if(Rg[e])return Rg[e];if(!Fl[e])return e;var t=Fl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yT)return Rg[e]=t[n];return e}var bT=Fx("animationend"),jT=Fx("animationiteration"),wT=Fx("animationstart"),NT=Fx("transitionend"),ST=new Map,qS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(e,t){ST.set(e,t),fl(t,[e])}for(var Mg=0;Mg<qS.length;Mg++){var $g=qS[Mg],fq=$g.toLowerCase(),pq=$g[0].toUpperCase()+$g.slice(1);Za(fq,"on"+pq)}Za(bT,"onAnimationEnd");Za(jT,"onAnimationIteration");Za(wT,"onAnimationStart");Za("dblclick","onDoubleClick");Za("focusin","onFocus");Za("focusout","onBlur");Za(NT,"onTransitionEnd");Ac("onMouseEnter",["mouseout","mouseover"]);Ac("onMouseLeave",["mouseout","mouseover"]);Ac("onPointerEnter",["pointerout","pointerover"]);Ac("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mq=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function zS(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,f5(i,t,void 0,e),e.currentTarget=null}function CT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;zS(s,l,d),a=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;zS(s,l,d),a=c}}}if(zm)throw e=l0,zm=!1,l0=null,e}function Vt(e,t){var n=t[g0];n===void 0&&(n=t[g0]=new Set);var i=e+"__bubble";n.has(i)||(kT(t,e,2,!1),n.add(i))}function Dg(e,t,n){var i=0;t&&(i|=4),kT(n,e,i,t)}var qp="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[qp]){e[qp]=!0,IO.forEach(function(n){n!=="selectionchange"&&(mq.has(n)||Dg(n,!1,e),Dg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qp]||(t[qp]=!0,Dg("selectionchange",!1,t))}}function kT(e,t,n,i){switch(cT(t)){case 1:var s=A5;break;case 4:s=P5;break;default:s=bw}n=s.bind(null,t,n,e),s=void 0,!o0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Fg(e,t,n,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=jo(l),o===null)return;if(c=o.tag,c===5||c===6){i=a=o;continue e}l=l.parentNode}}i=i.return}YO(function(){var d=a,u=xw(n),f=[];e:{var p=ST.get(e);if(p!==void 0){var h=ww,v=e;switch(e){case"keypress":if(Nm(n)===0)break e;case"keydown":case"keyup":h=V5;break;case"focusin":v="focus",h=Tg;break;case"focusout":v="blur",h=Tg;break;case"beforeblur":case"afterblur":h=Tg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=PS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=G5;break;case bT:case jT:case wT:h=M5;break;case NT:h=Y5;break;case"scroll":h=O5;break;case"wheel":h=X5;break;case"copy":case"cut":case"paste":h=D5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=TS}var m=(t&4)!==0,y=!m&&e==="scroll",j=m?p!==null?p+"Capture":null:p;m=[];for(var g=d,x;g!==null;){x=g;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,j!==null&&(w=qu(g,j),w!=null&&m.push(Gu(g,w,x)))),y)break;g=g.return}0<m.length&&(p=new h(p,v,null,n,u),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==s0&&(v=n.relatedTarget||n.fromElement)&&(jo(v)||v[qs]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=d,v=v?jo(v):null,v!==null&&(y=pl(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=d),h!==v)){if(m=PS,w="onMouseLeave",j="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=TS,w="onPointerLeave",j="onPointerEnter",g="pointer"),y=h==null?p:Ll(h),x=v==null?p:Ll(v),p=new m(w,g+"leave",h,n,u),p.target=y,p.relatedTarget=x,w=null,jo(u)===d&&(m=new m(j,g+"enter",v,n,u),m.target=x,m.relatedTarget=y,w=m),y=w,h&&v)t:{for(m=h,j=v,g=0,x=m;x;x=Nl(x))g++;for(x=0,w=j;w;w=Nl(w))x++;for(;0<g-x;)m=Nl(m),g--;for(;0<x-g;)j=Nl(j),x--;for(;g--;){if(m===j||j!==null&&m===j.alternate)break t;m=Nl(m),j=Nl(j)}m=null}else m=null;h!==null&&BS(f,p,h,m,!1),v!==null&&y!==null&&BS(f,y,v,m,!0)}}e:{if(p=d?Ll(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var b=iq;else if(RS(p))if(hT)b=lq;else{b=aq;var C=sq}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=oq);if(b&&(b=b(e,d))){mT(f,b,n,u);break e}C&&C(e,p,d),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&e0(p,"number",p.value)}switch(C=d?Ll(d):window,e){case"focusin":(RS(C)||C.contentEditable==="true")&&(Dl=C,f0=d,Su=null);break;case"focusout":Su=f0=Dl=null;break;case"mousedown":p0=!0;break;case"contextmenu":case"mouseup":case"dragend":p0=!1,LS(f,n,u);break;case"selectionchange":if(uq)break;case"keydown":case"keyup":LS(f,n,u)}var k;if(Sw)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else $l?fT(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(uT&&n.locale!=="ko"&&($l||S!=="onCompositionStart"?S==="onCompositionEnd"&&$l&&(k=dT()):(Aa=u,jw="value"in Aa?Aa.value:Aa.textContent,$l=!0)),C=Hm(d,S),0<C.length&&(S=new OS(S,e,null,n,u),f.push({event:S,listeners:C}),k?S.data=k:(k=pT(n),k!==null&&(S.data=k)))),(k=J5?eq(e,n):tq(e,n))&&(d=Hm(d,"onBeforeInput"),0<d.length&&(u=new OS("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=k))}CT(f,t)})}function Gu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hm(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=qu(e,n),a!=null&&i.unshift(Gu(e,a,s)),a=qu(e,t),a!=null&&i.push(Gu(e,a,s))),e=e.return}return i}function Nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function BS(e,t,n,i,s){for(var a=t._reactName,o=[];n!==null&&n!==i;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&d!==null&&(l=d,s?(c=qu(n,a),c!=null&&o.unshift(Gu(n,c,l))):s||(c=qu(n,a),c!=null&&o.push(Gu(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var hq=/\r\n?/g,xq=/\u0000|\uFFFD/g;function US(e){return(typeof e=="string"?e:""+e).replace(hq,`
`).replace(xq,"")}function zp(e,t,n){if(t=US(t),US(e)!==t&&n)throw Error(he(425))}function Gm(){}var m0=null,h0=null;function x0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var v0=typeof setTimeout=="function"?setTimeout:void 0,vq=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,gq=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(e){return VS.resolve(null).then(e).catch(yq)}:v0;function yq(e){setTimeout(function(){throw e})}function Lg(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Uu(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Uu(t)}function Ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function WS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yd=Math.random().toString(36).slice(2),Hi="__reactFiber$"+yd,Ku="__reactProps$"+yd,qs="__reactContainer$"+yd,g0="__reactEvents$"+yd,bq="__reactListeners$"+yd,jq="__reactHandles$"+yd;function jo(e){var t=e[Hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qs]||n[Hi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=WS(e);e!==null;){if(n=e[Hi])return n;e=WS(e)}return t}e=n,n=e.parentNode}return null}function lp(e){return e=e[Hi]||e[qs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ll(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Lx(e){return e[Ku]||null}var y0=[],ql=-1;function Ja(e){return{current:e}}function Gt(e){0>ql||(e.current=y0[ql],y0[ql]=null,ql--)}function zt(e,t){ql++,y0[ql]=e.current,e.current=t}var Ua={},Qn=Ja(Ua),gr=Ja(!1),Ho=Ua;function Pc(e,t){var n=e.type.contextTypes;if(!n)return Ua;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function yr(e){return e=e.childContextTypes,e!=null}function Km(){Gt(gr),Gt(Qn)}function HS(e,t,n){if(Qn.current!==Ua)throw Error(he(168));zt(Qn,t),zt(gr,n)}function ET(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(he(108,s5(e)||"Unknown",s));return sn({},n,i)}function Ym(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ua,Ho=Qn.current,zt(Qn,e),zt(gr,gr.current),!0}function GS(e,t,n){var i=e.stateNode;if(!i)throw Error(he(169));n?(e=ET(e,t,Ho),i.__reactInternalMemoizedMergedChildContext=e,Gt(gr),Gt(Qn),zt(Qn,e)):Gt(gr),zt(gr,n)}var Ss=null,qx=!1,qg=!1;function AT(e){Ss===null?Ss=[e]:Ss.push(e)}function wq(e){qx=!0,AT(e)}function eo(){if(!qg&&Ss!==null){qg=!0;var e=0,t=It;try{var n=Ss;for(It=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Ss=null,qx=!1}catch(s){throw Ss!==null&&(Ss=Ss.slice(e+1)),JO(vw,eo),s}finally{It=t,qg=!1}}return null}var zl=[],Bl=0,Qm=null,Xm=0,Gr=[],Kr=0,Go=null,Es=1,As="";function po(e,t){zl[Bl++]=Xm,zl[Bl++]=Qm,Qm=e,Xm=t}function PT(e,t,n){Gr[Kr++]=Es,Gr[Kr++]=As,Gr[Kr++]=Go,Go=e;var i=Es;e=As;var s=32-Ei(i)-1;i&=~(1<<s),n+=1;var a=32-Ei(t)+s;if(30<a){var o=s-s%5;a=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Es=1<<32-Ei(t)+s|n<<s|i,As=a+e}else Es=1<<a|n<<s|i,As=e}function kw(e){e.return!==null&&(po(e,1),PT(e,1,0))}function Ew(e){for(;e===Qm;)Qm=zl[--Bl],zl[Bl]=null,Xm=zl[--Bl],zl[Bl]=null;for(;e===Go;)Go=Gr[--Kr],Gr[Kr]=null,As=Gr[--Kr],Gr[Kr]=null,Es=Gr[--Kr],Gr[Kr]=null}var Ir=null,Or=null,Kt=!1,gi=null;function OT(e,t){var n=Qr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function KS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ir=e,Or=Ra(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ir=e,Or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Go!==null?{id:Es,overflow:As}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ir=e,Or=null,!0):!1;default:return!1}}function b0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function j0(e){if(Kt){var t=Or;if(t){var n=t;if(!KS(e,t)){if(b0(e))throw Error(he(418));t=Ra(n.nextSibling);var i=Ir;t&&KS(e,t)?OT(i,n):(e.flags=e.flags&-4097|2,Kt=!1,Ir=e)}}else{if(b0(e))throw Error(he(418));e.flags=e.flags&-4097|2,Kt=!1,Ir=e}}}function YS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ir=e}function Bp(e){if(e!==Ir)return!1;if(!Kt)return YS(e),Kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!x0(e.type,e.memoizedProps)),t&&(t=Or)){if(b0(e))throw TT(),Error(he(418));for(;t;)OT(e,t),t=Ra(t.nextSibling)}if(YS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Or=Ra(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Or=null}}else Or=Ir?Ra(e.stateNode.nextSibling):null;return!0}function TT(){for(var e=Or;e;)e=Ra(e.nextSibling)}function Oc(){Or=Ir=null,Kt=!1}function Aw(e){gi===null?gi=[e]:gi.push(e)}var Nq=Js.ReactCurrentBatchConfig;function Wd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var i=n.stateNode}if(!i)throw Error(he(147,e));var s=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function Up(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function QS(e){var t=e._init;return t(e._payload)}function _T(e){function t(j,g){if(e){var x=j.deletions;x===null?(j.deletions=[g],j.flags|=16):x.push(g)}}function n(j,g){if(!e)return null;for(;g!==null;)t(j,g),g=g.sibling;return null}function i(j,g){for(j=new Map;g!==null;)g.key!==null?j.set(g.key,g):j.set(g.index,g),g=g.sibling;return j}function s(j,g){return j=Fa(j,g),j.index=0,j.sibling=null,j}function a(j,g,x){return j.index=x,e?(x=j.alternate,x!==null?(x=x.index,x<g?(j.flags|=2,g):x):(j.flags|=2,g)):(j.flags|=1048576,g)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,g,x,w){return g===null||g.tag!==6?(g=Gg(x,j.mode,w),g.return=j,g):(g=s(g,x),g.return=j,g)}function c(j,g,x,w){var b=x.type;return b===Ml?u(j,g,x.props.children,w,x.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ua&&QS(b)===g.type)?(w=s(g,x.props),w.ref=Wd(j,g,x),w.return=j,w):(w=Om(x.type,x.key,x.props,null,j.mode,w),w.ref=Wd(j,g,x),w.return=j,w)}function d(j,g,x,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Kg(x,j.mode,w),g.return=j,g):(g=s(g,x.children||[]),g.return=j,g)}function u(j,g,x,w,b){return g===null||g.tag!==7?(g=Do(x,j.mode,w,b),g.return=j,g):(g=s(g,x),g.return=j,g)}function f(j,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Gg(""+g,j.mode,x),g.return=j,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _p:return x=Om(g.type,g.key,g.props,null,j.mode,x),x.ref=Wd(j,null,g),x.return=j,x;case Rl:return g=Kg(g,j.mode,x),g.return=j,g;case ua:var w=g._init;return f(j,w(g._payload),x)}if(fu(g)||qd(g))return g=Do(g,j.mode,x,null),g.return=j,g;Up(j,g)}return null}function p(j,g,x,w){var b=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:l(j,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _p:return x.key===b?c(j,g,x,w):null;case Rl:return x.key===b?d(j,g,x,w):null;case ua:return b=x._init,p(j,g,b(x._payload),w)}if(fu(x)||qd(x))return b!==null?null:u(j,g,x,w,null);Up(j,x)}return null}function h(j,g,x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return j=j.get(x)||null,l(g,j,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _p:return j=j.get(w.key===null?x:w.key)||null,c(g,j,w,b);case Rl:return j=j.get(w.key===null?x:w.key)||null,d(g,j,w,b);case ua:var C=w._init;return h(j,g,x,C(w._payload),b)}if(fu(w)||qd(w))return j=j.get(x)||null,u(g,j,w,b,null);Up(g,w)}return null}function v(j,g,x,w){for(var b=null,C=null,k=g,S=g=0,E=null;k!==null&&S<x.length;S++){k.index>S?(E=k,k=null):E=k.sibling;var $=p(j,k,x[S],w);if($===null){k===null&&(k=E);break}e&&k&&$.alternate===null&&t(j,k),g=a($,g,S),C===null?b=$:C.sibling=$,C=$,k=E}if(S===x.length)return n(j,k),Kt&&po(j,S),b;if(k===null){for(;S<x.length;S++)k=f(j,x[S],w),k!==null&&(g=a(k,g,S),C===null?b=k:C.sibling=k,C=k);return Kt&&po(j,S),b}for(k=i(j,k);S<x.length;S++)E=h(k,j,S,x[S],w),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?S:E.key),g=a(E,g,S),C===null?b=E:C.sibling=E,C=E);return e&&k.forEach(function(O){return t(j,O)}),Kt&&po(j,S),b}function m(j,g,x,w){var b=qd(x);if(typeof b!="function")throw Error(he(150));if(x=b.call(x),x==null)throw Error(he(151));for(var C=b=null,k=g,S=g=0,E=null,$=x.next();k!==null&&!$.done;S++,$=x.next()){k.index>S?(E=k,k=null):E=k.sibling;var O=p(j,k,$.value,w);if(O===null){k===null&&(k=E);break}e&&k&&O.alternate===null&&t(j,k),g=a(O,g,S),C===null?b=O:C.sibling=O,C=O,k=E}if($.done)return n(j,k),Kt&&po(j,S),b;if(k===null){for(;!$.done;S++,$=x.next())$=f(j,$.value,w),$!==null&&(g=a($,g,S),C===null?b=$:C.sibling=$,C=$);return Kt&&po(j,S),b}for(k=i(j,k);!$.done;S++,$=x.next())$=h(k,j,S,$.value,w),$!==null&&(e&&$.alternate!==null&&k.delete($.key===null?S:$.key),g=a($,g,S),C===null?b=$:C.sibling=$,C=$);return e&&k.forEach(function(A){return t(j,A)}),Kt&&po(j,S),b}function y(j,g,x,w){if(typeof x=="object"&&x!==null&&x.type===Ml&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _p:e:{for(var b=x.key,C=g;C!==null;){if(C.key===b){if(b=x.type,b===Ml){if(C.tag===7){n(j,C.sibling),g=s(C,x.props.children),g.return=j,j=g;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ua&&QS(b)===C.type){n(j,C.sibling),g=s(C,x.props),g.ref=Wd(j,C,x),g.return=j,j=g;break e}n(j,C);break}else t(j,C);C=C.sibling}x.type===Ml?(g=Do(x.props.children,j.mode,w,x.key),g.return=j,j=g):(w=Om(x.type,x.key,x.props,null,j.mode,w),w.ref=Wd(j,g,x),w.return=j,j=w)}return o(j);case Rl:e:{for(C=x.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(j,g.sibling),g=s(g,x.children||[]),g.return=j,j=g;break e}else{n(j,g);break}else t(j,g);g=g.sibling}g=Kg(x,j.mode,w),g.return=j,j=g}return o(j);case ua:return C=x._init,y(j,g,C(x._payload),w)}if(fu(x))return v(j,g,x,w);if(qd(x))return m(j,g,x,w);Up(j,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(j,g.sibling),g=s(g,x),g.return=j,j=g):(n(j,g),g=Gg(x,j.mode,w),g.return=j,j=g),o(j)):n(j,g)}return y}var Tc=_T(!0),IT=_T(!1),Zm=Ja(null),Jm=null,Ul=null,Pw=null;function Ow(){Pw=Ul=Jm=null}function Tw(e){var t=Zm.current;Gt(Zm),e._currentValue=t}function w0(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function nc(e,t){Jm=e,Pw=Ul=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function ti(e){var t=e._currentValue;if(Pw!==e)if(e={context:e,memoizedValue:t,next:null},Ul===null){if(Jm===null)throw Error(he(308));Ul=e,Jm.dependencies={lanes:0,firstContext:e}}else Ul=Ul.next=e;return t}var wo=null;function _w(e){wo===null?wo=[e]:wo.push(e)}function RT(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,_w(t)):(n.next=s.next,s.next=n),t.interleaved=n,zs(e,i)}function zs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fa=!1;function Iw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,St&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,zs(e,n)}return s=i.interleaved,s===null?(t.next=t,_w(i)):(t.next=s.next,s.next=t),i.interleaved=t,zs(e,n)}function Sm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gw(e,n)}}function XS(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eh(e,t,n,i){var s=e.updateQueue;fa=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,u=d=c=null,l=a;do{var p=l.lane,h=l.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(p=t,h=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(h,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,p=typeof v=="function"?v.call(h,f,p):v,p==null)break e;f=sn({},f,p);break e;case 2:fa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Yo|=o,e.lanes=o,e.memoizedState=f}}function ZS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(he(191,s));s.call(i)}}}var cp={},es=Ja(cp),Yu=Ja(cp),Qu=Ja(cp);function No(e){if(e===cp)throw Error(he(174));return e}function Rw(e,t){switch(zt(Qu,t),zt(Yu,e),zt(es,cp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:n0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=n0(t,e)}Gt(es),zt(es,t)}function _c(){Gt(es),Gt(Yu),Gt(Qu)}function $T(e){No(Qu.current);var t=No(es.current),n=n0(t,e.type);t!==n&&(zt(Yu,e),zt(es,n))}function Mw(e){Yu.current===e&&(Gt(es),Gt(Yu))}var tn=Ja(0);function th(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zg=[];function $w(){for(var e=0;e<zg.length;e++)zg[e]._workInProgressVersionPrimary=null;zg.length=0}var Cm=Js.ReactCurrentDispatcher,Bg=Js.ReactCurrentBatchConfig,Ko=0,nn=null,jn=null,An=null,nh=!1,Cu=!1,Xu=0,Sq=0;function Ln(){throw Error(he(321))}function Dw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ti(e[n],t[n]))return!1;return!0}function Fw(e,t,n,i,s,a){if(Ko=a,nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cm.current=e===null||e.memoizedState===null?Aq:Pq,e=n(i,s),Cu){a=0;do{if(Cu=!1,Xu=0,25<=a)throw Error(he(301));a+=1,An=jn=null,t.updateQueue=null,Cm.current=Oq,e=n(i,s)}while(Cu)}if(Cm.current=rh,t=jn!==null&&jn.next!==null,Ko=0,An=jn=nn=null,nh=!1,t)throw Error(he(300));return e}function Lw(){var e=Xu!==0;return Xu=0,e}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?nn.memoizedState=An=e:An=An.next=e,An}function ni(){if(jn===null){var e=nn.alternate;e=e!==null?e.memoizedState:null}else e=jn.next;var t=An===null?nn.memoizedState:An.next;if(t!==null)An=t,jn=e;else{if(e===null)throw Error(he(310));jn=e,e={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},An===null?nn.memoizedState=An=e:An=An.next=e}return An}function Zu(e,t){return typeof t=="function"?t(e):t}function Ug(e){var t=ni(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var i=jn,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Ko&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=i):c=c.next=f,nn.lanes|=u,Yo|=u}d=d.next}while(d!==null&&d!==a);c===null?o=i:c.next=l,Ti(i,t.memoizedState)||(xr=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do a=s.lane,nn.lanes|=a,Yo|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vg(e){var t=ni(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Ti(a,t.memoizedState)||(xr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function DT(){}function FT(e,t){var n=nn,i=ni(),s=t(),a=!Ti(i.memoizedState,s);if(a&&(i.memoizedState=s,xr=!0),i=i.queue,qw(zT.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,Ju(9,qT.bind(null,n,i,s,t),void 0,null),Tn===null)throw Error(he(349));Ko&30||LT(n,t,s)}return s}function LT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qT(e,t,n,i){t.value=n,t.getSnapshot=i,BT(t)&&UT(e)}function zT(e,t,n){return n(function(){BT(t)&&UT(e)})}function BT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ti(e,n)}catch{return!0}}function UT(e){var t=zs(e,1);t!==null&&Ai(t,e,1,-1)}function JS(e){var t=zi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:e},t.queue=e,e=e.dispatch=Eq.bind(null,nn,e),[t.memoizedState,e]}function Ju(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function VT(){return ni().memoizedState}function km(e,t,n,i){var s=zi();nn.flags|=e,s.memoizedState=Ju(1|t,n,void 0,i===void 0?null:i)}function zx(e,t,n,i){var s=ni();i=i===void 0?null:i;var a=void 0;if(jn!==null){var o=jn.memoizedState;if(a=o.destroy,i!==null&&Dw(i,o.deps)){s.memoizedState=Ju(t,n,a,i);return}}nn.flags|=e,s.memoizedState=Ju(1|t,n,a,i)}function eC(e,t){return km(8390656,8,e,t)}function qw(e,t){return zx(2048,8,e,t)}function WT(e,t){return zx(4,2,e,t)}function HT(e,t){return zx(4,4,e,t)}function GT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KT(e,t,n){return n=n!=null?n.concat([e]):null,zx(4,4,GT.bind(null,t,e),n)}function zw(){}function YT(e,t){var n=ni();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Dw(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function QT(e,t){var n=ni();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Dw(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function XT(e,t,n){return Ko&21?(Ti(n,t)||(n=nT(),nn.lanes|=n,Yo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=n)}function Cq(e,t){var n=It;It=n!==0&&4>n?n:4,e(!0);var i=Bg.transition;Bg.transition={};try{e(!1),t()}finally{It=n,Bg.transition=i}}function ZT(){return ni().memoizedState}function kq(e,t,n){var i=Da(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},JT(e))e_(t,n);else if(n=RT(e,t,n,i),n!==null){var s=lr();Ai(n,e,i,s),t_(n,t,i)}}function Eq(e,t,n){var i=Da(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(JT(e))e_(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ti(l,o)){var c=t.interleaved;c===null?(s.next=s,_w(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=RT(e,t,s,i),n!==null&&(s=lr(),Ai(n,e,i,s),t_(n,t,i))}}function JT(e){var t=e.alternate;return e===nn||t!==null&&t===nn}function e_(e,t){Cu=nh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function t_(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gw(e,n)}}var rh={readContext:ti,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},Aq={readContext:ti,useCallback:function(e,t){return zi().memoizedState=[e,t===void 0?null:t],e},useContext:ti,useEffect:eC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,km(4194308,4,GT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return km(4194308,4,e,t)},useInsertionEffect:function(e,t){return km(4,2,e,t)},useMemo:function(e,t){var n=zi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=zi();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=kq.bind(null,nn,e),[i.memoizedState,e]},useRef:function(e){var t=zi();return e={current:e},t.memoizedState=e},useState:JS,useDebugValue:zw,useDeferredValue:function(e){return zi().memoizedState=e},useTransition:function(){var e=JS(!1),t=e[0];return e=Cq.bind(null,e[1]),zi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=nn,s=zi();if(Kt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),Tn===null)throw Error(he(349));Ko&30||LT(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,eC(zT.bind(null,i,a,e),[e]),i.flags|=2048,Ju(9,qT.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=zi(),t=Tn.identifierPrefix;if(Kt){var n=As,i=Es;n=(i&~(1<<32-Ei(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sq++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pq={readContext:ti,useCallback:YT,useContext:ti,useEffect:qw,useImperativeHandle:KT,useInsertionEffect:WT,useLayoutEffect:HT,useMemo:QT,useReducer:Ug,useRef:VT,useState:function(){return Ug(Zu)},useDebugValue:zw,useDeferredValue:function(e){var t=ni();return XT(t,jn.memoizedState,e)},useTransition:function(){var e=Ug(Zu)[0],t=ni().memoizedState;return[e,t]},useMutableSource:DT,useSyncExternalStore:FT,useId:ZT,unstable_isNewReconciler:!1},Oq={readContext:ti,useCallback:YT,useContext:ti,useEffect:qw,useImperativeHandle:KT,useInsertionEffect:WT,useLayoutEffect:HT,useMemo:QT,useReducer:Vg,useRef:VT,useState:function(){return Vg(Zu)},useDebugValue:zw,useDeferredValue:function(e){var t=ni();return jn===null?t.memoizedState=e:XT(t,jn.memoizedState,e)},useTransition:function(){var e=Vg(Zu)[0],t=ni().memoizedState;return[e,t]},useMutableSource:DT,useSyncExternalStore:FT,useId:ZT,unstable_isNewReconciler:!1};function pi(e,t){if(e&&e.defaultProps){t=sn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function N0(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:sn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bx={isMounted:function(e){return(e=e._reactInternals)?pl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=lr(),s=Da(e),a=_s(i,s);a.payload=t,n!=null&&(a.callback=n),t=Ma(e,a,s),t!==null&&(Ai(t,e,s,i),Sm(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=lr(),s=Da(e),a=_s(i,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ma(e,a,s),t!==null&&(Ai(t,e,s,i),Sm(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lr(),i=Da(e),s=_s(n,i);s.tag=2,t!=null&&(s.callback=t),t=Ma(e,s,i),t!==null&&(Ai(t,e,i,n),Sm(t,e,i))}};function tC(e,t,n,i,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,o):t.prototype&&t.prototype.isPureReactComponent?!Wu(n,i)||!Wu(s,a):!0}function n_(e,t,n){var i=!1,s=Ua,a=t.contextType;return typeof a=="object"&&a!==null?a=ti(a):(s=yr(t)?Ho:Qn.current,i=t.contextTypes,a=(i=i!=null)?Pc(e,s):Ua),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bx,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function nC(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Bx.enqueueReplaceState(t,t.state,null)}function S0(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Iw(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ti(a):(a=yr(t)?Ho:Qn.current,s.context=Pc(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(N0(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bx.enqueueReplaceState(s,s.state,null),eh(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ic(e,t){try{var n="",i=t;do n+=i5(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Wg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function C0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tq=typeof WeakMap=="function"?WeakMap:Map;function r_(e,t,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){sh||(sh=!0,M0=i),C0(e,t)},n}function i_(e,t,n){n=_s(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){C0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){C0(e,t),typeof i!="function"&&($a===null?$a=new Set([this]):$a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function rC(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Tq;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=Wq.bind(null,e,t,n),t.then(e,e))}function iC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sC(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_s(-1,1),t.tag=2,Ma(n,t,1))),n.lanes|=1),e)}var _q=Js.ReactCurrentOwner,xr=!1;function rr(e,t,n,i){t.child=e===null?IT(t,null,n,i):Tc(t,e.child,n,i)}function aC(e,t,n,i,s){n=n.render;var a=t.ref;return nc(t,s),i=Fw(e,t,n,i,a,s),n=Lw(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bs(e,t,s)):(Kt&&n&&kw(t),t.flags|=1,rr(e,t,i,s),t.child)}function oC(e,t,n,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!Yw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,s_(e,t,a,i,s)):(e=Om(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wu,n(o,i)&&e.ref===t.ref)return Bs(e,t,s)}return t.flags|=1,e=Fa(a,i),e.ref=t.ref,e.return=t,t.child=e}function s_(e,t,n,i,s){if(e!==null){var a=e.memoizedProps;if(Wu(a,i)&&e.ref===t.ref)if(xr=!1,t.pendingProps=i=a,(e.lanes&s)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,Bs(e,t,s)}return k0(e,t,n,i,s)}function a_(e,t,n){var i=t.pendingProps,s=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Wl,Cr),Cr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(Wl,Cr),Cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,zt(Wl,Cr),Cr|=i}else a!==null?(i=a.baseLanes|n,t.memoizedState=null):i=n,zt(Wl,Cr),Cr|=i;return rr(e,t,s,n),t.child}function o_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function k0(e,t,n,i,s){var a=yr(n)?Ho:Qn.current;return a=Pc(t,a),nc(t,s),n=Fw(e,t,n,i,a,s),i=Lw(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bs(e,t,s)):(Kt&&i&&kw(t),t.flags|=1,rr(e,t,n,s),t.child)}function lC(e,t,n,i,s){if(yr(n)){var a=!0;Ym(t)}else a=!1;if(nc(t,s),t.stateNode===null)Em(e,t),n_(t,n,i),S0(t,n,i,s),i=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ti(d):(d=yr(n)?Ho:Qn.current,d=Pc(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==d)&&nC(t,o,i,d),fa=!1;var p=t.memoizedState;o.state=p,eh(t,i,o,s),c=t.memoizedState,l!==i||p!==c||gr.current||fa?(typeof u=="function"&&(N0(t,n,u,i),c=t.memoizedState),(l=fa||tC(t,n,l,i,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=d,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,MT(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:pi(t.type,l),o.props=d,f=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ti(c):(c=yr(n)?Ho:Qn.current,c=Pc(t,c));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&nC(t,o,i,c),fa=!1,p=t.memoizedState,o.state=p,eh(t,i,o,s);var v=t.memoizedState;l!==f||p!==v||gr.current||fa?(typeof h=="function"&&(N0(t,n,h,i),v=t.memoizedState),(d=fa||tC(t,n,d,i,p,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),o.props=i,o.state=v,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return E0(e,t,n,i,a,s)}function E0(e,t,n,i,s,a){o_(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&GS(t,n,!1),Bs(e,t,a);i=t.stateNode,_q.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Tc(t,e.child,null,a),t.child=Tc(t,null,l,a)):rr(e,t,l,a),t.memoizedState=i.state,s&&GS(t,n,!0),t.child}function l_(e){var t=e.stateNode;t.pendingContext?HS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&HS(e,t.context,!1),Rw(e,t.containerInfo)}function cC(e,t,n,i,s){return Oc(),Aw(s),t.flags|=256,rr(e,t,n,i),t.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function P0(e){return{baseLanes:e,cachePool:null,transitions:null}}function c_(e,t,n){var i=t.pendingProps,s=tn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),zt(tn,s&1),e===null)return j0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Wx(o,i,0,null),e=Do(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=P0(n),t.memoizedState=A0,e):Bw(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Iq(e,t,o,i,l,s,n);if(a){a=i.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=c,t.deletions=null):(i=Fa(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Fa(l,a):(a=Do(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=e.child.memoizedState,o=o===null?P0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=A0,i}return a=e.child,e=a.sibling,i=Fa(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bw(e,t){return t=Wx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vp(e,t,n,i){return i!==null&&Aw(i),Tc(t,e.child,null,n),e=Bw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Iq(e,t,n,i,s,a,o){if(n)return t.flags&256?(t.flags&=-257,i=Wg(Error(he(422))),Vp(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=Wx({mode:"visible",children:i.children},s,0,null),a=Do(a,s,o,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&Tc(t,e.child,null,o),t.child.memoizedState=P0(o),t.memoizedState=A0,a);if(!(t.mode&1))return Vp(e,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,a=Error(he(419)),i=Wg(a,i,void 0),Vp(e,t,o,i)}if(l=(o&e.childLanes)!==0,xr||l){if(i=Tn,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,zs(e,s),Ai(i,e,s,-1))}return Kw(),i=Wg(Error(he(421))),Vp(e,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Hq.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Or=Ra(s.nextSibling),Ir=t,Kt=!0,gi=null,e!==null&&(Gr[Kr++]=Es,Gr[Kr++]=As,Gr[Kr++]=Go,Es=e.id,As=e.overflow,Go=t),t=Bw(t,i.children),t.flags|=4096,t)}function dC(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),w0(e.return,t,n)}function Hg(e,t,n,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function d_(e,t,n){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(rr(e,t,i.children,n),i=tn.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dC(e,n,t);else if(e.tag===19)dC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(zt(tn,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&th(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Hg(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&th(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Hg(t,!0,n,null,a);break;case"together":Hg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Em(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Fa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rq(e,t,n){switch(t.tag){case 3:l_(t),Oc();break;case 5:$T(t);break;case 1:yr(t.type)&&Ym(t);break;case 4:Rw(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;zt(Zm,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(zt(tn,tn.current&1),t.flags|=128,null):n&t.child.childLanes?c_(e,t,n):(zt(tn,tn.current&1),e=Bs(e,t,n),e!==null?e.sibling:null);zt(tn,tn.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return d_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),zt(tn,tn.current),i)break;return null;case 22:case 23:return t.lanes=0,a_(e,t,n)}return Bs(e,t,n)}var u_,O0,f_,p_;u_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};O0=function(){};f_=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,No(es.current);var a=null;switch(n){case"input":s=Zy(e,s),i=Zy(e,i),a=[];break;case"select":s=sn({},s,{value:void 0}),i=sn({},i,{value:void 0}),a=[];break;case"textarea":s=t0(e,s),i=t0(e,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Gm)}r0(n,i);var o;n=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fu.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in i){var c=i[d];if(l=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Vt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};p_=function(e,t,n,i){n!==i&&(t.flags|=4)};function Hd(e,t){if(!Kt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Mq(e,t,n){var i=t.pendingProps;switch(Ew(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(t),null;case 1:return yr(t.type)&&Km(),qn(t),null;case 3:return i=t.stateNode,_c(),Gt(gr),Gt(Qn),$w(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Bp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gi!==null&&(F0(gi),gi=null))),O0(e,t),qn(t),null;case 5:Mw(t);var s=No(Qu.current);if(n=t.type,e!==null&&t.stateNode!=null)f_(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(he(166));return qn(t),null}if(e=No(es.current),Bp(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[Hi]=t,i[Ku]=a,e=(t.mode&1)!==0,n){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(s=0;s<mu.length;s++)Vt(mu[s],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":yS(i,a),Vt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Vt("invalid",i);break;case"textarea":jS(i,a),Vt("invalid",i)}r0(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?i.textContent!==l&&(a.suppressHydrationWarning!==!0&&zp(i.textContent,l,e),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&zp(i.textContent,l,e),s=["children",""+l]):Fu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Vt("scroll",i)}switch(n){case"input":Ip(i),bS(i,a,!0);break;case"textarea":Ip(i),wS(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Gm)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Hi]=t,e[Ku]=i,u_(e,t,!1,!1),t.stateNode=e;e:{switch(o=i0(n,i),n){case"dialog":Vt("cancel",e),Vt("close",e),s=i;break;case"iframe":case"object":case"embed":Vt("load",e),s=i;break;case"video":case"audio":for(s=0;s<mu.length;s++)Vt(mu[s],e);s=i;break;case"source":Vt("error",e),s=i;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),s=i;break;case"details":Vt("toggle",e),s=i;break;case"input":yS(e,i),s=Zy(e,i),Vt("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=sn({},i,{value:void 0}),Vt("invalid",e);break;case"textarea":jS(e,i),s=t0(e,i),Vt("invalid",e);break;default:s=i}r0(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?VO(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&BO(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lu(e,c):typeof c=="number"&&Lu(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Fu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Vt("scroll",e):c!=null&&fw(e,a,c,o))}switch(n){case"input":Ip(e),bS(e,i,!1);break;case"textarea":Ip(e),wS(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ba(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?Zl(e,!!i.multiple,a,!1):i.defaultValue!=null&&Zl(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gm)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qn(t),null;case 6:if(e&&t.stateNode!=null)p_(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(he(166));if(n=No(Qu.current),No(es.current),Bp(t)){if(i=t.stateNode,n=t.memoizedProps,i[Hi]=t,(a=i.nodeValue!==n)&&(e=Ir,e!==null))switch(e.tag){case 3:zp(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zp(i.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Hi]=t,t.stateNode=i}return qn(t),null;case 13:if(Gt(tn),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kt&&Or!==null&&t.mode&1&&!(t.flags&128))TT(),Oc(),t.flags|=98560,a=!1;else if(a=Bp(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(he(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[Hi]=t}else Oc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qn(t),a=!1}else gi!==null&&(F0(gi),gi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||tn.current&1?Nn===0&&(Nn=3):Kw())),t.updateQueue!==null&&(t.flags|=4),qn(t),null);case 4:return _c(),O0(e,t),e===null&&Hu(t.stateNode.containerInfo),qn(t),null;case 10:return Tw(t.type._context),qn(t),null;case 17:return yr(t.type)&&Km(),qn(t),null;case 19:if(Gt(tn),a=t.memoizedState,a===null)return qn(t),null;if(i=(t.flags&128)!==0,o=a.rendering,o===null)if(i)Hd(a,!1);else{if(Nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=th(e),o!==null){for(t.flags|=128,Hd(a,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)a=n,e=i,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zt(tn,tn.current&1|2),t.child}e=e.sibling}a.tail!==null&&dn()>Rc&&(t.flags|=128,i=!0,Hd(a,!1),t.lanes=4194304)}else{if(!i)if(e=th(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Kt)return qn(t),null}else 2*dn()-a.renderingStartTime>Rc&&n!==1073741824&&(t.flags|=128,i=!0,Hd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=dn(),t.sibling=null,n=tn.current,zt(tn,i?n&1|2:n&1),t):(qn(t),null);case 22:case 23:return Gw(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Cr&1073741824&&(qn(t),t.subtreeFlags&6&&(t.flags|=8192)):qn(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function $q(e,t){switch(Ew(t),t.tag){case 1:return yr(t.type)&&Km(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _c(),Gt(gr),Gt(Qn),$w(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mw(t),null;case 13:if(Gt(tn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Oc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(tn),null;case 4:return _c(),null;case 10:return Tw(t.type._context),null;case 22:case 23:return Gw(),null;case 24:return null;default:return null}}var Wp=!1,Un=!1,Dq=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Vl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){on(e,t,i)}else n.current=null}function T0(e,t,n){try{n()}catch(i){on(e,t,i)}}var uC=!1;function Fq(e,t){if(m0=Vm,e=gT(),Cw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||i!==0&&f.nodeType!==3||(c=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++d===s&&(l=o),p===a&&++u===i&&(c=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(h0={focusedElem:e,selectionRange:n},Vm=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,y=v.memoizedState,j=t.stateNode,g=j.getSnapshotBeforeUpdate(t.elementType===t.type?m:pi(t.type,m),y);j.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(w){on(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return v=uC,uC=!1,v}function ku(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&T0(t,n,a)}s=s.next}while(s!==i)}}function Ux(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function _0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function m_(e){var t=e.alternate;t!==null&&(e.alternate=null,m_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hi],delete t[Ku],delete t[g0],delete t[bq],delete t[jq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function h_(e){return e.tag===5||e.tag===3||e.tag===4}function fC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function I0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gm));else if(i!==4&&(e=e.child,e!==null))for(I0(e,t,n),e=e.sibling;e!==null;)I0(e,t,n),e=e.sibling}function R0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(R0(e,t,n),e=e.sibling;e!==null;)R0(e,t,n),e=e.sibling}var Mn=null,hi=!1;function sa(e,t,n){for(n=n.child;n!==null;)x_(e,t,n),n=n.sibling}function x_(e,t,n){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(Mx,n)}catch{}switch(n.tag){case 5:Un||Vl(n,t);case 6:var i=Mn,s=hi;Mn=null,sa(e,t,n),Mn=i,hi=s,Mn!==null&&(hi?(e=Mn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(hi?(e=Mn,n=n.stateNode,e.nodeType===8?Lg(e.parentNode,n):e.nodeType===1&&Lg(e,n),Uu(e)):Lg(Mn,n.stateNode));break;case 4:i=Mn,s=hi,Mn=n.stateNode.containerInfo,hi=!0,sa(e,t,n),Mn=i,hi=s;break;case 0:case 11:case 14:case 15:if(!Un&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&T0(n,t,o),s=s.next}while(s!==i)}sa(e,t,n);break;case 1:if(!Un&&(Vl(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){on(n,t,l)}sa(e,t,n);break;case 21:sa(e,t,n);break;case 22:n.mode&1?(Un=(i=Un)||n.memoizedState!==null,sa(e,t,n),Un=i):sa(e,t,n);break;default:sa(e,t,n)}}function pC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dq),t.forEach(function(i){var s=Gq.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function di(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Mn=l.stateNode,hi=!1;break e;case 3:Mn=l.stateNode.containerInfo,hi=!0;break e;case 4:Mn=l.stateNode.containerInfo,hi=!0;break e}l=l.return}if(Mn===null)throw Error(he(160));x_(a,o,s),Mn=null,hi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){on(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)v_(t,e),t=t.sibling}function v_(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(di(t,e),Li(e),i&4){try{ku(3,e,e.return),Ux(3,e)}catch(m){on(e,e.return,m)}try{ku(5,e,e.return)}catch(m){on(e,e.return,m)}}break;case 1:di(t,e),Li(e),i&512&&n!==null&&Vl(n,n.return);break;case 5:if(di(t,e),Li(e),i&512&&n!==null&&Vl(n,n.return),e.flags&32){var s=e.stateNode;try{Lu(s,"")}catch(m){on(e,e.return,m)}}if(i&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&LO(s,a),i0(l,o);var d=i0(l,a);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?VO(s,f):u==="dangerouslySetInnerHTML"?BO(s,f):u==="children"?Lu(s,f):fw(s,u,f,d)}switch(l){case"input":Jy(s,a);break;case"textarea":qO(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Zl(s,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?Zl(s,!!a.multiple,a.defaultValue,!0):Zl(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ku]=a}catch(m){on(e,e.return,m)}}break;case 6:if(di(t,e),Li(e),i&4){if(e.stateNode===null)throw Error(he(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){on(e,e.return,m)}}break;case 3:if(di(t,e),Li(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Uu(t.containerInfo)}catch(m){on(e,e.return,m)}break;case 4:di(t,e),Li(e);break;case 13:di(t,e),Li(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ww=dn())),i&4&&pC(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Un=(d=Un)||u,di(t,e),Un=d):di(t,e),Li(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Fe=e,u=e.child;u!==null;){for(f=Fe=u;Fe!==null;){switch(p=Fe,h=p.child,p.tag){case 0:case 11:case 14:case 15:ku(4,p,p.return);break;case 1:Vl(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,n=p.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){on(i,n,m)}}break;case 5:Vl(p,p.return);break;case 22:if(p.memoizedState!==null){hC(f);continue}}h!==null?(h.return=p,Fe=h):hC(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=UO("display",o))}catch(m){on(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(m){on(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:di(t,e),Li(e),i&4&&pC(e);break;case 21:break;default:di(t,e),Li(e)}}function Li(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(h_(n)){var i=n;break e}n=n.return}throw Error(he(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Lu(s,""),i.flags&=-33);var a=fC(e);R0(e,a,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=fC(e);I0(e,l,o);break;default:throw Error(he(161))}}catch(c){on(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lq(e,t,n){Fe=e,g_(e)}function g_(e,t,n){for(var i=(e.mode&1)!==0;Fe!==null;){var s=Fe,a=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Wp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Un;l=Wp;var d=Un;if(Wp=o,(Un=c)&&!d)for(Fe=s;Fe!==null;)o=Fe,c=o.child,o.tag===22&&o.memoizedState!==null?xC(s):c!==null?(c.return=o,Fe=c):xC(s);for(;a!==null;)Fe=a,g_(a),a=a.sibling;Fe=s,Wp=l,Un=d}mC(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Fe=a):mC(e)}}function mC(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Un||Ux(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Un)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pi(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ZS(t,a,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ZS(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Uu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Un||t.flags&512&&_0(t)}catch(p){on(t,t.return,p)}}if(t===e){Fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Fe=n;break}Fe=t.return}}function hC(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Fe=n;break}Fe=t.return}}function xC(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ux(4,t)}catch(c){on(t,n,c)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(c){on(t,s,c)}}var a=t.return;try{_0(t)}catch(c){on(t,a,c)}break;case 5:var o=t.return;try{_0(t)}catch(c){on(t,o,c)}}}catch(c){on(t,t.return,c)}if(t===e){Fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Fe=l;break}Fe=t.return}}var qq=Math.ceil,ih=Js.ReactCurrentDispatcher,Uw=Js.ReactCurrentOwner,Jr=Js.ReactCurrentBatchConfig,St=0,Tn=null,xn=null,$n=0,Cr=0,Wl=Ja(0),Nn=0,ef=null,Yo=0,Vx=0,Vw=0,Eu=null,hr=null,Ww=0,Rc=1/0,ws=null,sh=!1,M0=null,$a=null,Hp=!1,Pa=null,ah=0,Au=0,$0=null,Am=-1,Pm=0;function lr(){return St&6?dn():Am!==-1?Am:Am=dn()}function Da(e){return e.mode&1?St&2&&$n!==0?$n&-$n:Nq.transition!==null?(Pm===0&&(Pm=nT()),Pm):(e=It,e!==0||(e=window.event,e=e===void 0?16:cT(e.type)),e):1}function Ai(e,t,n,i){if(50<Au)throw Au=0,$0=null,Error(he(185));ap(e,n,i),(!(St&2)||e!==Tn)&&(e===Tn&&(!(St&2)&&(Vx|=n),Nn===4&&xa(e,$n)),br(e,i),n===1&&St===0&&!(t.mode&1)&&(Rc=dn()+500,qx&&eo()))}function br(e,t){var n=e.callbackNode;N5(e,t);var i=Um(e,e===Tn?$n:0);if(i===0)n!==null&&CS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&CS(n),t===1)e.tag===0?wq(vC.bind(null,e)):AT(vC.bind(null,e)),gq(function(){!(St&6)&&eo()}),n=null;else{switch(rT(i)){case 1:n=vw;break;case 4:n=eT;break;case 16:n=Bm;break;case 536870912:n=tT;break;default:n=Bm}n=k_(n,y_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function y_(e,t){if(Am=-1,Pm=0,St&6)throw Error(he(327));var n=e.callbackNode;if(rc()&&e.callbackNode!==n)return null;var i=Um(e,e===Tn?$n:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=oh(e,i);else{t=i;var s=St;St|=2;var a=j_();(Tn!==e||$n!==t)&&(ws=null,Rc=dn()+500,$o(e,t));do try{Uq();break}catch(l){b_(e,l)}while(!0);Ow(),ih.current=a,St=s,xn!==null?t=0:(Tn=null,$n=0,t=Nn)}if(t!==0){if(t===2&&(s=c0(e),s!==0&&(i=s,t=D0(e,s))),t===1)throw n=ef,$o(e,0),xa(e,i),br(e,dn()),n;if(t===6)xa(e,i);else{if(s=e.current.alternate,!(i&30)&&!zq(s)&&(t=oh(e,i),t===2&&(a=c0(e),a!==0&&(i=a,t=D0(e,a))),t===1))throw n=ef,$o(e,0),xa(e,i),br(e,dn()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(he(345));case 2:mo(e,hr,ws);break;case 3:if(xa(e,i),(i&130023424)===i&&(t=Ww+500-dn(),10<t)){if(Um(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){lr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=v0(mo.bind(null,e,hr,ws),t);break}mo(e,hr,ws);break;case 4:if(xa(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-Ei(i);a=1<<o,o=t[o],o>s&&(s=o),i&=~a}if(i=s,i=dn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qq(i/1960))-i,10<i){e.timeoutHandle=v0(mo.bind(null,e,hr,ws),i);break}mo(e,hr,ws);break;case 5:mo(e,hr,ws);break;default:throw Error(he(329))}}}return br(e,dn()),e.callbackNode===n?y_.bind(null,e):null}function D0(e,t){var n=Eu;return e.current.memoizedState.isDehydrated&&($o(e,t).flags|=256),e=oh(e,t),e!==2&&(t=hr,hr=n,t!==null&&F0(t)),e}function F0(e){hr===null?hr=e:hr.push.apply(hr,e)}function zq(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Ti(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xa(e,t){for(t&=~Vw,t&=~Vx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ei(t),i=1<<n;e[n]=-1,t&=~i}}function vC(e){if(St&6)throw Error(he(327));rc();var t=Um(e,0);if(!(t&1))return br(e,dn()),null;var n=oh(e,t);if(e.tag!==0&&n===2){var i=c0(e);i!==0&&(t=i,n=D0(e,i))}if(n===1)throw n=ef,$o(e,0),xa(e,t),br(e,dn()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,hr,ws),br(e,dn()),null}function Hw(e,t){var n=St;St|=1;try{return e(t)}finally{St=n,St===0&&(Rc=dn()+500,qx&&eo())}}function Qo(e){Pa!==null&&Pa.tag===0&&!(St&6)&&rc();var t=St;St|=1;var n=Jr.transition,i=It;try{if(Jr.transition=null,It=1,e)return e()}finally{It=i,Jr.transition=n,St=t,!(St&6)&&eo()}}function Gw(){Cr=Wl.current,Gt(Wl)}function $o(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vq(n)),xn!==null)for(n=xn.return;n!==null;){var i=n;switch(Ew(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Km();break;case 3:_c(),Gt(gr),Gt(Qn),$w();break;case 5:Mw(i);break;case 4:_c();break;case 13:Gt(tn);break;case 19:Gt(tn);break;case 10:Tw(i.type._context);break;case 22:case 23:Gw()}n=n.return}if(Tn=e,xn=e=Fa(e.current,null),$n=Cr=t,Nn=0,ef=null,Vw=Vx=Yo=0,hr=Eu=null,wo!==null){for(t=0;t<wo.length;t++)if(n=wo[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,i.next=o}n.pending=i}wo=null}return e}function b_(e,t){do{var n=xn;try{if(Ow(),Cm.current=rh,nh){for(var i=nn.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}nh=!1}if(Ko=0,An=jn=nn=null,Cu=!1,Xu=0,Uw.current=null,n===null||n.return===null){Nn=1,ef=t,xn=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=$n,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=iC(o);if(h!==null){h.flags&=-257,sC(h,o,l,a,t),h.mode&1&&rC(a,d,t),t=h,c=d;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){rC(a,d,t),Kw();break e}c=Error(he(426))}}else if(Kt&&l.mode&1){var y=iC(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),sC(y,o,l,a,t),Aw(Ic(c,l));break e}}a=c=Ic(c,l),Nn!==4&&(Nn=2),Eu===null?Eu=[a]:Eu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var j=r_(a,c,t);XS(a,j);break e;case 1:l=c;var g=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($a===null||!$a.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=i_(a,l,t);XS(a,w);break e}}a=a.return}while(a!==null)}N_(n)}catch(b){t=b,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(!0)}function j_(){var e=ih.current;return ih.current=rh,e===null?rh:e}function Kw(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Tn===null||!(Yo&268435455)&&!(Vx&268435455)||xa(Tn,$n)}function oh(e,t){var n=St;St|=2;var i=j_();(Tn!==e||$n!==t)&&(ws=null,$o(e,t));do try{Bq();break}catch(s){b_(e,s)}while(!0);if(Ow(),St=n,ih.current=i,xn!==null)throw Error(he(261));return Tn=null,$n=0,Nn}function Bq(){for(;xn!==null;)w_(xn)}function Uq(){for(;xn!==null&&!m5();)w_(xn)}function w_(e){var t=C_(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,t===null?N_(e):xn=t,Uw.current=null}function N_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$q(n,t),n!==null){n.flags&=32767,xn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nn=6,xn=null;return}}else if(n=Mq(n,t,Cr),n!==null){xn=n;return}if(t=t.sibling,t!==null){xn=t;return}xn=t=e}while(t!==null);Nn===0&&(Nn=5)}function mo(e,t,n){var i=It,s=Jr.transition;try{Jr.transition=null,It=1,Vq(e,t,n,i)}finally{Jr.transition=s,It=i}return null}function Vq(e,t,n,i){do rc();while(Pa!==null);if(St&6)throw Error(he(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(S5(e,a),e===Tn&&(xn=Tn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hp||(Hp=!0,k_(Bm,function(){return rc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Jr.transition,Jr.transition=null;var o=It;It=1;var l=St;St|=4,Uw.current=null,Fq(e,n),v_(n,e),dq(h0),Vm=!!m0,h0=m0=null,e.current=n,Lq(n),h5(),St=l,It=o,Jr.transition=a}else e.current=n;if(Hp&&(Hp=!1,Pa=e,ah=s),a=e.pendingLanes,a===0&&($a=null),g5(n.stateNode),br(e,dn()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(sh)throw sh=!1,e=M0,M0=null,e;return ah&1&&e.tag!==0&&rc(),a=e.pendingLanes,a&1?e===$0?Au++:(Au=0,$0=e):Au=0,eo(),null}function rc(){if(Pa!==null){var e=rT(ah),t=Jr.transition,n=It;try{if(Jr.transition=null,It=16>e?16:e,Pa===null)var i=!1;else{if(e=Pa,Pa=null,ah=0,St&6)throw Error(he(331));var s=St;for(St|=4,Fe=e.current;Fe!==null;){var a=Fe,o=a.child;if(Fe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Fe=d;Fe!==null;){var u=Fe;switch(u.tag){case 0:case 11:case 15:ku(8,u,a)}var f=u.child;if(f!==null)f.return=u,Fe=f;else for(;Fe!==null;){u=Fe;var p=u.sibling,h=u.return;if(m_(u),u===d){Fe=null;break}if(p!==null){p.return=h,Fe=p;break}Fe=h}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Fe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Fe=o;else e:for(;Fe!==null;){if(a=Fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ku(9,a,a.return)}var j=a.sibling;if(j!==null){j.return=a.return,Fe=j;break e}Fe=a.return}}var g=e.current;for(Fe=g;Fe!==null;){o=Fe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Fe=x;else e:for(o=g;Fe!==null;){if(l=Fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ux(9,l)}}catch(b){on(l,l.return,b)}if(l===o){Fe=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Fe=w;break e}Fe=l.return}}if(St=s,eo(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(Mx,e)}catch{}i=!0}return i}finally{It=n,Jr.transition=t}}return!1}function gC(e,t,n){t=Ic(n,t),t=r_(e,t,1),e=Ma(e,t,1),t=lr(),e!==null&&(ap(e,1,t),br(e,t))}function on(e,t,n){if(e.tag===3)gC(e,e,n);else for(;t!==null;){if(t.tag===3){gC(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($a===null||!$a.has(i))){e=Ic(n,e),e=i_(t,e,1),t=Ma(t,e,1),e=lr(),t!==null&&(ap(t,1,e),br(t,e));break}}t=t.return}}function Wq(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&n,Tn===e&&($n&n)===n&&(Nn===4||Nn===3&&($n&130023424)===$n&&500>dn()-Ww?$o(e,0):Vw|=n),br(e,t)}function S_(e,t){t===0&&(e.mode&1?(t=$p,$p<<=1,!($p&130023424)&&($p=4194304)):t=1);var n=lr();e=zs(e,t),e!==null&&(ap(e,t,n),br(e,n))}function Hq(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),S_(e,n)}function Gq(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(he(314))}i!==null&&i.delete(t),S_(e,n)}var C_;C_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gr.current)xr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xr=!1,Rq(e,t,n);xr=!!(e.flags&131072)}else xr=!1,Kt&&t.flags&1048576&&PT(t,Xm,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Em(e,t),e=t.pendingProps;var s=Pc(t,Qn.current);nc(t,n),s=Fw(null,t,i,e,s,n);var a=Lw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yr(i)?(a=!0,Ym(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Iw(t),s.updater=Bx,t.stateNode=s,s._reactInternals=t,S0(t,i,e,n),t=E0(null,t,i,!0,a,n)):(t.tag=0,Kt&&a&&kw(t),rr(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Em(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=Yq(i),e=pi(i,e),s){case 0:t=k0(null,t,i,e,n);break e;case 1:t=lC(null,t,i,e,n);break e;case 11:t=aC(null,t,i,e,n);break e;case 14:t=oC(null,t,i,pi(i.type,e),n);break e}throw Error(he(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:pi(i,s),k0(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:pi(i,s),lC(e,t,i,s,n);case 3:e:{if(l_(t),e===null)throw Error(he(387));i=t.pendingProps,a=t.memoizedState,s=a.element,MT(e,t),eh(t,i,null,n);var o=t.memoizedState;if(i=o.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ic(Error(he(423)),t),t=cC(e,t,i,n,s);break e}else if(i!==s){s=Ic(Error(he(424)),t),t=cC(e,t,i,n,s);break e}else for(Or=Ra(t.stateNode.containerInfo.firstChild),Ir=t,Kt=!0,gi=null,n=IT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oc(),i===s){t=Bs(e,t,n);break e}rr(e,t,i,n)}t=t.child}return t;case 5:return $T(t),e===null&&j0(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,x0(i,s)?o=null:a!==null&&x0(i,a)&&(t.flags|=32),o_(e,t),rr(e,t,o,n),t.child;case 6:return e===null&&j0(t),null;case 13:return c_(e,t,n);case 4:return Rw(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Tc(t,null,i,n):rr(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:pi(i,s),aC(e,t,i,s,n);case 7:return rr(e,t,t.pendingProps,n),t.child;case 8:return rr(e,t,t.pendingProps.children,n),t.child;case 12:return rr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,zt(Zm,i._currentValue),i._currentValue=o,a!==null)if(Ti(a.value,o)){if(a.children===s.children&&!gr.current){t=Bs(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(a.tag===1){c=_s(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),w0(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(he(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),w0(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}rr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,nc(t,n),s=ti(s),i=i(s),t.flags|=1,rr(e,t,i,n),t.child;case 14:return i=t.type,s=pi(i,t.pendingProps),s=pi(i.type,s),oC(e,t,i,s,n);case 15:return s_(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:pi(i,s),Em(e,t),t.tag=1,yr(i)?(e=!0,Ym(t)):e=!1,nc(t,n),n_(t,i,s),S0(t,i,s,n),E0(null,t,i,!0,e,n);case 19:return d_(e,t,n);case 22:return a_(e,t,n)}throw Error(he(156,t.tag))};function k_(e,t){return JO(e,t)}function Kq(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(e,t,n,i){return new Kq(e,t,n,i)}function Yw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yq(e){if(typeof e=="function")return Yw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mw)return 11;if(e===hw)return 14}return 2}function Fa(e,t){var n=e.alternate;return n===null?(n=Qr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Om(e,t,n,i,s,a){var o=2;if(i=e,typeof e=="function")Yw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ml:return Do(n.children,s,a,t);case pw:o=8,s|=8;break;case Ky:return e=Qr(12,n,t,s|2),e.elementType=Ky,e.lanes=a,e;case Yy:return e=Qr(13,n,t,s),e.elementType=Yy,e.lanes=a,e;case Qy:return e=Qr(19,n,t,s),e.elementType=Qy,e.lanes=a,e;case $O:return Wx(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case RO:o=10;break e;case MO:o=9;break e;case mw:o=11;break e;case hw:o=14;break e;case ua:o=16,i=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=Qr(o,n,t,s),t.elementType=e,t.type=i,t.lanes=a,t}function Do(e,t,n,i){return e=Qr(7,e,i,t),e.lanes=n,e}function Wx(e,t,n,i){return e=Qr(22,e,i,t),e.elementType=$O,e.lanes=n,e.stateNode={isHidden:!1},e}function Gg(e,t,n){return e=Qr(6,e,null,t),e.lanes=n,e}function Kg(e,t,n){return t=Qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qq(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ag(0),this.expirationTimes=Ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ag(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qw(e,t,n,i,s,a,o,l,c){return e=new Qq(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iw(a),e}function Xq(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rl,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function E_(e){if(!e)return Ua;e=e._reactInternals;e:{if(pl(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(yr(n))return ET(e,n,t)}return t}function A_(e,t,n,i,s,a,o,l,c){return e=Qw(n,i,!0,e,s,a,o,l,c),e.context=E_(null),n=e.current,i=lr(),s=Da(n),a=_s(i,s),a.callback=t??null,Ma(n,a,s),e.current.lanes=s,ap(e,s,i),br(e,i),e}function Hx(e,t,n,i){var s=t.current,a=lr(),o=Da(s);return n=E_(n),t.context===null?t.context=n:t.pendingContext=n,t=_s(a,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Ma(s,t,o),e!==null&&(Ai(e,s,o,a),Sm(e,s,o)),o}function lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xw(e,t){yC(e,t),(e=e.alternate)&&yC(e,t)}function Zq(){return null}var P_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zw(e){this._internalRoot=e}Gx.prototype.render=Zw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));Hx(e,t,null,null)};Gx.prototype.unmount=Zw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qo(function(){Hx(null,e,null,null)}),t[qs]=null}};function Gx(e){this._internalRoot=e}Gx.prototype.unstable_scheduleHydration=function(e){if(e){var t=aT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ha.length&&t!==0&&t<ha[n].priority;n++);ha.splice(n,0,e),n===0&&lT(e)}};function Jw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bC(){}function Jq(e,t,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var d=lh(o);a.call(d)}}var o=A_(t,i,e,0,null,!1,!1,"",bC);return e._reactRootContainer=o,e[qs]=o.current,Hu(e.nodeType===8?e.parentNode:e),Qo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var d=lh(c);l.call(d)}}var c=Qw(e,0,!1,null,null,!1,!1,"",bC);return e._reactRootContainer=c,e[qs]=c.current,Hu(e.nodeType===8?e.parentNode:e),Qo(function(){Hx(t,c,n,i)}),c}function Yx(e,t,n,i,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=lh(o);l.call(c)}}Hx(t,o,e,s)}else o=Jq(n,t,e,s,i);return lh(o)}iT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pu(t.pendingLanes);n!==0&&(gw(t,n|1),br(t,dn()),!(St&6)&&(Rc=dn()+500,eo()))}break;case 13:Qo(function(){var i=zs(e,1);if(i!==null){var s=lr();Ai(i,e,1,s)}}),Xw(e,1)}};yw=function(e){if(e.tag===13){var t=zs(e,134217728);if(t!==null){var n=lr();Ai(t,e,134217728,n)}Xw(e,134217728)}};sT=function(e){if(e.tag===13){var t=Da(e),n=zs(e,t);if(n!==null){var i=lr();Ai(n,e,t,i)}Xw(e,t)}};aT=function(){return It};oT=function(e,t){var n=It;try{return It=e,t()}finally{It=n}};a0=function(e,t,n){switch(t){case"input":if(Jy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Lx(i);if(!s)throw Error(he(90));FO(i),Jy(i,s)}}}break;case"textarea":qO(e,n);break;case"select":t=n.value,t!=null&&Zl(e,!!n.multiple,t,!1)}};GO=Hw;KO=Qo;var e6={usingClientEntryPoint:!1,Events:[lp,Ll,Lx,WO,HO,Hw]},Gd={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t6={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XO(e),e===null?null:e.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||Zq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gp.isDisabled&&Gp.supportsFiber)try{Mx=Gp.inject(t6),Ji=Gp}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e6;Lr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jw(t))throw Error(he(200));return Xq(e,t,null,n)};Lr.createRoot=function(e,t){if(!Jw(e))throw Error(he(299));var n=!1,i="",s=P_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Qw(e,1,!1,null,null,n,!1,i,s),e[qs]=t.current,Hu(e.nodeType===8?e.parentNode:e),new Zw(t)};Lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=XO(t),e=e===null?null:e.stateNode,e};Lr.flushSync=function(e){return Qo(e)};Lr.hydrate=function(e,t,n){if(!Kx(t))throw Error(he(200));return Yx(null,e,t,!0,n)};Lr.hydrateRoot=function(e,t,n){if(!Jw(e))throw Error(he(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",o=P_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=A_(t,null,e,1,n??null,s,!1,a,o),e[qs]=t.current,Hu(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Gx(t)};Lr.render=function(e,t,n){if(!Kx(t))throw Error(he(200));return Yx(null,e,t,!1,n)};Lr.unmountComponentAtNode=function(e){if(!Kx(e))throw Error(he(40));return e._reactRootContainer?(Qo(function(){Yx(null,null,e,!1,function(){e._reactRootContainer=null,e[qs]=null})}),!0):!1};Lr.unstable_batchedUpdates=Hw;Lr.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Kx(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Yx(e,t,n,!1,i)};Lr.version="18.3.1-next-f1338f8080-20240426";function O_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O_)}catch(e){console.error(e)}}O_(),OO.exports=Lr;var ml=OO.exports;const n6=Pt(ml);var T_,jC=ml;T_=jC.createRoot,jC.hydrateRoot;function r6(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,i,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(i=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~i?i:~a?a:s.length)),l+=~i&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~i?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var __={exports:{}},I_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=N;function i6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var s6=typeof Object.is=="function"?Object.is:i6,a6=Mc.useState,o6=Mc.useEffect,l6=Mc.useLayoutEffect,c6=Mc.useDebugValue;function d6(e,t){var n=t(),i=a6({inst:{value:n,getSnapshot:t}}),s=i[0].inst,a=i[1];return l6(function(){s.value=n,s.getSnapshot=t,Yg(s)&&a({inst:s})},[e,n,t]),o6(function(){return Yg(s)&&a({inst:s}),e(function(){Yg(s)&&a({inst:s})})},[e]),c6(n),n}function Yg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s6(e,n)}catch{return!0}}function u6(e,t){return t()}var f6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u6:d6;I_.useSyncExternalStore=Mc.useSyncExternalStore!==void 0?Mc.useSyncExternalStore:f6;__.exports=I_;var p6=__.exports;const m6=cw.useInsertionEffect,h6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x6=h6?N.useLayoutEffect:N.useEffect,v6=m6||x6,R_=e=>{const t=N.useRef([e,(...n)=>t[0](...n)]).current;return v6(()=>{t[0]=e}),t[1]},g6="popstate",eN="pushState",tN="replaceState",y6="hashchange",wC=[g6,eN,tN,y6],b6=e=>{for(const t of wC)addEventListener(t,e);return()=>{for(const t of wC)removeEventListener(t,e)}},M_=(e,t)=>p6.useSyncExternalStore(b6,e,t),j6=()=>location.search,w6=({ssrSearch:e=""}={})=>M_(j6,()=>e),NC=()=>location.pathname,N6=({ssrPath:e}={})=>M_(NC,e?()=>e:NC),S6=(e,{replace:t=!1,state:n=null}={})=>history[t?tN:eN](n,"",e),C6=(e={})=>[N6(e),S6],SC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[SC]>"u"){for(const e of[eN,tN]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),n}}Object.defineProperty(window,SC,{value:!0})}const k6=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",$_=(e="")=>e==="/"?"":e,E6=(e,t)=>e[0]==="~"?e.slice(1):$_(t)+e,A6=(e="",t)=>k6(CC($_(e)),CC(t)),CC=e=>{try{return decodeURI(e)}catch{return e}},D_={hook:C6,searchHook:w6,parser:r6,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},F_=N.createContext(D_),bd=()=>N.useContext(F_),L_={},q_=N.createContext(L_),nN=()=>N.useContext(q_),Qx=e=>{const[t,n]=e.hook(e);return[A6(e.base,t),R_((i,s)=>n(E6(i,e.base),s))]},ii=()=>Qx(bd()),rN=(e,t,n,i)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((f,p)=>[f,c[p]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...i?[l]:[]]:[!1,null]},Xx=e=>rN(bd().parser,e,ii()[0]),P6=({children:e,...t})=>{var u,f;const n=bd(),i=t.hook?D_:n;let s=i;const[a,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=N.useRef({}),c=l.current,d=c;for(let p in i){const h=p==="base"?i[p]+(t[p]||""):t[p]||i[p];c===d&&h!==d[p]&&(l.current=d={...d}),d[p]=h,h!==i[p]&&(s=d)}return N.createElement(F_.Provider,{value:s,children:e})},kC=({children:e,component:t},n)=>t?N.createElement(t,{params:n}):typeof e=="function"?e(n):e,O6=e=>{let t=N.useRef(L_),n=t.current;for(const i in e)e[i]!==n[i]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},ct=({path:e,nest:t,match:n,...i})=>{const s=bd(),[a]=Qx(s),[o,l,c]=n??rN(s.parser,e,a,t),d=O6({...nN(),...l});if(!o)return null;const u=c?N.createElement(P6,{base:c},kC(i,d)):kC(i,d);return N.createElement(q_.Provider,{value:d,children:u})},vn=N.forwardRef((e,t)=>{const n=bd(),[i,s]=Qx(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:f,state:p,...h}=e,v=R_(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),s(o,e)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&N.isValidElement(d)?N.cloneElement(d,{onClick:v,href:m}):N.createElement("a",{...h,onClick:v,href:m,className:u!=null&&u.call?u(i===o):u,children:d,ref:t})}),z_=e=>Array.isArray(e)?e.flatMap(t=>z_(t&&t.type===N.Fragment?t.props.children:t)):[e],T6=({children:e,location:t})=>{const n=bd(),[i]=Qx(n);for(const s of z_(e)){let a=0;if(N.isValidElement(s)&&(a=rN(n.parser,s.props.path,t||i,s.props.nest))[0])return N.cloneElement(s,{match:a})}return null};var jd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xo=typeof window>"u"||"Deno"in globalThis;function Hr(){}function _6(e,t){return typeof e=="function"?e(t):e}function L0(e){return typeof e=="number"&&e>=0&&e!==1/0}function B_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ic(e,t){return typeof e=="function"?e(t):e}function yi(e,t){return typeof e=="function"?e(t):e}function EC(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(i){if(t.queryHash!==iN(o,t.options))return!1}else if(!tf(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function AC(e,t){const{exact:n,status:i,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Zo(t.options.mutationKey)!==Zo(a))return!1}else if(!tf(t.options.mutationKey,a))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function iN(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zo)(e)}function Zo(e){return JSON.stringify(e,(t,n)=>q0(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function tf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!tf(e[n],t[n])):!1}function U_(e,t){if(e===t)return e;const n=PC(e)&&PC(t);if(n||q0(e)&&q0(t)){const i=n?e:Object.keys(e),s=i.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:a[d];(!n&&i.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=U_(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function ch(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function PC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function q0(e){if(!OC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!OC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function OC(e){return Object.prototype.toString.call(e)==="[object Object]"}function I6(e){return new Promise(t=>{setTimeout(t,e)})}function z0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?U_(e,t):t}function R6(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function M6(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var sN=Symbol();function V_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===sN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Po,ya,hc,cO,$6=(cO=class extends jd{constructor(){super();Je(this,Po);Je(this,ya);Je(this,hc);Te(this,hc,t=>{if(!Xo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,ya)||this.setEventListener(K(this,hc))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,ya))==null||t.call(this),Te(this,ya,void 0))}setEventListener(t){var n;Te(this,hc,t),(n=K(this,ya))==null||n.call(this),Te(this,ya,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){K(this,Po)!==t&&(Te(this,Po,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof K(this,Po)=="boolean"?K(this,Po):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Po=new WeakMap,ya=new WeakMap,hc=new WeakMap,cO),aN=new $6,xc,ba,vc,dO,D6=(dO=class extends jd{constructor(){super();Je(this,xc,!0);Je(this,ba);Je(this,vc);Te(this,vc,t=>{if(!Xo&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){K(this,ba)||this.setEventListener(K(this,vc))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,ba))==null||t.call(this),Te(this,ba,void 0))}setEventListener(t){var n;Te(this,vc,t),(n=K(this,ba))==null||n.call(this),Te(this,ba,t(this.setOnline.bind(this)))}setOnline(t){K(this,xc)!==t&&(Te(this,xc,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return K(this,xc)}},xc=new WeakMap,ba=new WeakMap,vc=new WeakMap,dO),dh=new D6;function B0(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function F6(e){return Math.min(1e3*2**e,3e4)}function W_(e){return(e??"online")==="online"?dh.isOnline():!0}var H_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Qg(e){return e instanceof H_}function G_(e){let t=!1,n=0,i=!1,s;const a=B0(),o=m=>{var y;i||(p(new H_(m)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>aN.isFocused()&&(e.networkMode==="always"||dh.isOnline())&&e.canRun(),u=()=>W_(e.networkMode)&&e.canRun(),f=m=>{var y;i||(i=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),a.resolve(m))},p=m=>{var y;i||(i=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),a.reject(m))},h=()=>new Promise(m=>{var y;s=j=>{(i||d())&&m(j)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,i||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(i)return;let m;const y=n===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(j){m=Promise.reject(j)}Promise.resolve(m).then(f).catch(j=>{var C;if(i)return;const g=e.retry??(Xo?0:3),x=e.retryDelay??F6,w=typeof x=="function"?x(n,j):x,b=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,j);if(t||!b){p(j);return}n++,(C=e.onFail)==null||C.call(e,n,j),I6(w).then(()=>d()?void 0:h()).then(()=>{t?p(j):v()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?v():h().then(v),a)}}function L6(){let e=[],t=0,n=l=>{l()},i=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{i(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{s=l}}}var wn=L6(),Oo,uO,K_=(uO=class{constructor(){Je(this,Oo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),L0(this.gcTime)&&Te(this,Oo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xo?1/0:5*60*1e3))}clearGcTimeout(){K(this,Oo)&&(clearTimeout(K(this,Oo)),Te(this,Oo,void 0))}},Oo=new WeakMap,uO),gc,yc,Wr,zn,tp,To,mi,bs,fO,q6=(fO=class extends K_{constructor(t){super();Je(this,mi);Je(this,gc);Je(this,yc);Je(this,Wr);Je(this,zn);Je(this,tp);Je(this,To);Te(this,To,!1),Te(this,tp,t.defaultOptions),this.setOptions(t.options),this.observers=[],Te(this,Wr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Te(this,gc,z6(this.options)),this.state=t.state??K(this,gc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,zn))==null?void 0:t.promise}setOptions(t){this.options={...K(this,tp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,Wr).remove(this)}setData(t,n){const i=z0(this.state.data,t,this.options);return ht(this,mi,bs).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){ht(this,mi,bs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,s;const n=(i=K(this,zn))==null?void 0:i.promise;return(s=K(this,zn))==null||s.cancel(t),n?n.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,gc))}isActive(){return this.observers.some(t=>yi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!B_(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,zn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,zn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,Wr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(K(this,zn)&&(K(this,To)?K(this,zn).cancel({revert:!0}):K(this,zn).cancelRetry()),this.scheduleGc()),K(this,Wr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,mi,bs).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(K(this,zn))return K(this,zn).continueRetry(),K(this,zn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Te(this,To,!0),i.signal)})},a=()=>{const f=V_(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),Te(this,To,!1),this.options.persister?this.options.persister(f,p,this):f(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Te(this,yc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ht(this,mi,bs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var p,h,v,m;Qg(f)&&f.silent||ht(this,mi,bs).call(this,{type:"error",error:f}),Qg(f)||((h=(p=K(this,Wr).config).onError)==null||h.call(p,f,this),(m=(v=K(this,Wr).config).onSettled)==null||m.call(v,this.state.data,f,this)),this.scheduleGc()};return Te(this,zn,G_({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var p,h,v,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(h=(p=K(this,Wr).config).onSuccess)==null||h.call(p,f,this),(m=(v=K(this,Wr).config).onSettled)==null||m.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{ht(this,mi,bs).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{ht(this,mi,bs).call(this,{type:"pause"})},onContinue:()=>{ht(this,mi,bs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),K(this,zn).start()}},gc=new WeakMap,yc=new WeakMap,Wr=new WeakMap,zn=new WeakMap,tp=new WeakMap,To=new WeakMap,mi=new WeakSet,bs=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Y_(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Qg(s)&&s.revert&&K(this,yc)?{...K(this,yc),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),wn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),K(this,Wr).notify({query:this,type:"updated",action:t})})},fO);function Y_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function z6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Bi,pO,B6=(pO=class extends jd{constructor(t={}){super();Je(this,Bi);this.config=t,Te(this,Bi,new Map)}build(t,n,i){const s=n.queryKey,a=n.queryHash??iN(s,n);let o=this.get(a);return o||(o=new q6({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){K(this,Bi).has(t.queryHash)||(K(this,Bi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=K(this,Bi).get(t.queryHash);n&&(t.destroy(),n===t&&K(this,Bi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,Bi).get(t)}getAll(){return[...K(this,Bi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>EC(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>EC(t,i)):n}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bi=new WeakMap,pO),Ui,er,_o,Vi,ca,mO,U6=(mO=class extends K_{constructor(t){super();Je(this,Vi);Je(this,Ui);Je(this,er);Je(this,_o);this.mutationId=t.mutationId,Te(this,er,t.mutationCache),Te(this,Ui,[]),this.state=t.state||Q_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,Ui).includes(t)||(K(this,Ui).push(t),this.clearGcTimeout(),K(this,er).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Te(this,Ui,K(this,Ui).filter(n=>n!==t)),this.scheduleGc(),K(this,er).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,Ui).length||(this.state.status==="pending"?this.scheduleGc():K(this,er).remove(this))}continue(){var t;return((t=K(this,_o))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,d,u,f,p,h,v,m,y,j,g,x,w,b,C,k;Te(this,_o,G_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,E)=>{ht(this,Vi,ca).call(this,{type:"failed",failureCount:S,error:E})},onPause:()=>{ht(this,Vi,ca).call(this,{type:"pause"})},onContinue:()=>{ht(this,Vi,ca).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,er).canRun(this)}));const n=this.state.status==="pending",i=!K(this,_o).canStart();try{if(!n){ht(this,Vi,ca).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(s=K(this,er).config).onMutate)==null?void 0:a.call(s,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&ht(this,Vi,ca).call(this,{type:"pending",context:E,variables:t,isPaused:i})}const S=await K(this,_o).start();return await((d=(c=K(this,er).config).onSuccess)==null?void 0:d.call(c,S,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,S,t,this.state.context)),await((h=(p=K(this,er).config).onSettled)==null?void 0:h.call(p,S,null,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,S,null,t,this.state.context)),ht(this,Vi,ca).call(this,{type:"success",data:S}),S}catch(S){try{throw await((j=(y=K(this,er).config).onError)==null?void 0:j.call(y,S,t,this.state.context,this)),await((x=(g=this.options).onError)==null?void 0:x.call(g,S,t,this.state.context)),await((b=(w=K(this,er).config).onSettled)==null?void 0:b.call(w,void 0,S,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,S,t,this.state.context)),S}finally{ht(this,Vi,ca).call(this,{type:"error",error:S})}}finally{K(this,er).runNext(this)}}},Ui=new WeakMap,er=new WeakMap,_o=new WeakMap,Vi=new WeakSet,ca=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wn.batch(()=>{K(this,Ui).forEach(i=>{i.onMutationUpdate(t)}),K(this,er).notify({mutation:this,type:"updated",action:t})})},mO);function Q_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sr,np,hO,V6=(hO=class extends jd{constructor(t={}){super();Je(this,Sr);Je(this,np);this.config=t,Te(this,Sr,new Map),Te(this,np,Date.now())}build(t,n,i){const s=new U6({mutationCache:this,mutationId:++Pp(this,np)._,options:t.defaultMutationOptions(n),state:i});return this.add(s),s}add(t){const n=Kp(t),i=K(this,Sr).get(n)??[];i.push(t),K(this,Sr).set(n,i),this.notify({type:"added",mutation:t})}remove(t){var i;const n=Kp(t);if(K(this,Sr).has(n)){const s=(i=K(this,Sr).get(n))==null?void 0:i.filter(a=>a!==t);s&&(s.length===0?K(this,Sr).delete(n):K(this,Sr).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var i;const n=(i=K(this,Sr).get(Kp(t)))==null?void 0:i.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var i;const n=(i=K(this,Sr).get(Kp(t)))==null?void 0:i.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...K(this,Sr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(i=>AC(n,i))}findAll(t={}){return this.getAll().filter(n=>AC(t,n))}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return wn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Hr))))}},Sr=new WeakMap,np=new WeakMap,hO);function Kp(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function TC(e){return{onFetch:(t,n)=>{var u,f,p,h,v;const i=t.options,s=(p=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,a=((h=t.state.data)==null?void 0:h.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},j=V_(t.options,t.fetchOptions),g=async(x,w,b)=>{if(m)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const C={queryKey:t.queryKey,pageParam:w,direction:b?"backward":"forward",meta:t.options.meta};y(C);const k=await j(C),{maxPages:S}=t.options,E=b?M6:R6;return{pages:E(x.pages,k,S),pageParams:E(x.pageParams,w,S)}};if(s&&a.length){const x=s==="backward",w=x?W6:_C,b={pages:a,pageParams:o},C=w(i,b);l=await g(b,C,x)}else{const x=e??a.length;do{const w=c===0?o[0]??i.initialPageParam:_C(i,l);if(c>0&&w==null)break;l=await g(l,w),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function _C(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function W6(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var an,ja,wa,bc,jc,Na,wc,Nc,xO,H6=(xO=class{constructor(e={}){Je(this,an);Je(this,ja);Je(this,wa);Je(this,bc);Je(this,jc);Je(this,Na);Je(this,wc);Je(this,Nc);Te(this,an,e.queryCache||new B6),Te(this,ja,e.mutationCache||new V6),Te(this,wa,e.defaultOptions||{}),Te(this,bc,new Map),Te(this,jc,new Map),Te(this,Na,0)}mount(){Pp(this,Na)._++,K(this,Na)===1&&(Te(this,wc,aN.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,an).onFocus())})),Te(this,Nc,dh.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,an).onOnline())})))}unmount(){var e,t;Pp(this,Na)._--,K(this,Na)===0&&((e=K(this,wc))==null||e.call(this),Te(this,wc,void 0),(t=K(this,Nc))==null||t.call(this),Te(this,Nc,void 0))}isFetching(e){return K(this,an).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,ja).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,an).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),i=K(this,an).build(this,n);return e.revalidateIfStale&&i.isStaleByTime(ic(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return K(this,an).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),s=K(this,an).get(i.queryHash),a=s==null?void 0:s.state.data,o=_6(t,a);if(o!==void 0)return K(this,an).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return wn.batch(()=>K(this,an).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,an).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=K(this,an);wn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=K(this,an),i={type:"active",...e};return wn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},i=wn.batch(()=>K(this,an).findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(Hr).catch(Hr)}invalidateQueries(e={},t={}){return wn.batch(()=>{if(K(this,an).findAll(e).forEach(i=>{i.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},i=wn.batch(()=>K(this,an).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Hr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(Hr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=K(this,an).build(this,t);return n.isStaleByTime(ic(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hr).catch(Hr)}fetchInfiniteQuery(e){return e.behavior=TC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hr).catch(Hr)}ensureInfiniteQueryData(e){return e.behavior=TC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dh.isOnline()?K(this,ja).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,an)}getMutationCache(){return K(this,ja)}getDefaultOptions(){return K(this,wa)}setDefaultOptions(e){Te(this,wa,e)}setQueryDefaults(e,t){K(this,bc).set(Zo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,bc).values()];let n={};return t.forEach(i=>{tf(e,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}setMutationDefaults(e,t){K(this,jc).set(Zo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,jc).values()];let n={};return t.forEach(i=>{tf(e,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,wa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=iN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===sN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,wa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,an).clear(),K(this,ja).clear()}},an=new WeakMap,ja=new WeakMap,wa=new WeakMap,bc=new WeakMap,jc=new WeakMap,Na=new WeakMap,wc=new WeakMap,Nc=new WeakMap,xO),pr,jt,rp,tr,Io,Sc,Sa,Wi,ip,Cc,kc,Ro,Mo,Ca,Ec,At,hu,U0,V0,W0,H0,G0,K0,Y0,X_,vO,G6=(vO=class extends jd{constructor(t,n){super();Je(this,At);Je(this,pr);Je(this,jt);Je(this,rp);Je(this,tr);Je(this,Io);Je(this,Sc);Je(this,Sa);Je(this,Wi);Je(this,ip);Je(this,Cc);Je(this,kc);Je(this,Ro);Je(this,Mo);Je(this,Ca);Je(this,Ec,new Set);this.options=n,Te(this,pr,t),Te(this,Wi,null),Te(this,Sa,B0()),this.options.experimental_prefetchInRender||K(this,Sa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,jt).addObserver(this),IC(K(this,jt),this.options)?ht(this,At,hu).call(this):this.updateResult(),ht(this,At,H0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Q0(K(this,jt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Q0(K(this,jt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,At,G0).call(this),ht(this,At,K0).call(this),K(this,jt).removeObserver(this)}setOptions(t,n){const i=this.options,s=K(this,jt);if(this.options=K(this,pr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yi(this.options.enabled,K(this,jt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,At,Y0).call(this),K(this,jt).setOptions(this.options),i._defaulted&&!ch(this.options,i)&&K(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,jt),observer:this});const a=this.hasListeners();a&&RC(K(this,jt),s,this.options,i)&&ht(this,At,hu).call(this),this.updateResult(n),a&&(K(this,jt)!==s||yi(this.options.enabled,K(this,jt))!==yi(i.enabled,K(this,jt))||ic(this.options.staleTime,K(this,jt))!==ic(i.staleTime,K(this,jt)))&&ht(this,At,U0).call(this);const o=ht(this,At,V0).call(this);a&&(K(this,jt)!==s||yi(this.options.enabled,K(this,jt))!==yi(i.enabled,K(this,jt))||o!==K(this,Ca))&&ht(this,At,W0).call(this,o)}getOptimisticResult(t){const n=K(this,pr).getQueryCache().build(K(this,pr),t),i=this.createResult(n,t);return Y6(this,i)&&(Te(this,tr,i),Te(this,Sc,this.options),Te(this,Io,K(this,jt).state)),i}getCurrentResult(){return K(this,tr)}trackResult(t,n){const i={};return Object.keys(t).forEach(s=>{Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),i}trackProp(t){K(this,Ec).add(t)}getCurrentQuery(){return K(this,jt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=K(this,pr).defaultQueryOptions(t),i=K(this,pr).getQueryCache().build(K(this,pr),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return ht(this,At,hu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,tr)))}createResult(t,n){var S;const i=K(this,jt),s=this.options,a=K(this,tr),o=K(this,Io),l=K(this,Sc),d=t!==i?t.state:K(this,rp),{state:u}=t;let f={...u},p=!1,h;if(n._optimisticResults){const E=this.hasListeners(),$=!E&&IC(t,n),O=E&&RC(t,i,n,s);($||O)&&(f={...f,...Y_(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:y}=f;if(n.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&n.select===K(this,ip))h=K(this,Cc);else try{Te(this,ip,n.select),h=n.select(f.data),h=z0(a==null?void 0:a.data,h,n),Te(this,Cc,h),Te(this,Wi,null)}catch(E){Te(this,Wi,E)}else h=f.data;if(n.placeholderData!==void 0&&h===void 0&&y==="pending"){let E;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))E=a.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((S=K(this,kc))==null?void 0:S.state.data,K(this,kc)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),Te(this,Wi,null)}catch($){Te(this,Wi,$)}E!==void 0&&(y="success",h=z0(a==null?void 0:a.data,E,n),p=!0)}K(this,Wi)&&(v=K(this,Wi),h=K(this,Cc),m=Date.now(),y="error");const j=f.fetchStatus==="fetching",g=y==="pending",x=y==="error",w=g&&j,b=h!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:g,isSuccess:y==="success",isError:x,isInitialLoading:w,isLoading:w,data:h,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!g,isLoadingError:x&&!b,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:x&&b,isStale:oN(t,n),refetch:this.refetch,promise:K(this,Sa)};if(this.options.experimental_prefetchInRender){const E=A=>{k.status==="error"?A.reject(k.error):k.data!==void 0&&A.resolve(k.data)},$=()=>{const A=Te(this,Sa,k.promise=B0());E(A)},O=K(this,Sa);switch(O.status){case"pending":t.queryHash===i.queryHash&&E(O);break;case"fulfilled":(k.status==="error"||k.data!==O.value)&&$();break;case"rejected":(k.status!=="error"||k.error!==O.reason)&&$();break}}return k}updateResult(t){const n=K(this,tr),i=this.createResult(K(this,jt),this.options);if(Te(this,Io,K(this,jt).state),Te(this,Sc,this.options),K(this,Io).data!==void 0&&Te(this,kc,K(this,jt)),ch(i,n))return;Te(this,tr,i);const s={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!K(this,Ec).size)return!0;const c=new Set(l??K(this,Ec));return this.options.throwOnError&&c.add("error"),Object.keys(K(this,tr)).some(d=>{const u=d;return K(this,tr)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),ht(this,At,X_).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,At,H0).call(this)}},pr=new WeakMap,jt=new WeakMap,rp=new WeakMap,tr=new WeakMap,Io=new WeakMap,Sc=new WeakMap,Sa=new WeakMap,Wi=new WeakMap,ip=new WeakMap,Cc=new WeakMap,kc=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,Ca=new WeakMap,Ec=new WeakMap,At=new WeakSet,hu=function(t){ht(this,At,Y0).call(this);let n=K(this,jt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Hr)),n},U0=function(){ht(this,At,G0).call(this);const t=ic(this.options.staleTime,K(this,jt));if(Xo||K(this,tr).isStale||!L0(t))return;const i=B_(K(this,tr).dataUpdatedAt,t)+1;Te(this,Ro,setTimeout(()=>{K(this,tr).isStale||this.updateResult()},i))},V0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,jt)):this.options.refetchInterval)??!1},W0=function(t){ht(this,At,K0).call(this),Te(this,Ca,t),!(Xo||yi(this.options.enabled,K(this,jt))===!1||!L0(K(this,Ca))||K(this,Ca)===0)&&Te(this,Mo,setInterval(()=>{(this.options.refetchIntervalInBackground||aN.isFocused())&&ht(this,At,hu).call(this)},K(this,Ca)))},H0=function(){ht(this,At,U0).call(this),ht(this,At,W0).call(this,ht(this,At,V0).call(this))},G0=function(){K(this,Ro)&&(clearTimeout(K(this,Ro)),Te(this,Ro,void 0))},K0=function(){K(this,Mo)&&(clearInterval(K(this,Mo)),Te(this,Mo,void 0))},Y0=function(){const t=K(this,pr).getQueryCache().build(K(this,pr),this.options);if(t===K(this,jt))return;const n=K(this,jt);Te(this,jt,t),Te(this,rp,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},X_=function(t){wn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(K(this,tr))}),K(this,pr).getQueryCache().notify({query:K(this,jt),type:"observerResultsUpdated"})})},vO);function K6(e,t){return yi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function IC(e,t){return K6(e,t)||e.state.data!==void 0&&Q0(e,t,t.refetchOnMount)}function Q0(e,t,n){if(yi(t.enabled,e)!==!1){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&oN(e,t)}return!1}function RC(e,t,n,i){return(e!==t||yi(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&oN(e,n)}function oN(e,t){return yi(t.enabled,e)!==!1&&e.isStaleByTime(ic(t.staleTime,e))}function Y6(e,t){return!ch(e.getCurrentResult(),t)}var ka,Ea,mr,ks,Fs,Tm,X0,gO,Q6=(gO=class extends jd{constructor(n,i){super();Je(this,Fs);Je(this,ka);Je(this,Ea);Je(this,mr);Je(this,ks);Te(this,ka,n),this.setOptions(i),this.bindMethods(),ht(this,Fs,Tm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const i=this.options;this.options=K(this,ka).defaultMutationOptions(n),ch(this.options,i)||K(this,ka).getMutationCache().notify({type:"observerOptionsUpdated",mutation:K(this,mr),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Zo(i.mutationKey)!==Zo(this.options.mutationKey)?this.reset():((s=K(this,mr))==null?void 0:s.state.status)==="pending"&&K(this,mr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=K(this,mr))==null||n.removeObserver(this)}onMutationUpdate(n){ht(this,Fs,Tm).call(this),ht(this,Fs,X0).call(this,n)}getCurrentResult(){return K(this,Ea)}reset(){var n;(n=K(this,mr))==null||n.removeObserver(this),Te(this,mr,void 0),ht(this,Fs,Tm).call(this),ht(this,Fs,X0).call(this)}mutate(n,i){var s;return Te(this,ks,i),(s=K(this,mr))==null||s.removeObserver(this),Te(this,mr,K(this,ka).getMutationCache().build(K(this,ka),this.options)),K(this,mr).addObserver(this),K(this,mr).execute(n)}},ka=new WeakMap,Ea=new WeakMap,mr=new WeakMap,ks=new WeakMap,Fs=new WeakSet,Tm=function(){var i;const n=((i=K(this,mr))==null?void 0:i.state)??Q_();Te(this,Ea,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},X0=function(n){wn.batch(()=>{var i,s,a,o,l,c,d,u;if(K(this,ks)&&this.hasListeners()){const f=K(this,Ea).variables,p=K(this,Ea).context;(n==null?void 0:n.type)==="success"?((s=(i=K(this,ks)).onSuccess)==null||s.call(i,n.data,f,p),(o=(a=K(this,ks)).onSettled)==null||o.call(a,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((c=(l=K(this,ks)).onError)==null||c.call(l,n.error,f,p),(u=(d=K(this,ks)).onSettled)==null||u.call(d,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(K(this,Ea))})})},gO),Z_=N.createContext(void 0),si=e=>{const t=N.useContext(Z_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},X6=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(Z_.Provider,{value:e,children:t})),J_=N.createContext(!1),Z6=()=>N.useContext(J_);J_.Provider;function J6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var e8=N.createContext(J6()),t8=()=>N.useContext(e8);function eI(e,t){return typeof e=="function"?e(...t):!!e}function Z0(){}var n8=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},r8=e=>{N.useEffect(()=>{e.clearReset()},[e])},i8=({result:e,errorResetBoundary:t,throwOnError:n,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&eI(n,[e.error,i]),s8=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},a8=(e,t)=>e.isLoading&&e.isFetching&&!t,o8=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,MC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function l8(e,t,n){var u,f,p,h,v;const i=si(),s=Z6(),a=t8(),o=i.defaultQueryOptions(e);(f=(u=i.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",s8(o),n8(o,a),r8(a);const l=!i.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new t(i,o)),d=c.getOptimisticResult(o);if(N.useSyncExternalStore(N.useCallback(m=>{const y=s?Z0:c.subscribe(wn.batchCalls(m));return c.updateResult(),y},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),o8(o,d))throw MC(o,c,a);if(i8({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash)}))throw d.error;if((h=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||h.call(p,o,d),o.experimental_prefetchInRender&&!Xo&&a8(d,s)){const m=l?MC(o,c,a):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;m==null||m.catch(Z0).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Pe(e,t){return l8(e,G6)}function Qe(e,t){const n=si(),[i]=N.useState(()=>new Q6(n,e));N.useEffect(()=>{i.setOptions(e)},[i,e]);const s=N.useSyncExternalStore(N.useCallback(o=>i.subscribe(wn.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),a=N.useCallback((o,l)=>{i.mutate(o,l).catch(Z0)},[i]);if(s.error&&eI(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function tI(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ot(e,t){const{method:n="GET",body:i,headers:s={}}=t||{};console.log(`[API Request] ${n} ${e}`);const a=await fetch(e,{method:n,headers:i?{"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-cache",...s}:{Accept:"application/json",...s},body:i,credentials:"include"});console.log(`[API Response] ${a.status} ${a.statusText}`);const o=a.headers.get("content-type");return o&&o.includes("text/html")&&a.status===200&&(console.warn(`[API Request] Detected Vite HTML interference for ${e}`),e.includes("/api/evidence-library/")&&n==="PUT")?(console.log("[API Request] Evidence Library update appears successful despite HTML response"),new Response(JSON.stringify({success:!0,message:"Update successful"}),{status:200,headers:{"Content-Type":"application/json"}})):(await tI(a),a)}const c8=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await tI(n),await n.json())},Mt=new H6({defaultOptions:{queries:{queryFn:c8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),d8=1,u8=1e6;let Xg=0;function f8(){return Xg=(Xg+1)%Number.MAX_SAFE_INTEGER,Xg.toString()}const Zg=new Map,$C=e=>{if(Zg.has(e))return;const t=setTimeout(()=>{Zg.delete(e),Pu({type:"REMOVE_TOAST",toastId:e})},u8);Zg.set(e,t)},p8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,d8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?$C(n):e.toasts.forEach(i=>{$C(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},_m=[];let Im={toasts:[]};function Pu(e){Im=p8(Im,e),_m.forEach(t=>{t(Im)})}function m8({...e}){const t=f8(),n=s=>Pu({type:"UPDATE_TOAST",toast:{...s,id:t}}),i=()=>Pu({type:"DISMISS_TOAST",toastId:t});return Pu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||i()}}}),{id:t,dismiss:i,update:n}}function Ft(){const[e,t]=N.useState(Im);return N.useEffect(()=>(_m.push(t),()=>{const n=_m.indexOf(t);n>-1&&_m.splice(n,1)}),[e]),{...e,toast:m8,dismiss:n=>Pu({type:"DISMISS_TOAST",toastId:n})}}function Be(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function DC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Zx(...e){return t=>{let n=!1;const i=e.map(s=>{const a=DC(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():DC(e[s],null)}}}}function yt(...e){return N.useCallback(Zx(...e),e)}function h8(e,t){const n=N.createContext(t),i=a=>{const{children:o,...l}=a,c=N.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};i.displayName=e+"Provider";function s(a){const o=N.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[i,s]}function zr(e,t=[]){let n=[];function i(a,o){const l=N.createContext(o),c=n.length;n=[...n,o];const d=f=>{var j;const{scope:p,children:h,...v}=f,m=((j=p==null?void 0:p[e])==null?void 0:j[c])||l,y=N.useMemo(()=>v,Object.values(v));return r.jsx(m.Provider,{value:y,children:h})};d.displayName=a+"Provider";function u(f,p){var m;const h=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,v=N.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,u]}const s=()=>{const a=n.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[i,x8(s,...t)]}function x8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function $c(e){const t=v8(e),n=N.forwardRef((i,s)=>{const{children:a,...o}=i,l=N.Children.toArray(a),c=l.find(y8);if(c){const d=c.props.children,u=l.map(f=>f===c?N.Children.count(d)>1?N.Children.only(null):N.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:s,children:N.isValidElement(d)?N.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var nI=$c("Slot");function v8(e){const t=N.forwardRef((n,i)=>{const{children:s,...a}=n;if(N.isValidElement(s)){const o=j8(s),l=b8(a,s.props);return s.type!==N.Fragment&&(l.ref=i?Zx(i,o):o),N.cloneElement(s,l)}return N.Children.count(s)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rI=Symbol("radix.slottable");function g8(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=rI,t}function y8(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rI}function b8(e,t){const n={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...l)=>{a(...l),s(...l)}:s&&(n[i]=s):i==="style"?n[i]={...s,...a}:i==="className"&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function j8(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function lN(e){const t=e+"CollectionProvider",[n,i]=zr(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:j}=m,g=L.useRef(null),x=L.useRef(new Map).current;return r.jsx(s,{scope:y,itemMap:x,collectionRef:g,children:j})};o.displayName=t;const l=e+"CollectionSlot",c=$c(l),d=L.forwardRef((m,y)=>{const{scope:j,children:g}=m,x=a(l,j),w=yt(y,x.collectionRef);return r.jsx(c,{ref:w,children:g})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=$c(u),h=L.forwardRef((m,y)=>{const{scope:j,children:g,...x}=m,w=L.useRef(null),b=yt(y,w),C=a(u,j);return L.useEffect(()=>(C.itemMap.set(w,{ref:w,...x}),()=>void C.itemMap.delete(w))),r.jsx(p,{[f]:"",ref:b,children:g})});h.displayName=u;function v(m){const y=a(e+"CollectionConsumer",m);return L.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,k)=>x.indexOf(C.ref.current)-x.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:h},v,i]}var w8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=w8.reduce((e,t)=>{const n=$c(`Primitive.${t}`),i=N.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function iI(e,t){e&&ml.flushSync(()=>e.dispatchEvent(t))}function un(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function N8(e,t=globalThis==null?void 0:globalThis.document){const n=un(e);N.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var S8="DismissableLayer",J0="dismissableLayer.update",C8="dismissableLayer.pointerDownOutside",k8="dismissableLayer.focusOutside",FC,sI=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dp=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=N.useContext(sI),[u,f]=N.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=N.useState({}),v=yt(t,k=>f(k)),m=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=m.indexOf(y),g=u?m.indexOf(u):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,w=g>=j,b=A8(k=>{const S=k.target,E=[...d.branches].some($=>$.contains(S));!w||E||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},p),C=P8(k=>{const S=k.target;[...d.branches].some($=>$.contains(S))||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},p);return N8(k=>{g===d.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),N.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(FC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),LC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=FC)}},[u,p,n,d]),N.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),LC())},[u,d]),N.useEffect(()=>{const k=()=>h({});return document.addEventListener(J0,k),()=>document.removeEventListener(J0,k)},[]),r.jsx(nt.div,{...c,ref:v,style:{pointerEvents:x?w?"auto":"none":void 0,...e.style},onFocusCapture:Be(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Be(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Be(e.onPointerDownCapture,b.onPointerDownCapture)})});dp.displayName=S8;var E8="DismissableLayerBranch",aI=N.forwardRef((e,t)=>{const n=N.useContext(sI),i=N.useRef(null),s=yt(t,i);return N.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(nt.div,{...e,ref:s})});aI.displayName=E8;function A8(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),i=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const a=l=>{if(l.target&&!i.current){let c=function(){oI(C8,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function P8(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),i=N.useRef(!1);return N.useEffect(()=>{const s=a=>{a.target&&!i.current&&oI(k8,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function LC(){const e=new CustomEvent(J0);document.dispatchEvent(e)}function oI(e,t,n,{discrete:i}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?iI(s,a):s.dispatchEvent(a)}var O8=dp,T8=aI,pn=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},_8="Portal",Jx=N.forwardRef((e,t)=>{var l;const{container:n,...i}=e,[s,a]=N.useState(!1);pn(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?n6.createPortal(r.jsx(nt.div,{...i,ref:t}),o):null});Jx.displayName=_8;function I8(e,t){return N.useReducer((n,i)=>t[n][i]??n,e)}var ai=e=>{const{present:t,children:n}=e,i=R8(t),s=typeof n=="function"?n({present:i.isPresent}):N.Children.only(n),a=yt(i.ref,M8(s));return typeof n=="function"||i.isPresent?N.cloneElement(s,{ref:a}):null};ai.displayName="Presence";function R8(e){const[t,n]=N.useState(),i=N.useRef({}),s=N.useRef(e),a=N.useRef("none"),o=e?"mounted":"unmounted",[l,c]=I8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const d=Yp(i.current);a.current=l==="mounted"?d:"none"},[l]),pn(()=>{const d=i.current,u=s.current;if(u!==e){const p=a.current,h=Yp(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),pn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=h=>{const m=Yp(i.current).includes(h.animationName);if(h.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=h=>{h.target===t&&(a.current=Yp(i.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(d=>{d&&(i.current=getComputedStyle(d)),n(d)},[])}}function Yp(e){return(e==null?void 0:e.animationName)||"none"}function M8(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Us({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,s]=$8({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:i,l=un(n),c=N.useCallback(d=>{if(a){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else s(d)},[a,e,s,l]);return[o,c]}function $8({defaultProp:e,onChange:t}){const n=N.useState(e),[i]=n,s=N.useRef(i),a=un(t);return N.useEffect(()=>{s.current!==i&&(a(i),s.current=i)},[i,s,a]),n}var D8="VisuallyHidden",up=N.forwardRef((e,t)=>r.jsx(nt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));up.displayName=D8;var F8=up,cN="ToastProvider",[dN,L8,q8]=lN("Toast"),[lI,Bwe]=zr("Toast",[q8]),[z8,ev]=lI(cN),cI=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=N.useState(null),[d,u]=N.useState(0),f=N.useRef(!1),p=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cN}\`. Expected non-empty \`string\`.`),r.jsx(dN.Provider,{scope:t,children:r.jsx(z8,{scope:t,label:n,duration:i,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>u(h=>h+1),[]),onToastRemove:N.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};cI.displayName=cN;var dI="ToastViewport",B8=["F8"],eb="toast.viewportPause",tb="toast.viewportResume",uI=N.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=B8,label:s="Notifications ({hotkey})",...a}=e,o=ev(dI,n),l=L8(n),c=N.useRef(null),d=N.useRef(null),u=N.useRef(null),f=N.useRef(null),p=yt(t,f,o.onViewportChange),h=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;N.useEffect(()=>{const y=j=>{var x;i.length!==0&&i.every(w=>j[w]||j.code===w)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[i]),N.useEffect(()=>{const y=c.current,j=f.current;if(v&&y&&j){const g=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(eb);j.dispatchEvent(C),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(tb);j.dispatchEvent(C),o.isClosePausedRef.current=!1}},w=C=>{!y.contains(C.relatedTarget)&&x()},b=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",g),y.addEventListener("focusout",w),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",b),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",w),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",b),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const m=N.useCallback(({tabbingDirection:y})=>{const g=l().map(x=>{const w=x.ref.current,b=[w,...tz(w)];return y==="forwards"?b:b.reverse()});return(y==="forwards"?g.reverse():g).flat()},[l]);return N.useEffect(()=>{const y=f.current;if(y){const j=g=>{var b,C,k;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const S=document.activeElement,E=g.shiftKey;if(g.target===y&&E){(b=d.current)==null||b.focus();return}const A=m({tabbingDirection:E?"backwards":"forwards"}),P=A.findIndex(_=>_===S);Jg(A.slice(P+1))?g.preventDefault():E?(C=d.current)==null||C.focus():(k=u.current)==null||k.focus()}};return y.addEventListener("keydown",j),()=>y.removeEventListener("keydown",j)}},[l,m]),r.jsxs(T8,{ref:c,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&r.jsx(nb,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});Jg(y)}}),r.jsx(dN.Slot,{scope:n,children:r.jsx(nt.ol,{tabIndex:-1,...a,ref:p})}),v&&r.jsx(nb,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});Jg(y)}})]})});uI.displayName=dI;var fI="ToastFocusProxy",nb=N.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...s}=e,a=ev(fI,n);return r.jsx(up,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&i()}})});nb.displayName=fI;var tv="Toast",U8="toast.swipeStart",V8="toast.swipeMove",W8="toast.swipeCancel",H8="toast.swipeEnd",pI=N.forwardRef((e,t)=>{const{forceMount:n,open:i,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Us({prop:i,defaultProp:s,onChange:a});return r.jsx(ai,{present:n||l,children:r.jsx(Y8,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:un(e.onPause),onResume:un(e.onResume),onSwipeStart:Be(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Be(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Be(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Be(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});pI.displayName=tv;var[G8,K8]=lI(tv,{onClose(){}}),Y8=N.forwardRef((e,t)=>{const{__scopeToast:n,type:i="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...v}=e,m=ev(tv,n),[y,j]=N.useState(null),g=yt(t,_=>j(_)),x=N.useRef(null),w=N.useRef(null),b=s||m.duration,C=N.useRef(0),k=N.useRef(b),S=N.useRef(0),{onToastAdd:E,onToastRemove:$}=m,O=un(()=>{var F;(y==null?void 0:y.contains(document.activeElement))&&((F=m.viewport)==null||F.focus()),o()}),A=N.useCallback(_=>{!_||_===1/0||(window.clearTimeout(S.current),C.current=new Date().getTime(),S.current=window.setTimeout(O,_))},[O]);N.useEffect(()=>{const _=m.viewport;if(_){const F=()=>{A(k.current),d==null||d()},M=()=>{const G=new Date().getTime()-C.current;k.current=k.current-G,window.clearTimeout(S.current),c==null||c()};return _.addEventListener(eb,M),_.addEventListener(tb,F),()=>{_.removeEventListener(eb,M),_.removeEventListener(tb,F)}}},[m.viewport,b,c,d,A]),N.useEffect(()=>{a&&!m.isClosePausedRef.current&&A(b)},[a,b,m.isClosePausedRef,A]),N.useEffect(()=>(E(),()=>$()),[E,$]);const P=N.useMemo(()=>y?bI(y):null,[y]);return m.viewport?r.jsxs(r.Fragment,{children:[P&&r.jsx(Q8,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),r.jsx(G8,{scope:n,onClose:O,children:ml.createPortal(r.jsx(dN.ItemSlot,{scope:n,children:r.jsx(O8,{asChild:!0,onEscapeKeyDown:Be(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Be(e.onKeyDown,_=>{_.key==="Escape"&&(l==null||l(_.nativeEvent),_.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Be(e.onPointerDown,_=>{_.button===0&&(x.current={x:_.clientX,y:_.clientY})}),onPointerMove:Be(e.onPointerMove,_=>{if(!x.current)return;const F=_.clientX-x.current.x,M=_.clientY-x.current.y,G=!!w.current,z=["left","right"].includes(m.swipeDirection),H=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,D=z?H(0,F):0,U=z?0:H(0,M),I=_.pointerType==="touch"?10:2,se={x:D,y:U},ge={originalEvent:_,delta:se};G?(w.current=se,Qp(V8,f,ge,{discrete:!1})):qC(se,m.swipeDirection,I)?(w.current=se,Qp(U8,u,ge,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(F)>I||Math.abs(M)>I)&&(x.current=null)}),onPointerUp:Be(e.onPointerUp,_=>{const F=w.current,M=_.target;if(M.hasPointerCapture(_.pointerId)&&M.releasePointerCapture(_.pointerId),w.current=null,x.current=null,F){const G=_.currentTarget,z={originalEvent:_,delta:F};qC(F,m.swipeDirection,m.swipeThreshold)?Qp(H8,h,z,{discrete:!0}):Qp(W8,p,z,{discrete:!0}),G.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Q8=e=>{const{__scopeToast:t,children:n,...i}=e,s=ev(tv,t),[a,o]=N.useState(!1),[l,c]=N.useState(!1);return J8(()=>o(!0)),N.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Jx,{asChild:!0,children:r.jsx(up,{...i,children:a&&r.jsxs(r.Fragment,{children:[s.label," ",n]})})})},X8="ToastTitle",mI=N.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return r.jsx(nt.div,{...i,ref:t})});mI.displayName=X8;var Z8="ToastDescription",hI=N.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return r.jsx(nt.div,{...i,ref:t})});hI.displayName=Z8;var xI="ToastAction",vI=N.forwardRef((e,t)=>{const{altText:n,...i}=e;return n.trim()?r.jsx(yI,{altText:n,asChild:!0,children:r.jsx(uN,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${xI}\`. Expected non-empty \`string\`.`),null)});vI.displayName=xI;var gI="ToastClose",uN=N.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e,s=K8(gI,n);return r.jsx(yI,{asChild:!0,children:r.jsx(nt.button,{type:"button",...i,ref:t,onClick:Be(e.onClick,s.onClose)})})});uN.displayName=gI;var yI=N.forwardRef((e,t)=>{const{__scopeToast:n,altText:i,...s}=e;return r.jsx(nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:t})});function bI(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),ez(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",a=i.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=i.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...bI(i))}}),t}function Qp(e,t,n,{discrete:i}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?iI(s,a):s.dispatchEvent(a)}var qC=(e,t,n=0)=>{const i=Math.abs(e.x),s=Math.abs(e.y),a=i>s;return t==="left"||t==="right"?a&&i>n:!a&&s>n};function J8(e=()=>{}){const t=un(e);pn(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function ez(e){return e.nodeType===e.ELEMENT_NODE}function tz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var nz=cI,jI=uI,wI=pI,NI=mI,SI=hI,CI=vI,kI=uN;function EI(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=EI(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function xt(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=EI(e))&&(i&&(i+=" "),i+=t);return i}const zC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,BC=xt,fp=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return BC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],f=a==null?void 0:a[d];if(u===null)return null;const p=zC(u)||zC(f);return s[d][p]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,p]=u;return p===void 0||(d[f]=p),d},{}),c=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((d,u)=>{let{class:f,className:p,...h}=u;return Object.entries(h).every(v=>{let[m,y]=v;return Array.isArray(y)?y.includes({...a,...l}[m]):{...a,...l}[m]===y})?[...d,f,p]:d},[]);return BC(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AI=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...iz,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:AI("lucide",s),...l},[...o.map(([d,u])=>N.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const n=N.forwardRef(({className:i,...s},a)=>N.createElement(sz,{ref:a,iconNode:t,className:AI(`lucide-${rz(e)}`,i),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=be("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=be("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=be("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=be("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=be("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=be("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=be("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=be("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=be("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=be("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=be("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=be("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=be("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=be("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=be("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=be("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=be("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=be("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=be("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=be("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=be("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=be("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=be("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),pN="-",Tz=e=>{const t=Iz(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:o=>{const l=o.split(pN);return l[0]===""&&l.length!==1&&l.shift(),BI(l,t)||_z(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&i[o]?[...c,...i[o]]:c}}},BI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),s=i?BI(e.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(pN);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},XC=/^\[(.+)\]$/,_z=e=>{if(XC.test(e)){const t=XC.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Iz=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return Mz(Object.entries(e.classGroups),n).forEach(([a,o])=>{ab(o,i,a,t)}),i},ab=(e,t,n,i)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:ZC(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(Rz(s)){ab(s(i),t,n,i);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{ab(o,ZC(t,a),n,i)})})},ZC=(e,t)=>{let n=e;return t.split(pN).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},Rz=e=>e.isThemeGetter,Mz=(e,t)=>t?e.map(([n,i])=>{const s=i.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,$z=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,i=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=i.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},UI="!",Dz=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let j=l[y];if(d===0){if(j===s&&(i||l.slice(y,y+a)===t)){c.push(l.slice(u,y)),u=y+a;continue}if(j==="/"){f=y;continue}}j==="["?d++:j==="]"&&d--}const p=c.length===0?l:l.substring(u),h=p.startsWith(UI),v=h?p.substring(1):p,m=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},Fz=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},Lz=e=>({cache:$z(e.cacheSize),parseClassName:Dz(e),...Tz(e)}),qz=/\s+/,zz=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(qz);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=n(d);let v=!!h,m=i(v?p.substring(0,h):p);if(!m){if(!v){l=d+(l.length>0?" "+l:l);continue}if(m=i(p),!m){l=d+(l.length>0?" "+l:l);continue}v=!1}const y=Fz(u).join(":"),j=f?y+UI:y,g=j+m;if(a.includes(g))continue;a.push(g);const x=s(m,v);for(let w=0;w<x.length;++w){const b=x[w];a.push(j+b)}l=d+(l.length>0?" "+l:l)}return l};function Bz(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=VI(t))&&(i&&(i+=" "),i+=n);return i}const VI=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=VI(e[i]))&&(n&&(n+=" "),n+=t);return n};function Uz(e,...t){let n,i,s,a=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=Lz(d),i=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const d=i(c);if(d)return d;const u=zz(c,n);return s(c,u),u}return function(){return a(Bz.apply(null,arguments))}}const Ut=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},WI=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vz=/^\d+\/\d+$/,Wz=new Set(["px","full","screen"]),Hz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vs=e=>ac(e)||Wz.has(e)||Vz.test(e),aa=e=>wd(e,"length",iB),ac=e=>!!e&&!Number.isNaN(Number(e)),ty=e=>wd(e,"number",ac),Kd=e=>!!e&&Number.isInteger(Number(e)),Xz=e=>e.endsWith("%")&&ac(e.slice(0,-1)),pt=e=>WI.test(e),oa=e=>Hz.test(e),Zz=new Set(["length","size","percentage"]),Jz=e=>wd(e,Zz,HI),eB=e=>wd(e,"position",HI),tB=new Set(["image","url"]),nB=e=>wd(e,tB,aB),rB=e=>wd(e,"",sB),Yd=()=>!0,wd=(e,t,n)=>{const i=WI.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},iB=e=>Gz.test(e)&&!Kz.test(e),HI=()=>!1,sB=e=>Yz.test(e),aB=e=>Qz.test(e),oB=()=>{const e=Ut("colors"),t=Ut("spacing"),n=Ut("blur"),i=Ut("brightness"),s=Ut("borderColor"),a=Ut("borderRadius"),o=Ut("borderSpacing"),l=Ut("borderWidth"),c=Ut("contrast"),d=Ut("grayscale"),u=Ut("hueRotate"),f=Ut("invert"),p=Ut("gap"),h=Ut("gradientColorStops"),v=Ut("gradientColorStopPositions"),m=Ut("inset"),y=Ut("margin"),j=Ut("opacity"),g=Ut("padding"),x=Ut("saturate"),w=Ut("scale"),b=Ut("sepia"),C=Ut("skew"),k=Ut("space"),S=Ut("translate"),E=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",pt,t],A=()=>[pt,t],P=()=>["",vs,aa],_=()=>["auto",ac,pt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",pt],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[ac,pt];return{cacheSize:500,separator:":",theme:{colors:[Yd],spacing:[vs,aa],blur:["none","",oa,pt],brightness:U(),borderColor:[e],borderRadius:["none","","full",oa,pt],borderSpacing:A(),borderWidth:P(),contrast:U(),grayscale:H(),hueRotate:U(),invert:H(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Xz,aa],inset:O(),margin:O(),opacity:U(),padding:A(),saturate:U(),scale:U(),sepia:H(),skew:U(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",pt]}],container:["container"],columns:[{columns:[oa]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),pt]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd,pt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pt]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Kd,pt]}],"grid-cols":[{"grid-cols":[Yd]}],"col-start-end":[{col:["auto",{span:["full",Kd,pt]},pt]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[Yd]}],"row-start-end":[{row:["auto",{span:[Kd,pt]},pt]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pt,t]}],"min-w":[{"min-w":[pt,t,"min","max","fit"]}],"max-w":[{"max-w":[pt,t,"none","full","min","max","fit","prose",{screen:[oa]},oa]}],h:[{h:[pt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",oa,aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ty]}],"font-family":[{font:[Yd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pt]}],"line-clamp":[{"line-clamp":["none",ac,ty]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vs,pt]}],"list-image":[{"list-image":["none",pt]}],"list-style-type":[{list:["none","disc","decimal",pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vs,aa]}],"underline-offset":[{"underline-offset":["auto",vs,pt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),eB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nB]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[vs,pt]}],"outline-w":[{outline:[vs,aa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[vs,aa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",oa,rB]}],"shadow-color":[{shadow:[Yd]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",oa,pt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",pt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Kd,pt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vs,aa,ty]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lB=Uz(oB);function Ye(...e){return lB(xt(e))}const cB=nz,GI=N.forwardRef(({className:e,...t},n)=>r.jsx(jI,{ref:n,className:Ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));GI.displayName=jI.displayName;const dB=fp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KI=N.forwardRef(({className:e,variant:t,...n},i)=>r.jsx(wI,{ref:i,className:Ye(dB({variant:t}),e),...n}));KI.displayName=wI.displayName;const uB=N.forwardRef(({className:e,...t},n)=>r.jsx(CI,{ref:n,className:Ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));uB.displayName=CI.displayName;const YI=N.forwardRef(({className:e,...t},n)=>r.jsx(kI,{ref:n,className:Ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Ws,{className:"h-4 w-4"})}));YI.displayName=kI.displayName;const QI=N.forwardRef(({className:e,...t},n)=>r.jsx(NI,{ref:n,className:Ye("text-sm font-semibold",e),...t}));QI.displayName=NI.displayName;const XI=N.forwardRef(({className:e,...t},n)=>r.jsx(SI,{ref:n,className:Ye("text-sm opacity-90",e),...t}));XI.displayName=SI.displayName;function fB(){const{toasts:e}=Ft();return r.jsxs(cB,{children:[e.map(function({id:t,title:n,description:i,action:s,...a}){return r.jsxs(KI,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(QI,{children:n}),i&&r.jsx(XI,{children:i})]}),s,r.jsx(YI,{})]},t)}),r.jsx(GI,{})]})}var pB=cw[" useId ".trim().toString()]||(()=>{}),mB=0;function ts(e){const[t,n]=N.useState(pB());return pn(()=>{e||n(i=>i??String(mB++))},[e]),e||(t?`radix-${t}`:"")}const hB=["top","right","bottom","left"],Wa=Math.min,Ar=Math.max,fh=Math.round,Xp=Math.floor,ns=e=>({x:e,y:e}),xB={left:"right",right:"left",bottom:"top",top:"bottom"},vB={start:"end",end:"start"};function ob(e,t,n){return Ar(e,Wa(t,n))}function Hs(e,t){return typeof e=="function"?e(t):e}function Gs(e){return e.split("-")[0]}function Nd(e){return e.split("-")[1]}function mN(e){return e==="x"?"y":"x"}function hN(e){return e==="y"?"height":"width"}function Ha(e){return["top","bottom"].includes(Gs(e))?"y":"x"}function xN(e){return mN(Ha(e))}function gB(e,t,n){n===void 0&&(n=!1);const i=Nd(e),s=xN(e),a=hN(s);let o=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=ph(o)),[o,ph(o)]}function yB(e){const t=ph(e);return[lb(e),t,lb(t)]}function lb(e){return e.replace(/start|end/g,t=>vB[t])}function bB(e,t,n){const i=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?a:o;default:return[]}}function jB(e,t,n,i){const s=Nd(e);let a=bB(Gs(e),n==="start",i);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(lb)))),a}function ph(e){return e.replace(/left|right|bottom|top/g,t=>xB[t])}function wB(e){return{top:0,right:0,bottom:0,left:0,...e}}function ZI(e){return typeof e!="number"?wB(e):{top:e,right:e,bottom:e,left:e}}function mh(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function JC(e,t,n){let{reference:i,floating:s}=e;const a=Ha(t),o=xN(t),l=hN(o),c=Gs(t),d=a==="y",u=i.x+i.width/2-s.width/2,f=i.y+i.height/2-s.height/2,p=i[l]/2-s[l]/2;let h;switch(c){case"top":h={x:u,y:i.y-s.height};break;case"bottom":h={x:u,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:f};break;case"left":h={x:i.x-s.width,y:f};break;default:h={x:i.x,y:i.y}}switch(Nd(t)){case"start":h[o]-=p*(n&&d?-1:1);break;case"end":h[o]+=p*(n&&d?-1:1);break}return h}const NB=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=JC(d,i,c),p=i,h={},v=0;for(let m=0;m<l.length;m++){const{name:y,fn:j}=l[m],{x:g,y:x,data:w,reset:b}=await j({x:u,y:f,initialPlacement:i,placement:p,strategy:s,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});u=g??u,f=x??f,h={...h,[y]:{...h[y],...w}},b&&v<=50&&(v++,typeof b=="object"&&(b.placement&&(p=b.placement),b.rects&&(d=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):b.rects),{x:u,y:f}=JC(d,p,c)),m=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:h}};async function nf(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Hs(t,e),v=ZI(h),y=l[p?f==="floating"?"reference":"floating":f],j=mh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),g=f==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},b=mh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:x,strategy:c}):g);return{top:(j.top-b.top+v.top)/w.y,bottom:(b.bottom-j.bottom+v.bottom)/w.y,left:(j.left-b.left+v.left)/w.x,right:(b.right-j.right+v.right)/w.x}}const SB=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Hs(e,t)||{};if(d==null)return{};const f=ZI(u),p={x:n,y:i},h=xN(s),v=hN(h),m=await o.getDimensions(d),y=h==="y",j=y?"top":"left",g=y?"bottom":"right",x=y?"clientHeight":"clientWidth",w=a.reference[v]+a.reference[h]-p[h]-a.floating[v],b=p[h]-a.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=C?C[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(C)))&&(k=l.floating[x]||a.floating[v]);const S=w/2-b/2,E=k/2-m[v]/2-1,$=Wa(f[j],E),O=Wa(f[g],E),A=$,P=k-m[v]-O,_=k/2-m[v]/2+S,F=ob(A,_,P),M=!c.arrow&&Nd(s)!=null&&_!==F&&a.reference[v]/2-(_<A?$:O)-m[v]/2<0,G=M?_<A?_-A:_-P:0;return{[h]:p[h]+G,data:{[h]:F,centerOffset:_-F-G,...M&&{alignmentOffset:G}},reset:M}}}),CB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...y}=Hs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=Gs(s),g=Ha(l),x=Gs(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=p||(x||!m?[ph(l)]:yB(l)),C=v!=="none";!p&&C&&b.push(...jB(l,m,v,w));const k=[l,...b],S=await nf(t,y),E=[];let $=((i=a.flip)==null?void 0:i.overflows)||[];if(u&&E.push(S[j]),f){const _=gB(s,o,w);E.push(S[_[0]],S[_[1]])}if($=[...$,{placement:s,overflows:E}],!E.every(_=>_<=0)){var O,A;const _=(((O=a.flip)==null?void 0:O.index)||0)+1,F=k[_];if(F)return{data:{index:_,overflows:$},reset:{placement:F}};let M=(A=$.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:A.placement;if(!M)switch(h){case"bestFit":{var P;const G=(P=$.filter(z=>{if(C){const H=Ha(z.placement);return H===g||H==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(H=>H>0).reduce((H,D)=>H+D,0)]).sort((z,H)=>z[1]-H[1])[0])==null?void 0:P[0];G&&(M=G);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function ek(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tk(e){return hB.some(t=>e[t]>=0)}const kB=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...s}=Hs(e,t);switch(i){case"referenceHidden":{const a=await nf(t,{...s,elementContext:"reference"}),o=ek(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:tk(o)}}}case"escaped":{const a=await nf(t,{...s,altBoundary:!0}),o=ek(a,n.floating);return{data:{escapedOffsets:o,escaped:tk(o)}}}default:return{}}}}};async function EB(e,t){const{placement:n,platform:i,elements:s}=e,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=Gs(n),l=Nd(n),c=Ha(n)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,f=Hs(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(h=l==="end"?v*-1:v),c?{x:h*u,y:p*d}:{x:p*d,y:h*u}}const AB=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await EB(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},PB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:j,y:g}=y;return{x:j,y:g}}},...c}=Hs(e,t),d={x:n,y:i},u=await nf(t,c),f=Ha(Gs(s)),p=mN(f);let h=d[p],v=d[f];if(a){const y=p==="y"?"top":"left",j=p==="y"?"bottom":"right",g=h+u[y],x=h-u[j];h=ob(g,h,x)}if(o){const y=f==="y"?"top":"left",j=f==="y"?"bottom":"right",g=v+u[y],x=v-u[j];v=ob(g,v,x)}const m=l.fn({...t,[p]:h,[f]:v});return{...m,data:{x:m.x-n,y:m.y-i,enabled:{[p]:a,[f]:o}}}}}},OB=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Hs(e,t),u={x:n,y:i},f=Ha(s),p=mN(f);let h=u[p],v=u[f];const m=Hs(l,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const x=p==="y"?"height":"width",w=a.reference[p]-a.floating[x]+y.mainAxis,b=a.reference[p]+a.reference[x]-y.mainAxis;h<w?h=w:h>b&&(h=b)}if(d){var j,g;const x=p==="y"?"width":"height",w=["top","left"].includes(Gs(s)),b=a.reference[f]-a.floating[x]+(w&&((j=o.offset)==null?void 0:j[f])||0)+(w?0:y.crossAxis),C=a.reference[f]+a.reference[x]+(w?0:((g=o.offset)==null?void 0:g[f])||0)-(w?y.crossAxis:0);v<b?v=b:v>C&&(v=C)}return{[p]:h,[f]:v}}}},TB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Hs(e,t),u=await nf(t,d),f=Gs(s),p=Nd(s),h=Ha(s)==="y",{width:v,height:m}=a.floating;let y,j;f==="top"||f==="bottom"?(y=f,j=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,y=p==="end"?"top":"bottom");const g=m-u.top-u.bottom,x=v-u.left-u.right,w=Wa(m-u[y],g),b=Wa(v-u[j],x),C=!t.middlewareData.shift;let k=w,S=b;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(k=g),C&&!p){const $=Ar(u.left,0),O=Ar(u.right,0),A=Ar(u.top,0),P=Ar(u.bottom,0);h?S=v-2*($!==0||O!==0?$+O:Ar(u.left,u.right)):k=m-2*(A!==0||P!==0?A+P:Ar(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:k});const E=await o.getDimensions(l.floating);return v!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function iv(){return typeof window<"u"}function Sd(e){return JI(e)?(e.nodeName||"").toLowerCase():"#document"}function Rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ps(e){var t;return(t=(JI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JI(e){return iv()?e instanceof Node||e instanceof Rr(e).Node:!1}function Ii(e){return iv()?e instanceof Element||e instanceof Rr(e).Element:!1}function cs(e){return iv()?e instanceof HTMLElement||e instanceof Rr(e).HTMLElement:!1}function nk(e){return!iv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rr(e).ShadowRoot}function xp(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Ri(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function _B(e){return["table","td","th"].includes(Sd(e))}function sv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vN(e){const t=gN(),n=Ii(e)?Ri(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function IB(e){let t=Ga(e);for(;cs(t)&&!qc(t);){if(vN(t))return t;if(sv(t))return null;t=Ga(t)}return null}function gN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qc(e){return["html","body","#document"].includes(Sd(e))}function Ri(e){return Rr(e).getComputedStyle(e)}function av(e){return Ii(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ga(e){if(Sd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nk(e)&&e.host||ps(e);return nk(t)?t.host:t}function eR(e){const t=Ga(e);return qc(t)?e.ownerDocument?e.ownerDocument.body:e.body:cs(t)&&xp(t)?t:eR(t)}function rf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=eR(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),o=Rr(s);if(a){const l=cb(o);return t.concat(o,o.visualViewport||[],xp(s)?s:[],l&&n?rf(l):[])}return t.concat(s,rf(s,[],n))}function cb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tR(e){const t=Ri(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=cs(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:i,l=fh(n)!==a||fh(i)!==o;return l&&(n=a,i=o),{width:n,height:i,$:l}}function yN(e){return Ii(e)?e:e.contextElement}function oc(e){const t=yN(e);if(!cs(t))return ns(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:a}=tR(t);let o=(a?fh(n.width):n.width)/i,l=(a?fh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const RB=ns(0);function nR(e){const t=Rr(e);return!gN()||!t.visualViewport?RB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MB(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Rr(e)?!1:t}function el(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=yN(e);let o=ns(1);t&&(i?Ii(i)&&(o=oc(i)):o=oc(e));const l=MB(a,n,i)?nR(a):ns(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(a){const p=Rr(a),h=i&&Ii(i)?Rr(i):i;let v=p,m=cb(v);for(;m&&i&&h!==v;){const y=oc(m),j=m.getBoundingClientRect(),g=Ri(m),x=j.left+(m.clientLeft+parseFloat(g.paddingLeft))*y.x,w=j.top+(m.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=x,d+=w,v=Rr(m),m=cb(v)}}return mh({width:u,height:f,x:c,y:d})}function bN(e,t){const n=av(e).scrollLeft;return t?t.left+n:el(ps(e)).left+n}function rR(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:bN(e,i)),a=i.top+t.scrollTop;return{x:s,y:a}}function $B(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const a=s==="fixed",o=ps(i),l=t?sv(t.floating):!1;if(i===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=ns(1);const u=ns(0),f=cs(i);if((f||!f&&!a)&&((Sd(i)!=="body"||xp(o))&&(c=av(i)),cs(i))){const h=el(i);d=oc(i),u.x=h.x+i.clientLeft,u.y=h.y+i.clientTop}const p=o&&!f&&!a?rR(o,c,!0):ns(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:n.y*d.y-c.scrollTop*d.y+u.y+p.y}}function DB(e){return Array.from(e.getClientRects())}function FB(e){const t=ps(e),n=av(e),i=e.ownerDocument.body,s=Ar(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Ar(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+bN(e);const l=-n.scrollTop;return Ri(i).direction==="rtl"&&(o+=Ar(t.clientWidth,i.clientWidth)-s),{width:s,height:a,x:o,y:l}}function LB(e,t){const n=Rr(e),i=ps(e),s=n.visualViewport;let a=i.clientWidth,o=i.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=gN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function qB(e,t){const n=el(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,a=cs(e)?oc(e):ns(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=i*a.y;return{width:o,height:l,x:c,y:d}}function rk(e,t,n){let i;if(t==="viewport")i=LB(e,n);else if(t==="document")i=FB(ps(e));else if(Ii(t))i=qB(t,n);else{const s=nR(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return mh(i)}function iR(e,t){const n=Ga(e);return n===t||!Ii(n)||qc(n)?!1:Ri(n).position==="fixed"||iR(n,t)}function zB(e,t){const n=t.get(e);if(n)return n;let i=rf(e,[],!1).filter(l=>Ii(l)&&Sd(l)!=="body"),s=null;const a=Ri(e).position==="fixed";let o=a?Ga(e):e;for(;Ii(o)&&!qc(o);){const l=Ri(o),c=vN(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xp(o)&&!c&&iR(e,o))?i=i.filter(u=>u!==o):s=l,o=Ga(o)}return t.set(e,i),i}function BB(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const o=[...n==="clippingAncestors"?sv(t)?[]:zB(t,this._c):[].concat(n),i],l=o[0],c=o.reduce((d,u)=>{const f=rk(t,u,s);return d.top=Ar(f.top,d.top),d.right=Wa(f.right,d.right),d.bottom=Wa(f.bottom,d.bottom),d.left=Ar(f.left,d.left),d},rk(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function UB(e){const{width:t,height:n}=tR(e);return{width:t,height:n}}function VB(e,t,n){const i=cs(t),s=ps(t),a=n==="fixed",o=el(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ns(0);if(i||!i&&!a)if((Sd(t)!=="body"||xp(s))&&(l=av(t)),i){const p=el(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=bN(s));const d=s&&!i&&!a?rR(s,l):ns(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function ny(e){return Ri(e).position==="static"}function ik(e,t){if(!cs(e)||Ri(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ps(e)===n&&(n=n.ownerDocument.body),n}function sR(e,t){const n=Rr(e);if(sv(e))return n;if(!cs(e)){let s=Ga(e);for(;s&&!qc(s);){if(Ii(s)&&!ny(s))return s;s=Ga(s)}return n}let i=ik(e,t);for(;i&&_B(i)&&ny(i);)i=ik(i,t);return i&&qc(i)&&ny(i)&&!vN(i)?n:i||IB(e)||n}const WB=async function(e){const t=this.getOffsetParent||sR,n=this.getDimensions,i=await n(e.floating);return{reference:VB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function HB(e){return Ri(e).direction==="rtl"}const GB={convertOffsetParentRelativeRectToViewportRelativeRect:$B,getDocumentElement:ps,getClippingRect:BB,getOffsetParent:sR,getElementRects:WB,getClientRects:DB,getDimensions:UB,getScale:oc,isElement:Ii,isRTL:HB};function aR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function KB(e,t){let n=null,i;const s=ps(e);function a(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:f,width:p,height:h}=d;if(l||t(),!p||!h)return;const v=Xp(f),m=Xp(s.clientWidth-(u+p)),y=Xp(s.clientHeight-(f+h)),j=Xp(u),x={rootMargin:-v+"px "+-m+"px "+-y+"px "+-j+"px",threshold:Ar(0,Wa(1,c))||1};let w=!0;function b(C){const k=C[0].intersectionRatio;if(k!==c){if(!w)return o();k?o(!1,k):i=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!aR(d,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(b,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,x)}n.observe(e)}return o(!0),a}function YB(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,d=yN(e),u=s||a?[...d?rf(d):[],...rf(t)]:[];u.forEach(j=>{s&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const f=d&&l?KB(d,n):null;let p=-1,h=null;o&&(h=new ResizeObserver(j=>{let[g]=j;g&&g.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),n()}),d&&!c&&h.observe(d),h.observe(t));let v,m=c?el(e):null;c&&y();function y(){const j=el(e);m&&!aR(m,j)&&n(),m=j,v=requestAnimationFrame(y)}return n(),()=>{var j;u.forEach(g=>{s&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),f==null||f(),(j=h)==null||j.disconnect(),h=null,c&&cancelAnimationFrame(v)}}const QB=AB,XB=PB,ZB=CB,JB=TB,eU=kB,sk=SB,tU=OB,nU=(e,t,n)=>{const i=new Map,s={platform:GB,...n},a={...s.platform,_c:i};return NB(e,t,{...s,platform:a})};var Rm=typeof document<"u"?N.useLayoutEffect:N.useEffect;function hh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!hh(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!hh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function oR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ak(e,t){const n=oR(e);return Math.round(t*n)/n}function ry(e){const t=N.useRef(e);return Rm(()=>{t.current=e}),t}function rU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=N.useState(i);hh(p,i)||h(i);const[v,m]=N.useState(null),[y,j]=N.useState(null),g=N.useCallback(z=>{z!==C.current&&(C.current=z,m(z))},[]),x=N.useCallback(z=>{z!==k.current&&(k.current=z,j(z))},[]),w=a||v,b=o||y,C=N.useRef(null),k=N.useRef(null),S=N.useRef(u),E=c!=null,$=ry(c),O=ry(s),A=ry(d),P=N.useCallback(()=>{if(!C.current||!k.current)return;const z={placement:t,strategy:n,middleware:p};O.current&&(z.platform=O.current),nU(C.current,k.current,z).then(H=>{const D={...H,isPositioned:A.current!==!1};_.current&&!hh(S.current,D)&&(S.current=D,ml.flushSync(()=>{f(D)}))})},[p,t,n,O,A]);Rm(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[d]);const _=N.useRef(!1);Rm(()=>(_.current=!0,()=>{_.current=!1}),[]),Rm(()=>{if(w&&(C.current=w),b&&(k.current=b),w&&b){if($.current)return $.current(w,b,P);P()}},[w,b,P,$,E]);const F=N.useMemo(()=>({reference:C,floating:k,setReference:g,setFloating:x}),[g,x]),M=N.useMemo(()=>({reference:w,floating:b}),[w,b]),G=N.useMemo(()=>{const z={position:n,left:0,top:0};if(!M.floating)return z;const H=ak(M.floating,u.x),D=ak(M.floating,u.y);return l?{...z,transform:"translate("+H+"px, "+D+"px)",...oR(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:D}},[n,l,M.floating,u.x,u.y]);return N.useMemo(()=>({...u,update:P,refs:F,elements:M,floatingStyles:G}),[u,P,F,M,G])}const iU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?sk({element:i.current,padding:s}).fn(n):{}:i?sk({element:i,padding:s}).fn(n):{}}}},sU=(e,t)=>({...QB(e),options:[e,t]}),aU=(e,t)=>({...XB(e),options:[e,t]}),oU=(e,t)=>({...tU(e),options:[e,t]}),lU=(e,t)=>({...ZB(e),options:[e,t]}),cU=(e,t)=>({...JB(e),options:[e,t]}),dU=(e,t)=>({...eU(e),options:[e,t]}),uU=(e,t)=>({...iU(e),options:[e,t]});var fU="Arrow",lR=N.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...a}=e;return r.jsx(nt.svg,{...a,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});lR.displayName=fU;var pU=lR;function jN(e){const[t,n]=N.useState(void 0);return pn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var wN="Popper",[cR,ov]=zr(wN),[mU,dR]=cR(wN),uR=e=>{const{__scopePopper:t,children:n}=e,[i,s]=N.useState(null);return r.jsx(mU,{scope:t,anchor:i,onAnchorChange:s,children:n})};uR.displayName=wN;var fR="PopperAnchor",pR=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,a=dR(fR,n),o=N.useRef(null),l=yt(t,o);return N.useEffect(()=>{a.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:r.jsx(nt.div,{...s,ref:l})});pR.displayName=fR;var NN="PopperContent",[hU,xU]=cR(NN),mR=N.forwardRef((e,t)=>{var me,Se,le,xe,ye,B;const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:v,...m}=e,y=dR(NN,n),[j,g]=N.useState(null),x=yt(t,ce=>g(ce)),[w,b]=N.useState(null),C=jN(w),k=(C==null?void 0:C.width)??0,S=(C==null?void 0:C.height)??0,E=i+(a!=="center"?"-"+a:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],A=O.length>0,P={padding:$,boundary:O.filter(gU),altBoundary:A},{refs:_,floatingStyles:F,placement:M,isPositioned:G,middlewareData:z}=rU({strategy:"fixed",placement:E,whileElementsMounted:(...ce)=>YB(...ce,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[sU({mainAxis:s+S,alignmentAxis:o}),c&&aU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?oU():void 0,...P}),c&&lU({...P}),cU({...P,apply:({elements:ce,rects:de,availableWidth:Ie,availableHeight:Oe})=>{const{width:et,height:dt}=de.reference,Nt=ce.floating.style;Nt.setProperty("--radix-popper-available-width",`${Ie}px`),Nt.setProperty("--radix-popper-available-height",`${Oe}px`),Nt.setProperty("--radix-popper-anchor-width",`${et}px`),Nt.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),w&&uU({element:w,padding:l}),yU({arrowWidth:k,arrowHeight:S}),p&&dU({strategy:"referenceHidden",...P})]}),[H,D]=vR(M),U=un(v);pn(()=>{G&&(U==null||U())},[G,U]);const I=(me=z.arrow)==null?void 0:me.x,se=(Se=z.arrow)==null?void 0:Se.y,ge=((le=z.arrow)==null?void 0:le.centerOffset)!==0,[ee,we]=N.useState();return pn(()=>{j&&we(window.getComputedStyle(j).zIndex)},[j]),r.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:G?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(xe=z.transformOrigin)==null?void 0:xe.x,(ye=z.transformOrigin)==null?void 0:ye.y].join(" "),...((B=z.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(hU,{scope:n,placedSide:H,onArrowChange:b,arrowX:I,arrowY:se,shouldHideArrow:ge,children:r.jsx(nt.div,{"data-side":H,"data-align":D,...m,ref:x,style:{...m.style,animation:G?void 0:"none"}})})})});mR.displayName=NN;var hR="PopperArrow",vU={top:"bottom",right:"left",bottom:"top",left:"right"},xR=N.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,a=xU(hR,i),o=vU[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(pU,{...s,ref:n,style:{...s.style,display:"block"}})})});xR.displayName=hR;function gU(e){return e!==null}var yU=e=>({name:"transformOrigin",options:e,fn(t){var y,j,g;const{placement:n,rects:i,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=vR(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((j=s.arrow)==null?void 0:j.x)??0)+l/2,h=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let v="",m="";return d==="bottom"?(v=o?f:`${p}px`,m=`${-c}px`):d==="top"?(v=o?f:`${p}px`,m=`${i.floating.height+c}px`):d==="right"?(v=`${-c}px`,m=o?f:`${h}px`):d==="left"&&(v=`${i.floating.width+c}px`,m=o?f:`${h}px`),{data:{x:v,y:m}}}});function vR(e){const[t,n="center"]=e.split("-");return[t,n]}var gR=uR,yR=pR,bR=mR,jR=xR,[lv,Uwe]=zr("Tooltip",[ov]),cv=ov(),wR="TooltipProvider",bU=700,db="tooltip.open",[jU,SN]=lv(wR),NR=e=>{const{__scopeTooltip:t,delayDuration:n=bU,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:a}=e,o=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(jU,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};NR.displayName=wR;var dv="Tooltip",[wU,uv]=lv(dv),SR=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=SN(dv,e.__scopeTooltip),d=cv(t),[u,f]=N.useState(null),p=ts(),h=N.useRef(0),v=o??c.disableHoverableContent,m=l??c.delayDuration,y=N.useRef(!1),[j=!1,g]=Us({prop:i,defaultProp:s,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(db))):c.onClose(),a==null||a(k)}}),x=N.useMemo(()=>j?y.current?"delayed-open":"instant-open":"closed",[j]),w=N.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y.current=!1,g(!0)},[g]),b=N.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g(!1)},[g]),C=N.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,g(!0),h.current=0},m)},[m,g]);return N.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),r.jsx(gR,{...d,children:r.jsx(wU,{scope:t,contentId:p,open:j,stateAttribute:x,trigger:u,onTriggerChange:f,onTriggerEnter:N.useCallback(()=>{c.isOpenDelayedRef.current?C():w()},[c.isOpenDelayedRef,C,w]),onTriggerLeave:N.useCallback(()=>{v?b():(window.clearTimeout(h.current),h.current=0)},[b,v]),onOpen:w,onClose:b,disableHoverableContent:v,children:n})})};SR.displayName=dv;var ub="TooltipTrigger",CR=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=uv(ub,n),a=SN(ub,n),o=cv(n),l=N.useRef(null),c=yt(t,l,s.onTriggerChange),d=N.useRef(!1),u=N.useRef(!1),f=N.useCallback(()=>d.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(yR,{asChild:!0,...o,children:r.jsx(nt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:c,onPointerMove:Be(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Be(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Be(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Be(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Be(e.onBlur,s.onClose),onClick:Be(e.onClick,s.onClose)})})});CR.displayName=ub;var NU="TooltipPortal",[Vwe,SU]=lv(NU,{forceMount:void 0}),zc="TooltipContent",kR=N.forwardRef((e,t)=>{const n=SU(zc,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...a}=e,o=uv(zc,e.__scopeTooltip);return r.jsx(ai,{present:i||o.open,children:o.disableHoverableContent?r.jsx(ER,{side:s,...a,ref:t}):r.jsx(CU,{side:s,...a,ref:t})})}),CU=N.forwardRef((e,t)=>{const n=uv(zc,e.__scopeTooltip),i=SN(zc,e.__scopeTooltip),s=N.useRef(null),a=yt(t,s),[o,l]=N.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:f}=i,p=N.useCallback(()=>{l(null),f(!1)},[f]),h=N.useCallback((v,m)=>{const y=v.currentTarget,j={x:v.clientX,y:v.clientY},g=OU(j,y.getBoundingClientRect()),x=TU(j,g),w=_U(m.getBoundingClientRect()),b=RU([...x,...w]);l(b),f(!0)},[f]);return N.useEffect(()=>()=>p(),[p]),N.useEffect(()=>{if(c&&u){const v=y=>h(y,u),m=y=>h(y,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",m)}}},[c,u,h,p]),N.useEffect(()=>{if(o){const v=m=>{const y=m.target,j={x:m.clientX,y:m.clientY},g=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),x=!IU(j,o);g?p():x&&(p(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,o,d,p]),r.jsx(ER,{...e,ref:a})}),[kU,EU]=lv(dv,{isInside:!1}),AU=g8("TooltipContent"),ER=N.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=uv(zc,n),d=cv(n),{onClose:u}=c;return N.useEffect(()=>(document.addEventListener(db,u),()=>document.removeEventListener(db,u)),[u]),N.useEffect(()=>{if(c.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),r.jsx(dp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:r.jsxs(bR,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(AU,{children:i}),r.jsx(kU,{scope:n,isInside:!0,children:r.jsx(F8,{id:c.contentId,role:"tooltip",children:s||i})})]})})});kR.displayName=zc;var AR="TooltipArrow",PU=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=cv(n);return EU(AR,n).isInside?null:r.jsx(jR,{...s,...i,ref:t})});PU.displayName=AR;function OU(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,i,s,a)){case a:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function TU(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function _U(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function IU(e,t){const{x:n,y:i}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,u=t[o].y;c>i!=u>i&&n<(d-l)*(i-c)/(u-c)+l&&(s=!s)}return s}function RU(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),MU(t)}function MU(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var $U=NR,DU=SR,FU=CR,PR=kR;const OR=$U,LU=DU,qU=FU,TR=N.forwardRef(({className:e,sideOffset:t=4,...n},i)=>r.jsx(PR,{ref:i,sideOffset:t,className:Ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));TR.displayName=PR.displayName;const zU=fp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qt=N.forwardRef(({className:e,variant:t,...n},i)=>r.jsx("div",{ref:i,role:"alert",className:Ye(zU({variant:t}),e),...n}));Qt.displayName="Alert";const BU=N.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Ye("mb-1 font-medium leading-none tracking-tight",e),...t}));BU.displayName="AlertTitle";const Xt=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ye("text-sm [&_p]:leading-relaxed",e),...t}));Xt.displayName="AlertDescription";const UU=fp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=N.forwardRef(({className:e,variant:t,size:n,asChild:i=!1,...s},a)=>{const o=i?nI:"button";return r.jsx(o,{className:Ye(UU({variant:t,size:n,className:e})),ref:a,...s})});W.displayName="Button";const Y=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const X=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ye("flex flex-col space-y-1.5 p-6",e),...t}));X.displayName="CardHeader";const Z=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));Z.displayName="CardTitle";const ve=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ye("text-sm text-muted-foreground",e),...t}));ve.displayName="CardDescription";const Q=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ye("p-6 pt-0",e),...t}));Q.displayName="CardContent";const VU=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ye("flex items-center p-6 pt-0",e),...t}));VU.displayName="CardFooter";class WU extends N.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.href="/"},this.handleReportError=()=>{var n,i,s;const t={message:(n=this.state.error)==null?void 0:n.message,stack:(i=this.state.error)==null?void 0:i.stack,componentStack:(s=this.state.errorInfo)==null?void 0:s.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.log("Error Report:",t),alert("Error details have been logged. Please contact support if the problem persists.")}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("🚨 CRITICAL ERROR BOUNDARY TRIGGERED:",t),console.error("🚨 ERROR MESSAGE:",t.message),console.error("🚨 ERROR STACK:",t.stack),console.error("🚨 COMPONENT STACK:",n.componentStack),this.setState({error:t,errorInfo:n}),alert(`CRITICAL ERROR: ${t.message}

Check console for full details.`)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:r.jsxs(Y,{className:"w-full max-w-2xl",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(mt,{className:"h-6 w-6"}),"Something went wrong"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs(Qt,{className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[r.jsx(mt,{className:"h-4 w-4"}),r.jsx(Xt,{children:"The application encountered an unexpected error. This has been logged for our development team."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsx("strong",{children:"What you can do:"})}),r.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Try refreshing the page or going back to retry the action"}),r.jsx("li",{children:"Return to the home page to start over"}),r.jsx("li",{children:"Contact support if the problem continues"})]})]}),!1,r.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[r.jsxs(W,{onClick:this.handleRetry,className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4"}),"Try Again"]}),r.jsxs(W,{variant:"outline",onClick:this.handleGoHome,className:"flex items-center gap-2",children:[r.jsx(mp,{className:"h-4 w-4"}),"Go Home"]}),r.jsxs(W,{variant:"outline",onClick:this.handleReportError,className:"flex items-center gap-2",children:[r.jsx(lz,{className:"h-4 w-4"}),"Report Issue"]})]})]})]})}):this.props.children}}const HU=fp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function J({className:e,variant:t,...n}){return r.jsx("div",{className:Ye(HU({variant:t}),e),...n})}var GU=N.createContext(void 0);function fv(e){const t=N.useContext(GU);return e||t||"ltr"}var iy="rovingFocusGroup.onEntryFocus",KU={bubbles:!1,cancelable:!0},pv="RovingFocusGroup",[fb,_R,YU]=lN(pv),[QU,IR]=zr(pv,[YU]),[XU,ZU]=QU(pv),RR=N.forwardRef((e,t)=>r.jsx(fb.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(fb.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(JU,{...e,ref:t})})}));RR.displayName=pv;var JU=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,p=N.useRef(null),h=yt(t,p),v=fv(a),[m=null,y]=Us({prop:o,defaultProp:l,onChange:c}),[j,g]=N.useState(!1),x=un(d),w=_R(n),b=N.useRef(!1),[C,k]=N.useState(0);return N.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(iy,x),()=>S.removeEventListener(iy,x)},[x]),r.jsx(XU,{scope:n,orientation:i,dir:v,loop:s,currentTabStopId:m,onItemFocus:N.useCallback(S=>y(S),[y]),onItemShiftTab:N.useCallback(()=>g(!0),[]),onFocusableItemAdd:N.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:N.useCallback(()=>k(S=>S-1),[]),children:r.jsx(nt.div,{tabIndex:j||C===0?-1:0,"data-orientation":i,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Be(e.onMouseDown,()=>{b.current=!0}),onFocus:Be(e.onFocus,S=>{const E=!b.current;if(S.target===S.currentTarget&&E&&!j){const $=new CustomEvent(iy,KU);if(S.currentTarget.dispatchEvent($),!$.defaultPrevented){const O=w().filter(M=>M.focusable),A=O.find(M=>M.active),P=O.find(M=>M.id===m),F=[A,P,...O].filter(Boolean).map(M=>M.ref.current);DR(F,u)}}b.current=!1}),onBlur:Be(e.onBlur,()=>g(!1))})})}),MR="RovingFocusGroupItem",$R=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:a,...o}=e,l=ts(),c=a||l,d=ZU(MR,n),u=d.currentTabStopId===c,f=_R(n),{onFocusableItemAdd:p,onFocusableItemRemove:h}=d;return N.useEffect(()=>{if(i)return p(),()=>h()},[i,p,h]),r.jsx(fb.ItemSlot,{scope:n,id:c,focusable:i,active:s,children:r.jsx(nt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Be(e.onMouseDown,v=>{i?d.onItemFocus(c):v.preventDefault()}),onFocus:Be(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Be(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=nV(v,d.orientation,d.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=f().filter(g=>g.focusable).map(g=>g.ref.current);if(m==="last")j.reverse();else if(m==="prev"||m==="next"){m==="prev"&&j.reverse();const g=j.indexOf(v.currentTarget);j=d.loop?rV(j,g+1):j.slice(g+1)}setTimeout(()=>DR(j))}})})})});$R.displayName=MR;var eV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tV(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function nV(e,t,n){const i=tV(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return eV[i]}function DR(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function rV(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var iV=RR,sV=$R,CN="Tabs",[aV,Wwe]=zr(CN,[IR]),FR=IR(),[oV,kN]=aV(CN),LR=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=fv(l),[f,p]=Us({prop:i,onChange:s,defaultProp:a});return r.jsx(oV,{scope:n,baseId:ts(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:c,children:r.jsx(nt.div,{dir:u,"data-orientation":o,...d,ref:t})})});LR.displayName=CN;var qR="TabsList",zR=N.forwardRef((e,t)=>{const{__scopeTabs:n,loop:i=!0,...s}=e,a=kN(qR,n),o=FR(n);return r.jsx(iV,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:i,children:r.jsx(nt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});zR.displayName=qR;var BR="TabsTrigger",UR=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,disabled:s=!1,...a}=e,o=kN(BR,n),l=FR(n),c=HR(o.baseId,i),d=GR(o.baseId,i),u=i===o.value;return r.jsx(sV,{asChild:!0,...l,focusable:!s,active:u,children:r.jsx(nt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Be(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(i):f.preventDefault()}),onKeyDown:Be(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(i)}),onFocus:Be(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(i)})})})});UR.displayName=BR;var VR="TabsContent",WR=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,forceMount:s,children:a,...o}=e,l=kN(VR,n),c=HR(l.baseId,i),d=GR(l.baseId,i),u=i===l.value,f=N.useRef(u);return N.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),r.jsx(ai,{present:s||u,children:({present:p})=>r.jsx(nt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&a})})});WR.displayName=VR;function HR(e,t){return`${e}-trigger-${t}`}function GR(e,t){return`${e}-content-${t}`}var lV=LR,KR=zR,YR=UR,QR=WR;const Zn=lV,Fn=N.forwardRef(({className:e,...t},n)=>r.jsx(KR,{ref:n,className:Ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fn.displayName=KR.displayName;const Ae=N.forwardRef(({className:e,...t},n)=>r.jsx(YR,{ref:n,className:Ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ae.displayName=YR.displayName;const ke=N.forwardRef(({className:e,...t},n)=>r.jsx(QR,{ref:n,className:Ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ke.displayName=QR.displayName;var cV=Array.isArray,wr=cV,dV=typeof Op=="object"&&Op&&Op.Object===Object&&Op,XR=dV,uV=XR,fV=typeof self=="object"&&self&&self.Object===Object&&self,pV=uV||fV||Function("return this")(),ms=pV,mV=ms,hV=mV.Symbol,vp=hV,ok=vp,ZR=Object.prototype,xV=ZR.hasOwnProperty,vV=ZR.toString,Qd=ok?ok.toStringTag:void 0;function gV(e){var t=xV.call(e,Qd),n=e[Qd];try{e[Qd]=void 0;var i=!0}catch{}var s=vV.call(e);return i&&(t?e[Qd]=n:delete e[Qd]),s}var yV=gV,bV=Object.prototype,jV=bV.toString;function wV(e){return jV.call(e)}var NV=wV,lk=vp,SV=yV,CV=NV,kV="[object Null]",EV="[object Undefined]",ck=lk?lk.toStringTag:void 0;function AV(e){return e==null?e===void 0?EV:kV:ck&&ck in Object(e)?SV(e):CV(e)}var ea=AV;function PV(e){return e!=null&&typeof e=="object"}var ta=PV,OV=ea,TV=ta,_V="[object Symbol]";function IV(e){return typeof e=="symbol"||TV(e)&&OV(e)==_V}var Cd=IV,RV=wr,MV=Cd,$V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DV=/^\w*$/;function FV(e,t){if(RV(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||MV(e)?!0:DV.test(e)||!$V.test(e)||t!=null&&e in Object(t)}var EN=FV;function LV(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var to=LV;const kd=Pt(to);var qV=ea,zV=to,BV="[object AsyncFunction]",UV="[object Function]",VV="[object GeneratorFunction]",WV="[object Proxy]";function HV(e){if(!zV(e))return!1;var t=qV(e);return t==UV||t==VV||t==BV||t==WV}var AN=HV;const lt=Pt(AN);var GV=ms,KV=GV["__core-js_shared__"],YV=KV,sy=YV,dk=function(){var e=/[^.]+$/.exec(sy&&sy.keys&&sy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function QV(e){return!!dk&&dk in e}var XV=QV,ZV=Function.prototype,JV=ZV.toString;function eW(e){if(e!=null){try{return JV.call(e)}catch{}try{return e+""}catch{}}return""}var JR=eW,tW=AN,nW=XV,rW=to,iW=JR,sW=/[\\^$.*+?()[\]{}|]/g,aW=/^\[object .+?Constructor\]$/,oW=Function.prototype,lW=Object.prototype,cW=oW.toString,dW=lW.hasOwnProperty,uW=RegExp("^"+cW.call(dW).replace(sW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fW(e){if(!rW(e)||nW(e))return!1;var t=tW(e)?uW:aW;return t.test(iW(e))}var pW=fW;function mW(e,t){return e==null?void 0:e[t]}var hW=mW,xW=pW,vW=hW;function gW(e,t){var n=vW(e,t);return xW(n)?n:void 0}var hl=gW,yW=hl,bW=yW(Object,"create"),mv=bW,uk=mv;function jW(){this.__data__=uk?uk(null):{},this.size=0}var wW=jW;function NW(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var SW=NW,CW=mv,kW="__lodash_hash_undefined__",EW=Object.prototype,AW=EW.hasOwnProperty;function PW(e){var t=this.__data__;if(CW){var n=t[e];return n===kW?void 0:n}return AW.call(t,e)?t[e]:void 0}var OW=PW,TW=mv,_W=Object.prototype,IW=_W.hasOwnProperty;function RW(e){var t=this.__data__;return TW?t[e]!==void 0:IW.call(t,e)}var MW=RW,$W=mv,DW="__lodash_hash_undefined__";function FW(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$W&&t===void 0?DW:t,this}var LW=FW,qW=wW,zW=SW,BW=OW,UW=MW,VW=LW;function Ed(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ed.prototype.clear=qW;Ed.prototype.delete=zW;Ed.prototype.get=BW;Ed.prototype.has=UW;Ed.prototype.set=VW;var WW=Ed;function HW(){this.__data__=[],this.size=0}var GW=HW;function KW(e,t){return e===t||e!==e&&t!==t}var PN=KW,YW=PN;function QW(e,t){for(var n=e.length;n--;)if(YW(e[n][0],t))return n;return-1}var hv=QW,XW=hv,ZW=Array.prototype,JW=ZW.splice;function eH(e){var t=this.__data__,n=XW(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():JW.call(t,n,1),--this.size,!0}var tH=eH,nH=hv;function rH(e){var t=this.__data__,n=nH(t,e);return n<0?void 0:t[n][1]}var iH=rH,sH=hv;function aH(e){return sH(this.__data__,e)>-1}var oH=aH,lH=hv;function cH(e,t){var n=this.__data__,i=lH(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var dH=cH,uH=GW,fH=tH,pH=iH,mH=oH,hH=dH;function Ad(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ad.prototype.clear=uH;Ad.prototype.delete=fH;Ad.prototype.get=pH;Ad.prototype.has=mH;Ad.prototype.set=hH;var xv=Ad,xH=hl,vH=ms,gH=xH(vH,"Map"),ON=gH,fk=WW,yH=xv,bH=ON;function jH(){this.size=0,this.__data__={hash:new fk,map:new(bH||yH),string:new fk}}var wH=jH;function NH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var SH=NH,CH=SH;function kH(e,t){var n=e.__data__;return CH(t)?n[typeof t=="string"?"string":"hash"]:n.map}var vv=kH,EH=vv;function AH(e){var t=EH(this,e).delete(e);return this.size-=t?1:0,t}var PH=AH,OH=vv;function TH(e){return OH(this,e).get(e)}var _H=TH,IH=vv;function RH(e){return IH(this,e).has(e)}var MH=RH,$H=vv;function DH(e,t){var n=$H(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var FH=DH,LH=wH,qH=PH,zH=_H,BH=MH,UH=FH;function Pd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Pd.prototype.clear=LH;Pd.prototype.delete=qH;Pd.prototype.get=zH;Pd.prototype.has=BH;Pd.prototype.set=UH;var TN=Pd,e4=TN,VH="Expected a function";function _N(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(VH);var n=function(){var i=arguments,s=t?t.apply(this,i):i[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,i);return n.cache=a.set(s,o)||a,o};return n.cache=new(_N.Cache||e4),n}_N.Cache=e4;var t4=_N;const WH=Pt(t4);var HH=t4,GH=500;function KH(e){var t=HH(e,function(i){return n.size===GH&&n.clear(),i}),n=t.cache;return t}var YH=KH,QH=YH,XH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZH=/\\(\\)?/g,JH=QH(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(XH,function(n,i,s,a){t.push(s?a.replace(ZH,"$1"):i||n)}),t}),e9=JH;function t9(e,t){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=t(e[n],n,e);return s}var IN=t9,pk=vp,n9=IN,r9=wr,i9=Cd,s9=1/0,mk=pk?pk.prototype:void 0,hk=mk?mk.toString:void 0;function n4(e){if(typeof e=="string")return e;if(r9(e))return n9(e,n4)+"";if(i9(e))return hk?hk.call(e):"";var t=e+"";return t=="0"&&1/e==-s9?"-0":t}var a9=n4,o9=a9;function l9(e){return e==null?"":o9(e)}var r4=l9,c9=wr,d9=EN,u9=e9,f9=r4;function p9(e,t){return c9(e)?e:d9(e,t)?[e]:u9(f9(e))}var i4=p9,m9=Cd,h9=1/0;function x9(e){if(typeof e=="string"||m9(e))return e;var t=e+"";return t=="0"&&1/e==-h9?"-0":t}var gv=x9,v9=i4,g9=gv;function y9(e,t){t=v9(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[g9(t[n++])];return n&&n==i?e:void 0}var RN=y9,b9=RN;function j9(e,t,n){var i=e==null?void 0:b9(e,t);return i===void 0?n:i}var s4=j9;const Mr=Pt(s4);function w9(e){return e==null}var N9=w9;const gt=Pt(N9);var S9=ea,C9=wr,k9=ta,E9="[object String]";function A9(e){return typeof e=="string"||!C9(e)&&k9(e)&&S9(e)==E9}var P9=A9;const gp=Pt(P9);var a4={exports:{}},Rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN=Symbol.for("react.element"),$N=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),bv=Symbol.for("react.strict_mode"),jv=Symbol.for("react.profiler"),wv=Symbol.for("react.provider"),Nv=Symbol.for("react.context"),O9=Symbol.for("react.server_context"),Sv=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),kv=Symbol.for("react.suspense_list"),Ev=Symbol.for("react.memo"),Av=Symbol.for("react.lazy"),T9=Symbol.for("react.offscreen"),o4;o4=Symbol.for("react.module.reference");function oi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case MN:switch(e=e.type,e){case yv:case jv:case bv:case Cv:case kv:return e;default:switch(e=e&&e.$$typeof,e){case O9:case Nv:case Sv:case Av:case Ev:case wv:return e;default:return t}}case $N:return t}}}Rt.ContextConsumer=Nv;Rt.ContextProvider=wv;Rt.Element=MN;Rt.ForwardRef=Sv;Rt.Fragment=yv;Rt.Lazy=Av;Rt.Memo=Ev;Rt.Portal=$N;Rt.Profiler=jv;Rt.StrictMode=bv;Rt.Suspense=Cv;Rt.SuspenseList=kv;Rt.isAsyncMode=function(){return!1};Rt.isConcurrentMode=function(){return!1};Rt.isContextConsumer=function(e){return oi(e)===Nv};Rt.isContextProvider=function(e){return oi(e)===wv};Rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===MN};Rt.isForwardRef=function(e){return oi(e)===Sv};Rt.isFragment=function(e){return oi(e)===yv};Rt.isLazy=function(e){return oi(e)===Av};Rt.isMemo=function(e){return oi(e)===Ev};Rt.isPortal=function(e){return oi(e)===$N};Rt.isProfiler=function(e){return oi(e)===jv};Rt.isStrictMode=function(e){return oi(e)===bv};Rt.isSuspense=function(e){return oi(e)===Cv};Rt.isSuspenseList=function(e){return oi(e)===kv};Rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yv||e===jv||e===bv||e===Cv||e===kv||e===T9||typeof e=="object"&&e!==null&&(e.$$typeof===Av||e.$$typeof===Ev||e.$$typeof===wv||e.$$typeof===Nv||e.$$typeof===Sv||e.$$typeof===o4||e.getModuleId!==void 0)};Rt.typeOf=oi;a4.exports=Rt;var _9=a4.exports,I9=ea,R9=ta,M9="[object Number]";function $9(e){return typeof e=="number"||R9(e)&&I9(e)==M9}var l4=$9;const D9=Pt(l4);var F9=l4;function L9(e){return F9(e)&&e!=+e}var q9=L9;const yp=Pt(q9);var sr=function(t){return t===0?0:t>0?1:-1},So=function(t){return gp(t)&&t.indexOf("%")===t.length-1},je=function(t){return D9(t)&&!yp(t)},Sn=function(t){return je(t)||gp(t)},z9=0,bp=function(t){var n=++z9;return"".concat(t||"").concat(n)},ar=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&!gp(t))return i;var a;if(So(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return yp(a)&&(a=i),s&&a>n&&(a=n),a},va=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},B9=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,i={},s=0;s<n;s++)if(!i[t[s]])i[t[s]]=!0;else return!0;return!1},pa=function(t,n){return je(t)&&je(n)?function(i){return t+i*(n-t)}:function(){return n}};function pb(e,t,n){return!e||!e.length?null:e.find(function(i){return i&&(typeof t=="function"?t(i):Mr(i,t))===n})}function lc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function mb(e){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(e)}var U9=["viewBox","children"],V9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xk=["points","pathLength"],ay={svg:U9,polygon:xk,polyline:xk},DN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xh=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(N.isValidElement(t)&&(i=t.props),!kd(i))return null;var s={};return Object.keys(i).forEach(function(a){DN.includes(a)&&(s[a]=n||function(o){return i[a](i,o)})}),s},W9=function(t,n,i){return function(s){return t(n,i,s),null}},tl=function(t,n,i){if(!kd(t)||mb(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];DN.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=W9(o,n,i))}),s},H9=["children"],G9=["children"];function vk(e,t){if(e==null)return{};var n=K9(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function K9(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var gk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Rs=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},yk=null,oy=null,FN=function e(t){if(t===yk&&Array.isArray(oy))return oy;var n=[];return N.Children.forEach(t,function(i){gt(i)||(_9.isFragment(i)?n=n.concat(e(i.props.children)):n.push(i))}),oy=n,yk=t,n};function ei(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(function(s){return Rs(s)}):i=[Rs(t)],FN(e).forEach(function(s){var a=Mr(s,"type.displayName")||Mr(s,"type.name");i.indexOf(a)!==-1&&n.push(s)}),n}function kr(e,t){var n=ei(e,t);return n&&n[0]}var bk=function(t){if(!t||!t.props)return!1;var n=t.props,i=n.width,s=n.height;return!(!je(i)||i<=0||!je(s)||s<=0)},Y9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Q9=function(t){return t&&t.type&&gp(t.type)&&Y9.indexOf(t.type)>=0},X9=function(t,n,i,s){var a,o=(a=ay==null?void 0:ay[s])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!lt(t)&&(s&&o.includes(n)||V9.includes(n))||i&&DN.includes(n)},at=function(t,n,i){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(N.isValidElement(t)&&(s=t.props),!kd(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;X9((l=s)===null||l===void 0?void 0:l[o],o,n,i)&&(a[o]=s[o])}),a},hb=function e(t,n){if(t===n)return!0;var i=N.Children.count(t);if(i!==N.Children.count(n))return!1;if(i===0)return!0;if(i===1)return jk(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<i;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!jk(a,o))return!1}return!0},jk=function(t,n){if(gt(t)&&gt(n))return!0;if(!gt(t)&&!gt(n)){var i=t.props||{},s=i.children,a=vk(i,H9),o=n.props||{},l=o.children,c=vk(o,G9);return s&&l?lc(a,c)&&hb(s,l):!s&&!l?lc(a,c):!1}return!1},wk=function(t,n){var i=[],s={};return FN(t).forEach(function(a,o){if(Q9(a))i.push(a);else if(a){var l=Rs(a.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var f=d(a,l,o);i.push(f),s[l]=!0}}}),i},Z9=function(t){var n=t&&t.type;return n&&gk[n]?gk[n]:null},J9=function(t,n){return FN(n).indexOf(t)},e7=["children","width","height","viewBox","className","style","title","desc"];function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xb.apply(this,arguments)}function t7(e,t){if(e==null)return{};var n=n7(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function n7(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function vb(e){var t=e.children,n=e.width,i=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=t7(e,e7),u=s||{width:n,height:i,x:0,y:0},f=xt("recharts-surface",a);return L.createElement("svg",xb({},at(d,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),t)}var r7=["children","className"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gb.apply(this,arguments)}function i7(e,t){if(e==null)return{};var n=s7(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function s7(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var _t=L.forwardRef(function(e,t){var n=e.children,i=e.className,s=i7(e,r7),a=xt("recharts-layer",i);return L.createElement("g",gb({className:a},at(s,!0),{ref:t}),n)}),Pi=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a]};function a7(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+t];return a}var o7=a7,l7=o7;function c7(e,t,n){var i=e.length;return n=n===void 0?i:n,!t&&n>=i?e:l7(e,t,n)}var d7=c7,u7="\\ud800-\\udfff",f7="\\u0300-\\u036f",p7="\\ufe20-\\ufe2f",m7="\\u20d0-\\u20ff",h7=f7+p7+m7,x7="\\ufe0e\\ufe0f",v7="\\u200d",g7=RegExp("["+v7+u7+h7+x7+"]");function y7(e){return g7.test(e)}var c4=y7;function b7(e){return e.split("")}var j7=b7,d4="\\ud800-\\udfff",w7="\\u0300-\\u036f",N7="\\ufe20-\\ufe2f",S7="\\u20d0-\\u20ff",C7=w7+N7+S7,k7="\\ufe0e\\ufe0f",E7="["+d4+"]",yb="["+C7+"]",bb="\\ud83c[\\udffb-\\udfff]",A7="(?:"+yb+"|"+bb+")",u4="[^"+d4+"]",f4="(?:\\ud83c[\\udde6-\\uddff]){2}",p4="[\\ud800-\\udbff][\\udc00-\\udfff]",P7="\\u200d",m4=A7+"?",h4="["+k7+"]?",O7="(?:"+P7+"(?:"+[u4,f4,p4].join("|")+")"+h4+m4+")*",T7=h4+m4+O7,_7="(?:"+[u4+yb+"?",yb,f4,p4,E7].join("|")+")",I7=RegExp(bb+"(?="+bb+")|"+_7+T7,"g");function R7(e){return e.match(I7)||[]}var M7=R7,$7=j7,D7=c4,F7=M7;function L7(e){return D7(e)?F7(e):$7(e)}var q7=L7,z7=d7,B7=c4,U7=q7,V7=r4;function W7(e){return function(t){t=V7(t);var n=B7(t)?U7(t):void 0,i=n?n[0]:t.charAt(0),s=n?z7(n,1).join(""):t.slice(1);return i[e]()+s}}var H7=W7,G7=H7,K7=G7("toUpperCase"),Y7=K7;const Pv=Pt(Y7);function qt(e){return function(){return e}}const x4=Math.cos,vh=Math.sin,$i=Math.sqrt,gh=Math.PI,Ov=2*gh,jb=Math.PI,wb=2*jb,ho=1e-6,Q7=wb-ho;function v4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function X7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return v4;const n=10**t;return function(i){this._+=i[0];for(let s=1,a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class Z7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?v4:X7(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,a,o){this._append`C${+t},${+n},${+i},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,i,s,a){if(t=+t,n=+n,i=+i,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=i-t,d=s-n,u=o-t,f=l-n,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>ho)if(!(Math.abs(f*c-d*u)>ho)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=i-o,v=s-l,m=c*c+d*d,y=h*h+v*v,j=Math.sqrt(m),g=Math.sqrt(p),x=a*Math.tan((jb-Math.acos((m+p-y)/(2*j*g)))/2),w=x/g,b=x/j;Math.abs(w-1)>ho&&this._append`L${t+w*u},${n+w*f}`,this._append`A${a},${a},0,0,${+(f*h>u*v)},${this._x1=t+b*c},${this._y1=n+b*d}`}}arc(t,n,i,s,a,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),c=i*Math.sin(s),d=t+l,u=n+c,f=1^o,p=o?s-a:a-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>ho||Math.abs(this._y1-u)>ho)&&this._append`L${d},${u}`,i&&(p<0&&(p=p%wb+wb),p>Q7?this._append`A${i},${i},0,1,${f},${t-l},${n-c}A${i},${i},0,1,${f},${this._x1=d},${this._y1=u}`:p>ho&&this._append`A${i},${i},0,${+(p>=jb)},${f},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function LN(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new Z7(t)}function qN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g4(e){this._context=e}g4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tv(e){return new g4(e)}function y4(e){return e[0]}function b4(e){return e[1]}function j4(e,t){var n=qt(!0),i=null,s=Tv,a=null,o=LN(l);e=typeof e=="function"?e:e===void 0?y4:qt(e),t=typeof t=="function"?t:t===void 0?b4:qt(t);function l(c){var d,u=(c=qN(c)).length,f,p=!1,h;for(i==null&&(a=s(h=o())),d=0;d<=u;++d)!(d<u&&n(f=c[d],d,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,d,c),+t(f,d,c));if(h)return a=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:qt(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,i!=null&&(a=s(i)),l):s},l.context=function(c){return arguments.length?(c==null?i=a=null:a=s(i=c),l):i},l}function Zp(e,t,n){var i=null,s=qt(!0),a=null,o=Tv,l=null,c=LN(d);e=typeof e=="function"?e:e===void 0?y4:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?b4:qt(+n);function d(f){var p,h,v,m=(f=qN(f)).length,y,j=!1,g,x=new Array(m),w=new Array(m);for(a==null&&(l=o(g=c())),p=0;p<=m;++p){if(!(p<m&&s(y=f[p],p,f))===j)if(j=!j)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=p-1;v>=h;--v)l.point(x[v],w[v]);l.lineEnd(),l.areaEnd()}j&&(x[p]=+e(y,p,f),w[p]=+t(y,p,f),l.point(i?+i(y,p,f):x[p],n?+n(y,p,f):w[p]))}if(g)return l=null,g+""||null}function u(){return j4().defined(s).curve(o).context(a)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),i=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),d):e},d.x1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:qt(+f),d):i},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),n=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),d):t},d.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qt(+f),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(i).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:qt(!!f),d):s},d.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),d):o},d.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),d):a},d}class w4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function J7(e){return new w4(e,!0)}function eG(e){return new w4(e,!1)}const zN={draw(e,t){const n=$i(t/gh);e.moveTo(n,0),e.arc(0,0,n,0,Ov)}},tG={draw(e,t){const n=$i(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},N4=$i(1/3),nG=N4*2,rG={draw(e,t){const n=$i(t/nG),i=n*N4;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},iG={draw(e,t){const n=$i(t),i=-n/2;e.rect(i,i,n,n)}},sG=.8908130915292852,S4=vh(gh/10)/vh(7*gh/10),aG=vh(Ov/10)*S4,oG=-x4(Ov/10)*S4,lG={draw(e,t){const n=$i(t*sG),i=aG*n,s=oG*n;e.moveTo(0,-n),e.lineTo(i,s);for(let a=1;a<5;++a){const o=Ov*a/5,l=x4(o),c=vh(o);e.lineTo(c*n,-l*n),e.lineTo(l*i-c*s,c*i+l*s)}e.closePath()}},ly=$i(3),cG={draw(e,t){const n=-$i(t/(ly*3));e.moveTo(0,n*2),e.lineTo(-ly*n,-n),e.lineTo(ly*n,-n),e.closePath()}},Br=-.5,Ur=$i(3)/2,Nb=1/$i(12),dG=(Nb/2+1)*3,uG={draw(e,t){const n=$i(t/dG),i=n/2,s=n*Nb,a=i,o=n*Nb+n,l=-a,c=o;e.moveTo(i,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Br*i-Ur*s,Ur*i+Br*s),e.lineTo(Br*a-Ur*o,Ur*a+Br*o),e.lineTo(Br*l-Ur*c,Ur*l+Br*c),e.lineTo(Br*i+Ur*s,Br*s-Ur*i),e.lineTo(Br*a+Ur*o,Br*o-Ur*a),e.lineTo(Br*l+Ur*c,Br*c-Ur*l),e.closePath()}};function fG(e,t){let n=null,i=LN(s);e=typeof e=="function"?e:qt(e||zN),t=typeof t=="function"?t:qt(t===void 0?64:+t);function s(){let a;if(n||(n=a=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:qt(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:qt(+a),s):t},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function yh(){}function bh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function C4(e){this._context=e}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pG(e){return new C4(e)}function k4(e){this._context=e}k4.prototype={areaStart:yh,areaEnd:yh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mG(e){return new k4(e)}function E4(e){this._context=e}E4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:bh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hG(e){return new E4(e)}function A4(e){this._context=e}A4.prototype={areaStart:yh,areaEnd:yh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xG(e){return new A4(e)}function Nk(e){return e<0?-1:1}function Sk(e,t,n){var i=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(i||s<0&&-0),o=(n-e._y1)/(s||i<0&&-0),l=(a*s+o*i)/(i+s);return(Nk(a)+Nk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Ck(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function cy(e,t,n){var i=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-i)/3;e._context.bezierCurveTo(i+l,s+l*t,a-l,o-l*n,a,o)}function jh(e){this._context=e}jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cy(this,this._t0,Ck(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cy(this,Ck(this,n=Sk(this,e,t)),n);break;default:cy(this,this._t0,n=Sk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function P4(e){this._context=new O4(e)}(P4.prototype=Object.create(jh.prototype)).point=function(e,t){jh.prototype.point.call(this,t,e)};function O4(e){this._context=e}O4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,s,a){this._context.bezierCurveTo(t,e,i,n,a,s)}};function vG(e){return new jh(e)}function gG(e){return new P4(e)}function T4(e){this._context=e}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=kk(e),s=kk(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],s[0][a],i[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kk(e){var t,n=e.length-1,i,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=s[t]/a[t-1],a[t]-=i,o[t]-=i*o[t-1];for(s[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function yG(e){return new T4(e)}function _v(e,t){this._context=e,this._t=t}_v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function bG(e){return new _v(e,.5)}function jG(e){return new _v(e,0)}function wG(e){return new _v(e,1)}function Bc(e,t){if((o=e.length)>1)for(var n=1,i,s,a=e[t[0]],o,l=a.length;n<o;++n)for(s=a,a=e[t[n]],i=0;i<l;++i)a[i][1]+=a[i][0]=isNaN(s[i][1])?s[i][0]:s[i][1]}function Sb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function NG(e,t){return e[t]}function SG(e){const t=[];return t.key=e,t}function CG(){var e=qt([]),t=Sb,n=Bc,i=NG;function s(a){var o=Array.from(e.apply(this,arguments),SG),l,c=o.length,d=-1,u;for(const f of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+i(f,o[l].key,d,a)]).data=f;for(l=0,u=qN(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:qt(Array.from(a)),s):e},s.value=function(a){return arguments.length?(i=typeof a=="function"?a:qt(+a),s):i},s.order=function(a){return arguments.length?(t=a==null?Sb:typeof a=="function"?a:qt(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(n=a??Bc,s):n},s}function kG(e,t){if((i=e.length)>0){for(var n,i,s=0,a=e[0].length,o;s<a;++s){for(o=n=0;n<i;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<i;++n)e[n][s][1]/=o}Bc(e,t)}}function EG(e,t){if((s=e.length)>0){for(var n=0,i=e[t[0]],s,a=i.length;n<a;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;i[n][1]+=i[n][0]=-l/2}Bc(e,t)}}function AG(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,i=1,s,a,o;i<a;++i){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[i][1]||0,p=u[i-1][1]||0,h=(f-p)/2,v=0;v<l;++v){var m=e[t[v]],y=m[i][1]||0,j=m[i-1][1]||0;h+=y-j}c+=f,d+=h*f}s[i-1][1]+=s[i-1][0]=n,c&&(n-=d/c)}s[i-1][1]+=s[i-1][0]=n,Bc(e,t)}}function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}var PG=["type","size","sizeType"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cb.apply(this,arguments)}function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ak(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(i){OG(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function OG(e,t,n){return t=TG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TG(e){var t=_G(e,"string");return sf(t)=="symbol"?t:t+""}function _G(e,t){if(sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(sf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IG(e,t){if(e==null)return{};var n=RG(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function RG(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var _4={symbolCircle:zN,symbolCross:tG,symbolDiamond:rG,symbolSquare:iG,symbolStar:lG,symbolTriangle:cG,symbolWye:uG},MG=Math.PI/180,$G=function(t){var n="symbol".concat(Pv(t));return _4[n]||zN},DG=function(t,n,i){if(n==="area")return t;switch(i){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*MG;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},FG=function(t,n){_4["symbol".concat(Pv(t))]=n},BN=function(t){var n=t.type,i=n===void 0?"circle":n,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=IG(t,PG),d=Ak(Ak({},c),{},{type:i,size:a,sizeType:l}),u=function(){var y=$G(i),j=fG().type(y).size(DG(a,l,i));return j()},f=d.className,p=d.cx,h=d.cy,v=at(d,!0);return p===+p&&h===+h&&a===+a?L.createElement("path",Cb({},v,{className:xt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};BN.registerSymbol=FG;function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kb.apply(this,arguments)}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function LG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(i){af(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function qG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zG(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,R4(i.key),i)}}function BG(e,t,n){return t&&zG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UG(e,t,n){return t=wh(t),VG(e,I4()?Reflect.construct(t,n||[],wh(e).constructor):t.apply(e,n))}function VG(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WG(e)}function WG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!e})()}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wh(e)}function HG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}function Eb(e,t){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Eb(e,t)}function af(e,t,n){return t=R4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R4(e){var t=GG(e,"string");return Uc(t)=="symbol"?t:t+""}function GG(e,t){if(Uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Uc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vr=32,UN=function(e){function t(){return qG(this,t),UG(this,t,arguments)}return HG(t,e),BG(t,[{key:"renderIcon",value:function(i){var s=this.props.inactiveColor,a=Vr/2,o=Vr/6,l=Vr/3,c=i.inactive?s:i.color;if(i.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:a,x2:Vr,y2:a,className:"recharts-legend-icon"});if(i.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Vr,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(i.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Vr/8,"h").concat(Vr,"v").concat(Vr*3/4,"h").concat(-Vr,"z"),className:"recharts-legend-icon"});if(L.isValidElement(i.legendIcon)){var d=LG({},i);return delete d.legendIcon,L.cloneElement(i.legendIcon,d)}return L.createElement(BN,{fill:c,cx:a,cy:a,size:Vr,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:Vr,height:Vr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,v){var m=h.formatter||c,y=xt(af(af({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var j=lt(h.value)?null:h.value;Pi(!lt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=h.inactive?d:h.color;return L.createElement("li",kb({className:y,style:f,key:"legend-item-".concat(v)},tl(i.props,h,v)),L.createElement(vb,{width:o,height:o,viewBox:u,style:p},i.renderIcon(h)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m?m(j,h,v):j))})}},{key:"render",value:function(){var i=this.props,s=i.payload,a=i.layout,o=i.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);af(UN,"displayName","Legend");af(UN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var KG=xv;function YG(){this.__data__=new KG,this.size=0}var QG=YG;function XG(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var ZG=XG;function JG(e){return this.__data__.get(e)}var eK=JG;function tK(e){return this.__data__.has(e)}var nK=tK,rK=xv,iK=ON,sK=TN,aK=200;function oK(e,t){var n=this.__data__;if(n instanceof rK){var i=n.__data__;if(!iK||i.length<aK-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new sK(i)}return n.set(e,t),this.size=n.size,this}var lK=oK,cK=xv,dK=QG,uK=ZG,fK=eK,pK=nK,mK=lK;function Od(e){var t=this.__data__=new cK(e);this.size=t.size}Od.prototype.clear=dK;Od.prototype.delete=uK;Od.prototype.get=fK;Od.prototype.has=pK;Od.prototype.set=mK;var M4=Od,hK="__lodash_hash_undefined__";function xK(e){return this.__data__.set(e,hK),this}var vK=xK;function gK(e){return this.__data__.has(e)}var yK=gK,bK=TN,jK=vK,wK=yK;function Nh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new bK;++t<n;)this.add(e[t])}Nh.prototype.add=Nh.prototype.push=jK;Nh.prototype.has=wK;var $4=Nh;function NK(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var D4=NK;function SK(e,t){return e.has(t)}var F4=SK,CK=$4,kK=D4,EK=F4,AK=1,PK=2;function OK(e,t,n,i,s,a){var o=n&AK,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var f=-1,p=!0,h=n&PK?new CK:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var v=e[f],m=t[f];if(i)var y=o?i(m,v,f,t,e,a):i(v,m,f,e,t,a);if(y!==void 0){if(y)continue;p=!1;break}if(h){if(!kK(t,function(j,g){if(!EK(h,g)&&(v===j||s(v,j,n,i,a)))return h.push(g)})){p=!1;break}}else if(!(v===m||s(v,m,n,i,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var L4=OK,TK=ms,_K=TK.Uint8Array,IK=_K;function RK(e){var t=-1,n=Array(e.size);return e.forEach(function(i,s){n[++t]=[s,i]}),n}var MK=RK;function $K(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var VN=$K,Ok=vp,Tk=IK,DK=PN,FK=L4,LK=MK,qK=VN,zK=1,BK=2,UK="[object Boolean]",VK="[object Date]",WK="[object Error]",HK="[object Map]",GK="[object Number]",KK="[object RegExp]",YK="[object Set]",QK="[object String]",XK="[object Symbol]",ZK="[object ArrayBuffer]",JK="[object DataView]",_k=Ok?Ok.prototype:void 0,dy=_k?_k.valueOf:void 0;function eY(e,t,n,i,s,a,o){switch(n){case JK:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ZK:return!(e.byteLength!=t.byteLength||!a(new Tk(e),new Tk(t)));case UK:case VK:case GK:return DK(+e,+t);case WK:return e.name==t.name&&e.message==t.message;case KK:case QK:return e==t+"";case HK:var l=LK;case YK:var c=i&zK;if(l||(l=qK),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;i|=BK,o.set(e,t);var u=FK(l(e),l(t),i,s,a,o);return o.delete(e),u;case XK:if(dy)return dy.call(e)==dy.call(t)}return!1}var tY=eY;function nY(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e}var q4=nY,rY=q4,iY=wr;function sY(e,t,n){var i=t(e);return iY(e)?i:rY(i,n(e))}var aY=sY;function oY(e,t){for(var n=-1,i=e==null?0:e.length,s=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}var lY=oY;function cY(){return[]}var dY=cY,uY=lY,fY=dY,pY=Object.prototype,mY=pY.propertyIsEnumerable,Ik=Object.getOwnPropertySymbols,hY=Ik?function(e){return e==null?[]:(e=Object(e),uY(Ik(e),function(t){return mY.call(e,t)}))}:fY,xY=hY;function vY(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var gY=vY,yY=ea,bY=ta,jY="[object Arguments]";function wY(e){return bY(e)&&yY(e)==jY}var NY=wY,Rk=NY,SY=ta,z4=Object.prototype,CY=z4.hasOwnProperty,kY=z4.propertyIsEnumerable,EY=Rk(function(){return arguments}())?Rk:function(e){return SY(e)&&CY.call(e,"callee")&&!kY.call(e,"callee")},WN=EY,Sh={exports:{}};function AY(){return!1}var PY=AY;Sh.exports;(function(e,t){var n=ms,i=PY,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||i;e.exports=d})(Sh,Sh.exports);var B4=Sh.exports,OY=9007199254740991,TY=/^(?:0|[1-9]\d*)$/;function _Y(e,t){var n=typeof e;return t=t??OY,!!t&&(n=="number"||n!="symbol"&&TY.test(e))&&e>-1&&e%1==0&&e<t}var HN=_Y,IY=9007199254740991;function RY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=IY}var GN=RY,MY=ea,$Y=GN,DY=ta,FY="[object Arguments]",LY="[object Array]",qY="[object Boolean]",zY="[object Date]",BY="[object Error]",UY="[object Function]",VY="[object Map]",WY="[object Number]",HY="[object Object]",GY="[object RegExp]",KY="[object Set]",YY="[object String]",QY="[object WeakMap]",XY="[object ArrayBuffer]",ZY="[object DataView]",JY="[object Float32Array]",eQ="[object Float64Array]",tQ="[object Int8Array]",nQ="[object Int16Array]",rQ="[object Int32Array]",iQ="[object Uint8Array]",sQ="[object Uint8ClampedArray]",aQ="[object Uint16Array]",oQ="[object Uint32Array]",Wt={};Wt[JY]=Wt[eQ]=Wt[tQ]=Wt[nQ]=Wt[rQ]=Wt[iQ]=Wt[sQ]=Wt[aQ]=Wt[oQ]=!0;Wt[FY]=Wt[LY]=Wt[XY]=Wt[qY]=Wt[ZY]=Wt[zY]=Wt[BY]=Wt[UY]=Wt[VY]=Wt[WY]=Wt[HY]=Wt[GY]=Wt[KY]=Wt[YY]=Wt[QY]=!1;function lQ(e){return DY(e)&&$Y(e.length)&&!!Wt[MY(e)]}var cQ=lQ;function dQ(e){return function(t){return e(t)}}var U4=dQ,Ch={exports:{}};Ch.exports;(function(e,t){var n=XR,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Ch,Ch.exports);var uQ=Ch.exports,fQ=cQ,pQ=U4,Mk=uQ,$k=Mk&&Mk.isTypedArray,mQ=$k?pQ($k):fQ,V4=mQ,hQ=gY,xQ=WN,vQ=wr,gQ=B4,yQ=HN,bQ=V4,jQ=Object.prototype,wQ=jQ.hasOwnProperty;function NQ(e,t){var n=vQ(e),i=!n&&xQ(e),s=!n&&!i&&gQ(e),a=!n&&!i&&!s&&bQ(e),o=n||i||s||a,l=o?hQ(e.length,String):[],c=l.length;for(var d in e)(t||wQ.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||yQ(d,c)))&&l.push(d);return l}var SQ=NQ,CQ=Object.prototype;function kQ(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||CQ;return e===n}var EQ=kQ;function AQ(e,t){return function(n){return e(t(n))}}var W4=AQ,PQ=W4,OQ=PQ(Object.keys,Object),TQ=OQ,_Q=EQ,IQ=TQ,RQ=Object.prototype,MQ=RQ.hasOwnProperty;function $Q(e){if(!_Q(e))return IQ(e);var t=[];for(var n in Object(e))MQ.call(e,n)&&n!="constructor"&&t.push(n);return t}var DQ=$Q,FQ=AN,LQ=GN;function qQ(e){return e!=null&&LQ(e.length)&&!FQ(e)}var jp=qQ,zQ=SQ,BQ=DQ,UQ=jp;function VQ(e){return UQ(e)?zQ(e):BQ(e)}var Iv=VQ,WQ=aY,HQ=xY,GQ=Iv;function KQ(e){return WQ(e,GQ,HQ)}var YQ=KQ,Dk=YQ,QQ=1,XQ=Object.prototype,ZQ=XQ.hasOwnProperty;function JQ(e,t,n,i,s,a){var o=n&QQ,l=Dk(e),c=l.length,d=Dk(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var p=l[f];if(!(o?p in t:ZQ.call(t,p)))return!1}var h=a.get(e),v=a.get(t);if(h&&v)return h==t&&v==e;var m=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){p=l[f];var j=e[p],g=t[p];if(i)var x=o?i(g,j,p,t,e,a):i(j,g,p,e,t,a);if(!(x===void 0?j===g||s(j,g,n,i,a):x)){m=!1;break}y||(y=p=="constructor")}if(m&&!y){var w=e.constructor,b=t.constructor;w!=b&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof b=="function"&&b instanceof b)&&(m=!1)}return a.delete(e),a.delete(t),m}var eX=JQ,tX=hl,nX=ms,rX=tX(nX,"DataView"),iX=rX,sX=hl,aX=ms,oX=sX(aX,"Promise"),lX=oX,cX=hl,dX=ms,uX=cX(dX,"Set"),H4=uX,fX=hl,pX=ms,mX=fX(pX,"WeakMap"),hX=mX,Ab=iX,Pb=ON,Ob=lX,Tb=H4,_b=hX,G4=ea,Td=JR,Fk="[object Map]",xX="[object Object]",Lk="[object Promise]",qk="[object Set]",zk="[object WeakMap]",Bk="[object DataView]",vX=Td(Ab),gX=Td(Pb),yX=Td(Ob),bX=Td(Tb),jX=Td(_b),xo=G4;(Ab&&xo(new Ab(new ArrayBuffer(1)))!=Bk||Pb&&xo(new Pb)!=Fk||Ob&&xo(Ob.resolve())!=Lk||Tb&&xo(new Tb)!=qk||_b&&xo(new _b)!=zk)&&(xo=function(e){var t=G4(e),n=t==xX?e.constructor:void 0,i=n?Td(n):"";if(i)switch(i){case vX:return Bk;case gX:return Fk;case yX:return Lk;case bX:return qk;case jX:return zk}return t});var wX=xo,uy=M4,NX=L4,SX=tY,CX=eX,Uk=wX,Vk=wr,Wk=B4,kX=V4,EX=1,Hk="[object Arguments]",Gk="[object Array]",Jp="[object Object]",AX=Object.prototype,Kk=AX.hasOwnProperty;function PX(e,t,n,i,s,a){var o=Vk(e),l=Vk(t),c=o?Gk:Uk(e),d=l?Gk:Uk(t);c=c==Hk?Jp:c,d=d==Hk?Jp:d;var u=c==Jp,f=d==Jp,p=c==d;if(p&&Wk(e)){if(!Wk(t))return!1;o=!0,u=!1}if(p&&!u)return a||(a=new uy),o||kX(e)?NX(e,t,n,i,s,a):SX(e,t,c,n,i,s,a);if(!(n&EX)){var h=u&&Kk.call(e,"__wrapped__"),v=f&&Kk.call(t,"__wrapped__");if(h||v){var m=h?e.value():e,y=v?t.value():t;return a||(a=new uy),s(m,y,n,i,a)}}return p?(a||(a=new uy),CX(e,t,n,i,s,a)):!1}var OX=PX,TX=OX,Yk=ta;function K4(e,t,n,i,s){return e===t?!0:e==null||t==null||!Yk(e)&&!Yk(t)?e!==e&&t!==t:TX(e,t,n,i,K4,s)}var KN=K4,_X=M4,IX=KN,RX=1,MX=2;function $X(e,t,n,i){var s=n.length,a=s,o=!i;if(e==null)return!a;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=n[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new _X;if(i)var p=i(d,u,c,e,t,f);if(!(p===void 0?IX(u,d,RX|MX,i,f):p))return!1}}return!0}var DX=$X,FX=to;function LX(e){return e===e&&!FX(e)}var Y4=LX,qX=Y4,zX=Iv;function BX(e){for(var t=zX(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,qX(s)]}return t}var UX=BX;function VX(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Q4=VX,WX=DX,HX=UX,GX=Q4;function KX(e){var t=HX(e);return t.length==1&&t[0][2]?GX(t[0][0],t[0][1]):function(n){return n===e||WX(n,e,t)}}var YX=KX;function QX(e,t){return e!=null&&t in Object(e)}var XX=QX,ZX=i4,JX=WN,eZ=wr,tZ=HN,nZ=GN,rZ=gv;function iZ(e,t,n){t=ZX(t,e);for(var i=-1,s=t.length,a=!1;++i<s;){var o=rZ(t[i]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++i!=s?a:(s=e==null?0:e.length,!!s&&nZ(s)&&tZ(o,s)&&(eZ(e)||JX(e)))}var sZ=iZ,aZ=XX,oZ=sZ;function lZ(e,t){return e!=null&&oZ(e,t,aZ)}var cZ=lZ,dZ=KN,uZ=s4,fZ=cZ,pZ=EN,mZ=Y4,hZ=Q4,xZ=gv,vZ=1,gZ=2;function yZ(e,t){return pZ(e)&&mZ(t)?hZ(xZ(e),t):function(n){var i=uZ(n,e);return i===void 0&&i===t?fZ(n,e):dZ(t,i,vZ|gZ)}}var bZ=yZ;function jZ(e){return e}var _d=jZ;function wZ(e){return function(t){return t==null?void 0:t[e]}}var NZ=wZ,SZ=RN;function CZ(e){return function(t){return SZ(t,e)}}var kZ=CZ,EZ=NZ,AZ=kZ,PZ=EN,OZ=gv;function TZ(e){return PZ(e)?EZ(OZ(e)):AZ(e)}var _Z=TZ,IZ=YX,RZ=bZ,MZ=_d,$Z=wr,DZ=_Z;function FZ(e){return typeof e=="function"?e:e==null?MZ:typeof e=="object"?$Z(e)?RZ(e[0],e[1]):IZ(e):DZ(e)}var hs=FZ;function LZ(e,t,n,i){for(var s=e.length,a=n+(i?1:-1);i?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var X4=LZ;function qZ(e){return e!==e}var zZ=qZ;function BZ(e,t,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}var UZ=BZ,VZ=X4,WZ=zZ,HZ=UZ;function GZ(e,t,n){return t===t?HZ(e,t,n):VZ(e,WZ,n)}var KZ=GZ,YZ=KZ;function QZ(e,t){var n=e==null?0:e.length;return!!n&&YZ(e,t,0)>-1}var XZ=QZ;function ZZ(e,t,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(t,e[i]))return!0;return!1}var JZ=ZZ;function eJ(){}var tJ=eJ,fy=H4,nJ=tJ,rJ=VN,iJ=1/0,sJ=fy&&1/rJ(new fy([,-0]))[1]==iJ?function(e){return new fy(e)}:nJ,aJ=sJ,oJ=$4,lJ=XZ,cJ=JZ,dJ=F4,uJ=aJ,fJ=VN,pJ=200;function mJ(e,t,n){var i=-1,s=lJ,a=e.length,o=!0,l=[],c=l;if(n)o=!1,s=cJ;else if(a>=pJ){var d=t?null:uJ(e);if(d)return fJ(d);o=!1,s=dJ,c=new oJ}else c=t?[]:l;e:for(;++i<a;){var u=e[i],f=t?t(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),l.push(u)}else s(c,f,n)||(c!==l&&c.push(f),l.push(u))}return l}var hJ=mJ,xJ=hs,vJ=hJ;function gJ(e,t){return e&&e.length?vJ(e,xJ(t)):[]}var yJ=gJ;const Qk=Pt(yJ);function Z4(e,t,n){return t===!0?Qk(e,n):lt(t)?Qk(e,t):e}function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}var bJ=["ref"];function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(i){Rv(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function jJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,eM(i.key),i)}}function wJ(e,t,n){return t&&Zk(e.prototype,t),n&&Zk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function NJ(e,t,n){return t=kh(t),SJ(e,J4()?Reflect.construct(t,n||[],kh(e).constructor):t.apply(e,n))}function SJ(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJ(e)}function CJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J4=function(){return!!e})()}function kh(e){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(e)}function kJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ib(e,t)}function Ib(e,t){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Ib(e,t)}function Rv(e,t,n){return t=eM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eM(e){var t=EJ(e,"string");return Vc(t)=="symbol"?t:t+""}function EJ(e,t){if(Vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Vc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AJ(e,t){if(e==null)return{};var n=PJ(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function PJ(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function OJ(e){return e.value}function TJ(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var n=AJ(t,bJ);return L.createElement(UN,n)}var Jk=1,cc=function(e){function t(){var n;jJ(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=NJ(this,t,[].concat(s)),Rv(n,"lastBoundingBox",{width:-1,height:-1}),n}return kJ(t,e),wJ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();return i.height=this.wrapperNode.offsetHeight,i.width=this.wrapperNode.offsetWidth,i}return null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Jk||Math.abs(s.height-this.lastBoundingBox.height)>Jk)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,i&&i(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,f,p;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((d||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();p={top:((u||0)-v.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gs(gs({},f),p)}},{key:"render",value:function(){var i=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,f=gs(gs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){i.wrapperNode=h}},TJ(a,gs(gs({},this.props),{},{payload:Z4(u,d,OJ)})))}}],[{key:"getWithHeight",value:function(i,s){var a=gs(gs({},this.defaultProps),i.props),o=a.layout;return o==="vertical"&&je(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||s}:null}}])}(N.PureComponent);Rv(cc,"displayName","Legend");Rv(cc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eE=vp,_J=WN,IJ=wr,tE=eE?eE.isConcatSpreadable:void 0;function RJ(e){return IJ(e)||_J(e)||!!(tE&&e&&e[tE])}var MJ=RJ,$J=q4,DJ=MJ;function tM(e,t,n,i,s){var a=-1,o=e.length;for(n||(n=DJ),s||(s=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?tM(l,t-1,n,i,s):$J(s,l):i||(s[s.length]=l)}return s}var nM=tM;function FJ(e){return function(t,n,i){for(var s=-1,a=Object(t),o=i(t),l=o.length;l--;){var c=o[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}var LJ=FJ,qJ=LJ,zJ=qJ(),BJ=zJ,UJ=BJ,VJ=Iv;function WJ(e,t){return e&&UJ(e,t,VJ)}var rM=WJ,HJ=jp;function GJ(e,t){return function(n,i){if(n==null)return n;if(!HJ(n))return e(n,i);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&i(o[a],a,o)!==!1;);return n}}var KJ=GJ,YJ=rM,QJ=KJ,XJ=QJ(YJ),YN=XJ,ZJ=YN,JJ=jp;function eee(e,t){var n=-1,i=JJ(e)?Array(e.length):[];return ZJ(e,function(s,a,o){i[++n]=t(s,a,o)}),i}var iM=eee;function tee(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var nee=tee,nE=Cd;function ree(e,t){if(e!==t){var n=e!==void 0,i=e===null,s=e===e,a=nE(e),o=t!==void 0,l=t===null,c=t===t,d=nE(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||i&&o&&c||!n&&c||!s)return 1;if(!i&&!a&&!d&&e<t||d&&n&&s&&!i&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}var iee=ree,see=iee;function aee(e,t,n){for(var i=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++i<o;){var c=see(s[i],a[i]);if(c){if(i>=l)return c;var d=n[i];return c*(d=="desc"?-1:1)}}return e.index-t.index}var oee=aee,py=IN,lee=RN,cee=hs,dee=iM,uee=nee,fee=U4,pee=oee,mee=_d,hee=wr;function xee(e,t,n){t.length?t=py(t,function(a){return hee(a)?function(o){return lee(o,a.length===1?a[0]:a)}:a}):t=[mee];var i=-1;t=py(t,fee(cee));var s=dee(e,function(a,o,l){var c=py(t,function(d){return d(a)});return{criteria:c,index:++i,value:a}});return uee(s,function(a,o){return pee(a,o,n)})}var vee=xee;function gee(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var yee=gee,bee=yee,rE=Math.max;function jee(e,t,n){return t=rE(t===void 0?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=rE(i.length-t,0),o=Array(a);++s<a;)o[s]=i[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=i[s];return l[t]=n(o),bee(e,this,l)}}var wee=jee;function Nee(e){return function(){return e}}var See=Nee,Cee=hl,kee=function(){try{var e=Cee(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sM=kee,Eee=See,iE=sM,Aee=_d,Pee=iE?function(e,t){return iE(e,"toString",{configurable:!0,enumerable:!1,value:Eee(t),writable:!0})}:Aee,Oee=Pee,Tee=800,_ee=16,Iee=Date.now;function Ree(e){var t=0,n=0;return function(){var i=Iee(),s=_ee-(i-n);if(n=i,s>0){if(++t>=Tee)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Mee=Ree,$ee=Oee,Dee=Mee,Fee=Dee($ee),Lee=Fee,qee=_d,zee=wee,Bee=Lee;function Uee(e,t){return Bee(zee(e,t,qee),e+"")}var Vee=Uee,Wee=PN,Hee=jp,Gee=HN,Kee=to;function Yee(e,t,n){if(!Kee(n))return!1;var i=typeof t;return(i=="number"?Hee(n)&&Gee(t,n.length):i=="string"&&t in n)?Wee(n[t],e):!1}var Mv=Yee,Qee=nM,Xee=vee,Zee=Vee,sE=Mv,Jee=Zee(function(e,t){if(e==null)return[];var n=t.length;return n>1&&sE(e,t[0],t[1])?t=[]:n>2&&sE(t[0],t[1],t[2])&&(t=[t[0]]),Xee(e,Qee(t,1),[])}),ete=Jee;const QN=Pt(ete);function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rb.apply(this,arguments)}function tte(e,t){return ste(e)||ite(e,t)||rte(e,t)||nte()}function nte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(e,t){if(e){if(typeof e=="string")return aE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(e,t)}}function aE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ite(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ste(e){if(Array.isArray(e))return e}function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function my(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(i){ate(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ate(e,t,n){return t=ote(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ote(e){var t=lte(e,"string");return of(t)=="symbol"?t:t+""}function lte(e,t){if(of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(of(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cte(e){return Array.isArray(e)&&Sn(e[0])&&Sn(e[1])?e.join(" ~ "):e}var dte=function(t){var n=t.separator,i=n===void 0?" : ":n,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,v=t.labelClassName,m=t.label,y=t.labelFormatter,j=t.accessibilityLayer,g=j===void 0?!1:j,x=function(){if(u&&u.length){var A={padding:0,margin:0},P=(p?QN(u,p):u).map(function(_,F){if(_.type==="none")return null;var M=my({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},l),G=_.formatter||f||cte,z=_.value,H=_.name,D=z,U=H;if(G&&D!=null&&U!=null){var I=G(z,H,_,F,u);if(Array.isArray(I)){var se=tte(I,2);D=se[0],U=se[1]}else D=I}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:M},Sn(U)?L.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Sn(U)?L.createElement("span",{className:"recharts-tooltip-item-separator"},i):null,L.createElement("span",{className:"recharts-tooltip-item-value"},D),L.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:A},P)}return null},w=my({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=my({margin:0},d),C=!gt(m),k=C?m:"",S=xt("recharts-default-tooltip",h),E=xt("recharts-tooltip-label",v);C&&y&&u!==void 0&&u!==null&&(k=y(m,u));var $=g?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Rb({className:S,style:w},$),L.createElement("p",{className:E,style:b},L.isValidElement(k)?k:"".concat(k)),x())};function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function em(e,t,n){return t=ute(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ute(e){var t=fte(e,"string");return lf(t)=="symbol"?t:t+""}function fte(e,t){if(lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(lf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd="recharts-tooltip-wrapper",pte={visibility:"hidden"};function mte(e){var t=e.coordinate,n=e.translateX,i=e.translateY;return xt(Xd,em(em(em(em({},"".concat(Xd,"-right"),je(n)&&t&&je(t.x)&&n>=t.x),"".concat(Xd,"-left"),je(n)&&t&&je(t.x)&&n<t.x),"".concat(Xd,"-bottom"),je(i)&&t&&je(t.y)&&i>=t.y),"".concat(Xd,"-top"),je(i)&&t&&je(t.y)&&i<t.y))}function lE(e){var t=e.allowEscapeViewBox,n=e.coordinate,i=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&je(a[i]))return a[i];var u=n[i]-l-s,f=n[i]+s;if(t[i])return o[i]?u:f;if(o[i]){var p=u,h=c[i];return p<h?Math.max(f,c[i]):Math.max(u,c[i])}var v=f+l,m=c[i]+d;return v>m?Math.max(u,c[i]):Math.max(f,c[i])}function hte(e){var t=e.translateX,n=e.translateY,i=e.useTranslate3d;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function xte(e){var t=e.allowEscapeViewBox,n=e.coordinate,i=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&n?(u=lE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=lE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=hte({translateX:u,translateY:f,useTranslate3d:l})):d=pte,{cssProperties:d,cssClasses:mte({translateX:u,translateY:f,coordinate:n})}}function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function dE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(n),!0).forEach(function(i){$b(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gte(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,oM(i.key),i)}}function yte(e,t,n){return t&&gte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bte(e,t,n){return t=Eh(t),jte(e,aM()?Reflect.construct(t,n||[],Eh(e).constructor):t.apply(e,n))}function jte(e,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wte(e)}function wte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aM=function(){return!!e})()}function Eh(e){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eh(e)}function Nte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mb(e,t)}function Mb(e,t){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Mb(e,t)}function $b(e,t,n){return t=oM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oM(e){var t=Ste(e,"string");return Wc(t)=="symbol"?t:t+""}function Ste(e,t){if(Wc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Wc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uE=1,Cte=function(e){function t(){var n;vte(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=bte(this,t,[].concat(s)),$b(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$b(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return Nte(t,e),yte(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.state.lastBoundingBox.width)>uE||Math.abs(i.height-this.state.lastBoundingBox.height)>uE)&&this.setState({lastBoundingBox:{width:i.width,height:i.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,f=s.hasPayload,p=s.isAnimationActive,h=s.offset,v=s.position,m=s.reverseDirection,y=s.useTranslate3d,j=s.viewBox,g=s.wrapperStyle,x=xte({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:j}),w=x.cssClasses,b=x.cssProperties,C=dE(dE({transition:p&&a?"transform ".concat(l,"ms ").concat(c):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return L.createElement("div",{tabIndex:-1,className:w,style:C,ref:function(S){i.wrapperNode=S}},d)}}])}(N.PureComponent),kte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ms={isSsr:kte(),get:function(t){return Ms[t]},set:function(t,n){if(typeof t=="string")Ms[t]=n;else{var i=Object.keys(t);i&&i.length&&i.forEach(function(s){Ms[s]=t[s]})}}};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function fE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function pE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(n),!0).forEach(function(i){XN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ete(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ate(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cM(i.key),i)}}function Pte(e,t,n){return t&&Ate(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ote(e,t,n){return t=Ah(t),Tte(e,lM()?Reflect.construct(t,n||[],Ah(e).constructor):t.apply(e,n))}function Tte(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _te(e)}function _te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lM=function(){return!!e})()}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ah(e)}function Ite(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Db(e,t)}function XN(e,t,n){return t=cM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cM(e){var t=Rte(e,"string");return Hc(t)=="symbol"?t:t+""}function Rte(e,t){if(Hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Hc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mte(e){return e.dataKey}function $te(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(dte,t)}var xi=function(e){function t(){return Ete(this,t),Ote(this,t,arguments)}return Ite(t,e),Pte(t,[{key:"render",value:function(){var i=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,f=s.filterNull,p=s.isAnimationActive,h=s.offset,v=s.payload,m=s.payloadUniqBy,y=s.position,j=s.reverseDirection,g=s.useTranslate3d,x=s.viewBox,w=s.wrapperStyle,b=v??[];f&&b.length&&(b=Z4(v.filter(function(k){return k.value!=null&&(k.hide!==!0||i.props.includeHidden)}),m,Mte));var C=b.length>0;return L.createElement(Cte,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:a,coordinate:u,hasPayload:C,offset:h,position:y,reverseDirection:j,useTranslate3d:g,viewBox:x,wrapperStyle:w},$te(d,pE(pE({},this.props),{},{payload:b})))}}])}(N.PureComponent);XN(xi,"displayName","Tooltip");XN(xi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ms.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Dte=ms,Fte=function(){return Dte.Date.now()},Lte=Fte,qte=/\s/;function zte(e){for(var t=e.length;t--&&qte.test(e.charAt(t)););return t}var Bte=zte,Ute=Bte,Vte=/^\s+/;function Wte(e){return e&&e.slice(0,Ute(e)+1).replace(Vte,"")}var Hte=Wte,Gte=Hte,mE=to,Kte=Cd,hE=NaN,Yte=/^[-+]0x[0-9a-f]+$/i,Qte=/^0b[01]+$/i,Xte=/^0o[0-7]+$/i,Zte=parseInt;function Jte(e){if(typeof e=="number")return e;if(Kte(e))return hE;if(mE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=mE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Gte(e);var n=Qte.test(e);return n||Xte.test(e)?Zte(e.slice(2),n?2:8):Yte.test(e)?hE:+e}var dM=Jte,ene=to,hy=Lte,xE=dM,tne="Expected a function",nne=Math.max,rne=Math.min;function ine(e,t,n){var i,s,a,o,l,c,d=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(tne);t=xE(t)||0,ene(n)&&(u=!!n.leading,f="maxWait"in n,a=f?nne(xE(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function h(C){var k=i,S=s;return i=s=void 0,d=C,o=e.apply(S,k),o}function v(C){return d=C,l=setTimeout(j,t),u?h(C):o}function m(C){var k=C-c,S=C-d,E=t-k;return f?rne(E,a-S):E}function y(C){var k=C-c,S=C-d;return c===void 0||k>=t||k<0||f&&S>=a}function j(){var C=hy();if(y(C))return g(C);l=setTimeout(j,m(C))}function g(C){return l=void 0,p&&i?h(C):(i=s=void 0,o)}function x(){l!==void 0&&clearTimeout(l),d=0,i=c=s=l=void 0}function w(){return l===void 0?o:g(hy())}function b(){var C=hy(),k=y(C);if(i=arguments,s=this,c=C,k){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(j,t),h(c)}return l===void 0&&(l=setTimeout(j,t)),o}return b.cancel=x,b.flush=w,b}var sne=ine,ane=sne,one=to,lne="Expected a function";function cne(e,t,n){var i=!0,s=!0;if(typeof e!="function")throw new TypeError(lne);return one(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),ane(e,t,{leading:i,maxWait:t,trailing:s})}var dne=cne;const uM=Pt(dne);function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(i){une(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function une(e,t,n){return t=fne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fne(e){var t=pne(e,"string");return cf(t)=="symbol"?t:t+""}function pne(e,t){if(cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(cf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e,t){return gne(e)||vne(e,t)||xne(e,t)||hne()}function hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xne(e,t){if(e){if(typeof e=="string")return gE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gE(e,t)}}function gE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function gne(e){if(Array.isArray(e))return e}var yE=N.forwardRef(function(e,t){var n=e.aspect,i=e.initialDimension,s=i===void 0?{width:-1,height:-1}:i,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,p=e.maxHeight,h=e.children,v=e.debounce,m=v===void 0?0:v,y=e.id,j=e.className,g=e.onResize,x=e.style,w=x===void 0?{}:x,b=N.useRef(null),C=N.useRef();C.current=g,N.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var k=N.useState({containerWidth:s.width,containerHeight:s.height}),S=mne(k,2),E=S[0],$=S[1],O=N.useCallback(function(P,_){$(function(F){var M=Math.round(P),G=Math.round(_);return F.containerWidth===M&&F.containerHeight===G?F:{containerWidth:M,containerHeight:G}})},[]);N.useEffect(function(){var P=function(H){var D,U=H[0].contentRect,I=U.width,se=U.height;O(I,se),(D=C.current)===null||D===void 0||D.call(C,I,se)};m>0&&(P=uM(P,m,{trailing:!0,leading:!1}));var _=new ResizeObserver(P),F=b.current.getBoundingClientRect(),M=F.width,G=F.height;return O(M,G),_.observe(b.current),function(){_.disconnect()}},[O,m]);var A=N.useMemo(function(){var P=E.containerWidth,_=E.containerHeight;if(P<0||_<0)return null;Pi(So(o)||So(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Pi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=So(o)?P:o,M=So(c)?_:c;n&&n>0&&(F?M=F/n:M&&(F=M*n),p&&M>p&&(M=p)),Pi(F>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,M,o,c,u,f,n);var G=!Array.isArray(h)&&Rs(h.type).endsWith("Chart");return L.Children.map(h,function(z){return L.isValidElement(z)?N.cloneElement(z,tm({width:F,height:M},G?{style:tm({height:"100%",width:"100%",maxHeight:M,maxWidth:F},z.props.style)}:{})):z})},[n,h,c,p,f,u,E,o]);return L.createElement("div",{id:y?"".concat(y):void 0,className:xt("recharts-responsive-container",j),style:tm(tm({},w),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:p}),ref:b},A)}),$v=function(t){return null};$v.displayName="Cell";function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function bE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(n),!0).forEach(function(i){yne(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yne(e,t,n){return t=bne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bne(e){var t=jne(e,"string");return df(t)=="symbol"?t:t+""}function jne(e,t){if(df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(df(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sl={widthCache:{},cacheCount:0},wne=2e3,Nne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jE="recharts_measurement_span";function Sne(e){var t=Fb({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Ou=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ms.isSsr)return{width:0,height:0};var i=Sne(n),s=JSON.stringify({text:t,copyStyle:i});if(Sl.widthCache[s])return Sl.widthCache[s];try{var a=document.getElementById(jE);a||(a=document.createElement("span"),a.setAttribute("id",jE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Fb(Fb({},Nne),i);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Sl.widthCache[s]=c,++Sl.cacheCount>wne&&(Sl.cacheCount=0,Sl.widthCache={}),c}catch{return{width:0,height:0}}},Cne=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Ph(e,t){return Pne(e)||Ane(e,t)||Ene(e,t)||kne()}function kne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(e,t){if(e){if(typeof e=="string")return wE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(e,t)}}function wE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ane(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Pne(e){if(Array.isArray(e))return e}function One(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_ne(i.key),i)}}function Tne(e,t,n){return t&&NE(e.prototype,t),n&&NE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ne(e){var t=Ine(e,"string");return uf(t)=="symbol"?t:t+""}function Ine(e,t){if(uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(uf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ne=Object.keys(fM),Hl="NaN";function Dne(e,t){return e*fM[t]}var nm=function(){function e(t,n){One(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Rne.test(n)&&(this.num=NaN,this.unit=""),$ne.includes(n)&&(this.num=Dne(t,n),this.unit="px")}return Tne(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var i,s=(i=Mne.exec(n))!==null&&i!==void 0?i:[],a=Ph(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function pM(e){if(e.includes(Hl))return Hl;for(var t=e;t.includes("*")||t.includes("/");){var n,i=(n=SE.exec(t))!==null&&n!==void 0?n:[],s=Ph(i,4),a=s[1],o=s[2],l=s[3],c=nm.parse(a??""),d=nm.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Hl;t=t.replace(SE,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=CE.exec(t))!==null&&f!==void 0?f:[],h=Ph(p,4),v=h[1],m=h[2],y=h[3],j=nm.parse(v??""),g=nm.parse(y??""),x=m==="+"?j.add(g):j.subtract(g);if(x.isNaN())return Hl;t=t.replace(CE,x.toString())}return t}var kE=/\(([^()]*)\)/;function Fne(e){for(var t=e;t.includes("(");){var n=kE.exec(t),i=Ph(n,2),s=i[1];t=t.replace(kE,pM(s))}return t}function Lne(e){var t=e.replace(/\s+/g,"");return t=Fne(t),t=pM(t),t}function qne(e){try{return Lne(e)}catch{return Hl}}function xy(e){var t=qne(e.slice(5,-1));return t===Hl?"":t}var zne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bne=["dx","dy","angle","className","breakAll"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lb.apply(this,arguments)}function EE(e,t){if(e==null)return{};var n=Une(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Une(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function AE(e,t){return Gne(e)||Hne(e,t)||Wne(e,t)||Vne()}function Vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wne(e,t){if(e){if(typeof e=="string")return PE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PE(e,t)}}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Hne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Gne(e){if(Array.isArray(e))return e}var mM=/[ \f\n\r\t\v\u2028\u2029]+/,hM=function(t){var n=t.children,i=t.breakAll,s=t.style;try{var a=[];gt(n)||(i?a=n.toString().split(""):a=n.toString().split(mM));var o=a.map(function(c){return{word:c,width:Ou(c,s).width}}),l=i?0:Ou(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Kne=function(t,n,i,s,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=je(o),f=l,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(M,G){var z=G.word,H=G.width,D=M[M.length-1];if(D&&(s==null||a||D.width+H+i<Number(s)))D.words.push(z),D.width+=H+i;else{var U={words:[z],width:H};M.push(U)}return M},[])},h=p(n),v=function(F){return F.reduce(function(M,G){return M.width>G.width?M:G})};if(!u)return h;for(var m="…",y=function(F){var M=f.slice(0,F),G=hM({breakAll:d,style:c,children:M+m}).wordsWithComputedWidth,z=p(G),H=z.length>o||v(z).width>Number(s);return[H,z]},j=0,g=f.length-1,x=0,w;j<=g&&x<=f.length-1;){var b=Math.floor((j+g)/2),C=b-1,k=y(C),S=AE(k,2),E=S[0],$=S[1],O=y(b),A=AE(O,1),P=A[0];if(!E&&!P&&(j=b+1),E&&P&&(g=b-1),!E&&P){w=$;break}x++}return w||h},OE=function(t){var n=gt(t)?[]:t.toString().split(mM);return[{words:n}]},Yne=function(t){var n=t.width,i=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||i)&&!Ms.isSsr){var c,d,u=hM({breakAll:o,children:s,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;c=f,d=p}else return OE(s);return Kne({breakAll:o,children:s,maxLines:l,style:a},c,d,n,i)}return OE(s)},TE="#808080",nl=function(t){var n=t.x,i=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,h=p===void 0?"start":p,v=t.verticalAnchor,m=v===void 0?"end":v,y=t.fill,j=y===void 0?TE:y,g=EE(t,zne),x=N.useMemo(function(){return Yne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),w=g.dx,b=g.dy,C=g.angle,k=g.className,S=g.breakAll,E=EE(g,Bne);if(!Sn(i)||!Sn(a))return null;var $=i+(je(w)?w:0),O=a+(je(b)?b:0),A;switch(m){case"start":A=xy("calc(".concat(d,")"));break;case"middle":A=xy("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:A=xy("calc(".concat(x.length-1," * -").concat(l,")"));break}var P=[];if(f){var _=x[0].width,F=g.width;P.push("scale(".concat((je(F)?F/_:1)/_,")"))}return C&&P.push("rotate(".concat(C,", ").concat($,", ").concat(O,")")),P.length&&(E.transform=P.join(" ")),L.createElement("text",Lb({},at(E,!0),{x:$,y:O,className:xt("recharts-text",k),textAnchor:h,fill:j.includes("url")?TE:j}),x.map(function(M,G){var z=M.words.join(S?"":" ");return L.createElement("tspan",{x:$,dy:G===0?A:l,key:"".concat(z,"-").concat(G)},z)}))};function La(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZN(e){let t,n,i;e.length!==2?(t=La,n=(l,c)=>La(e(l),c),i=(l,c)=>e(l)-c):(t=e===La||e===Qne?e:Xne,n=e,i=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=s(l,c,d,u-1);return f>d&&i(l[f-1],c)>-i(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function Xne(){return 0}function xM(e){return e===null?NaN:+e}function*Zne(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Jne=ZN(La),wp=Jne.right;ZN(xM).center;class _E extends Map{constructor(t,n=nre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(IE(this,t))}has(t){return super.has(IE(this,t))}set(t,n){return super.set(ere(this,t),n)}delete(t){return super.delete(tre(this,t))}}function IE({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function ere({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function tre({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function nre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function rre(e=La){if(e===La)return vM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function vM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ire=Math.sqrt(50),sre=Math.sqrt(10),are=Math.sqrt(2);function Oh(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),a=i/Math.pow(10,s),o=a>=ire?10:a>=sre?5:a>=are?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?Oh(e,t,n*2):[l,c,d]}function qb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,a,o]=i?Oh(t,e,n):Oh(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(i)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function zb(e,t,n){return t=+t,e=+e,n=+n,Oh(e,t,n)[2]}function Bb(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?zb(t,e,n):zb(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function RE(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function ME(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function gM(e,t,n=0,i=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(s=s===void 0?vM:rre(s);i>n;){if(i-n>600){const c=i-n+1,d=t-n+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(n,Math.floor(t-d*f/c+p)),v=Math.min(i,Math.floor(t+(c-d)*f/c+p));gM(e,t,h,v,s)}const a=e[t];let o=n,l=i;for(Zd(e,n,t),s(e[i],a)>0&&Zd(e,n,i);o<l;){for(Zd(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[n],a)===0?Zd(e,n,l):(++l,Zd(e,l,i)),l<=t&&(n=l+1),t<=l&&(i=l-1)}return e}function Zd(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function ore(e,t,n){if(e=Float64Array.from(Zne(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return ME(e);if(t>=1)return RE(e);var i,s=(i-1)*t,a=Math.floor(s),o=RE(gM(e,a).subarray(0,a+1)),l=ME(e.subarray(a+1));return o+(l-o)*(s-a)}}function lre(e,t,n=xM){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,s=(i-1)*t,a=Math.floor(s),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function cre(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++i<s;)a[i]=e+i*n;return a}function li(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function na(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ub=Symbol("implicit");function JN(){var e=new _E,t=[],n=[],i=Ub;function s(a){let o=e.get(a);if(o===void 0){if(i!==Ub)return i;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new _E;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return JN(t,n).unknown(i)},li.apply(s,arguments),s}function ff(){var e=JN().unknown(void 0),t=e.domain,n=e.range,i=0,s=1,a,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,h=s<i,v=h?s:i,m=h?i:s;a=(m-v)/Math.max(1,p-c+d*2),l&&(a=Math.floor(a)),v+=(m-v-a*(p-c))*u,o=a*(1-c),l&&(v=Math.round(v),o=Math.round(o));var y=cre(p).map(function(j){return v+a*j});return n(h?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([i,s]=p,i=+i,s=+s,f()):[i,s]},e.rangeRound=function(p){return[i,s]=p,i=+i,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return ff(t(),[i,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},li.apply(f(),arguments)}function yM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yM(t())},e}function Tu(){return yM(ff.apply(null,arguments).paddingInner(1))}function e1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bM(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Np(){}var pf=.7,Th=1/pf,dc="\\s*([+-]?\\d+)\\s*",mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dre=/^#([0-9a-f]{3,8})$/,ure=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),fre=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),pre=new RegExp(`^rgba\\(${dc},${dc},${dc},${mf}\\)$`),mre=new RegExp(`^rgba\\(${rs},${rs},${rs},${mf}\\)$`),hre=new RegExp(`^hsl\\(${mf},${rs},${rs}\\)$`),xre=new RegExp(`^hsla\\(${mf},${rs},${rs},${mf}\\)$`),$E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e1(Np,hf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DE,formatHex:DE,formatHex8:vre,formatHsl:gre,formatRgb:FE,toString:FE});function DE(){return this.rgb().formatHex()}function vre(){return this.rgb().formatHex8()}function gre(){return jM(this).formatHsl()}function FE(){return this.rgb().formatRgb()}function hf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=dre.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?LE(t):n===3?new vr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ure.exec(e))?new vr(t[1],t[2],t[3],1):(t=fre.exec(e))?new vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pre.exec(e))?rm(t[1],t[2],t[3],t[4]):(t=mre.exec(e))?rm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hre.exec(e))?BE(t[1],t[2]/100,t[3]/100,1):(t=xre.exec(e))?BE(t[1],t[2]/100,t[3]/100,t[4]):$E.hasOwnProperty(e)?LE($E[e]):e==="transparent"?new vr(NaN,NaN,NaN,0):null}function LE(e){return new vr(e>>16&255,e>>8&255,e&255,1)}function rm(e,t,n,i){return i<=0&&(e=t=n=NaN),new vr(e,t,n,i)}function yre(e){return e instanceof Np||(e=hf(e)),e?(e=e.rgb(),new vr(e.r,e.g,e.b,e.opacity)):new vr}function Vb(e,t,n,i){return arguments.length===1?yre(e):new vr(e,t,n,i??1)}function vr(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}e1(vr,Vb,bM(Np,{brighter(e){return e=e==null?Th:Math.pow(Th,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pf:Math.pow(pf,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vr(qo(this.r),qo(this.g),qo(this.b),_h(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qE,formatHex:qE,formatHex8:bre,formatRgb:zE,toString:zE}));function qE(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function bre(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function zE(){const e=_h(this.opacity);return`${e===1?"rgb(":"rgba("}${qo(this.r)}, ${qo(this.g)}, ${qo(this.b)}${e===1?")":`, ${e})`}`}function _h(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Co(e){return e=qo(e),(e<16?"0":"")+e.toString(16)}function BE(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bi(e,t,n,i)}function jM(e){if(e instanceof bi)return new bi(e.h,e.s,e.l,e.opacity);if(e instanceof Np||(e=hf(e)),!e)return new bi;if(e instanceof bi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new bi(o,l,c,e.opacity)}function jre(e,t,n,i){return arguments.length===1?jM(e):new bi(e,t,n,i??1)}function bi(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}e1(bi,jre,bM(Np,{brighter(e){return e=e==null?Th:Math.pow(Th,e),new bi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pf:Math.pow(pf,e),new bi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new vr(vy(e>=240?e-240:e+120,s,i),vy(e,s,i),vy(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new bi(UE(this.h),im(this.s),im(this.l),_h(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_h(this.opacity);return`${e===1?"hsl(":"hsla("}${UE(this.h)}, ${im(this.s)*100}%, ${im(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UE(e){return e=(e||0)%360,e<0?e+360:e}function im(e){return Math.max(0,Math.min(1,e||0))}function vy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const t1=e=>()=>e;function wre(e,t){return function(n){return e+n*t}}function Nre(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Sre(e){return(e=+e)==1?wM:function(t,n){return n-t?Nre(t,n,e):t1(isNaN(t)?n:t)}}function wM(e,t){var n=t-e;return n?wre(e,n):t1(isNaN(e)?t:e)}const VE=function e(t){var n=Sre(t);function i(s,a){var o=n((s=Vb(s)).r,(a=Vb(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),d=wM(s.opacity,a.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return i.gamma=e,i}(1);function Cre(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(a){for(s=0;s<n;++s)i[s]=e[s]*(1-a)+t[s]*a;return i}}function kre(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ere(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)s[o]=Id(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=s[o](l);return a}}function Are(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Ih(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Pre(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Id(e[s],t[s]):i[s]=t[s];return function(a){for(s in n)i[s]=n[s](a);return i}}var Wb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gy=new RegExp(Wb.source,"g");function Ore(e){return function(){return e}}function Tre(e){return function(t){return e(t)+""}}function _re(e,t){var n=Wb.lastIndex=gy.lastIndex=0,i,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(i=Wb.exec(e))&&(s=gy.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Ih(i,s)})),n=gy.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Tre(c[0].x):Ore(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Id(e,t){var n=typeof t,i;return t==null||n==="boolean"?t1(t):(n==="number"?Ih:n==="string"?(i=hf(t))?(t=i,VE):_re:t instanceof hf?VE:t instanceof Date?Are:kre(t)?Cre:Array.isArray(t)?Ere:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pre:Ih)(e,t)}function n1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ire(e,t){t===void 0&&(t=e,e=Id);for(var n=0,i=t.length-1,s=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[l](o-l)}}function Rre(e){return function(){return e}}function Rh(e){return+e}var WE=[0,1];function or(e){return e}function Hb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Rre(isNaN(t)?NaN:.5)}function Mre(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function $re(e,t,n){var i=e[0],s=e[1],a=t[0],o=t[1];return s<i?(i=Hb(s,i),a=n(o,a)):(i=Hb(i,s),a=n(a,o)),function(l){return a(i(l))}}function Dre(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)s[o]=Hb(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=wp(e,l,1,i)-1;return a[c](s[c](l))}}function Sp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dv(){var e=WE,t=WE,n=Id,i,s,a,o=or,l,c,d;function u(){var p=Math.min(e.length,t.length);return o!==or&&(o=Mre(e[0],e[p-1])),l=p>2?Dre:$re,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?a:(c||(c=l(e.map(i),t,n)))(i(o(p)))}return f.invert=function(p){return o(s((d||(d=l(t,e.map(i),Ih)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Rh),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=n1,u()},f.clamp=function(p){return arguments.length?(o=p?!0:or,u()):o!==or},f.interpolate=function(p){return arguments.length?(n=p,u()):n},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return i=p,s=h,u()}}function r1(){return Dv()(or,or)}function Fre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Mh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Gc(e){return e=Mh(Math.abs(e)),e?e[1]:NaN}function Lre(e,t){return function(n,i){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>i));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function qre(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var zre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xf(e){if(!(t=zre.exec(e)))throw new Error("invalid format: "+e);var t;return new i1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xf.prototype=i1.prototype;function i1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}i1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bre(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var NM;function Ure(e,t){var n=Mh(e,t);if(!n)return e+"";var i=n[0],s=n[1],a=s-(NM=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Mh(e,Math.max(0,t+a-1))[0]}function HE(e,t){var n=Mh(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const GE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Fre,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>HE(e*100,t),r:HE,s:Ure,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KE(e){return e}var YE=Array.prototype.map,QE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Vre(e){var t=e.grouping===void 0||e.thousands===void 0?KE:Lre(YE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?KE:qre(YE.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=xf(f);var p=f.fill,h=f.align,v=f.sign,m=f.symbol,y=f.zero,j=f.width,g=f.comma,x=f.precision,w=f.trim,b=f.type;b==="n"?(g=!0,b="g"):GE[b]||(x===void 0&&(x=12),w=!0,b="g"),(y||p==="0"&&h==="=")&&(y=!0,p="0",h="=");var C=m==="$"?n:m==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",k=m==="$"?i:/[%p]/.test(b)?o:"",S=GE[b],E=/[defgprs%]/.test(b);x=x===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function $(O){var A=C,P=k,_,F,M;if(b==="c")P=S(O)+P,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?c:S(Math.abs(O),x),w&&(O=Bre(O)),G&&+O==0&&v!=="+"&&(G=!1),A=(G?v==="("?v:l:v==="-"||v==="("?"":v)+A,P=(b==="s"?QE[8+NM/3]:"")+P+(G&&v==="("?")":""),E){for(_=-1,F=O.length;++_<F;)if(M=O.charCodeAt(_),48>M||M>57){P=(M===46?s+O.slice(_+1):O.slice(_))+P,O=O.slice(0,_);break}}}g&&!y&&(O=t(O,1/0));var z=A.length+O.length+P.length,H=z<j?new Array(j-z+1).join(p):"";switch(g&&y&&(O=t(H+O,H.length?j-P.length:1/0),H=""),h){case"<":O=A+O+P+H;break;case"=":O=A+H+O+P;break;case"^":O=H.slice(0,z=H.length>>1)+A+O+P+H.slice(z);break;default:O=H+A+O+P;break}return a(O)}return $.toString=function(){return f+""},$}function u(f,p){var h=d((f=xf(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Gc(p)/3)))*3,m=Math.pow(10,-v),y=QE[8+v/3];return function(j){return h(m*j)+y}}return{format:d,formatPrefix:u}}var sm,s1,SM;Wre({thousands:",",grouping:[3],currency:["$",""]});function Wre(e){return sm=Vre(e),s1=sm.format,SM=sm.formatPrefix,sm}function Hre(e){return Math.max(0,-Gc(Math.abs(e)))}function Gre(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gc(t)/3)))*3-Gc(Math.abs(e)))}function Kre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gc(t)-Gc(e))+1}function CM(e,t,n,i){var s=Bb(e,t,n),a;switch(i=xf(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=Gre(s,o))&&(i.precision=a),SM(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Kre(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Hre(s))&&(i.precision=a-(i.type==="%")*2);break}}return s1(i)}function no(e){var t=e.domain;return e.ticks=function(n){var i=t();return qb(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var s=t();return CM(s[0],s[s.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,a=i.length-1,o=i[s],l=i[a],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=a,a=d);u-- >0;){if(d=zb(o,l,n),d===c)return i[s]=o,i[a]=l,t(i);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function $h(){var e=r1();return e.copy=function(){return Sp(e,$h())},li.apply(e,arguments),no(e)}function kM(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,Rh),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return kM(e).unknown(t)},e=arguments.length?Array.from(e,Rh):[0,1],no(n)}function EM(e,t){e=e.slice();var n=0,i=e.length-1,s=e[n],a=e[i],o;return a<s&&(o=n,n=i,i=o,o=s,s=a,a=o),e[n]=t.floor(s),e[i]=t.ceil(a),e}function XE(e){return Math.log(e)}function ZE(e){return Math.exp(e)}function Yre(e){return-Math.log(-e)}function Qre(e){return-Math.exp(-e)}function Xre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Zre(e){return e===10?Xre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Jre(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JE(e){return(t,n)=>-e(-t,n)}function a1(e){const t=e(XE,ZE),n=t.domain;let i=10,s,a;function o(){return s=Jre(i),a=Zre(i),n()[0]<0?(s=JE(s),a=JE(a),e(Yre,Qre)):e(XE,ZE),t}return t.base=function(l){return arguments.length?(i=+l,o()):i},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=s(d),h=s(u),v,m;const y=l==null?10:+l;let j=[];if(!(i%1)&&h-p<y){if(p=Math.floor(p),h=Math.ceil(h),d>0){for(;p<=h;++p)for(v=1;v<i;++v)if(m=p<0?v/a(-p):v*a(p),!(m<d)){if(m>u)break;j.push(m)}}else for(;p<=h;++p)for(v=i-1;v>=1;--v)if(m=p>0?v/a(-p):v*a(p),!(m<d)){if(m>u)break;j.push(m)}j.length*2<y&&(j=qb(d,u,y))}else j=qb(p,h,Math.min(h-p,y)).map(a);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=xf(c)).precision==null&&(c.trim=!0),c=s1(c)),l===1/0)return c;const d=Math.max(1,i*l/t.ticks().length);return u=>{let f=u/a(Math.round(s(u)));return f*i<i-.5&&(f*=i),f<=d?c(u):""}},t.nice=()=>n(EM(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function AM(){const e=a1(Dv()).domain([1,10]);return e.copy=()=>Sp(e,AM()).base(e.base()),li.apply(e,arguments),e}function eA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function o1(e){var t=1,n=e(eA(t),tA(t));return n.constant=function(i){return arguments.length?e(eA(t=+i),tA(t)):t},no(n)}function PM(){var e=o1(Dv());return e.copy=function(){return Sp(e,PM()).constant(e.constant())},li.apply(e,arguments)}function nA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function eie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tie(e){return e<0?-e*e:e*e}function l1(e){var t=e(or,or),n=1;function i(){return n===1?e(or,or):n===.5?e(eie,tie):e(nA(n),nA(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,i()):n},no(t)}function c1(){var e=l1(Dv());return e.copy=function(){return Sp(e,c1()).exponent(e.exponent())},li.apply(e,arguments),e}function nie(){return c1.apply(null,arguments).exponent(.5)}function rA(e){return Math.sign(e)*e*e}function rie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function OM(){var e=r1(),t=[0,1],n=!1,i;function s(a){var o=rie(e(a));return isNaN(o)?i:n?Math.round(o):o}return s.invert=function(a){return e.invert(rA(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,Rh)).map(rA)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return OM(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},li.apply(s,arguments),no(s)}function TM(){var e=[],t=[],n=[],i;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=lre(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?i:t[wp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(La),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return TM().domain(e).range(t).unknown(i)},li.apply(a,arguments)}function _M(){var e=0,t=1,n=1,i=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[wp(i,c,0,n)]:a}function l(){var c=-1;for(i=new Array(n);++c<n;)i[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,i[0]]:d>=n?[i[n-1],t]:[i[d-1],i[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return i.slice()},o.copy=function(){return _M().domain([e,t]).range(s).unknown(a)},li.apply(no(o),arguments)}function IM(){var e=[.5],t=[0,1],n,i=1;function s(a){return a!=null&&a<=a?t[wp(e,a,0,i)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),i=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),i=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return IM().domain(e).range(t).unknown(n)},li.apply(s,arguments)}const yy=new Date,by=new Date;function Cn(e,t,n,i){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},s.filter=a=>Cn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(s.count=(a,o)=>(yy.setTime(+a),by.setTime(+o),e(yy),e(by),Math.floor(n(yy,by))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(i?o=>i(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const Dh=Cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Dh);Dh.range;const Ps=1e3,Zr=Ps*60,Os=Zr*60,Ks=Os*24,d1=Ks*7,iA=Ks*30,jy=Ks*365,ko=Cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ps)},(e,t)=>(t-e)/Ps,e=>e.getUTCSeconds());ko.range;const u1=Cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ps)},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getMinutes());u1.range;const f1=Cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getUTCMinutes());f1.range;const p1=Cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ps-e.getMinutes()*Zr)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getHours());p1.range;const m1=Cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCHours());m1.range;const Cp=Cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zr)/Ks,e=>e.getDate()-1);Cp.range;const Fv=Cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ks,e=>e.getUTCDate()-1);Fv.range;const RM=Cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ks,e=>Math.floor(e/Ks));RM.range;function xl(e){return Cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Zr)/d1)}const Lv=xl(0),Fh=xl(1),iie=xl(2),sie=xl(3),Kc=xl(4),aie=xl(5),oie=xl(6);Lv.range;Fh.range;iie.range;sie.range;Kc.range;aie.range;oie.range;function vl(e){return Cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/d1)}const qv=vl(0),Lh=vl(1),lie=vl(2),cie=vl(3),Yc=vl(4),die=vl(5),uie=vl(6);qv.range;Lh.range;lie.range;cie.range;Yc.range;die.range;uie.range;const h1=Cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());h1.range;const x1=Cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());x1.range;const Ys=Cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ys.range;const Qs=Cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Qs.range;function MM(e,t,n,i,s,a){const o=[[ko,1,Ps],[ko,5,5*Ps],[ko,15,15*Ps],[ko,30,30*Ps],[a,1,Zr],[a,5,5*Zr],[a,15,15*Zr],[a,30,30*Zr],[s,1,Os],[s,3,3*Os],[s,6,6*Os],[s,12,12*Os],[i,1,Ks],[i,2,2*Ks],[n,1,d1],[t,1,iA],[t,3,3*iA],[e,1,jy]];function l(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),v=h?h.range(d,+u+1):[];return p?v.reverse():v}function c(d,u,f){const p=Math.abs(u-d)/f,h=ZN(([,,y])=>y).right(o,p);if(h===o.length)return e.every(Bb(d/jy,u/jy,f));if(h===0)return Dh.every(Math.max(Bb(d,u,f),1));const[v,m]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return v.every(m)}return[l,c]}const[fie,pie]=MM(Qs,x1,qv,RM,m1,f1),[mie,hie]=MM(Ys,h1,Lv,Cp,p1,u1);function wy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ny(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function xie(e){var t=e.dateTime,n=e.date,i=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=eu(s),u=tu(s),f=eu(a),p=tu(a),h=eu(o),v=tu(o),m=eu(l),y=tu(l),j=eu(c),g=tu(c),x={a:G,A:z,b:H,B:D,c:null,d:dA,e:dA,f:Lie,g:Yie,G:Xie,H:$ie,I:Die,j:Fie,L:$M,m:qie,M:zie,p:U,q:I,Q:pA,s:mA,S:Bie,u:Uie,U:Vie,V:Wie,w:Hie,W:Gie,x:null,X:null,y:Kie,Y:Qie,Z:Zie,"%":fA},w={a:se,A:ge,b:ee,B:we,c:null,d:uA,e:uA,f:nse,g:fse,G:mse,H:Jie,I:ese,j:tse,L:FM,m:rse,M:ise,p:me,q:Se,Q:pA,s:mA,S:sse,u:ase,U:ose,V:lse,w:cse,W:dse,x:null,X:null,y:use,Y:pse,Z:hse,"%":fA},b={a:$,A:O,b:A,B:P,c:_,d:lA,e:lA,f:_ie,g:oA,G:aA,H:cA,I:cA,j:Aie,L:Tie,m:Eie,M:Pie,p:E,q:kie,Q:Rie,s:Mie,S:Oie,u:jie,U:wie,V:Nie,w:bie,W:Sie,x:F,X:M,y:oA,Y:aA,Z:Cie,"%":Iie};x.x=C(n,x),x.X=C(i,x),x.c=C(t,x),w.x=C(n,w),w.X=C(i,w),w.c=C(t,w);function C(le,xe){return function(ye){var B=[],ce=-1,de=0,Ie=le.length,Oe,et,dt;for(ye instanceof Date||(ye=new Date(+ye));++ce<Ie;)le.charCodeAt(ce)===37&&(B.push(le.slice(de,ce)),(et=sA[Oe=le.charAt(++ce)])!=null?Oe=le.charAt(++ce):et=Oe==="e"?" ":"0",(dt=xe[Oe])&&(Oe=dt(ye,et)),B.push(Oe),de=ce+1);return B.push(le.slice(de,ce)),B.join("")}}function k(le,xe){return function(ye){var B=Jd(1900,void 0,1),ce=S(B,le,ye+="",0),de,Ie;if(ce!=ye.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(xe&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(de=Ny(Jd(B.y,0,1)),Ie=de.getUTCDay(),de=Ie>4||Ie===0?Lh.ceil(de):Lh(de),de=Fv.offset(de,(B.V-1)*7),B.y=de.getUTCFullYear(),B.m=de.getUTCMonth(),B.d=de.getUTCDate()+(B.w+6)%7):(de=wy(Jd(B.y,0,1)),Ie=de.getDay(),de=Ie>4||Ie===0?Fh.ceil(de):Fh(de),de=Cp.offset(de,(B.V-1)*7),B.y=de.getFullYear(),B.m=de.getMonth(),B.d=de.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Ie="Z"in B?Ny(Jd(B.y,0,1)).getUTCDay():wy(Jd(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Ie+5)%7:B.w+B.U*7-(Ie+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Ny(B)):wy(B)}}function S(le,xe,ye,B){for(var ce=0,de=xe.length,Ie=ye.length,Oe,et;ce<de;){if(B>=Ie)return-1;if(Oe=xe.charCodeAt(ce++),Oe===37){if(Oe=xe.charAt(ce++),et=b[Oe in sA?xe.charAt(ce++):Oe],!et||(B=et(le,ye,B))<0)return-1}else if(Oe!=ye.charCodeAt(B++))return-1}return B}function E(le,xe,ye){var B=d.exec(xe.slice(ye));return B?(le.p=u.get(B[0].toLowerCase()),ye+B[0].length):-1}function $(le,xe,ye){var B=h.exec(xe.slice(ye));return B?(le.w=v.get(B[0].toLowerCase()),ye+B[0].length):-1}function O(le,xe,ye){var B=f.exec(xe.slice(ye));return B?(le.w=p.get(B[0].toLowerCase()),ye+B[0].length):-1}function A(le,xe,ye){var B=j.exec(xe.slice(ye));return B?(le.m=g.get(B[0].toLowerCase()),ye+B[0].length):-1}function P(le,xe,ye){var B=m.exec(xe.slice(ye));return B?(le.m=y.get(B[0].toLowerCase()),ye+B[0].length):-1}function _(le,xe,ye){return S(le,t,xe,ye)}function F(le,xe,ye){return S(le,n,xe,ye)}function M(le,xe,ye){return S(le,i,xe,ye)}function G(le){return o[le.getDay()]}function z(le){return a[le.getDay()]}function H(le){return c[le.getMonth()]}function D(le){return l[le.getMonth()]}function U(le){return s[+(le.getHours()>=12)]}function I(le){return 1+~~(le.getMonth()/3)}function se(le){return o[le.getUTCDay()]}function ge(le){return a[le.getUTCDay()]}function ee(le){return c[le.getUTCMonth()]}function we(le){return l[le.getUTCMonth()]}function me(le){return s[+(le.getUTCHours()>=12)]}function Se(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var xe=C(le+="",x);return xe.toString=function(){return le},xe},parse:function(le){var xe=k(le+="",!1);return xe.toString=function(){return le},xe},utcFormat:function(le){var xe=C(le+="",w);return xe.toString=function(){return le},xe},utcParse:function(le){var xe=k(le+="",!0);return xe.toString=function(){return le},xe}}}var sA={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,vie=/^%/,gie=/[\\^$*+?|[\]().{}]/g;function kt(e,t,n){var i=e<0?"-":"",s=(i?-e:e)+"",a=s.length;return i+(a<n?new Array(n-a+1).join(t)+s:s)}function yie(e){return e.replace(gie,"\\$&")}function eu(e){return new RegExp("^(?:"+e.map(yie).join("|")+")","i")}function tu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function bie(e,t,n){var i=_n.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function jie(e,t,n){var i=_n.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function wie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function Nie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function Sie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function aA(e,t,n){var i=_n.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function oA(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Cie(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function kie(e,t,n){var i=_n.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function Eie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function lA(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Aie(e,t,n){var i=_n.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function cA(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Pie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Oie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Tie(e,t,n){var i=_n.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function _ie(e,t,n){var i=_n.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Iie(e,t,n){var i=vie.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Rie(e,t,n){var i=_n.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function Mie(e,t,n){var i=_n.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function dA(e,t){return kt(e.getDate(),t,2)}function $ie(e,t){return kt(e.getHours(),t,2)}function Die(e,t){return kt(e.getHours()%12||12,t,2)}function Fie(e,t){return kt(1+Cp.count(Ys(e),e),t,3)}function $M(e,t){return kt(e.getMilliseconds(),t,3)}function Lie(e,t){return $M(e,t)+"000"}function qie(e,t){return kt(e.getMonth()+1,t,2)}function zie(e,t){return kt(e.getMinutes(),t,2)}function Bie(e,t){return kt(e.getSeconds(),t,2)}function Uie(e){var t=e.getDay();return t===0?7:t}function Vie(e,t){return kt(Lv.count(Ys(e)-1,e),t,2)}function DM(e){var t=e.getDay();return t>=4||t===0?Kc(e):Kc.ceil(e)}function Wie(e,t){return e=DM(e),kt(Kc.count(Ys(e),e)+(Ys(e).getDay()===4),t,2)}function Hie(e){return e.getDay()}function Gie(e,t){return kt(Fh.count(Ys(e)-1,e),t,2)}function Kie(e,t){return kt(e.getFullYear()%100,t,2)}function Yie(e,t){return e=DM(e),kt(e.getFullYear()%100,t,2)}function Qie(e,t){return kt(e.getFullYear()%1e4,t,4)}function Xie(e,t){var n=e.getDay();return e=n>=4||n===0?Kc(e):Kc.ceil(e),kt(e.getFullYear()%1e4,t,4)}function Zie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function uA(e,t){return kt(e.getUTCDate(),t,2)}function Jie(e,t){return kt(e.getUTCHours(),t,2)}function ese(e,t){return kt(e.getUTCHours()%12||12,t,2)}function tse(e,t){return kt(1+Fv.count(Qs(e),e),t,3)}function FM(e,t){return kt(e.getUTCMilliseconds(),t,3)}function nse(e,t){return FM(e,t)+"000"}function rse(e,t){return kt(e.getUTCMonth()+1,t,2)}function ise(e,t){return kt(e.getUTCMinutes(),t,2)}function sse(e,t){return kt(e.getUTCSeconds(),t,2)}function ase(e){var t=e.getUTCDay();return t===0?7:t}function ose(e,t){return kt(qv.count(Qs(e)-1,e),t,2)}function LM(e){var t=e.getUTCDay();return t>=4||t===0?Yc(e):Yc.ceil(e)}function lse(e,t){return e=LM(e),kt(Yc.count(Qs(e),e)+(Qs(e).getUTCDay()===4),t,2)}function cse(e){return e.getUTCDay()}function dse(e,t){return kt(Lh.count(Qs(e)-1,e),t,2)}function use(e,t){return kt(e.getUTCFullYear()%100,t,2)}function fse(e,t){return e=LM(e),kt(e.getUTCFullYear()%100,t,2)}function pse(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function mse(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Yc(e):Yc.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function hse(){return"+0000"}function fA(){return"%"}function pA(e){return+e}function mA(e){return Math.floor(+e/1e3)}var Cl,qM,zM;xse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xse(e){return Cl=xie(e),qM=Cl.format,Cl.parse,zM=Cl.utcFormat,Cl.utcParse,Cl}function vse(e){return new Date(e)}function gse(e){return e instanceof Date?+e:+new Date(+e)}function v1(e,t,n,i,s,a,o,l,c,d){var u=r1(),f=u.invert,p=u.domain,h=d(".%L"),v=d(":%S"),m=d("%I:%M"),y=d("%I %p"),j=d("%a %d"),g=d("%b %d"),x=d("%B"),w=d("%Y");function b(C){return(c(C)<C?h:l(C)<C?v:o(C)<C?m:a(C)<C?y:i(C)<C?s(C)<C?j:g:n(C)<C?x:w)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?p(Array.from(C,gse)):p().map(vse)},u.ticks=function(C){var k=p();return e(k[0],k[k.length-1],C??10)},u.tickFormat=function(C,k){return k==null?b:d(k)},u.nice=function(C){var k=p();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?p(EM(k,C)):u},u.copy=function(){return Sp(u,v1(e,t,n,i,s,a,o,l,c,d))},u}function yse(){return li.apply(v1(mie,hie,Ys,h1,Lv,Cp,p1,u1,ko,qM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bse(){return li.apply(v1(fie,pie,Qs,x1,qv,Fv,m1,f1,ko,zM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zv(){var e=0,t=1,n,i,s,a,o=or,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),i=a(t=+t),s=n===i?0:1/(i-n),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(p){var h,v;return arguments.length?([h,v]=p,o=f(h,v),d):[o(0),o(1)]}}return d.range=u(Id),d.rangeRound=u(n1),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return a=f,n=f(e),i=f(t),s=n===i?0:1/(i-n),d}}function ro(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BM(){var e=no(zv()(or));return e.copy=function(){return ro(e,BM())},na.apply(e,arguments)}function UM(){var e=a1(zv()).domain([1,10]);return e.copy=function(){return ro(e,UM()).base(e.base())},na.apply(e,arguments)}function VM(){var e=o1(zv());return e.copy=function(){return ro(e,VM()).constant(e.constant())},na.apply(e,arguments)}function g1(){var e=l1(zv());return e.copy=function(){return ro(e,g1()).exponent(e.exponent())},na.apply(e,arguments)}function jse(){return g1.apply(null,arguments).exponent(.5)}function WM(){var e=[],t=or;function n(i){if(i!=null&&!isNaN(i=+i))return t((wp(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(La),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,s)=>t(s/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(s,a)=>ore(e,a/i))},n.copy=function(){return WM(t).domain(e)},na.apply(n,arguments)}function Bv(){var e=0,t=.5,n=1,i=1,s,a,o,l,c,d=or,u,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+u(m))-a)*(i*m<i*a?l:c),d(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,s=u(e=+e),a=u(t=+t),o=u(n=+n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),i=a<s?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(d=m,h):d};function v(m){return function(y){var j,g,x;return arguments.length?([j,g,x]=y,d=Ire(m,[j,g,x]),h):[d(0),d(.5),d(1)]}}return h.range=v(Id),h.rangeRound=v(n1),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return u=m,s=m(e),a=m(t),o=m(n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),i=a<s?-1:1,h}}function HM(){var e=no(Bv()(or));return e.copy=function(){return ro(e,HM())},na.apply(e,arguments)}function GM(){var e=a1(Bv()).domain([.1,1,10]);return e.copy=function(){return ro(e,GM()).base(e.base())},na.apply(e,arguments)}function KM(){var e=o1(Bv());return e.copy=function(){return ro(e,KM()).constant(e.constant())},na.apply(e,arguments)}function y1(){var e=l1(Bv());return e.copy=function(){return ro(e,y1()).exponent(e.exponent())},na.apply(e,arguments)}function wse(){return y1.apply(null,arguments).exponent(.5)}const hA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ff,scaleDiverging:HM,scaleDivergingLog:GM,scaleDivergingPow:y1,scaleDivergingSqrt:wse,scaleDivergingSymlog:KM,scaleIdentity:kM,scaleImplicit:Ub,scaleLinear:$h,scaleLog:AM,scaleOrdinal:JN,scalePoint:Tu,scalePow:c1,scaleQuantile:TM,scaleQuantize:_M,scaleRadial:OM,scaleSequential:BM,scaleSequentialLog:UM,scaleSequentialPow:g1,scaleSequentialQuantile:WM,scaleSequentialSqrt:jse,scaleSequentialSymlog:VM,scaleSqrt:nie,scaleSymlog:PM,scaleThreshold:IM,scaleTime:yse,scaleUtc:bse,tickFormat:CM},Symbol.toStringTag,{value:"Module"}));var Nse=Cd;function Sse(e,t,n){for(var i=-1,s=e.length;++i<s;){var a=e[i],o=t(a);if(o!=null&&(l===void 0?o===o&&!Nse(o):n(o,l)))var l=o,c=a}return c}var Uv=Sse;function Cse(e,t){return e>t}var YM=Cse,kse=Uv,Ese=YM,Ase=_d;function Pse(e){return e&&e.length?kse(e,Ase,Ese):void 0}var Ose=Pse;const Vv=Pt(Ose);function Tse(e,t){return e<t}var QM=Tse,_se=Uv,Ise=QM,Rse=_d;function Mse(e){return e&&e.length?_se(e,Rse,Ise):void 0}var $se=Mse;const Wv=Pt($se);var Dse=IN,Fse=hs,Lse=iM,qse=wr;function zse(e,t){var n=qse(e)?Dse:Lse;return n(e,Fse(t))}var Bse=zse,Use=nM,Vse=Bse;function Wse(e,t){return Use(Vse(e,t),1)}var Hse=Wse;const Gse=Pt(Hse);var Kse=KN;function Yse(e,t){return Kse(e,t)}var Qse=Yse;const Hv=Pt(Qse);var Rd=1e9,Xse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},j1,Yt=!0,ri="[DecimalError] ",zo=ri+"Invalid argument: ",b1=ri+"Exponent out of range: ",Md=Math.floor,vo=Math.pow,Zse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr,En=1e7,Ht=7,XM=9007199254740991,qh=Md(XM/Ht),Le={};Le.absoluteValue=Le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Le.comparedTo=Le.cmp=function(e){var t,n,i,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(i=a.d.length,s=e.d.length,t=0,n=i<s?i:s;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return i===s?0:i>s^a.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ht;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(e){return $s(this,new this.constructor(e))};Le.dividedToIntegerBy=Le.idiv=function(e){var t=this,n=t.constructor;return Dt($s(t,new n(e),0,1),n.precision)};Le.equals=Le.eq=function(e){return!this.cmp(e)};Le.exponent=function(){return gn(this)};Le.greaterThan=Le.gt=function(e){return this.cmp(e)>0};Le.greaterThanOrEqualTo=Le.gte=function(e){return this.cmp(e)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(e){return this.cmp(e)<0};Le.lessThanOrEqualTo=Le.lte=function(e){return this.cmp(e)<1};Le.logarithm=Le.log=function(e){var t,n=this,i=n.constructor,s=i.precision,a=s+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(Pr))throw Error(ri+"NaN");if(n.s<1)throw Error(ri+(n.s?"NaN":"-Infinity"));return n.eq(Pr)?new i(0):(Yt=!1,t=$s(vf(n,a),vf(e,a),a),Yt=!0,Dt(t,s))};Le.minus=Le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?e$(t,e):ZM(t,(e.s=-e.s,e))};Le.modulo=Le.mod=function(e){var t,n=this,i=n.constructor,s=i.precision;if(e=new i(e),!e.s)throw Error(ri+"NaN");return n.s?(Yt=!1,t=$s(n,e,0,1).times(e),Yt=!0,n.minus(t)):Dt(new i(n),s)};Le.naturalExponential=Le.exp=function(){return JM(this)};Le.naturalLogarithm=Le.ln=function(){return vf(this)};Le.negated=Le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Le.plus=Le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZM(t,e):e$(t,(e.s=-e.s,e))};Le.precision=Le.sd=function(e){var t,n,i,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zo+e);if(t=gn(s)+1,i=s.d.length-1,n=i*Ht+1,i=s.d[i],i){for(;i%10==0;i/=10)n--;for(i=s.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};Le.squareRoot=Le.sqrt=function(){var e,t,n,i,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ri+"NaN")}for(e=gn(l),Yt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Xi(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Md((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new c(t)):i=new c(s.toString()),n=c.precision,s=o=n+3;;)if(a=i,i=a.plus($s(l,a,o+2)).times(.5),Xi(a.d).slice(0,o)===(t=Xi(i.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Dt(a,n+1,0),a.times(a).eq(l)){i=a;break}}else if(t!="9999")break;o+=4}return Yt=!0,Dt(i,n)};Le.times=Le.mul=function(e){var t,n,i,s,a,o,l,c,d,u=this,f=u.constructor,p=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,c=p.length,d=h.length,c<d&&(a=p,p=h,h=a,o=c,c=d,d=o),a=[],o=c+d,i=o;i--;)a.push(0);for(i=d;--i>=0;){for(t=0,s=c+i;s>i;)l=a[s]+h[i]*p[s-i-1]+t,a[s--]=l%En|0,t=l/En|0;a[s]=(a[s]+t)%En|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Yt?Dt(e,f.precision):e};Le.toDecimalPlaces=Le.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(ds(e,0,Rd),t===void 0?t=i.rounding:ds(t,0,8),Dt(n,e+gn(n)+1,t))};Le.toExponential=function(e,t){var n,i=this,s=i.constructor;return e===void 0?n=rl(i,!0):(ds(e,0,Rd),t===void 0?t=s.rounding:ds(t,0,8),i=Dt(new s(i),e+1,t),n=rl(i,!0,e+1)),n};Le.toFixed=function(e,t){var n,i,s=this,a=s.constructor;return e===void 0?rl(s):(ds(e,0,Rd),t===void 0?t=a.rounding:ds(t,0,8),i=Dt(new a(s),e+gn(s)+1,t),n=rl(i.abs(),!1,e+gn(i)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var e=this,t=e.constructor;return Dt(new t(e),gn(e)+1,t.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(e){var t,n,i,s,a,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Pr);if(l=new c(l),!l.s){if(e.s<1)throw Error(ri+"Infinity");return l}if(l.eq(Pr))return l;if(i=c.precision,e.eq(Pr))return Dt(l,i);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=u<0?-u:u)<=XM){for(s=new c(Pr),t=Math.ceil(i/Ht+4),Yt=!1;n%2&&(s=s.times(l),vA(s.d,t)),n=Md(n/2),n!==0;)l=l.times(l),vA(l.d,t);return Yt=!0,e.s<0?new c(Pr).div(s):Dt(s,i)}}else if(a<0)throw Error(ri+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Yt=!1,s=e.times(vf(l,i+d)),Yt=!0,s=JM(s),s.s=a,s};Le.toPrecision=function(e,t){var n,i,s=this,a=s.constructor;return e===void 0?(n=gn(s),i=rl(s,n<=a.toExpNeg||n>=a.toExpPos)):(ds(e,1,Rd),t===void 0?t=a.rounding:ds(t,0,8),s=Dt(new a(s),e,t),n=gn(s),i=rl(s,e<=n||n<=a.toExpNeg,e)),i};Le.toSignificantDigits=Le.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(ds(e,1,Rd),t===void 0?t=i.rounding:ds(t,0,8)),Dt(new i(n),e,t)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gn(e),n=e.constructor;return rl(e,t<=n.toExpNeg||t>=n.toExpPos)};function ZM(e,t){var n,i,s,a,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Yt?Dt(t,f):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(i=c,a=-a,l=d.length):(i=d,s=o,l=c.length),o=Math.ceil(f/Ht),l=o>l?o+1:l+1,a>l&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,i=d,d=c,c=i),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/En|0,c[a]%=En;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Yt?Dt(t,f):t}function ds(e,t,n){if(e!==~~e||e<t||e>n)throw Error(zo+e)}function Xi(e){var t,n,i,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)i=e[t]+"",n=Ht-i.length,n&&(a+=ma(n)),a+=i;o=e[t],i=o+"",n=Ht-i.length,n&&(a+=ma(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var $s=function(){function e(i,s){var a,o=0,l=i.length;for(i=i.slice();l--;)a=i[l]*s+o,i[l]=a%En|0,o=a/En|0;return o&&i.unshift(o),i}function t(i,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(i[l]!=s[l]){c=i[l]>s[l]?1:-1;break}return c}function n(i,s,a){for(var o=0;a--;)i[a]-=o,o=i[a]<s[a]?1:0,i[a]=o*En+i[a]-s[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,s,a,o){var l,c,d,u,f,p,h,v,m,y,j,g,x,w,b,C,k,S,E=i.constructor,$=i.s==s.s?1:-1,O=i.d,A=s.d;if(!i.s)return new E(i);if(!s.s)throw Error(ri+"Division by zero");for(c=i.e-s.e,k=A.length,b=O.length,h=new E($),v=h.d=[],d=0;A[d]==(O[d]||0);)++d;if(A[d]>(O[d]||0)&&--c,a==null?g=a=E.precision:o?g=a+(gn(i)-gn(s))+1:g=a,g<0)return new E(0);if(g=g/Ht+2|0,d=0,k==1)for(u=0,A=A[0],g++;(d<b||u)&&g--;d++)x=u*En+(O[d]||0),v[d]=x/A|0,u=x%A|0;else{for(u=En/(A[0]+1)|0,u>1&&(A=e(A,u),O=e(O,u),k=A.length,b=O.length),w=k,m=O.slice(0,k),y=m.length;y<k;)m[y++]=0;S=A.slice(),S.unshift(0),C=A[0],A[1]>=En/2&&++C;do u=0,l=t(A,m,k,y),l<0?(j=m[0],k!=y&&(j=j*En+(m[1]||0)),u=j/C|0,u>1?(u>=En&&(u=En-1),f=e(A,u),p=f.length,y=m.length,l=t(f,m,p,y),l==1&&(u--,n(f,k<p?S:A,p))):(u==0&&(l=u=1),f=A.slice()),p=f.length,p<y&&f.unshift(0),n(m,f,y),l==-1&&(y=m.length,l=t(A,m,k,y),l<1&&(u++,n(m,k<y?S:A,y))),y=m.length):l===0&&(u++,m=[0]),v[d++]=u,l&&m[0]?m[y++]=O[w]||0:(m=[O[w]],y=1);while((w++<b||m[0]!==void 0)&&g--)}return v[0]||v.shift(),h.e=c,Dt(h,o?a+gn(h)+1:a)}}();function JM(e,t){var n,i,s,a,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(gn(e)>16)throw Error(b1+gn(e));if(!e.s)return new u(Pr);for(t==null?(Yt=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(i=Math.log(vo(2,d))/Math.LN10*2+5|0,l+=i,n=s=a=new u(Pr),u.precision=l;;){if(s=Dt(s.times(e),l),n=n.times(++c),o=a.plus($s(s,n,l)),Xi(o.d).slice(0,l)===Xi(a.d).slice(0,l)){for(;d--;)a=Dt(a.times(a),l);return u.precision=f,t==null?(Yt=!0,Dt(a,f)):a}a=o}}function gn(e){for(var t=e.e*Ht,n=e.d[0];n>=10;n/=10)t++;return t}function Sy(e,t,n){if(t>e.LN10.sd())throw Yt=!0,n&&(e.precision=n),Error(ri+"LN10 precision limit exceeded");return Dt(new e(e.LN10),t)}function ma(e){for(var t="";e--;)t+="0";return t}function vf(e,t){var n,i,s,a,o,l,c,d,u,f=1,p=10,h=e,v=h.d,m=h.constructor,y=m.precision;if(h.s<1)throw Error(ri+(h.s?"NaN":"-Infinity"));if(h.eq(Pr))return new m(0);if(t==null?(Yt=!1,d=y):d=t,h.eq(10))return t==null&&(Yt=!0),Sy(m,d);if(d+=p,m.precision=d,n=Xi(v),i=n.charAt(0),a=gn(h),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)h=h.times(e),n=Xi(h.d),i=n.charAt(0),f++;a=gn(h),i>1?(h=new m("0."+n),a++):h=new m(i+"."+n.slice(1))}else return c=Sy(m,d+2,y).times(a+""),h=vf(new m(i+"."+n.slice(1)),d-p).plus(c),m.precision=y,t==null?(Yt=!0,Dt(h,y)):h;for(l=o=h=$s(h.minus(Pr),h.plus(Pr),d),u=Dt(h.times(h),d),s=3;;){if(o=Dt(o.times(u),d),c=l.plus($s(o,new m(s),d)),Xi(c.d).slice(0,d)===Xi(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(Sy(m,d+2,y).times(a+""))),l=$s(l,new m(f),d),m.precision=y,t==null?(Yt=!0,Dt(l,y)):l;l=c,s+=2}}function xA(e,t){var n,i,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(i,s),t){if(s-=i,n=n-i-1,e.e=Md(n/Ht),e.d=[],i=(n+1)%Ht,n<0&&(i+=Ht),i<s){for(i&&e.d.push(+t.slice(0,i)),s-=Ht;i<s;)e.d.push(+t.slice(i,i+=Ht));t=t.slice(i),i=Ht-t.length}else i-=s;for(;i--;)t+="0";if(e.d.push(+t),Yt&&(e.e>qh||e.e<-qh))throw Error(b1+n)}else e.s=0,e.e=0,e.d=[0];return e}function Dt(e,t,n){var i,s,a,o,l,c,d,u,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(i=t-o,i<0)i+=Ht,s=t,d=f[u=0];else{if(u=Math.ceil((i+1)/Ht),a=f.length,u>=a)return e;for(d=a=f[u],o=1;a>=10;a/=10)o++;i%=Ht,s=i-Ht+o}if(n!==void 0&&(a=vo(10,o-s-1),l=d/a%10|0,c=t<0||f[u+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(i>0?s>0?d/vo(10,o-s):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=gn(e),f.length=1,t=t-a-1,f[0]=vo(10,(Ht-t%Ht)%Ht),e.e=Md(-t/Ht)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(i==0?(f.length=u,a=1,u--):(f.length=u+1,a=vo(10,Ht-i),f[u]=s>0?(d/vo(10,o-s)%vo(10,s)|0)*a:0),c)for(;;)if(u==0){(f[0]+=a)==En&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=En)break;f[u--]=0,a=1}for(i=f.length;f[--i]===0;)f.pop();if(Yt&&(e.e>qh||e.e<-qh))throw Error(b1+gn(e));return e}function e$(e,t){var n,i,s,a,o,l,c,d,u,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Yt?Dt(t,h):t;if(c=e.d,f=t.d,i=t.e,d=e.e,c=c.slice(),o=d-i,o){for(u=o<0,u?(n=c,o=-o,l=f.length):(n=f,i=d,l=c.length),s=Math.max(Math.ceil(h/Ht),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){u=c[s]<f[s];break}o=0}for(u&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=En-1;--c[a],c[s]+=En}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(t.d=c,t.e=i,Yt?Dt(t,h):t):new p(0)}function rl(e,t,n){var i,s=gn(e),a=Xi(e.d),o=a.length;return t?(n&&(i=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ma(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+ma(-s-1)+a,n&&(i=n-o)>0&&(a+=ma(i))):s>=o?(a+=ma(s+1-o),n&&(i=n-s-1)>0&&(a=a+"."+ma(i))):((i=s+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-o)>0&&(s+1===o&&(a+="."),a+=ma(i))),e.s<0?"-"+a:a}function vA(e,t){if(e.length>t)return e.length=t,!0}function t$(e){var t,n,i;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return xA(o,a.toString())}else if(typeof a!="string")throw Error(zo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Zse.test(a))xA(o,a);else throw Error(zo+a)}if(s.prototype=Le,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=t$,s.config=s.set=Jse,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return s.config(e),s}function Jse(e){if(!e||typeof e!="object")throw Error(ri+"Object expected");var t,n,i,s=["precision",1,Rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((i=e[n=s[t]])!==void 0)if(Md(i)===i&&i>=s[t+1]&&i<=s[t+2])this[n]=i;else throw Error(zo+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(zo+n+": "+i);return this}var j1=t$(Xse);Pr=new j1(1);const $t=j1;function eae(e){return iae(e)||rae(e)||nae(e)||tae()}function tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(e,t){if(e){if(typeof e=="string")return Gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gb(e,t)}}function rae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function iae(e){if(Array.isArray(e))return Gb(e)}function Gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var sae=function(t){return t},n$={"@@functional/placeholder":!0},r$=function(t){return t===n$},gA=function(t){return function n(){return arguments.length===0||arguments.length===1&&r$(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},aae=function e(t,n){return t===1?n:gA(function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==n$}).length;return o>=t?n.apply(void 0,s):e(t-o,gA(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(f){return r$(f)?c.shift():f});return n.apply(void 0,eae(u).concat(c))}))})},Gv=function(t){return aae(t.length,t)},Kb=function(t,n){for(var i=[],s=t;s<n;++s)i[s-t]=s;return i},oae=Gv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),lae=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return sae;var s=n.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Yb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},i$=function(t){var n=null,i=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,i=t.apply(void 0,a)),i}};function cae(e){var t;return e===0?t=1:t=Math.floor(new $t(e).abs().log(10).toNumber())+1,t}function dae(e,t,n){for(var i=new $t(e),s=0,a=[];i.lt(t)&&s<1e5;)a.push(i.toNumber()),i=i.add(n),s++;return a}var uae=Gv(function(e,t,n){var i=+e,s=+t;return i+n*(s-i)}),fae=Gv(function(e,t,n){var i=t-+e;return i=i||1/0,(n-e)/i}),pae=Gv(function(e,t,n){var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});const Kv={rangeStep:dae,getDigitCount:cae,interpolateNumber:uae,uninterpolateNumber:fae,uninterpolateTruncation:pae};function Qb(e){return xae(e)||hae(e)||s$(e)||mae()}function mae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xae(e){if(Array.isArray(e))return Xb(e)}function gf(e,t){return yae(e)||gae(e,t)||s$(e,t)||vae()}function vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$(e,t){if(e){if(typeof e=="string")return Xb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xb(e,t)}}function Xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function gae(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],i=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(i=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&o.return!=null&&o.return()}finally{if(s)throw a}}return n}}function yae(e){if(Array.isArray(e))return e}function a$(e){var t=gf(e,2),n=t[0],i=t[1],s=n,a=i;return n>i&&(s=i,a=n),[s,a]}function o$(e,t,n){if(e.lte(0))return new $t(0);var i=Kv.getDigitCount(e.toNumber()),s=new $t(10).pow(i),a=e.div(s),o=i!==1?.05:.1,l=new $t(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new $t(Math.ceil(c))}function bae(e,t,n){var i=1,s=new $t(e);if(!s.isint()&&n){var a=Math.abs(e);a<1?(i=new $t(10).pow(Kv.getDigitCount(e)-1),s=new $t(Math.floor(s.div(i).toNumber())).mul(i)):a>1&&(s=new $t(Math.floor(e)))}else e===0?s=new $t(Math.floor((t-1)/2)):n||(s=new $t(Math.floor(e)));var o=Math.floor((t-1)/2),l=lae(oae(function(c){return s.add(new $t(c-o).mul(i)).toNumber()}),Kb);return l(0,t)}function l$(e,t,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var a=o$(new $t(t).sub(e).div(n-1),i,s),o;e<=0&&t>=0?o=new $t(0):(o=new $t(e).add(t).div(2),o=o.sub(new $t(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new $t(t).sub(o).div(a).toNumber()),d=l+c+1;return d>n?l$(e,t,n,i,s+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:a,tickMin:o.sub(new $t(l).mul(a)),tickMax:o.add(new $t(c).mul(a))})}function jae(e){var t=gf(e,2),n=t[0],i=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=a$([n,i]),c=gf(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(Qb(Kb(0,s-1).map(function(){return 1/0}))):[].concat(Qb(Kb(0,s-1).map(function(){return-1/0})),[u]);return n>i?Yb(f):f}if(d===u)return bae(d,s,a);var p=l$(d,u,o,a),h=p.step,v=p.tickMin,m=p.tickMax,y=Kv.rangeStep(v,m.add(new $t(.1).mul(h)),h);return n>i?Yb(y):y}function wae(e,t){var n=gf(e,2),i=n[0],s=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=a$([i,s]),l=gf(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[i,s];if(c===d)return[c];var u=Math.max(t,2),f=o$(new $t(d).sub(c).div(u-1),a,0),p=[].concat(Qb(Kv.rangeStep(new $t(c),new $t(d).sub(new $t(.99).mul(f)),f)),[d]);return i>s?Yb(p):p}var Nae=i$(jae),Sae=i$(wae),Cae="Invariant failed";function il(e,t){throw new Error(Cae)}var kae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zh.apply(this,arguments)}function Eae(e,t){return Tae(e)||Oae(e,t)||Pae(e,t)||Aae()}function Aae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pae(e,t){if(e){if(typeof e=="string")return yA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yA(e,t)}}function yA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Oae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Tae(e){if(Array.isArray(e))return e}function _ae(e,t){if(e==null)return{};var n=Iae(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Iae(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Rae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u$(i.key),i)}}function $ae(e,t,n){return t&&Mae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dae(e,t,n){return t=Bh(t),Fae(e,c$()?Reflect.construct(t,n||[],Bh(e).constructor):t.apply(e,n))}function Fae(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lae(e)}function Lae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c$=function(){return!!e})()}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(e)}function qae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zb(e,t)}function Zb(e,t){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Zb(e,t)}function d$(e,t,n){return t=u$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u$(e){var t=zae(e,"string");return Qc(t)=="symbol"?t:t+""}function zae(e,t){if(Qc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Qc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yv=function(e){function t(){return Rae(this,t),Dae(this,t,arguments)}return qae(t,e),$ae(t,[{key:"render",value:function(){var i=this.props,s=i.offset,a=i.layout,o=i.width,l=i.dataKey,c=i.data,d=i.dataPointFormatter,u=i.xAxis,f=i.yAxis,p=_ae(i,kae),h=at(p,!1);this.props.direction==="x"&&u.type!=="number"&&il();var v=c.map(function(m){var y=d(m,l),j=y.x,g=y.y,x=y.value,w=y.errorVal;if(!w)return null;var b=[],C,k;if(Array.isArray(w)){var S=Eae(w,2);C=S[0],k=S[1]}else C=k=w;if(a==="vertical"){var E=u.scale,$=g+s,O=$+o,A=$-o,P=E(x-C),_=E(x+k);b.push({x1:_,y1:O,x2:_,y2:A}),b.push({x1:P,y1:$,x2:_,y2:$}),b.push({x1:P,y1:O,x2:P,y2:A})}else if(a==="horizontal"){var F=f.scale,M=j+s,G=M-o,z=M+o,H=F(x-C),D=F(x+k);b.push({x1:G,y1:D,x2:z,y2:D}),b.push({x1:M,y1:H,x2:M,y2:D}),b.push({x1:G,y1:H,x2:z,y2:H})}return L.createElement(_t,zh({className:"recharts-errorBar",key:"bar-".concat(b.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},h),b.map(function(U){return L.createElement("line",zh({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return L.createElement(_t,{className:"recharts-errorBars"},v)}}])}(L.Component);d$(Yv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});d$(Yv,"displayName","ErrorBar");function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(i){Bae(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Bae(e,t,n){return t=Uae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uae(e){var t=Vae(e,"string");return yf(t)=="symbol"?t:t+""}function Vae(e,t){if(yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(yf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f$=function(t){var n=t.children,i=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=kr(n,cc);if(!o)return null;var l=cc.defaultProps,c=l!==void 0?co(co({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(i||[]).reduce(function(u,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return u.concat(v.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):d=(i||[]).map(function(u){var f=u.item,p=f.type.defaultProps,h=p!==void 0?co(co({},p),f.props):{},v=h.dataKey,m=h.name,y=h.legendType,j=h.hide;return{inactive:j,dataKey:v,type:c.iconType||y||"square",color:w1(f),value:m||v,payload:h}}),co(co(co({},c),cc.getWithHeight(o,s)),{},{payload:d,item:o})};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function jA(e){return Kae(e)||Gae(e)||Hae(e)||Wae()}function Wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hae(e,t){if(e){if(typeof e=="string")return Jb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jb(e,t)}}function Gae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kae(e){if(Array.isArray(e))return Jb(e)}function Jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(i){uc(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function uc(e,t,n){return t=Yae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yae(e){var t=Qae(e,"string");return bf(t)=="symbol"?t:t+""}function Qae(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(bf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wn(e,t,n){return gt(e)||gt(t)?n:Sn(t)?Mr(e,t,n):lt(t)?t(e):n}function _u(e,t,n,i){var s=Gse(e,function(l){return Wn(l,t)});if(n==="number"){var a=s.filter(function(l){return je(l)||parseFloat(l)});return a.length?[Wv(a),Vv(a)]:[1/0,-1/0]}var o=i?s.filter(function(l){return!gt(l)}):s;return o.map(function(l){return Sn(l)||l instanceof Date?l:""})}var Xae=function(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=i==null?void 0:i.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,f=s[d].coordinate,p=d>=l-1?s[0].coordinate:s[d+1].coordinate,h=void 0;if(sr(f-u)!==sr(p-f)){var v=[];if(sr(p-f)===sr(c[1]-c[0])){h=p;var m=f+c[1]-c[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{h=u;var y=p+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var j=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>j[0]&&t<=j[1]||t>=v[0]&&t<=v[1]){o=s[d].index;break}}else{var g=Math.min(u,p),x=Math.max(u,p);if(t>(g+f)/2&&t<=(x+f)/2){o=s[d].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(i[w].coordinate+i[w+1].coordinate)/2||w>0&&w<l-1&&t>(i[w].coordinate+i[w-1].coordinate)/2&&t<=(i[w].coordinate+i[w+1].coordinate)/2||w===l-1&&t>(i[w].coordinate+i[w-1].coordinate)/2){o=i[w].index;break}return o},w1=function(t){var n,i=t,s=i.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ln(ln({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Zae=function(t){var n=t.barSize,i=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var u=a[l[c]].stackGroups,f=Object.keys(u),p=0,h=f.length;p<h;p++){var v=u[f[p]],m=v.items,y=v.cateAxisId,j=m.filter(function(k){return Rs(k.type).indexOf("Bar")>=0});if(j&&j.length){var g=j[0].type.defaultProps,x=g!==void 0?ln(ln({},g),j[0].props):j[0].props,w=x.barSize,b=x[y];o[b]||(o[b]=[]);var C=gt(w)?n:w;o[b].push({item:j[0],stackList:j.slice(1),barSize:gt(C)?void 0:ar(C,i,0)})}}return o},Jae=function(t){var n=t.barGap,i=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=ar(n,s,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=s/c,v=o.reduce(function(w,b){return w+b.barSize||0},0);v+=(c-1)*d,v>=s&&(v-=(c-1)*d,d=0),v>=s&&h>0&&(p=!0,h*=.9,v=c*h);var m=(s-v)/2>>0,y={offset:m-d,size:0};u=o.reduce(function(w,b){var C={item:b.item,position:{offset:y.offset+y.size+d,size:p?h:b.barSize}},k=[].concat(jA(w),[C]);return y=k[k.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(S){k.push({item:S,position:y})}),k},f)}else{var j=ar(i,s,0,!0);s-2*j-(c-1)*d<=0&&(d=0);var g=(s-2*j-(c-1)*d)/c;g>1&&(g>>=0);var x=l===+l?Math.min(g,l):g;u=o.reduce(function(w,b,C){var k=[].concat(jA(w),[{item:b.item,position:{offset:j+(g+d)*C+(g-x)/2,size:x}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(S){k.push({item:S,position:k[k.length-1].position})}),k},f)}return u},eoe=function(t,n,i,s){var a=i.children,o=i.width,l=i.margin,c=o-(l.left||0)-(l.right||0),d=f$({children:a,legendWidth:c});if(d){var u=s||{},f=u.width,p=u.height,h=d.align,v=d.verticalAlign,m=d.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&h!=="center"&&je(t[h]))return ln(ln({},t),{},uc({},h,t[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&v!=="middle"&&je(t[v]))return ln(ln({},t),{},uc({},v,t[v]+(p||0)))}return t},toe=function(t,n,i){return gt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||i==="x"?n==="xAxis":i==="y"?n==="yAxis":!0},p$=function(t,n,i,s,a){var o=n.props.children,l=ei(o,Yv).filter(function(d){return toe(s,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Wn(u,i);if(gt(f))return d;var p=Array.isArray(f)?[Wv(f),Vv(f)]:[f,f],h=c.reduce(function(v,m){var y=Wn(u,m,0),j=p[0]-Math.abs(Array.isArray(y)?y[0]:y),g=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(j,v[0]),Math.max(g,v[1])]},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0])}return null},noe=function(t,n,i,s,a){var o=n.map(function(l){return p$(t,l,i,a,s)}).filter(function(l){return!gt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},m$=function(t,n,i,s,a){var o=n.map(function(c){var d=c.props.dataKey;return i==="number"&&d&&p$(t,c,d,s)||_u(t,d,i,a)});if(i==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},h$=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},x$=function(t,n,i,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===i&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(i),l},Ts=function(t,n,i){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||i)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?sr(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:s(p)+d,value:f,offset:d}});return u.filter(function(f){return!yp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:s(f)+d,value:f,index:p,offset:d}}):s.ticks&&!i?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+d,value:f,offset:d}}):s.domain().map(function(f,p){return{coordinate:s(f)+d,value:a?a[f]:f,index:p,offset:d}})},Cy=new WeakMap,am=function(t,n){if(typeof n!="function")return t;Cy.has(t)||Cy.set(t,new WeakMap);var i=Cy.get(t);if(i.has(n))return i.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return i.set(n,s),s},v$=function(t,n,i){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ff(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:$h(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!i)?{scale:Tu(),realScaleType:"point"}:a==="category"?{scale:ff(),realScaleType:"band"}:{scale:$h(),realScaleType:"linear"};if(gp(s)){var c="scale".concat(Pv(s));return{scale:(hA[c]||Tu)(),realScaleType:hA[c]?c:"point"}}return lt(s)?{scale:s}:{scale:Tu(),realScaleType:"point"}},NA=1e-4,g$=function(t){var n=t.domain();if(!(!n||n.length<=2)){var i=n.length,s=t.range(),a=Math.min(s[0],s[1])-NA,o=Math.max(s[0],s[1])+NA,l=t(n[0]),c=t(n[i-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[i-1]])}},roe=function(t,n){if(!t)return null;for(var i=0,s=t.length;i<s;i++)if(t[i].item===n)return t[i].position;return null},ioe=function(t,n){if(!n||n.length!==2||!je(n[0])||!je(n[1]))return t;var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!je(t[0])||t[0]<i)&&(a[0]=i),(!je(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<i&&(a[1]=i),a},soe=function(t){var n=t.length;if(!(n<=0))for(var i=0,s=t[0].length;i<s;++i)for(var a=0,o=0,l=0;l<n;++l){var c=yp(t[l][i][1])?t[l][i][0]:t[l][i][1];c>=0?(t[l][i][0]=a,t[l][i][1]=a+c,a=t[l][i][1]):(t[l][i][0]=o,t[l][i][1]=o+c,o=t[l][i][1])}},aoe=function(t){var n=t.length;if(!(n<=0))for(var i=0,s=t[0].length;i<s;++i)for(var a=0,o=0;o<n;++o){var l=yp(t[o][i][1])?t[o][i][0]:t[o][i][1];l>=0?(t[o][i][0]=a,t[o][i][1]=a+l,a=t[o][i][1]):(t[o][i][0]=0,t[o][i][1]=0)}},ooe={sign:soe,expand:kG,none:Bc,silhouette:EG,wiggle:AG,positive:aoe},loe=function(t,n,i){var s=n.map(function(l){return l.props.dataKey}),a=ooe[i],o=CG().keys(s).value(function(l,c){return+Wn(l,c,0)}).order(Sb).offset(a);return o(t)},coe=function(t,n,i,s,a,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?ln(ln({},p.type.defaultProps),p.props):p.props,m=v.stackId,y=v.hide;if(y)return f;var j=v[i],g=f[j]||{hasStack:!1,stackGroups:{}};if(Sn(m)){var x=g.stackGroups[m]||{numericAxisId:i,cateAxisId:s,items:[]};x.items.push(p),g.hasStack=!0,g.stackGroups[m]=x}else g.stackGroups[bp("_stackId_")]={numericAxisId:i,cateAxisId:s,items:[p]};return ln(ln({},f),{},uc({},j,g))},c),u={};return Object.keys(d).reduce(function(f,p){var h=d[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,y){var j=h.stackGroups[y];return ln(ln({},m),{},uc({},y,{numericAxisId:i,cateAxisId:s,items:j.items,stackedData:loe(t,j.items,a)}))},v)}return ln(ln({},f),{},uc({},p,h))},u)},y$=function(t,n){var i=n.realScaleType,s=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=i||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=Nae(d,a,l);return t.domain([Wv(u),Vv(u)]),{niceTicks:u}}if(a&&s==="number"){var f=t.domain(),p=Sae(f,a,l);return{niceTicks:p}}return null},SA=function(t){var n=t.axis,i=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return i[l]?i[l].coordinate+s:null;var c=Wn(o,n.dataKey,n.domain[l]);return gt(c)?null:n.scale(c)-a/2+s},doe=function(t){var n=t.numericAxis,i=n.scale.domain();if(n.type==="number"){var s=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);return s<=0&&a>=0?0:a<0?a:s}return i[0]},uoe=function(t,n){var i,s=(i=t.type)!==null&&i!==void 0&&i.defaultProps?ln(ln({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Sn(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},foe=function(t){return t.reduce(function(n,i){return[Wv(i.concat([n[0]]).filter(je)),Vv(i.concat([n[1]]).filter(je))]},[1/0,-1/0])},b$=function(t,n,i){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,u){var f=foe(u.slice(n,i+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},CA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ej=function(t,n,i){if(lt(t))return t(n,i);if(!Array.isArray(t))return n;var s=[];if(je(t[0]))s[0]=i?t[0]:Math.min(t[0],n[0]);else if(CA.test(t[0])){var a=+CA.exec(t[0])[1];s[0]=n[0]-a}else lt(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(je(t[1]))s[1]=i?t[1]:Math.max(t[1],n[1]);else if(kA.test(t[1])){var o=+kA.exec(t[1])[1];s[1]=n[1]+o}else lt(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Uh=function(t,n,i){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!i||s>0)return s}if(t&&n&&n.length>=2){for(var a=QN(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],u=a[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return i?void 0:0},EA=function(t,n,i){return!t||!t.length||Hv(t,Mr(i,"type.defaultProps.domain"))?n:t},j$=function(t,n){var i=t.type.defaultProps?ln(ln({},t.type.defaultProps),t.props):t.props,s=i.dataKey,a=i.name,o=i.unit,l=i.formatter,c=i.tooltipType,d=i.chartType,u=i.hide;return ln(ln({},at(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:w1(t),value:Wn(n,s),type:c,payload:n,chartType:d,hide:u})};function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(i){w$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function w$(e,t,n){return t=poe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function poe(e){var t=moe(e,"string");return jf(t)=="symbol"?t:t+""}function moe(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(jf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hoe(e,t){return yoe(e)||goe(e,t)||voe(e,t)||xoe()}function xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function voe(e,t){if(e){if(typeof e=="string")return PA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PA(e,t)}}function PA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function goe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function yoe(e){if(Array.isArray(e))return e}var Vh=Math.PI/180,boe=function(t){return t*180/Math.PI},Bt=function(t,n,i,s){return{x:t+Math.cos(-Vh*s)*i,y:n+Math.sin(-Vh*s)*i}},N$=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},joe=function(t,n,i,s,a){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=ar(t.cx,o,o/2),f=ar(t.cy,l,l/2),p=N$(o,l,i),h=ar(t.innerRadius,p,0),v=ar(t.outerRadius,p,p*.8),m=Object.keys(n);return m.reduce(function(y,j){var g=n[j],x=g.domain,w=g.reversed,b;if(gt(g.range))s==="angleAxis"?b=[c,d]:s==="radiusAxis"&&(b=[h,v]),w&&(b=[b[1],b[0]]);else{b=g.range;var C=b,k=hoe(C,2);c=k[0],d=k[1]}var S=v$(g,a),E=S.realScaleType,$=S.scale;$.domain(x).range(b),g$($);var O=y$($,Ns(Ns({},g),{},{realScaleType:E})),A=Ns(Ns(Ns({},g),O),{},{range:b,radius:v,realScaleType:E,scale:$,cx:u,cy:f,innerRadius:h,outerRadius:v,startAngle:c,endAngle:d});return Ns(Ns({},y),{},w$({},j,A))},{})},woe=function(t,n){var i=t.x,s=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(i-a,2)+Math.pow(s-o,2))},Noe=function(t,n){var i=t.x,s=t.y,a=n.cx,o=n.cy,l=woe({x:i,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(i-a)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:boe(d),angleInRadian:d}},Soe=function(t){var n=t.startAngle,i=t.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return{startAngle:n-o*360,endAngle:i-o*360}},Coe=function(t,n){var i=n.startAngle,s=n.endAngle,a=Math.floor(i/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},OA=function(t,n){var i=t.x,s=t.y,a=Noe({x:i,y:s},n),o=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Soe(n),f=u.startAngle,p=u.endAngle,h=l,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?Ns(Ns({},n),{},{radius:o,angle:Coe(h,n)}):null},S$=function(t){return!N.isValidElement(t)&&!lt(t)&&typeof t!="boolean"?t.className:""};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}var koe=["offset"];function Eoe(e){return Toe(e)||Ooe(e)||Poe(e)||Aoe()}function Aoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(e,t){if(e){if(typeof e=="string")return tj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tj(e,t)}}function Ooe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Toe(e){if(Array.isArray(e))return tj(e)}function tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _oe(e,t){if(e==null)return{};var n=Ioe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Ioe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(i){Roe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Roe(e,t,n){return t=Moe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Moe(e){var t=$oe(e,"string");return wf(t)=="symbol"?t:t+""}function $oe(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(wf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nf.apply(this,arguments)}var Doe=function(t){var n=t.value,i=t.formatter,s=gt(t.children)?n:t.children;return lt(i)?i(s):s},Foe=function(t,n){var i=sr(n-t),s=Math.min(Math.abs(n-t),360);return i*s},Loe=function(t,n,i){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,u=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,v=c.endAngle,m=c.clockWise,y=(f+p)/2,j=Foe(h,v),g=j>=0?1:-1,x,w;s==="insideStart"?(x=h+g*o,w=m):s==="insideEnd"?(x=v-g*o,w=!m):s==="end"&&(x=v+g*o,w=m),w=j<=0?w:!w;var b=Bt(d,u,y,x),C=Bt(d,u,y,x+(w?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(w?0:1,`,
    `).concat(C.x,",").concat(C.y),S=gt(t.id)?bp("recharts-radial-line-"):t.id;return L.createElement("text",Nf({},i,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:S,d:k})),L.createElement("textPath",{xlinkHref:"#".concat(S)},n))},qoe=function(t){var n=t.viewBox,i=t.offset,s=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(s==="outside"){var h=Bt(o,l,d+i,p),v=h.x,m=h.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,j=Bt(o,l,y,p),g=j.x,x=j.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},zoe=function(t){var n=t.viewBox,i=t.parentViewBox,s=t.offset,a=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,p=f*s,h=f>0?"end":"start",v=f>0?"start":"end",m=d>=0?1:-1,y=m*s,j=m>0?"end":"start",g=m>0?"start":"end";if(a==="top"){var x={x:l+d/2,y:c-f*s,textAnchor:"middle",verticalAnchor:h};return yn(yn({},x),i?{height:Math.max(c-i.y,0),width:d}:{})}if(a==="bottom"){var w={x:l+d/2,y:c+u+p,textAnchor:"middle",verticalAnchor:v};return yn(yn({},w),i?{height:Math.max(i.y+i.height-(c+u),0),width:d}:{})}if(a==="left"){var b={x:l-y,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return yn(yn({},b),i?{width:Math.max(b.x-i.x,0),height:u}:{})}if(a==="right"){var C={x:l+d+y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"};return yn(yn({},C),i?{width:Math.max(i.x+i.width-C.x,0),height:u}:{})}var k=i?{width:d,height:u}:{};return a==="insideLeft"?yn({x:l+y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"},k):a==="insideRight"?yn({x:l+d-y,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},k):a==="insideTop"?yn({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:v},k):a==="insideBottom"?yn({x:l+d/2,y:c+u-p,textAnchor:"middle",verticalAnchor:h},k):a==="insideTopLeft"?yn({x:l+y,y:c+p,textAnchor:g,verticalAnchor:v},k):a==="insideTopRight"?yn({x:l+d-y,y:c+p,textAnchor:j,verticalAnchor:v},k):a==="insideBottomLeft"?yn({x:l+y,y:c+u-p,textAnchor:g,verticalAnchor:h},k):a==="insideBottomRight"?yn({x:l+d-y,y:c+u-p,textAnchor:j,verticalAnchor:h},k):kd(a)&&(je(a.x)||So(a.x))&&(je(a.y)||So(a.y))?yn({x:l+ar(a.x,d),y:c+ar(a.y,u),textAnchor:"end",verticalAnchor:"end"},k):yn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Boe=function(t){return"cx"in t&&je(t.cx)};function Pn(e){var t=e.offset,n=t===void 0?5:t,i=_oe(e,koe),s=yn({offset:n},i),a=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,f=u===void 0?"":u,p=s.textBreakAll;if(!a||gt(l)&&gt(c)&&!N.isValidElement(d)&&!lt(d))return null;if(N.isValidElement(d))return N.cloneElement(d,s);var h;if(lt(d)){if(h=N.createElement(d,s),N.isValidElement(h))return h}else h=Doe(s);var v=Boe(a),m=at(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Loe(s,h,m);var y=v?qoe(s):zoe(s);return L.createElement(nl,Nf({className:xt("recharts-label",f)},m,y,{breakAll:p}),h)}Pn.displayName="Label";var C$=function(t){var n=t.cx,i=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,h=t.top,v=t.left,m=t.width,y=t.height,j=t.clockWise,g=t.labelViewBox;if(g)return g;if(je(m)&&je(y)){if(je(f)&&je(p))return{x:f,y:p,width:m,height:y};if(je(h)&&je(v))return{x:h,y:v,width:m,height:y}}return je(f)&&je(p)?{x:f,y:p,width:0,height:0}:je(n)&&je(i)?{cx:n,cy:i,startAngle:a||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},Uoe=function(t,n){return t?t===!0?L.createElement(Pn,{key:"label-implicit",viewBox:n}):Sn(t)?L.createElement(Pn,{key:"label-implicit",viewBox:n,value:t}):N.isValidElement(t)?t.type===Pn?N.cloneElement(t,{key:"label-implicit",viewBox:n}):L.createElement(Pn,{key:"label-implicit",content:t,viewBox:n}):lt(t)?L.createElement(Pn,{key:"label-implicit",content:t,viewBox:n}):kd(t)?L.createElement(Pn,Nf({viewBox:n},t,{key:"label-implicit"})):null:null},Voe=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&i&&!t.label)return null;var s=t.children,a=C$(t),o=ei(s,Pn).map(function(c,d){return N.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!i)return o;var l=Uoe(t.label,n||a);return[l].concat(Eoe(o))};Pn.parseViewBox=C$;Pn.renderCallByParent=Voe;function Woe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Hoe=Woe;const Goe=Pt(Hoe);function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}var Koe=["valueAccessor"],Yoe=["data","dataKey","clockWise","id","textBreakAll"];function Qoe(e){return ele(e)||Joe(e)||Zoe(e)||Xoe()}function Xoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zoe(e,t){if(e){if(typeof e=="string")return nj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nj(e,t)}}function Joe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ele(e){if(Array.isArray(e))return nj(e)}function nj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wh.apply(this,arguments)}function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function IA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(i){tle(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tle(e,t,n){return t=nle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nle(e){var t=rle(e,"string");return Sf(t)=="symbol"?t:t+""}function rle(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Sf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RA(e,t){if(e==null)return{};var n=ile(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function ile(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var sle=function(t){return Array.isArray(t.value)?Goe(t.value):t.value};function qa(e){var t=e.valueAccessor,n=t===void 0?sle:t,i=RA(e,Koe),s=i.data,a=i.dataKey,o=i.clockWise,l=i.id,c=i.textBreakAll,d=RA(i,Yoe);return!s||!s.length?null:L.createElement(_t,{className:"recharts-label-list"},s.map(function(u,f){var p=gt(a)?n(u,f):Wn(u&&u.payload,a),h=gt(l)?{}:{id:"".concat(l,"-").concat(f)};return L.createElement(Pn,Wh({},at(u,!0),d,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:Pn.parseViewBox(gt(o)?u:IA(IA({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}qa.displayName="LabelList";function ale(e,t){return e?e===!0?L.createElement(qa,{key:"labelList-implicit",data:t}):L.isValidElement(e)||lt(e)?L.createElement(qa,{key:"labelList-implicit",data:t,content:e}):kd(e)?L.createElement(qa,Wh({data:t},e,{key:"labelList-implicit"})):null:null}function ole(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=ei(i,qa).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var a=ale(e.label,t);return[a].concat(Qoe(s))}qa.renderCallByParent=ole;function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rj.apply(this,arguments)}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function $A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(i){lle(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function lle(e,t,n){return t=cle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cle(e){var t=dle(e,"string");return Cf(t)=="symbol"?t:t+""}function dle(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Cf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ule=function(t,n){var i=sr(n-t),s=Math.min(Math.abs(n-t),359.999);return i*s},om=function(t){var n=t.cx,i=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+s,f=Math.asin(c/u)/Vh,p=d?a:a+o*f,h=Bt(n,i,u,p),v=Bt(n,i,s,p),m=d?a-o*f:a,y=Bt(n,i,u*Math.cos(f*Vh),m);return{center:h,circleTangency:v,lineTangency:y,theta:f}},k$=function(t){var n=t.cx,i=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=ule(o,l),d=o+c,u=Bt(n,i,a,o),f=Bt(n,i,a,d),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var h=Bt(n,i,s,o),v=Bt(n,i,s,d);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(n,",").concat(i," Z");return p},fle=function(t){var n=t.cx,i=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=sr(u-d),p=om({cx:n,cy:i,radius:a,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),h=p.circleTangency,v=p.lineTangency,m=p.theta,y=om({cx:n,cy:i,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=y.circleTangency,g=y.lineTangency,x=y.theta,w=c?Math.abs(d-u):Math.abs(d-u)-m-x;if(w<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):k$({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:u});var b="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(s>0){var C=om({cx:n,cy:i,radius:s,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=C.circleTangency,S=C.lineTangency,E=C.theta,$=om({cx:n,cy:i,radius:s,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=$.circleTangency,A=$.lineTangency,P=$.theta,_=c?Math.abs(d-u):Math.abs(d-u)-E-P;if(_<0&&o===0)return"".concat(b,"L").concat(n,",").concat(i,"Z");b+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(n,",").concat(i,"Z");return b},ple={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},E$=function(t){var n=$A($A({},ple),t),i=n.cx,s=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,p=n.className;if(o<a||u===f)return null;var h=xt("recharts-sector",p),v=o-a,m=ar(l,v,0,!0),y;return m>0&&Math.abs(u-f)<360?y=fle({cx:i,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):y=k$({cx:i,cy:s,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),L.createElement("path",rj({},at(n,!0),{className:h,d:y,role:"img"}))};function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ij.apply(this,arguments)}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(i){mle(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mle(e,t,n){return t=hle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hle(e){var t=xle(e,"string");return kf(t)=="symbol"?t:t+""}function xle(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(kf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LA={curveBasisClosed:mG,curveBasisOpen:hG,curveBasis:pG,curveBumpX:J7,curveBumpY:eG,curveLinearClosed:xG,curveLinear:Tv,curveMonotoneX:vG,curveMonotoneY:gG,curveNatural:yG,curveStep:bG,curveStepAfter:wG,curveStepBefore:jG},lm=function(t){return t.x===+t.x&&t.y===+t.y},nu=function(t){return t.x},ru=function(t){return t.y},vle=function(t,n){if(lt(t))return t;var i="curve".concat(Pv(t));return(i==="curveMonotone"||i==="curveBump")&&n?LA["".concat(i).concat(n==="vertical"?"Y":"X")]:LA[i]||Tv},gle=function(t){var n=t.type,i=n===void 0?"linear":n,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=vle(i,l),f=d?a.filter(function(m){return lm(m)}):a,p;if(Array.isArray(o)){var h=d?o.filter(function(m){return lm(m)}):o,v=f.map(function(m,y){return FA(FA({},m),{},{base:h[y]})});return l==="vertical"?p=Zp().y(ru).x1(nu).x0(function(m){return m.base.x}):p=Zp().x(nu).y1(ru).y0(function(m){return m.base.y}),p.defined(lm).curve(u),p(v)}return l==="vertical"&&je(o)?p=Zp().y(ru).x1(nu).x0(o):je(o)?p=Zp().x(nu).y1(ru).y0(o):p=j4().x(nu).y(ru),p.defined(lm).curve(u),p(f)},sj=function(t){var n=t.className,i=t.points,s=t.path,a=t.pathRef;if((!i||!i.length)&&!s)return null;var o=i&&i.length?gle(t):s;return L.createElement("path",ij({},at(t,!1),xh(t),{className:xt("recharts-curve",n),d:o,ref:a}))},A$={exports:{}},yle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ble=yle,jle=ble;function P$(){}function O$(){}O$.resetWarningCache=P$;var wle=function(){function e(i,s,a,o,l,c){if(c!==jle){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:O$,resetWarningCache:P$};return n.PropTypes=n,n};A$.exports=wle();var Nle=A$.exports;const Ke=Pt(Nle);var Sle=Object.getOwnPropertyNames,Cle=Object.getOwnPropertySymbols,kle=Object.prototype.hasOwnProperty;function qA(e,t){return function(i,s,a){return e(i,s,a)&&t(i,s,a)}}function cm(e){return function(n,i,s){if(!n||!i||typeof n!="object"||typeof i!="object")return e(n,i,s);var a=s.cache,o=a.get(n),l=a.get(i);if(o&&l)return o===i&&l===n;a.set(n,i),a.set(i,n);var c=e(n,i,s);return a.delete(n),a.delete(i),c}}function zA(e){return Sle(e).concat(Cle(e))}var Ele=Object.hasOwn||function(e,t){return kle.call(e,t)};function gl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ale="__v",Ple="__o",Ole="_owner",BA=Object.getOwnPropertyDescriptor,UA=Object.keys;function Tle(e,t,n){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function _le(e,t){return gl(e.getTime(),t.getTime())}function Ile(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Rle(e,t){return e===t}function VA(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var s=new Array(i),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=t.entries(),u=!1,f=0;(l=d.next())&&!l.done;){if(s[f]){f++;continue}var p=o.value,h=l.value;if(n.equals(p[0],h[0],c,f,e,t,n)&&n.equals(p[1],h[1],p[0],h[0],e,t,n)){u=s[f]=!0;break}f++}if(!u)return!1;c++}return!0}var Mle=gl;function $le(e,t,n){var i=UA(e),s=i.length;if(UA(t).length!==s)return!1;for(;s-- >0;)if(!T$(e,t,n,i[s]))return!1;return!0}function iu(e,t,n){var i=zA(e),s=i.length;if(zA(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=i[s],!T$(e,t,n,a)||(o=BA(e,a),l=BA(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Dle(e,t){return gl(e.valueOf(),t.valueOf())}function Fle(e,t){return e.source===t.source&&e.flags===t.flags}function WA(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var s=new Array(i),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function Lle(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function qle(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function T$(e,t,n,i){return(i===Ole||i===Ple||i===Ale)&&(e.$$typeof||t.$$typeof)?!0:Ele(t,i)&&n.equals(e[i],t[i],i,i,e,t,n)}var zle="[object Arguments]",Ble="[object Boolean]",Ule="[object Date]",Vle="[object Error]",Wle="[object Map]",Hle="[object Number]",Gle="[object Object]",Kle="[object RegExp]",Yle="[object Set]",Qle="[object String]",Xle="[object URL]",Zle=Array.isArray,HA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,GA=Object.assign,Jle=Object.prototype.toString.call.bind(Object.prototype.toString);function ece(e){var t=e.areArraysEqual,n=e.areDatesEqual,i=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,m,y){if(v===m)return!0;if(v==null||m==null)return!1;var j=typeof v;if(j!==typeof m)return!1;if(j!=="object")return j==="number"?o(v,m,y):j==="function"?s(v,m,y):!1;var g=v.constructor;if(g!==m.constructor)return!1;if(g===Object)return l(v,m,y);if(Zle(v))return t(v,m,y);if(HA!=null&&HA(v))return f(v,m,y);if(g===Date)return n(v,m,y);if(g===RegExp)return d(v,m,y);if(g===Map)return a(v,m,y);if(g===Set)return u(v,m,y);var x=Jle(v);return x===Ule?n(v,m,y):x===Kle?d(v,m,y):x===Wle?a(v,m,y):x===Yle?u(v,m,y):x===Gle?typeof v.then!="function"&&typeof m.then!="function"&&l(v,m,y):x===Xle?p(v,m,y):x===Vle?i(v,m,y):x===zle?l(v,m,y):x===Ble||x===Hle||x===Qle?c(v,m,y):!1}}function tce(e){var t=e.circular,n=e.createCustomConfig,i=e.strict,s={areArraysEqual:i?iu:Tle,areDatesEqual:_le,areErrorsEqual:Ile,areFunctionsEqual:Rle,areMapsEqual:i?qA(VA,iu):VA,areNumbersEqual:Mle,areObjectsEqual:i?iu:$le,arePrimitiveWrappersEqual:Dle,areRegExpsEqual:Fle,areSetsEqual:i?qA(WA,iu):WA,areTypedArraysEqual:i?iu:Lle,areUrlsEqual:qle};if(n&&(s=GA({},s,n(s))),t){var a=cm(s.areArraysEqual),o=cm(s.areMapsEqual),l=cm(s.areObjectsEqual),c=cm(s.areSetsEqual);s=GA({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function nce(e){return function(t,n,i,s,a,o,l){return e(t,n,l)}}function rce(e){var t=e.circular,n=e.comparator,i=e.createState,s=e.equals,a=e.strict;if(i)return function(c,d){var u=i(),f=u.cache,p=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return n(c,d,{cache:p,equals:s,meta:h,strict:a})};if(t)return function(c,d){return n(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,d){return n(c,d,o)}}var ice=io();io({strict:!0});io({circular:!0});io({circular:!0,strict:!0});io({createInternalComparator:function(){return gl}});io({strict:!0,createInternalComparator:function(){return gl}});io({circular:!0,createInternalComparator:function(){return gl}});io({circular:!0,createInternalComparator:function(){return gl},strict:!0});function io(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,i=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=tce(e),c=ece(l),d=i?i(c):nce(c);return rce({circular:n,comparator:c,createState:s,equals:d,strict:o})}function sce(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function KA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,i=function s(a){n<0&&(n=a),a-n>t?(e(a),n=-1):sce(s)};requestAnimationFrame(i)}function aj(e){"@babel/helpers - typeof";return aj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aj(e)}function ace(e){return dce(e)||cce(e)||lce(e)||oce()}function oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(e,t){if(e){if(typeof e=="string")return YA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YA(e,t)}}function YA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function cce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dce(e){if(Array.isArray(e))return e}function uce(){var e={},t=function(){return null},n=!1,i=function s(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=ace(o),c=l[0],d=l.slice(1);if(typeof c=="number"){KA(s.bind(null,d),c);return}s(c),KA(s.bind(null,d));return}aj(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,i(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(i){_$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _$(e,t,n){return t=fce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fce(e){var t=pce(e,"string");return Ef(t)==="symbol"?t:String(t)}function pce(e,t){if(Ef(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Ef(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mce=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(i,s){return i.filter(function(a){return s.includes(a)})})},hce=function(t){return t},xce=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Iu=function(t,n){return Object.keys(n).reduce(function(i,s){return XA(XA({},i),{},_$({},s,t(s,n[s])))},{})},ZA=function(t,n,i){return t.map(function(s){return"".concat(xce(s)," ").concat(n,"ms ").concat(i)}).join(",")};function vce(e,t){return bce(e)||yce(e,t)||I$(e,t)||gce()}function gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function bce(e){if(Array.isArray(e))return e}function jce(e){return Sce(e)||Nce(e)||I$(e)||wce()}function wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$(e,t){if(e){if(typeof e=="string")return oj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oj(e,t)}}function Nce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sce(e){if(Array.isArray(e))return oj(e)}function oj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Hh=1e-4,R$=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},M$=function(t,n){return t.map(function(i,s){return i*Math.pow(n,s)}).reduce(function(i,s){return i+s})},JA=function(t,n){return function(i){var s=R$(t,n);return M$(s,i)}},Cce=function(t,n){return function(i){var s=R$(t,n),a=[].concat(jce(s.map(function(o,l){return o*l}).slice(1)),[0]);return M$(a,i)}},e2=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=vce(d,4);s=u[0],a=u[1],o=u[2],l=u[3]}}}var f=JA(s,o),p=JA(a,l),h=Cce(s,o),v=function(j){return j>1?1:j<0?0:j},m=function(j){for(var g=j>1?1:j,x=g,w=0;w<8;++w){var b=f(x)-g,C=h(x);if(Math.abs(b-g)<Hh||C<Hh)return p(x);x=v(x-b/C)}return p(x)};return m.isStepper=!1,m},kce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,i=n===void 0?100:n,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(u,f,p){var h=-(u-f)*i,v=p*a,m=p+(h-v)*l/1e3,y=p*l/1e3+u;return Math.abs(y-f)<Hh&&Math.abs(m)<Hh?[f,0]:[y,m]};return c.isStepper=!0,c.dt=l,c},Ece=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return e2(s);case"spring":return kce();default:if(s.split("(")[0]==="cubic-bezier")return e2(s)}return typeof s=="function"?s:null};function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function t2(e){return Oce(e)||Pce(e)||$$(e)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oce(e){if(Array.isArray(e))return cj(e)}function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(i){lj(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function lj(e,t,n){return t=Tce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tce(e){var t=_ce(e,"string");return Af(t)==="symbol"?t:String(t)}function _ce(e,t){if(Af(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Af(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ice(e,t){return $ce(e)||Mce(e,t)||$$(e,t)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $$(e,t){if(e){if(typeof e=="string")return cj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cj(e,t)}}function cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Mce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function $ce(e){if(Array.isArray(e))return e}var Gh=function(t,n,i){return t+(n-t)*i},dj=function(t){var n=t.from,i=t.to;return n!==i},Dce=function e(t,n,i){var s=Iu(function(a,o){if(dj(o)){var l=t(o.from,o.to,o.velocity),c=Ice(l,2),d=c[0],u=c[1];return Rn(Rn({},o),{},{from:d,velocity:u})}return o},n);return i<1?Iu(function(a,o){return dj(o)?Rn(Rn({},o),{},{velocity:Gh(o.velocity,s[a].velocity,i),from:Gh(o.from,s[a].from,i)}):o},n):e(t,s,i-1)};const Fce=function(e,t,n,i,s){var a=mce(e,t),o=a.reduce(function(y,j){return Rn(Rn({},y),{},lj({},j,[e[j],t[j]]))},{}),l=a.reduce(function(y,j){return Rn(Rn({},y),{},lj({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,d,u,f=function(){return null},p=function(){return Iu(function(j,g){return g.from},l)},h=function(){return!Object.values(l).filter(dj).length},v=function(j){d||(d=j);var g=j-d,x=g/n.dt;l=Dce(n,l,x),s(Rn(Rn(Rn({},e),t),p())),d=j,h()||(c=requestAnimationFrame(f))},m=function(j){u||(u=j);var g=(j-u)/i,x=Iu(function(b,C){return Gh.apply(void 0,t2(C).concat([n(g)]))},o);if(s(Rn(Rn(Rn({},e),t),x)),g<1)c=requestAnimationFrame(f);else{var w=Iu(function(b,C){return Gh.apply(void 0,t2(C).concat([n(1)]))},o);s(Rn(Rn(Rn({},e),t),w))}};return f=n.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}var Lce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qce(e,t){if(e==null)return{};var n=zce(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function zce(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function ky(e){return Wce(e)||Vce(e)||Uce(e)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uce(e,t){if(e){if(typeof e=="string")return uj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uj(e,t)}}function Vce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wce(e){if(Array.isArray(e))return uj(e)}function uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(n),!0).forEach(function(i){xu(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xu(e,t,n){return t=D$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,D$(i.key),i)}}function Kce(e,t,n){return t&&Gce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D$(e){var t=Yce(e,"string");return Xc(t)==="symbol"?t:String(t)}function Yce(e,t){if(Xc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Xc(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fj(e,t)}function fj(e,t){return fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},fj(e,t)}function Xce(e){var t=Zce();return function(){var i=Kh(e),s;if(t){var a=Kh(this).constructor;s=Reflect.construct(i,arguments,a)}else s=i.apply(this,arguments);return pj(this,s)}}function pj(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mj(e)}function mj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kh(e){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kh(e)}var Xs=function(e){Qce(n,e);var t=Xce(n);function n(i,s){var a;Hce(this,n),a=t.call(this,i,s);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,p=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(mj(a)),a.changeStyle=a.changeStyle.bind(mj(a)),!l||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),pj(a);if(f&&f.length)a.state={style:f[0].style};else if(d){if(typeof p=="function")return a.state={style:d},pj(a);a.state={style:c?xu({},c,d):d}}else a.state={style:{}};return a}return Kce(n,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(l){if(!o){var h={style:c?xu({},c,u):u};this.state&&p&&(c&&p[c]!==u||!c&&p!==u)&&this.setState(h);return}if(!(ice(s.to,u)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||d?f:s.to;if(this.state&&p){var y={style:c?xu({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(y)}this.runAnimation(ui(ui({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,f=s.onAnimationEnd,p=s.onAnimationStart,h=Fce(o,l,Ece(d),c,this.changeStyle),v=function(){a.stopJSAnimation=h()};this.manager.start([p,u,v,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,f=d.duration,p=f===void 0?0:f,h=function(m,y,j){if(j===0)return m;var g=y.duration,x=y.easing,w=x===void 0?"ease":x,b=y.style,C=y.properties,k=y.onAnimationEnd,S=j>0?o[j-1]:y,E=C||Object.keys(b);if(typeof w=="function"||w==="spring")return[].concat(ky(m),[a.runJSAnimation.bind(a,{from:S.style,to:b,duration:g,easing:w}),g]);var $=ZA(E,g,w),O=ui(ui(ui({},S.style),b),{},{transition:$});return[].concat(ky(m),[O,g,k]).filter(hce)};return this.manager.start([c].concat(ky(o.reduce(h,[u,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=uce());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,f=s.onAnimationEnd,p=s.steps,h=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof h=="function"||d==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var m=l?xu({},l,c):c,y=ZA(Object.keys(m),o,d);v.start([u,a,ui(ui({},m),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=qce(s,Lce),d=N.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||d===0||o<=0)return a;var f=function(h){var v=h.props,m=v.style,y=m===void 0?{}:m,j=v.className,g=N.cloneElement(h,ui(ui({},c),{},{style:ui(ui({},y),u),className:j}));return g};return d===1?f(N.Children.only(a)):L.createElement("div",null,N.Children.map(a,function(p){return f(p)}))}}]),n}(N.PureComponent);Xs.displayName="Animate";Xs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xs.propTypes={from:Ke.oneOfType([Ke.object,Ke.string]),to:Ke.oneOfType([Ke.object,Ke.string]),attributeName:Ke.string,duration:Ke.number,begin:Ke.number,easing:Ke.oneOfType([Ke.string,Ke.func]),steps:Ke.arrayOf(Ke.shape({duration:Ke.number.isRequired,style:Ke.object.isRequired,easing:Ke.oneOfType([Ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ke.func]),properties:Ke.arrayOf("string"),onAnimationEnd:Ke.func})),children:Ke.oneOfType([Ke.node,Ke.func]),isActive:Ke.bool,canBegin:Ke.bool,onAnimationEnd:Ke.func,shouldReAnimate:Ke.bool,onAnimationStart:Ke.func,onAnimationReStart:Ke.func};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yh.apply(this,arguments)}function Jce(e,t){return rde(e)||nde(e,t)||tde(e,t)||ede()}function ede(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tde(e,t){if(e){if(typeof e=="string")return i2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i2(e,t)}}function i2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function nde(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function rde(e){if(Array.isArray(e))return e}function s2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function a2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(n),!0).forEach(function(i){ide(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ide(e,t,n){return t=sde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sde(e){var t=ade(e,"string");return Pf(t)=="symbol"?t:t+""}function ade(e,t){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Pf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o2=function(t,n,i,s,a){var o=Math.min(Math.abs(i)/2,Math.abs(s)/2),l=s>=0?1:-1,c=i>=0?1:-1,d=s>=0&&i>=0||s<0&&i<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>o?o:a[p];u="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(n)),u+="L ".concat(t+i-c*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+i,",").concat(n+l*f[1])),u+="L ".concat(t+i,",").concat(n+s-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+i-c*f[2],",").concat(n+s)),u+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+s-l*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);u="M ".concat(t,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+c*v,",").concat(n,`
            L `).concat(t+i-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+i,",").concat(n+l*v,`
            L `).concat(t+i,",").concat(n+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+i-c*v,",").concat(n+s,`
            L `).concat(t+c*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t,",").concat(n+s-l*v," Z")}else u="M ".concat(t,",").concat(n," h ").concat(i," v ").concat(s," h ").concat(-i," Z");return u},ode=function(t,n){if(!t||!n)return!1;var i=t.x,s=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),u=Math.max(a,a+l),f=Math.min(o,o+c),p=Math.max(o,o+c);return i>=d&&i<=u&&s>=f&&s<=p}return!1},lde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N1=function(t){var n=a2(a2({},lde),t),i=N.useRef(),s=N.useState(-1),a=Jce(s,2),o=a[0],l=a[1];N.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var w=i.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,d=n.y,u=n.width,f=n.height,p=n.radius,h=n.className,v=n.animationEasing,m=n.animationDuration,y=n.animationBegin,j=n.isAnimationActive,g=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var x=xt("recharts-rectangle",h);return g?L.createElement(Xs,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:m,animationEasing:v,isActive:g},function(w){var b=w.width,C=w.height,k=w.x,S=w.y;return L.createElement(Xs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:j,easing:v},L.createElement("path",Yh({},at(n,!0),{className:x,d:o2(k,S,b,C,p),ref:i})))}):L.createElement("path",Yh({},at(n,!0),{className:x,d:o2(c,d,u,f,p)}))},cde=["points","className","baseLinePoints","connectNulls"];function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gl.apply(this,arguments)}function dde(e,t){if(e==null)return{};var n=ude(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function ude(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function l2(e){return hde(e)||mde(e)||pde(e)||fde()}function fde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(e,t){if(e){if(typeof e=="string")return hj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hj(e,t)}}function mde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hde(e){if(Array.isArray(e))return hj(e)}function hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c2=function(t){return t&&t.x===+t.x&&t.y===+t.y},xde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(i){c2(i)?n[n.length-1].push(i):n[n.length-1].length>0&&n.push([])}),c2(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ru=function(t,n){var i=xde(t);n&&(i=[i.reduce(function(a,o){return[].concat(l2(a),l2(o))},[])]);var s=i.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return i.length===1?"".concat(s,"Z"):s},vde=function(t,n,i){var s=Ru(t,i);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Ru(n.reverse(),i).slice(1))},gde=function(t){var n=t.points,i=t.className,s=t.baseLinePoints,a=t.connectNulls,o=dde(t,cde);if(!n||!n.length)return null;var l=xt("recharts-polygon",i);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=vde(n,s,a);return L.createElement("g",{className:l},L.createElement("path",Gl({},at(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?L.createElement("path",Gl({},at(o,!0),{fill:"none",d:Ru(n,a)})):null,c?L.createElement("path",Gl({},at(o,!0),{fill:"none",d:Ru(s,a)})):null)}var u=Ru(n,a);return L.createElement("path",Gl({},at(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xj.apply(this,arguments)}var S1=function(t){var n=t.cx,i=t.cy,s=t.r,a=t.className,o=xt("recharts-dot",a);return n===+n&&i===+i&&s===+s?L.createElement("circle",xj({},at(t,!1),xh(t),{className:o,cx:n,cy:i,r:s})):null};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}var yde=["x","y","top","left","width","height","className"];function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vj.apply(this,arguments)}function d2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function bde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(n),!0).forEach(function(i){jde(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function jde(e,t,n){return t=wde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wde(e){var t=Nde(e,"string");return Of(t)=="symbol"?t:t+""}function Nde(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Of(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sde(e,t){if(e==null)return{};var n=Cde(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Cde(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var kde=function(t,n,i,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(i)},Ede=function(t){var n=t.x,i=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,p=t.height,h=p===void 0?0:p,v=t.className,m=Sde(t,yde),y=bde({x:i,y:a,top:l,left:d,width:f,height:h},m);return!je(i)||!je(a)||!je(f)||!je(h)||!je(l)||!je(d)?null:L.createElement("path",vj({},at(y,!0),{className:xt("recharts-cross",v),d:kde(i,a,f,h,l,d)}))},Ade=Uv,Pde=YM,Ode=hs;function Tde(e,t){return e&&e.length?Ade(e,Ode(t),Pde):void 0}var _de=Tde;const Ide=Pt(_de);var Rde=Uv,Mde=hs,$de=QM;function Dde(e,t){return e&&e.length?Rde(e,Mde(t),$de):void 0}var Fde=Dde;const Lde=Pt(Fde);var qde=["cx","cy","angle","ticks","axisLine"],zde=["ticks","tick","angle","tickFormatter","stroke"];function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mu.apply(this,arguments)}function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(n),!0).forEach(function(i){Qv(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function f2(e,t){if(e==null)return{};var n=Bde(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Bde(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Ude(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,L$(i.key),i)}}function Vde(e,t,n){return t&&p2(e.prototype,t),n&&p2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wde(e,t,n){return t=Qh(t),Hde(e,F$()?Reflect.construct(t,n||[],Qh(e).constructor):t.apply(e,n))}function Hde(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gde(e)}function Gde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F$=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(e)}function Kde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gj(e,t)}function gj(e,t){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},gj(e,t)}function Qv(e,t,n){return t=L$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L$(e){var t=Yde(e,"string");return Zc(t)=="symbol"?t:t+""}function Yde(e,t){if(Zc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Zc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xv=function(e){function t(){return Ude(this,t),Wde(this,t,arguments)}return Kde(t,e),Vde(t,[{key:"getTickValueCoord",value:function(i){var s=i.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Bt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var i=this.props.orientation,s;switch(i){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var i=this.props,s=i.cx,a=i.cy,o=i.angle,l=i.ticks,c=Ide(l,function(u){return u.coordinate||0}),d=Lde(l,function(u){return u.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.cx,a=i.cy,o=i.angle,l=i.ticks,c=i.axisLine,d=f2(i,qde),u=l.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=Bt(s,a,u[0],o),p=Bt(s,a,u[1],o),h=uo(uo(uo({},at(d,!1)),{},{fill:"none"},at(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return L.createElement("line",Mu({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var i=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=f2(s,zde),f=this.getTickTextAnchor(),p=at(u,!1),h=at(o,!1),v=a.map(function(m,y){var j=i.getTickValueCoord(m),g=uo(uo(uo(uo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},p),{},{stroke:"none",fill:d},h),{},{index:y},j),{},{payload:m});return L.createElement(_t,Mu({className:xt("recharts-polar-radius-axis-tick",S$(o)),key:"tick-".concat(m.coordinate)},tl(i.props,m,y)),t.renderTickItem(o,g,c?c(m.value,y):m.value))});return L.createElement(_t,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var i=this.props,s=i.ticks,a=i.axisLine,o=i.tick;return!s||!s.length?null:L.createElement(_t,{className:xt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(i,s,a){var o;return L.isValidElement(i)?o=L.cloneElement(i,s):lt(i)?o=i(s):o=L.createElement(nl,Mu({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(N.PureComponent);Qv(Xv,"displayName","PolarRadiusAxis");Qv(Xv,"axisType","radiusAxis");Qv(Xv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yo.apply(this,arguments)}function m2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(n),!0).forEach(function(i){Zv(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Qde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,z$(i.key),i)}}function Xde(e,t,n){return t&&h2(e.prototype,t),n&&h2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zde(e,t,n){return t=Xh(t),Jde(e,q$()?Reflect.construct(t,n||[],Xh(e).constructor):t.apply(e,n))}function Jde(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eue(e)}function eue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q$=function(){return!!e})()}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xh(e)}function tue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yj(e,t)}function yj(e,t){return yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},yj(e,t)}function Zv(e,t,n){return t=z$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z$(e){var t=nue(e,"string");return Jc(t)=="symbol"?t:t+""}function nue(e,t){if(Jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Jc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rue=Math.PI/180,x2=1e-5,Jv=function(e){function t(){return Qde(this,t),Zde(this,t,arguments)}return tue(t,e),Xde(t,[{key:"getTickLineCoord",value:function(i){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,f=Bt(a,o,l,i.coordinate),p=Bt(a,o,l+(c==="inner"?-1:1)*u,i.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(i){var s=this.props.orientation,a=Math.cos(-i.coordinate*rue),o;return a>x2?o=s==="outer"?"start":"end":a<-x2?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.axisLine,c=i.axisLineType,d=fo(fo({},at(this.props,!1)),{},{fill:"none"},at(l,!1));if(c==="circle")return L.createElement(S1,yo({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(p){return Bt(s,a,o,p.coordinate)});return L.createElement(gde,yo({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var i=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=at(this.props,!1),f=at(o,!1),p=fo(fo({},u),{},{fill:"none"},at(l,!1)),h=a.map(function(v,m){var y=i.getTickLineCoord(v),j=i.getTickTextAnchor(v),g=fo(fo(fo({textAnchor:j},u),{},{stroke:"none",fill:d},f),{},{index:m,payload:v,x:y.x2,y:y.y2});return L.createElement(_t,yo({className:xt("recharts-polar-angle-axis-tick",S$(o)),key:"tick-".concat(v.coordinate)},tl(i.props,v,m)),l&&L.createElement("line",yo({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&t.renderTickItem(o,g,c?c(v.value,m):v.value))});return L.createElement(_t,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var i=this.props,s=i.ticks,a=i.radius,o=i.axisLine;return a<=0||!s||!s.length?null:L.createElement(_t,{className:xt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(i,s,a){var o;return L.isValidElement(i)?o=L.cloneElement(i,s):lt(i)?o=i(s):o=L.createElement(nl,yo({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(N.PureComponent);Zv(Jv,"displayName","PolarAngleAxis");Zv(Jv,"axisType","angleAxis");Zv(Jv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var iue=W4,sue=iue(Object.getPrototypeOf,Object),aue=sue,oue=ea,lue=aue,cue=ta,due="[object Object]",uue=Function.prototype,fue=Object.prototype,B$=uue.toString,pue=fue.hasOwnProperty,mue=B$.call(Object);function hue(e){if(!cue(e)||oue(e)!=due)return!1;var t=lue(e);if(t===null)return!0;var n=pue.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&B$.call(n)==mue}var xue=hue;const vue=Pt(xue);var gue=ea,yue=ta,bue="[object Boolean]";function jue(e){return e===!0||e===!1||yue(e)&&gue(e)==bue}var wue=jue;const Nue=Pt(wue);function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zh.apply(this,arguments)}function Sue(e,t){return Aue(e)||Eue(e,t)||kue(e,t)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kue(e,t){if(e){if(typeof e=="string")return v2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v2(e,t)}}function v2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Eue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Aue(e){if(Array.isArray(e))return e}function g2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function y2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(n),!0).forEach(function(i){Pue(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Pue(e,t,n){return t=Oue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oue(e){var t=Tue(e,"string");return Tf(t)=="symbol"?t:t+""}function Tue(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Tf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b2=function(t,n,i,s,a){var o=i-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+i,",").concat(n),l+="L ".concat(t+i-o/2,",").concat(n+a),l+="L ".concat(t+i-o/2-s,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},_ue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Iue=function(t){var n=y2(y2({},_ue),t),i=N.useRef(),s=N.useState(-1),a=Sue(s,2),o=a[0],l=a[1];N.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var x=i.current.getTotalLength();x&&l(x)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,f=n.lowerWidth,p=n.height,h=n.className,v=n.animationEasing,m=n.animationDuration,y=n.animationBegin,j=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var g=xt("recharts-trapezoid",h);return j?L.createElement(Xs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:p,x:c,y:d},duration:m,animationEasing:v,isActive:j},function(x){var w=x.upperWidth,b=x.lowerWidth,C=x.height,k=x.x,S=x.y;return L.createElement(Xs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:v},L.createElement("path",Zh({},at(n,!0),{className:g,d:b2(k,S,w,b,C),ref:i})))}):L.createElement("g",null,L.createElement("path",Zh({},at(n,!0),{className:g,d:b2(c,d,u,f,p)})))},Rue=["option","shapeType","propTransformer","activeClassName","isActive"];function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function Mue(e,t){if(e==null)return{};var n=$ue(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function $ue(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function j2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(n),!0).forEach(function(i){Due(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Due(e,t,n){return t=Fue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fue(e){var t=Lue(e,"string");return _f(t)=="symbol"?t:t+""}function Lue(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(_f(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function que(e,t){return Jh(Jh({},t),e)}function zue(e,t){return e==="symbols"}function w2(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return L.createElement(N1,n);case"trapezoid":return L.createElement(Iue,n);case"sector":return L.createElement(E$,n);case"symbols":if(zue(t))return L.createElement(BN,n);break;default:return null}}function Bue(e){return N.isValidElement(e)?e.props:e}function U$(e){var t=e.option,n=e.shapeType,i=e.propTransformer,s=i===void 0?que:i,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=Mue(e,Rue),d;if(N.isValidElement(t))d=N.cloneElement(t,Jh(Jh({},c),Bue(t)));else if(lt(t))d=t(c);else if(vue(t)&&!Nue(t)){var u=s(t,c);d=L.createElement(w2,{shapeType:n,elementProps:u})}else{var f=c;d=L.createElement(w2,{shapeType:n,elementProps:f})}return l?L.createElement(_t,{className:o},d):d}function eg(e,t){return t!=null&&"trapezoids"in e.props}function tg(e,t){return t!=null&&"sectors"in e.props}function If(e,t){return t!=null&&"points"in e.props}function Uue(e,t){var n,i,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(i=t.labelViewBox)===null||i===void 0?void 0:i.y)||e.y===t.y;return s&&a}function Vue(e,t){var n=e.endAngle===t.endAngle,i=e.startAngle===t.startAngle;return n&&i}function Wue(e,t){var n=e.x===t.x,i=e.y===t.y,s=e.z===t.z;return n&&i&&s}function Hue(e,t){var n;return eg(e,t)?n=Uue:tg(e,t)?n=Vue:If(e,t)&&(n=Wue),n}function Gue(e,t){var n;return eg(e,t)?n="trapezoids":tg(e,t)?n="sectors":If(e,t)&&(n="points"),n}function Kue(e,t){if(eg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(tg(e,t)){var i;return(i=t.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}return If(e,t)?t.payload:{}}function Yue(e){var t=e.activeTooltipItem,n=e.graphicalItem,i=e.itemData,s=Gue(n,t),a=Kue(n,t),o=i.filter(function(c,d){var u=Hv(a,c),f=n.props[s].filter(function(v){var m=Hue(n,t);return m(v,t)}),p=n.props[s].indexOf(f[f.length-1]),h=d===p;return u&&h}),l=i.indexOf(o[o.length-1]);return l}var Mm;function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kl.apply(this,arguments)}function N2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(n),!0).forEach(function(i){Yr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Que(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,W$(i.key),i)}}function Xue(e,t,n){return t&&S2(e.prototype,t),n&&S2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zue(e,t,n){return t=ex(t),Jue(e,V$()?Reflect.construct(t,n||[],ex(e).constructor):t.apply(e,n))}function Jue(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return efe(e)}function efe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V$=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(e)}function tfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bj(e,t)}function bj(e,t){return bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},bj(e,t)}function Yr(e,t,n){return t=W$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W$(e){var t=nfe(e,"string");return ed(t)=="symbol"?t:t+""}function nfe(e,t){if(ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ed(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ra=function(e){function t(n){var i;return Que(this,t),i=Zue(this,t,[n]),Yr(i,"pieRef",null),Yr(i,"sectorRefs",[]),Yr(i,"id",bp("recharts-pie-")),Yr(i,"handleAnimationEnd",function(){var s=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),lt(s)&&s()}),Yr(i,"handleAnimationStart",function(){var s=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),lt(s)&&s()}),i.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},i}return tfe(t,e),Xue(t,[{key:"isActiveIndex",value:function(i){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(i)!==-1:i===s}},{key:"hasActiveIndex",value:function(){var i=this.props.activeIndex;return Array.isArray(i)?i.length!==0:i||i===0}},{key:"renderLabels",value:function(i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,u=at(this.props,!1),f=at(o,!1),p=at(l,!1),h=o&&o.offsetRadius||20,v=i.map(function(m,y){var j=(m.startAngle+m.endAngle)/2,g=Bt(m.cx,m.cy,m.outerRadius+h,j),x=Lt(Lt(Lt(Lt({},u),m),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(g.x,m.cx)},g),w=Lt(Lt(Lt(Lt({},u),m),{},{fill:"none",stroke:m.fill},p),{},{index:y,points:[Bt(m.cx,m.cy,m.outerRadius,j),g]}),b=c;return gt(c)&&gt(d)?b="value":gt(c)&&(b=d),L.createElement(_t,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,x,Wn(m,b)))});return L.createElement(_t,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(i){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return i.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&i.length!==1)return null;var f=s.isActiveIndex(u),p=c&&s.hasActiveIndex()?c:null,h=f?o:p,v=Lt(Lt({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return L.createElement(_t,Kl({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},tl(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),L.createElement(U$,Kl({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var i=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return L.createElement(Xs,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,y=[],j=a&&a[0],g=j.startAngle;return a.forEach(function(x,w){var b=p&&p[w],C=w>0?Mr(x,"paddingAngle",0):0;if(b){var k=pa(b.endAngle-b.startAngle,x.endAngle-x.startAngle),S=Lt(Lt({},x),{},{startAngle:g+C,endAngle:g+k(m)+C});y.push(S),g=S.endAngle}else{var E=x.endAngle,$=x.startAngle,O=pa(0,E-$),A=O(m),P=Lt(Lt({},x),{},{startAngle:g+C,endAngle:g+A+C});y.push(P),g=P.endAngle}}),L.createElement(_t,null,i.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(i){var s=this;i.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var i=this.props,s=i.sectors,a=i.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!Hv(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var i=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,f=s.innerRadius,p=s.outerRadius,h=s.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!je(d)||!je(u)||!je(f)||!je(p))return null;var m=xt("recharts-pie",l);return L.createElement(_t,{tabIndex:this.props.rootTabIndex,className:m,ref:function(j){i.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),Pn.renderCallByParent(this.props,null,!1),(!h||v)&&qa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(i,s){return s.prevIsAnimationActive!==i.isAnimationActive?{prevIsAnimationActive:i.isAnimationActive,prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:[],isAnimationFinished:!0}:i.isAnimationActive&&i.animationId!==s.prevAnimationId?{prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:i.sectors!==s.curSectors?{curSectors:i.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(i,s){return i>s?"start":i<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(i,s,a){if(L.isValidElement(i))return L.cloneElement(i,s);if(lt(i))return i(s);var o=xt("recharts-pie-label-line",typeof i!="boolean"?i.className:"");return L.createElement(sj,Kl({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(i,s,a){if(L.isValidElement(i))return L.cloneElement(i,s);var o=a;if(lt(i)&&(o=i(s),L.isValidElement(o)))return o;var l=xt("recharts-pie-label-text",typeof i!="boolean"&&!lt(i)?i.className:"");return L.createElement(nl,Kl({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(N.PureComponent);Mm=ra;Yr(ra,"displayName","Pie");Yr(ra,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ms.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yr(ra,"parseDeltaAngle",function(e,t){var n=sr(t-e),i=Math.min(Math.abs(t-e),360);return n*i});Yr(ra,"getRealPieData",function(e){var t=e.data,n=e.children,i=at(e,!1),s=ei(n,$v);return t&&t.length?t.map(function(a,o){return Lt(Lt(Lt({payload:a},i),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return Lt(Lt({},i),a.props)}):[]});Yr(ra,"parseCoordinateOfPie",function(e,t){var n=t.top,i=t.left,s=t.width,a=t.height,o=N$(s,a),l=i+ar(e.cx,s,s/2),c=n+ar(e.cy,a,a/2),d=ar(e.innerRadius,o,0),u=ar(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});Yr(ra,"getComposedData",function(e){var t=e.item,n=e.offset,i=t.type.defaultProps!==void 0?Lt(Lt({},t.type.defaultProps),t.props):t.props,s=Mm.getRealPieData(i);if(!s||!s.length)return null;var a=i.cornerRadius,o=i.startAngle,l=i.endAngle,c=i.paddingAngle,d=i.dataKey,u=i.nameKey,f=i.valueKey,p=i.tooltipType,h=Math.abs(i.minAngle),v=Mm.parseCoordinateOfPie(i,n),m=Mm.parseDeltaAngle(o,l),y=Math.abs(m),j=d;gt(d)&&gt(f)?(Pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):gt(d)&&(Pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var g=s.filter(function(S){return Wn(S,j,0)!==0}).length,x=(y>=360?g:g-1)*c,w=y-g*h-x,b=s.reduce(function(S,E){var $=Wn(E,j,0);return S+(je($)?$:0)},0),C;if(b>0){var k;C=s.map(function(S,E){var $=Wn(S,j,0),O=Wn(S,u,E),A=(je($)?$:0)/b,P;E?P=k.endAngle+sr(m)*c*($!==0?1:0):P=o;var _=P+sr(m)*(($!==0?h:0)+A*w),F=(P+_)/2,M=(v.innerRadius+v.outerRadius)/2,G=[{name:O,value:$,payload:S,dataKey:j,type:p}],z=Bt(v.cx,v.cy,M,F);return k=Lt(Lt(Lt({percent:A,cornerRadius:a,name:O,tooltipPayload:G,midAngle:F,middleRadius:M,tooltipPosition:z},S),v),{},{value:Wn(S,j),startAngle:P,endAngle:_,payload:S,paddingAngle:sr(m)*c}),k})}return Lt(Lt({},v),{},{sectors:C,data:s})});var rfe=Math.ceil,ife=Math.max;function sfe(e,t,n,i){for(var s=-1,a=ife(rfe((t-e)/(n||1)),0),o=Array(a);a--;)o[i?a:++s]=e,e+=n;return o}var afe=sfe,ofe=dM,C2=1/0,lfe=17976931348623157e292;function cfe(e){if(!e)return e===0?e:0;if(e=ofe(e),e===C2||e===-C2){var t=e<0?-1:1;return t*lfe}return e===e?e:0}var H$=cfe,dfe=afe,ufe=Mv,Ey=H$;function ffe(e){return function(t,n,i){return i&&typeof i!="number"&&ufe(t,n,i)&&(n=i=void 0),t=Ey(t),n===void 0?(n=t,t=0):n=Ey(n),i=i===void 0?t<n?1:-1:Ey(i),dfe(t,n,i,e)}}var pfe=ffe,mfe=pfe,hfe=mfe(),xfe=hfe;const tx=Pt(xfe);function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function k2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function E2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(n),!0).forEach(function(i){G$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function G$(e,t,n){return t=vfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vfe(e){var t=gfe(e,"string");return Rf(t)=="symbol"?t:t+""}function gfe(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Rf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yfe=["Webkit","Moz","O","ms"],bfe=function(t,n){var i=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=yfe.reduce(function(a,o){return E2(E2({},a),{},G$({},o+i,n))},{});return s[t]=n,s};function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nx.apply(this,arguments)}function A2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ay(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(n),!0).forEach(function(i){Nr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function jfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Y$(i.key),i)}}function wfe(e,t,n){return t&&P2(e.prototype,t),n&&P2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nfe(e,t,n){return t=rx(t),Sfe(e,K$()?Reflect.construct(t,n||[],rx(e).constructor):t.apply(e,n))}function Sfe(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cfe(e)}function Cfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K$=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rx(e)}function kfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jj(e,t)}function jj(e,t){return jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},jj(e,t)}function Nr(e,t,n){return t=Y$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y$(e){var t=Efe(e,"string");return td(t)=="symbol"?t:t+""}function Efe(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(td(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Afe=function(t){var n=t.data,i=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=Tu().domain(tx(0,c)).range([a,a+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(i),endX:d(s),scale:d,scaleValues:u}},O2=function(t){return t.changedTouches&&!!t.changedTouches.length},nd=function(e){function t(n){var i;return jfe(this,t),i=Nfe(this,t,[n]),Nr(i,"handleDrag",function(s){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(s):i.state.isSlideMoving&&i.handleSlideDrag(s)}),Nr(i,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&i.handleDrag(s.changedTouches[0])}),Nr(i,"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=i.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),i.detachDragEndListener()}),Nr(i,"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Nr(i,"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Nr(i,"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Nr(i,"handleSlideDragStart",function(s){var a=O2(s)?s.changedTouches[0]:s;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(i,"startX"),endX:i.handleTravellerDragStart.bind(i,"endX")},i.state={},i}return kfe(t,e),wfe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var s=i.startX,a=i.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(s,a),p=Math.max(s,a),h=t.getIndexInRange(o,f),v=t.getIndexInRange(o,p);return{startIndex:h-h%c,endIndex:v===u?u:v-v%c}}},{key:"getTextOfTick",value:function(i){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=Wn(a[i],l,i);return lt(o)?o(c,i):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,v=c.onChange,m=i.pageX-a;m>0?m=Math.min(m,d+u-f-l,d+u-f-o):m<0&&(m=Math.max(m,d-o,d-l));var y=this.getIndex({startX:o+m,endX:l+m});(y.startIndex!==p||y.endIndex!==h)&&v&&v(y),this.setState({startX:o+m,endX:l+m,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,s){var a=O2(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,f=u.x,p=u.width,h=u.travellerWidth,v=u.onChange,m=u.gap,y=u.data,j={startX:this.state.startX,endX:this.state.endX},g=i.pageX-a;g>0?g=Math.min(g,f+p-h-d):g<0&&(g=Math.max(g,f-d)),j[o]=d+g;var x=this.getIndex(j),w=x.startIndex,b=x.endIndex,C=function(){var S=y.length-1;return o==="startX"&&(l>c?w%m===0:b%m===0)||l<c&&b===S||o==="endX"&&(l>c?b%m===0:w%m===0)||l>c&&b===S};this.setState(Nr(Nr({},o,d+g),"brushMoveStartX",i.pageX),function(){v&&C()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(i,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],f=l.indexOf(u);if(f!==-1){var p=f+i;if(!(p===-1||p>=l.length)){var h=l[p];s==="startX"&&h>=d||s==="endX"&&h<=c||this.setState(Nr({},s,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.fill,d=i.stroke;return L.createElement("rect",{stroke:d,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.data,d=i.children,u=i.padding,f=N.Children.only(d);return f?L.cloneElement(f,{x:s,y:a,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(i,s){var a,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,v=c.data,m=c.startIndex,y=c.endIndex,j=Math.max(i,this.props.x),g=Ay(Ay({},at(this.props,!1)),{},{x:j,y:d,width:u,height:f}),x=h||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return L.createElement(_t,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),l.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,g))}},{key:"renderSlide",value:function(i,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,u=Math.min(i,s)+d,f=Math.max(Math.abs(s-i)-d,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var i=this.props,s=i.startIndex,a=i.endIndex,o=i.y,l=i.height,c=i.travellerWidth,d=i.stroke,u=this.state,f=u.startX,p=u.endX,h=5,v={pointerEvents:"none",fill:d};return L.createElement(_t,{className:"recharts-brush-texts"},L.createElement(nl,nx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+l/2},v),this.getTextOfTick(s)),L.createElement(nl,nx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:o+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var i=this.props,s=i.data,a=i.className,o=i.children,l=i.x,c=i.y,d=i.width,u=i.height,f=i.alwaysShowText,p=this.state,h=p.startX,v=p.endX,m=p.isTextActive,y=p.isSlideMoving,j=p.isTravellerMoving,g=p.isTravellerFocused;if(!s||!s.length||!je(l)||!je(c)||!je(d)||!je(u)||d<=0||u<=0)return null;var x=xt("recharts-brush",a),w=L.Children.count(o)===1,b=bfe("userSelect","none");return L.createElement(_t,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(m||y||j||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var s=i.x,a=i.y,o=i.width,l=i.height,c=i.stroke,d=Math.floor(a+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,s){var a;return L.isValidElement(i)?a=L.cloneElement(i,s):lt(i)?a=i(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(i,s){var a=i.data,o=i.width,l=i.x,c=i.travellerWidth,d=i.updateId,u=i.startIndex,f=i.endIndex;if(a!==s.prevData||d!==s.prevUpdateId)return Ay({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?Afe({data:a,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var p=s.scale.domain().map(function(h){return s.scale(h)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(i.startIndex),endX:s.scale(i.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(i,s){for(var a=i.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);i[c]>s?l=c:o=c}return s>=i[l]?l:o}}])}(N.PureComponent);Nr(nd,"displayName","Brush");Nr(nd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Pfe=YN;function Ofe(e,t){var n;return Pfe(e,function(i,s,a){return n=t(i,s,a),!n}),!!n}var Tfe=Ofe,_fe=D4,Ife=hs,Rfe=Tfe,Mfe=wr,$fe=Mv;function Dfe(e,t,n){var i=Mfe(e)?_fe:Rfe;return n&&$fe(e,t,n)&&(t=void 0),i(e,Ife(t))}var Ffe=Dfe;const Lfe=Pt(Ffe);var is=function(t,n){var i=t.alwaysShow,s=t.ifOverflow;return i&&(s="extendDomain"),s===n},T2=sM;function qfe(e,t,n){t=="__proto__"&&T2?T2(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var zfe=qfe,Bfe=zfe,Ufe=rM,Vfe=hs;function Wfe(e,t){var n={};return t=Vfe(t),Ufe(e,function(i,s,a){Bfe(n,s,t(i,s,a))}),n}var Hfe=Wfe;const Gfe=Pt(Hfe);function Kfe(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}var Yfe=Kfe,Qfe=YN;function Xfe(e,t){var n=!0;return Qfe(e,function(i,s,a){return n=!!t(i,s,a),n}),n}var Zfe=Xfe,Jfe=Yfe,epe=Zfe,tpe=hs,npe=wr,rpe=Mv;function ipe(e,t,n){var i=npe(e)?Jfe:epe;return n&&rpe(e,t,n)&&(t=void 0),i(e,tpe(t))}var spe=ipe;const Q$=Pt(spe);var ape=["x","y"];function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wj.apply(this,arguments)}function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(i){ope(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ope(e,t,n){return t=lpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lpe(e){var t=cpe(e,"string");return Mf(t)=="symbol"?t:t+""}function cpe(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Mf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dpe(e,t){if(e==null)return{};var n=upe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function upe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function fpe(e,t){var n=e.x,i=e.y,s=dpe(e,ape),a="".concat(n),o=parseInt(a,10),l="".concat(i),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),p=parseInt(f,10);return su(su(su(su(su({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function I2(e){return L.createElement(U$,wj({shapeType:"rectangle",propTransformer:fpe,activeClassName:"recharts-active-bar"},e))}var ppe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(i,s){if(typeof t=="number")return t;var a=typeof i=="number";return a?t(i,s):(a||il(),n)}},mpe=["value","background"],X$;function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function hpe(e,t){if(e==null)return{};var n=xpe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function xpe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ix.apply(this,arguments)}function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(i){Oa(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,J$(i.key),i)}}function gpe(e,t,n){return t&&M2(e.prototype,t),n&&M2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ype(e,t,n){return t=sx(t),bpe(e,Z$()?Reflect.construct(t,n||[],sx(e).constructor):t.apply(e,n))}function bpe(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jpe(e)}function jpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(e)}function wpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nj(e,t)}function Nj(e,t){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Nj(e,t)}function Oa(e,t,n){return t=J$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J$(e){var t=Npe(e,"string");return rd(t)=="symbol"?t:t+""}function Npe(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(rd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yl=function(e){function t(){var n;vpe(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=ype(this,t,[].concat(s)),Oa(n,"state",{isAnimationFinished:!1}),Oa(n,"id",bp("recharts-bar-")),Oa(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Oa(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return wpe(t,e),gpe(t,[{key:"renderRectanglesStatically",value:function(i){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,u=at(this.props,!1);return i&&i.map(function(f,p){var h=p===c,v=h?d:o,m=hn(hn(hn({},u),f),{},{isActive:h,option:v,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return L.createElement(_t,ix({className:"recharts-bar-rectangle"},tl(s.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),L.createElement(I2,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,p=this.state.prevData;return L.createElement(Xs,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,m=a.map(function(y,j){var g=p&&p[j];if(g){var x=pa(g.x,y.x),w=pa(g.y,y.y),b=pa(g.width,y.width),C=pa(g.height,y.height);return hn(hn({},y),{},{x:x(v),y:w(v),width:b(v),height:C(v)})}if(o==="horizontal"){var k=pa(0,y.height),S=k(v);return hn(hn({},y),{},{y:y.y+y.height-S,height:S})}var E=pa(0,y.width),$=E(v);return hn(hn({},y),{},{width:$})});return L.createElement(_t,null,i.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var i=this.props,s=i.data,a=i.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Hv(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var i=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=at(this.props.background,!1);return a.map(function(d,u){d.value;var f=d.background,p=hpe(d,mpe);if(!f)return null;var h=hn(hn(hn(hn(hn({},p),{},{fill:"#eee"},f),c),tl(i.props,d,u)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return L.createElement(I2,ix({key:"background-bar-".concat(u),option:i.props.background,isActive:u===l},h))})}},{key:"renderErrorBar",value:function(i,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,f=ei(u,Yv);if(!f)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,h=function(y,j){var g=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:g,errorVal:Wn(y,j)}},v={clipPath:i?"url(#clipPath-".concat(s,")"):null};return L.createElement(_t,v,f.map(function(m){return L.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var i=this.props,s=i.hide,a=i.data,o=i.className,l=i.xAxis,c=i.yAxis,d=i.left,u=i.top,f=i.width,p=i.height,h=i.isAnimationActive,v=i.background,m=i.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,j=xt("recharts-bar",o),g=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,w=g||x,b=gt(m)?this.id:m;return L.createElement(_t,{className:j},g||x?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(b)},L.createElement("rect",{x:g?d:d-f/2,y:x?u:u-p/2,width:g?f:f*2,height:x?p:p*2}))):null,L.createElement(_t,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(b,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,b),(!h||y)&&qa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(i,s){return i.animationId!==s.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:s.curData}:i.data!==s.curData?{curData:i.data}:null}}])}(N.PureComponent);X$=yl;Oa(yl,"displayName","Bar");Oa(yl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ms.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Oa(yl,"getComposedData",function(e){var t=e.props,n=e.item,i=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,h=roe(i,n);if(!h)return null;var v=t.layout,m=n.type.defaultProps,y=m!==void 0?hn(hn({},m),n.props):n.props,j=y.dataKey,g=y.children,x=y.minPointSize,w=v==="horizontal"?o:a,b=d?w.scale.domain():null,C=doe({numericAxis:w}),k=ei(g,$v),S=f.map(function(E,$){var O,A,P,_,F,M;d?O=ioe(d[u+$],b):(O=Wn(E,j),Array.isArray(O)||(O=[C,O]));var G=ppe(x,X$.defaultProps.minPointSize)(O[1],$);if(v==="horizontal"){var z,H=[o.scale(O[0]),o.scale(O[1])],D=H[0],U=H[1];A=SA({axis:a,ticks:l,bandSize:s,offset:h.offset,entry:E,index:$}),P=(z=U??D)!==null&&z!==void 0?z:void 0,_=h.size;var I=D-U;if(F=Number.isNaN(I)?0:I,M={x:A,y:o.y,width:_,height:o.height},Math.abs(G)>0&&Math.abs(F)<Math.abs(G)){var se=sr(F||G)*(Math.abs(G)-Math.abs(F));P-=se,F+=se}}else{var ge=[a.scale(O[0]),a.scale(O[1])],ee=ge[0],we=ge[1];if(A=ee,P=SA({axis:o,ticks:c,bandSize:s,offset:h.offset,entry:E,index:$}),_=we-ee,F=h.size,M={x:a.x,y:P,width:a.width,height:F},Math.abs(G)>0&&Math.abs(_)<Math.abs(G)){var me=sr(_||G)*(Math.abs(G)-Math.abs(_));_+=me}}return hn(hn(hn({},E),{},{x:A,y:P,width:_,height:F,value:d?O:O[1],payload:E,background:M},k&&k[$]&&k[$].props),{},{tooltipPayload:[j$(n,E)],tooltipPosition:{x:A+_/2,y:P+F/2}})});return hn({data:S,layout:v},p)});function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function Spe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,eD(i.key),i)}}function Cpe(e,t,n){return t&&$2(e.prototype,t),n&&$2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(i){ng(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ng(e,t,n){return t=eD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eD(e){var t=kpe(e,"string");return $f(t)=="symbol"?t:t+""}function kpe(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if($f(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Epe=function(t,n,i,s,a){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),f={left:i.left,leftMirror:i.left,right:o-i.right,rightMirror:o-i.right,top:i.top,topMirror:i.top,bottom:l-i.bottom,bottomMirror:l-i.bottom},p=!!kr(d,yl);return u.reduce(function(h,v){var m=n[v],y=m.orientation,j=m.domain,g=m.padding,x=g===void 0?{}:g,w=m.mirror,b=m.reversed,C="".concat(y).concat(w?"Mirror":""),k,S,E,$,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var A=j[1]-j[0],P=1/0,_=m.categoricalDomain.sort();if(_.forEach(function(ge,ee){ee>0&&(P=Math.min((ge||0)-(_[ee-1]||0),P))}),Number.isFinite(P)){var F=P/A,M=m.layout==="vertical"?i.height:i.width;if(m.padding==="gap"&&(k=F*M/2),m.padding==="no-gap"){var G=ar(t.barCategoryGap,F*M),z=F*M/2;k=z-G-(z-G)/M*G}}}s==="xAxis"?S=[i.left+(x.left||0)+(k||0),i.left+i.width-(x.right||0)-(k||0)]:s==="yAxis"?S=c==="horizontal"?[i.top+i.height-(x.bottom||0),i.top+(x.top||0)]:[i.top+(x.top||0)+(k||0),i.top+i.height-(x.bottom||0)-(k||0)]:S=m.range,b&&(S=[S[1],S[0]]);var H=v$(m,a,p),D=H.scale,U=H.realScaleType;D.domain(j).range(S),g$(D);var I=y$(D,vi(vi({},m),{},{realScaleType:U}));s==="xAxis"?(O=y==="top"&&!w||y==="bottom"&&w,E=i.left,$=f[C]-O*m.height):s==="yAxis"&&(O=y==="left"&&!w||y==="right"&&w,E=f[C]-O*m.width,$=i.top);var se=vi(vi(vi({},m),I),{},{realScaleType:U,x:E,y:$,scale:D,width:s==="xAxis"?i.width:m.width,height:s==="yAxis"?i.height:m.height});return se.bandSize=Uh(se,I),!m.hide&&s==="xAxis"?f[C]+=(O?-1:1)*se.height:m.hide||(f[C]+=(O?-1:1)*se.width),vi(vi({},h),{},ng({},v,se))},{})},tD=function(t,n){var i=t.x,s=t.y,a=n.x,o=n.y;return{x:Math.min(i,a),y:Math.min(s,o),width:Math.abs(a-i),height:Math.abs(o-s)}},Ape=function(t){var n=t.x1,i=t.y1,s=t.x2,a=t.y2;return tD({x:n,y:i},{x:s,y:a})},nD=function(){function e(t){Spe(this,e),this.scale=t}return Cpe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,a=i.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var i=this.range(),s=i[0],a=i[i.length-1];return s<=a?n>=s&&n<=a:n>=a&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();ng(nD,"EPS",1e-4);var C1=function(t){var n=Object.keys(t).reduce(function(i,s){return vi(vi({},i),{},ng({},s,nD.create(t[s])))},{});return vi(vi({},n),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Gfe(s,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Q$(s,function(a,o){return n[o].isInRange(a)})}})};function Ppe(e){return(e%180+180)%180}var Ope=function(t){var n=t.width,i=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ppe(s),o=a*Math.PI/180,l=Math.atan(i/n),c=o>l&&o<Math.PI-l?i/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Tpe=hs,_pe=jp,Ipe=Iv;function Rpe(e){return function(t,n,i){var s=Object(t);if(!_pe(t)){var a=Tpe(n);t=Ipe(t),n=function(l){return a(s[l],l,s)}}var o=e(t,n,i);return o>-1?s[a?t[o]:o]:void 0}}var Mpe=Rpe,$pe=H$;function Dpe(e){var t=$pe(e),n=t%1;return t===t?n?t-n:t:0}var Fpe=Dpe,Lpe=X4,qpe=hs,zpe=Fpe,Bpe=Math.max;function Upe(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var s=n==null?0:zpe(n);return s<0&&(s=Bpe(i+s,0)),Lpe(e,qpe(t),s)}var Vpe=Upe,Wpe=Mpe,Hpe=Vpe,Gpe=Wpe(Hpe),Kpe=Gpe;const Ype=Pt(Kpe);var Qpe=WH(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),k1=N.createContext(void 0),E1=N.createContext(void 0),rD=N.createContext(void 0),iD=N.createContext({}),sD=N.createContext(void 0),aD=N.createContext(0),oD=N.createContext(0),F2=function(t){var n=t.state,i=n.xAxisMap,s=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=Qpe(a);return L.createElement(k1.Provider,{value:i},L.createElement(E1.Provider,{value:s},L.createElement(iD.Provider,{value:a},L.createElement(rD.Provider,{value:u},L.createElement(sD.Provider,{value:o},L.createElement(aD.Provider,{value:d},L.createElement(oD.Provider,{value:c},l)))))))},Xpe=function(){return N.useContext(sD)},lD=function(t){var n=N.useContext(k1);n==null&&il();var i=n[t];return i==null&&il(),i},Zpe=function(){var t=N.useContext(k1);return va(t)},Jpe=function(){var t=N.useContext(E1),n=Ype(t,function(i){return Q$(i.domain,Number.isFinite)});return n||va(t)},cD=function(t){var n=N.useContext(E1);n==null&&il();var i=n[t];return i==null&&il(),i},eme=function(){var t=N.useContext(rD);return t},tme=function(){return N.useContext(iD)},A1=function(){return N.useContext(oD)},P1=function(){return N.useContext(aD)};function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function nme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rme(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,uD(i.key),i)}}function ime(e,t,n){return t&&rme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sme(e,t,n){return t=ax(t),ame(e,dD()?Reflect.construct(t,n||[],ax(e).constructor):t.apply(e,n))}function ame(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ome(e)}function ome(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(e)}function lme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sj(e,t)}function Sj(e,t){return Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Sj(e,t)}function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function q2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(i){O1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function O1(e,t,n){return t=uD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uD(e){var t=cme(e,"string");return id(t)=="symbol"?t:t+""}function cme(e,t){if(id(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(id(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dme(e,t){return mme(e)||pme(e,t)||fme(e,t)||ume()}function ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fme(e,t){if(e){if(typeof e=="string")return z2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(e,t)}}function z2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function pme(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function mme(e){if(Array.isArray(e))return e}function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cj.apply(this,arguments)}var hme=function(t,n){var i;return L.isValidElement(t)?i=L.cloneElement(t,n):lt(t)?i=t(n):i=L.createElement("line",Cj({},n,{className:"recharts-reference-line-line"})),i},xme=function(t,n,i,s,a,o,l,c,d){var u=a.x,f=a.y,p=a.width,h=a.height;if(i){var v=d.y,m=t.y.apply(v,{position:o});if(is(d,"discard")&&!t.y.isInRange(m))return null;var y=[{x:u+p,y:m},{x:u,y:m}];return c==="left"?y.reverse():y}if(n){var j=d.x,g=t.x.apply(j,{position:o});if(is(d,"discard")&&!t.x.isInRange(g))return null;var x=[{x:g,y:f+h},{x:g,y:f}];return l==="top"?x.reverse():x}if(s){var w=d.segment,b=w.map(function(C){return t.apply(C,{position:o})});return is(d,"discard")&&Lfe(b,function(C){return!t.isInRange(C)})?null:b}return null};function vme(e){var t=e.x,n=e.y,i=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=Xpe(),u=lD(s),f=cD(a),p=eme();if(!d||!p)return null;Pi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=C1({x:u.scale,y:f.scale}),v=Sn(t),m=Sn(n),y=i&&i.length===2,j=xme(h,v,m,y,p,e.position,u.orientation,f.orientation,e);if(!j)return null;var g=dme(j,2),x=g[0],w=x.x,b=x.y,C=g[1],k=C.x,S=C.y,E=is(e,"hidden")?"url(#".concat(d,")"):void 0,$=q2(q2({clipPath:E},at(e,!0)),{},{x1:w,y1:b,x2:k,y2:S});return L.createElement(_t,{className:xt("recharts-reference-line",l)},hme(o,$),Pn.renderCallByParent(e,Ape({x1:w,y1:b,x2:k,y2:S})))}var T1=function(e){function t(){return nme(this,t),sme(this,t,arguments)}return lme(t,e),ime(t,[{key:"render",value:function(){return L.createElement(vme,this.props)}}])}(L.Component);O1(T1,"displayName","ReferenceLine");O1(T1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kj.apply(this,arguments)}function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function B2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function U2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(n),!0).forEach(function(i){rg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yme(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pD(i.key),i)}}function bme(e,t,n){return t&&yme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jme(e,t,n){return t=ox(t),wme(e,fD()?Reflect.construct(t,n||[],ox(e).constructor):t.apply(e,n))}function wme(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nme(e)}function Nme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(e)}function Sme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ej(e,t)}function Ej(e,t){return Ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Ej(e,t)}function rg(e,t,n){return t=pD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pD(e){var t=Cme(e,"string");return sd(t)=="symbol"?t:t+""}function Cme(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(sd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kme=function(t){var n=t.x,i=t.y,s=t.xAxis,a=t.yAxis,o=C1({x:s.scale,y:a.scale}),l=o.apply({x:n,y:i},{bandAware:!0});return is(t,"discard")&&!o.isInRange(l)?null:l},ig=function(e){function t(){return gme(this,t),jme(this,t,arguments)}return Sme(t,e),bme(t,[{key:"render",value:function(){var i=this.props,s=i.x,a=i.y,o=i.r,l=i.alwaysShow,c=i.clipPathId,d=Sn(s),u=Sn(a);if(Pi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=kme(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,m=v.shape,y=v.className,j=is(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=U2(U2({clipPath:j},at(this.props,!0)),{},{cx:p,cy:h});return L.createElement(_t,{className:xt("recharts-reference-dot",y)},t.renderDot(m,g),Pn.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])}(L.Component);rg(ig,"displayName","ReferenceDot");rg(ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});rg(ig,"renderDot",function(e,t){var n;return L.isValidElement(e)?n=L.cloneElement(e,t):lt(e)?n=e(t):n=L.createElement(S1,kj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Aj(){return Aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Aj.apply(this,arguments)}function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function V2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function W2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(n),!0).forEach(function(i){sg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Eme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ame(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,hD(i.key),i)}}function Pme(e,t,n){return t&&Ame(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ome(e,t,n){return t=lx(t),Tme(e,mD()?Reflect.construct(t,n||[],lx(e).constructor):t.apply(e,n))}function Tme(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _me(e)}function _me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mD=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(e)}function Ime(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pj(e,t)}function Pj(e,t){return Pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Pj(e,t)}function sg(e,t,n){return t=hD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hD(e){var t=Rme(e,"string");return ad(t)=="symbol"?t:t+""}function Rme(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ad(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mme=function(t,n,i,s,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=C1({x:u.scale,y:f.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:i?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(d,{position:"end"}):p.y.rangeMax};return is(a,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:tD(h,v)},ag=function(e){function t(){return Eme(this,t),Ome(this,t,arguments)}return Ime(t,e),Pme(t,[{key:"render",value:function(){var i=this.props,s=i.x1,a=i.x2,o=i.y1,l=i.y2,c=i.className,d=i.alwaysShow,u=i.clipPathId;Pi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sn(s),p=Sn(a),h=Sn(o),v=Sn(l),m=this.props.shape;if(!f&&!p&&!h&&!v&&!m)return null;var y=Mme(f,p,h,v,this.props);if(!y&&!m)return null;var j=is(this.props,"hidden")?"url(#".concat(u,")"):void 0;return L.createElement(_t,{className:xt("recharts-reference-area",c)},t.renderRect(m,W2(W2({clipPath:j},at(this.props,!0)),y)),Pn.renderCallByParent(this.props,y))}}])}(L.Component);sg(ag,"displayName","ReferenceArea");sg(ag,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});sg(ag,"renderRect",function(e,t){var n;return L.isValidElement(e)?n=L.cloneElement(e,t):lt(e)?n=e(t):n=L.createElement(N1,Aj({},t,{className:"recharts-reference-area-rect"})),n});function xD(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],s=0;s<e.length;s+=t)i.push(e[s]);return i}function $me(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return Ope(i,n)}function Dme(e,t,n){var i=n==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:i?s:a,end:i?s+o:a+l}:{start:i?s+o:a+l,end:i?s:a}}function cx(e,t,n,i,s){if(e*t<e*i||e*t>e*s)return!1;var a=n();return e*(t-e*a/2-i)>=0&&e*(t+e*a/2-s)<=0}function Fme(e,t){return xD(e,t+1)}function Lme(e,t,n,i,s){for(var a=(i||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var v=i==null?void 0:i[c];if(v===void 0)return{v:xD(i,d)};var m=c,y,j=function(){return y===void 0&&(y=n(v,m)),y},g=v.coordinate,x=c===0||cx(e,g,j,u,l);x||(c=0,u=o,d+=1),x&&(u=g+e*(j()/2+s),c+=d)},p;d<=a.length;)if(p=f(),p)return p.v;return[]}function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function H2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(n),!0).forEach(function(i){qme(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function qme(e,t,n){return t=zme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zme(e){var t=Bme(e,"string");return Df(t)=="symbol"?t:t+""}function Bme(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Df(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ume(e,t,n,i,s){for(var a=(i||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(p){var h=a[p],v,m=function(){return v===void 0&&(v=n(h,p)),v};if(p===o-1){var y=e*(h.coordinate+e*m()/2-c);a[p]=h=Bn(Bn({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else a[p]=h=Bn(Bn({},h),{},{tickCoord:h.coordinate});var j=cx(e,h.tickCoord,m,l,c);j&&(c=h.tickCoord-e*(m()/2+s),a[p]=Bn(Bn({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return a}function Vme(e,t,n,i,s,a){var o=(i||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var u=i[l-1],f=n(u,l-1),p=e*(u.coordinate+e*f/2-d);o[l-1]=u=Bn(Bn({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var h=cx(e,u.tickCoord,function(){return f},c,d);h&&(d=u.tickCoord-e*(f/2+s),o[l-1]=Bn(Bn({},u),{},{isShow:!0}))}for(var v=a?l-1:l,m=function(g){var x=o[g],w,b=function(){return w===void 0&&(w=n(x,g)),w};if(g===0){var C=e*(x.coordinate-e*b()/2-c);o[g]=x=Bn(Bn({},x),{},{tickCoord:C<0?x.coordinate-C*e:x.coordinate})}else o[g]=x=Bn(Bn({},x),{},{tickCoord:x.coordinate});var k=cx(e,x.tickCoord,b,c,d);k&&(c=x.tickCoord+e*(b()/2+s),o[g]=Bn(Bn({},x),{},{isShow:!0}))},y=0;y<v;y++)m(y);return o}function _1(e,t,n){var i=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!s||!s.length||!i)return[];if(je(c)||Ms.isSsr)return Fme(s,typeof c=="number"&&je(c)?c:0);var p=[],h=l==="top"||l==="bottom"?"width":"height",v=u&&h==="width"?Ou(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(x,w){var b=lt(d)?d(x.value,w):x.value;return h==="width"?$me(Ou(b,{fontSize:t,letterSpacing:n}),v,f):Ou(b,{fontSize:t,letterSpacing:n})[h]},y=s.length>=2?sr(s[1].coordinate-s[0].coordinate):1,j=Dme(a,y,h);return c==="equidistantPreserveStart"?Lme(y,j,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Vme(y,j,m,s,o,c==="preserveStartEnd"):p=Ume(y,j,m,s,o),p.filter(function(g){return g.isShow}))}var Wme=["viewBox"],Hme=["viewBox"],Gme=["ticks"];function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yl.apply(this,arguments)}function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(i){I1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Py(e,t){if(e==null)return{};var n=Kme(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Kme(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Yme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gD(i.key),i)}}function Qme(e,t,n){return t&&K2(e.prototype,t),n&&K2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xme(e,t,n){return t=dx(t),Zme(e,vD()?Reflect.construct(t,n||[],dx(e).constructor):t.apply(e,n))}function Zme(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jme(e)}function Jme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vD=function(){return!!e})()}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(e)}function ehe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oj(e,t)}function Oj(e,t){return Oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Oj(e,t)}function I1(e,t,n){return t=gD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gD(e){var t=the(e,"string");return od(t)=="symbol"?t:t+""}function the(e,t){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(od(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $d=function(e){function t(n){var i;return Yme(this,t),i=Xme(this,t,[n]),i.state={fontSize:"",letterSpacing:""},i}return ehe(t,e),Qme(t,[{key:"shouldComponentUpdate",value:function(i,s){var a=i.viewBox,o=Py(i,Wme),l=this.props,c=l.viewBox,d=Py(l,Hme);return!lc(a,c)||!lc(o,d)||!lc(s,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var s=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,f=s.mirror,p=s.tickMargin,h,v,m,y,j,g,x=f?-1:1,w=i.tickSize||u,b=je(i.tickCoord)?i.tickCoord:i.coordinate;switch(d){case"top":h=v=i.coordinate,y=o+ +!f*c,m=y-x*w,g=m-x*p,j=b;break;case"left":m=y=i.coordinate,v=a+ +!f*l,h=v-x*w,j=h-x*p,g=b;break;case"right":m=y=i.coordinate,v=a+ +f*l,h=v+x*w,j=h+x*p,g=b;break;default:h=v=i.coordinate,y=o+ +f*c,m=y+x*w,g=m+x*p,j=b;break}return{line:{x1:h,y1:m,x2:v,y2:y},tick:{x:j,y:g}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,s=i.orientation,a=i.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,s=i.orientation,a=i.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,d=i.mirror,u=i.axisLine,f=Jn(Jn(Jn({},at(this.props,!1)),at(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);f=Jn(Jn({},f),{},{x1:s,y1:a+p*l,x2:s+o,y2:a+p*l})}else{var h=+(c==="left"&&!d||c==="right"&&d);f=Jn(Jn({},f),{},{x1:s+h*o,y1:a,x2:s+h*o,y2:a+l})}return L.createElement("line",Yl({},f,{className:xt("recharts-cartesian-axis-line",Mr(u,"className"))}))}},{key:"renderTicks",value:function(i,s,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,p=l.unit,h=_1(Jn(Jn({},this.props),{},{ticks:i}),s,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=at(this.props,!1),j=at(u,!1),g=Jn(Jn({},y),{},{fill:"none"},at(c,!1)),x=h.map(function(w,b){var C=o.getTickLineCoord(w),k=C.line,S=C.tick,E=Jn(Jn(Jn(Jn({textAnchor:v,verticalAnchor:m},y),{},{stroke:"none",fill:d},j),S),{},{index:b,payload:w,visibleTicksCount:h.length,tickFormatter:f});return L.createElement(_t,Yl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},tl(o.props,w,b)),c&&L.createElement("line",Yl({},g,k,{className:xt("recharts-cartesian-axis-tick-line",Mr(c,"className"))})),u&&t.renderTickItem(u,E,"".concat(lt(f)?f(w.value,b):w.value).concat(p||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var i=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var f=this.props,p=f.ticks,h=Py(f,Gme),v=p;return lt(c)&&(v=p&&p.length>0?c(this.props):c(h)),o<=0||l<=0||!v||!v.length?null:L.createElement(_t,{className:xt("recharts-cartesian-axis",d),ref:function(y){i.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,s,a){var o;return L.isValidElement(i)?o=L.cloneElement(i,s):lt(i)?o=i(s):o=L.createElement(nl,Yl({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(N.Component);I1($d,"displayName","CartesianAxis");I1($d,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nhe=["x1","y1","x2","y2","key"],rhe=["offset"];function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function Y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(n),!0).forEach(function(i){ihe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ihe(e,t,n){return t=she(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function she(e){var t=ahe(e,"string");return sl(t)=="symbol"?t:t+""}function ahe(e,t){if(sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(sl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Eo.apply(this,arguments)}function Q2(e,t){if(e==null)return{};var n=ohe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function ohe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var lhe=function(t){var n=t.fill;if(!n||n==="none")return null;var i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return L.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function yD(e,t){var n;if(L.isValidElement(e))n=L.cloneElement(e,t);else if(lt(e))n=e(t);else{var i=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=Q2(t,nhe),d=at(c,!1);d.offset;var u=Q2(d,rhe);n=L.createElement("line",Eo({},u,{x1:i,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function che(e){var t=e.x,n=e.width,i=e.horizontal,s=i===void 0?!0:i,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=Vn(Vn({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return yD(s,d)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function dhe(e){var t=e.y,n=e.height,i=e.vertical,s=i===void 0?!0:i,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=Vn(Vn({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return yD(s,d)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function uhe(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(p){return Math.round(p+s-s)}).sort(function(p,h){return p-h});s!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],m=v?s+o-p:u[h+1]-p;if(m<=0)return null;var y=h%t.length;return L.createElement("rect",{key:"react-".concat(h),y:p,x:i,height:m,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function fhe(e){var t=e.vertical,n=t===void 0?!0:t,i=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!i||!i.length)return null;var u=d.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],m=v?a+l-p:u[h+1]-p;if(m<=0)return null;var y=h%i.length;return L.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:m,height:c,stroke:"none",fill:i[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var phe=function(t,n){var i=t.xAxis,s=t.width,a=t.height,o=t.offset;return x$(_1(Vn(Vn(Vn({},$d.defaultProps),i),{},{ticks:Ts(i,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,n)},mhe=function(t,n){var i=t.yAxis,s=t.width,a=t.height,o=t.offset;return x$(_1(Vn(Vn(Vn({},$d.defaultProps),i),{},{ticks:Ts(i,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,n)},kl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function bD(e){var t,n,i,s,a,o,l=A1(),c=P1(),d=tme(),u=Vn(Vn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:kl.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:kl.fill,horizontal:(i=e.horizontal)!==null&&i!==void 0?i:kl.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:kl.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:kl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:kl.verticalFill,x:je(e.x)?e.x:d.left,y:je(e.y)?e.y:d.top,width:je(e.width)?e.width:d.width,height:je(e.height)?e.height:d.height}),f=u.x,p=u.y,h=u.width,v=u.height,m=u.syncWithTicks,y=u.horizontalValues,j=u.verticalValues,g=Zpe(),x=Jpe();if(!je(h)||h<=0||!je(v)||v<=0||!je(f)||f!==+f||!je(p)||p!==+p)return null;var w=u.verticalCoordinatesGenerator||phe,b=u.horizontalCoordinatesGenerator||mhe,C=u.horizontalPoints,k=u.verticalPoints;if((!C||!C.length)&&lt(b)){var S=y&&y.length,E=b({yAxis:x?Vn(Vn({},x),{},{ticks:S?y:x.ticks}):void 0,width:l,height:c,offset:d},S?!0:m);Pi(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sl(E),"]")),Array.isArray(E)&&(C=E)}if((!k||!k.length)&&lt(w)){var $=j&&j.length,O=w({xAxis:g?Vn(Vn({},g),{},{ticks:$?j:g.ticks}):void 0,width:l,height:c,offset:d},$?!0:m);Pi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sl(O),"]")),Array.isArray(O)&&(k=O)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(lhe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),L.createElement(che,Eo({},u,{offset:d,horizontalPoints:C,xAxis:g,yAxis:x})),L.createElement(dhe,Eo({},u,{offset:d,verticalPoints:k,xAxis:g,yAxis:x})),L.createElement(uhe,Eo({},u,{horizontalPoints:C})),L.createElement(fhe,Eo({},u,{verticalPoints:k})))}bD.displayName="CartesianGrid";function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function hhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xhe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ND(i.key),i)}}function vhe(e,t,n){return t&&xhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ghe(e,t,n){return t=ux(t),yhe(e,jD()?Reflect.construct(t,n||[],ux(e).constructor):t.apply(e,n))}function yhe(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bhe(e)}function bhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jD=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(e)}function jhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tj(e,t)}function Tj(e,t){return Tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Tj(e,t)}function wD(e,t,n){return t=ND(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ND(e){var t=whe(e,"string");return ld(t)=="symbol"?t:t+""}function whe(e,t){if(ld(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ld(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_j.apply(this,arguments)}function Nhe(e){var t=e.xAxisId,n=A1(),i=P1(),s=lD(t);return s==null?null:L.createElement($d,_j({},s,{className:xt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Ts(o,!0)}}))}var og=function(e){function t(){return hhe(this,t),ghe(this,t,arguments)}return jhe(t,e),vhe(t,[{key:"render",value:function(){return L.createElement(Nhe,this.props)}}])}(L.Component);wD(og,"displayName","XAxis");wD(og,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function She(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Che(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,kD(i.key),i)}}function khe(e,t,n){return t&&Che(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ehe(e,t,n){return t=fx(t),Ahe(e,SD()?Reflect.construct(t,n||[],fx(e).constructor):t.apply(e,n))}function Ahe(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Phe(e)}function Phe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SD=function(){return!!e})()}function fx(e){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(e)}function Ohe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}function Ij(e,t){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Ij(e,t)}function CD(e,t,n){return t=kD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kD(e){var t=The(e,"string");return cd(t)=="symbol"?t:t+""}function The(e,t){if(cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(cd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rj.apply(this,arguments)}var _he=function(t){var n=t.yAxisId,i=A1(),s=P1(),a=cD(n);return a==null?null:L.createElement($d,Rj({},a,{className:xt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:i,height:s},ticksGenerator:function(l){return Ts(l,!0)}}))},lg=function(e){function t(){return She(this,t),Ehe(this,t,arguments)}return Ohe(t,e),khe(t,[{key:"render",value:function(){return L.createElement(_he,this.props)}}])}(L.Component);CD(lg,"displayName","YAxis");CD(lg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function X2(e){return $he(e)||Mhe(e)||Rhe(e)||Ihe()}function Ihe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(e,t){if(e){if(typeof e=="string")return Mj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mj(e,t)}}function Mhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $he(e){if(Array.isArray(e))return Mj(e)}function Mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var $j=function(t,n,i,s,a){var o=ei(t,T1),l=ei(t,ig),c=[].concat(X2(o),X2(l)),d=ei(t,ag),u="".concat(s,"Id"),f=s[0],p=n;if(c.length&&(p=c.reduce(function(m,y){if(y.props[u]===i&&is(y.props,"extendDomain")&&je(y.props[f])){var j=y.props[f];return[Math.min(m[0],j),Math.max(m[1],j)]}return m},p)),d.length){var h="".concat(f,"1"),v="".concat(f,"2");p=d.reduce(function(m,y){if(y.props[u]===i&&is(y.props,"extendDomain")&&je(y.props[h])&&je(y.props[v])){var j=y.props[h],g=y.props[v];return[Math.min(m[0],j,g),Math.max(m[1],j,g)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,y){return je(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},p)),p},ED={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,f||c,p),v=n?n+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new i:delete c._events[d]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},l.prototype.listenerCount=function(d){var u=n?n+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,p,h,v){var m=n?n+d:d;if(!this._events[m])return!1;var y=this._events[m],j=arguments.length,g,x;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),j){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,p),!0;case 5:return y.fn.call(y.context,u,f,p,h),!0;case 6:return y.fn.call(y.context,u,f,p,h,v),!0}for(x=1,g=new Array(j-1);x<j;x++)g[x-1]=arguments[x];y.fn.apply(y.context,g)}else{var w=y.length,b;for(x=0;x<w;x++)switch(y[x].once&&this.removeListener(d,y[x].fn,void 0,!0),j){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,f);break;case 4:y[x].fn.call(y[x].context,u,f,p);break;default:if(!g)for(b=1,g=new Array(j-1);b<j;b++)g[b-1]=arguments[b];y[x].fn.apply(y[x].context,g)}}return!0},l.prototype.on=function(d,u,f){return a(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return a(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,p){var h=n?n+d:d;if(!this._events[h])return this;if(!u)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var m=0,y=[],j=v.length;m<j;m++)(v[m].fn!==u||p&&!v[m].once||f&&v[m].context!==f)&&y.push(v[m]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(ED);var Dhe=ED.exports;const Fhe=Pt(Dhe);var Oy=new Fhe,Ty="recharts.syncMouseEvents";function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function Lhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qhe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,AD(i.key),i)}}function zhe(e,t,n){return t&&qhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _y(e,t,n){return t=AD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AD(e){var t=Bhe(e,"string");return Ff(t)=="symbol"?t:t+""}function Bhe(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Ff(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uhe=function(){function e(){Lhe(this,e),_y(this,"activeIndex",0),_y(this,"coordinateList",[]),_y(this,"layout","horizontal")}return zhe(e,[{key:"setDetails",value:function(n){var i,s=n.coordinateList,a=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,f=u===void 0?null:u,p=n.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(i=a??this.coordinateList)!==null&&i!==void 0?i:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,i;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((i=window)===null||i===void 0?void 0:i.scrollY)||0,f=a+c+d,p=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function Vhe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var i=e==null?void 0:e[0],s=e==null?void 0:e[1];if(i&&s&&je(i)&&je(s))return!0}return!1}function Whe(e,t,n,i){var s=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function PD(e){var t=e.cx,n=e.cy,i=e.radius,s=e.startAngle,a=e.endAngle,o=Bt(t,n,i,s),l=Bt(t,n,i,a);return{points:[o,l],cx:t,cy:n,radius:i,startAngle:s,endAngle:a}}function Hhe(e,t,n){var i,s,a,o;if(e==="horizontal")i=t.x,a=i,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,i=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,p=Bt(l,c,d,f),h=Bt(l,c,u,f);i=p.x,s=p.y,a=h.x,o=h.y}else return PD(t);return[{x:i,y:s},{x:a,y:o}]}function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function Z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(n),!0).forEach(function(i){Ghe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ghe(e,t,n){return t=Khe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Khe(e){var t=Yhe(e,"string");return Lf(t)=="symbol"?t:t+""}function Yhe(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Lf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qhe(e){var t,n,i=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=i.props.cursor)!==null&&t!==void 0?t:(n=i.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!i||!h||!a||!o||p!=="ScatterChart"&&s!=="axis")return null;var v,m=sj;if(p==="ScatterChart")v=o,m=Ede;else if(p==="BarChart")v=Whe(f,o,c,u),m=N1;else if(f==="radial"){var y=PD(o),j=y.cx,g=y.cy,x=y.radius,w=y.startAngle,b=y.endAngle;v={cx:j,cy:g,startAngle:w,endAngle:b,innerRadius:x,outerRadius:x},m=E$}else v={points:Hhe(f,o,c)},m=sj;var C=dm(dm(dm(dm({stroke:"#ccc",pointerEvents:"none"},c),v),at(h,!1)),{},{payload:l,payloadIndex:d,className:xt("recharts-tooltip-cursor",h.className)});return N.isValidElement(h)?N.cloneElement(h,C):N.createElement(m,C)}var Xhe=["item"],Zhe=["children","className","width","height","style","compact","title","desc"];function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ql.apply(this,arguments)}function J2(e,t){return txe(e)||exe(e,t)||TD(e,t)||Jhe()}function Jhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function exe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function txe(e){if(Array.isArray(e))return e}function eP(e,t){if(e==null)return{};var n=nxe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function nxe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function rxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ixe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_D(i.key),i)}}function sxe(e,t,n){return t&&ixe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function axe(e,t,n){return t=px(t),oxe(e,OD()?Reflect.construct(t,n||[],px(e).constructor):t.apply(e,n))}function oxe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lxe(e)}function lxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!e})()}function px(e){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(e)}function cxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Dj(e,t)}function ud(e){return fxe(e)||uxe(e)||TD(e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TD(e,t){if(e){if(typeof e=="string")return Fj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fj(e,t)}}function uxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fxe(e){if(Array.isArray(e))return Fj(e)}function Fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(i){tt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tt(e,t,n){return t=_D(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _D(e){var t=pxe(e,"string");return dd(t)=="symbol"?t:t+""}function pxe(e,t){if(dd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(dd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mxe={xAxis:["bottom","top"],yAxis:["left","right"]},hxe={width:"100%",height:"100%"},ID={x:0,y:0};function um(e){return e}var xxe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},vxe=function(t,n,i,s){var a=n.find(function(u){return u&&u.index===i});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return ae(ae(ae({},s),Bt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=s.angle;return ae(ae(ae({},s),Bt(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return ID},cg=function(t,n){var i=n.graphicalItems,s=n.dataStartIndex,a=n.dataEndIndex,o=(i??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(ud(l),ud(d)):l},[]);return o.length>0?o:t&&t.length&&je(s)&&je(a)?t.slice(s,a+1):[]};function RD(e){return e==="number"?[0,"auto"]:void 0}var Lj=function(t,n,i,s){var a=t.graphicalItems,o=t.tooltipAxis,l=cg(n,t);return i<0||!a||!a.length||i>=l.length?null:a.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=i&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;p=pb(h,o.dataKey,s)}else p=f&&f[i]||l[i];return p?[].concat(ud(c),[j$(d,p)]):c},[])},nP=function(t,n,i,s){var a=s||{x:t.chartX,y:t.chartY},o=xxe(a,i),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=Xae(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,p=Lj(t,n,u,f),h=vxe(i,l,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},gxe=function(t,n){var i=n.axes,s=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,h=h$(u,a);return i.reduce(function(v,m){var y,j=m.type.defaultProps!==void 0?ae(ae({},m.type.defaultProps),m.props):m.props,g=j.type,x=j.dataKey,w=j.allowDataOverflow,b=j.allowDuplicatedCategory,C=j.scale,k=j.ticks,S=j.includeHidden,E=j[o];if(v[E])return v;var $=cg(t.data,{graphicalItems:s.filter(function(I){var se,ge=o in I.props?I.props[o]:(se=I.type.defaultProps)===null||se===void 0?void 0:se[o];return ge===E}),dataStartIndex:c,dataEndIndex:d}),O=$.length,A,P,_;Vhe(j.domain,w,g)&&(A=ej(j.domain,null,w),h&&(g==="number"||C!=="auto")&&(_=_u($,x,"category")));var F=RD(g);if(!A||A.length===0){var M,G=(M=j.domain)!==null&&M!==void 0?M:F;if(x){if(A=_u($,x,g),g==="category"&&h){var z=B9(A);b&&z?(P=A,A=tx(0,O)):b||(A=EA(G,A,m).reduce(function(I,se){return I.indexOf(se)>=0?I:[].concat(ud(I),[se])},[]))}else if(g==="category")b?A=A.filter(function(I){return I!==""&&!gt(I)}):A=EA(G,A,m).reduce(function(I,se){return I.indexOf(se)>=0||se===""||gt(se)?I:[].concat(ud(I),[se])},[]);else if(g==="number"){var H=noe($,s.filter(function(I){var se,ge,ee=o in I.props?I.props[o]:(se=I.type.defaultProps)===null||se===void 0?void 0:se[o],we="hide"in I.props?I.props.hide:(ge=I.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return ee===E&&(S||!we)}),x,a,u);H&&(A=H)}h&&(g==="number"||C!=="auto")&&(_=_u($,x,"category"))}else h?A=tx(0,O):l&&l[E]&&l[E].hasStack&&g==="number"?A=p==="expand"?[0,1]:b$(l[E].stackGroups,c,d):A=m$($,s.filter(function(I){var se=o in I.props?I.props[o]:I.type.defaultProps[o],ge="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return se===E&&(S||!ge)}),g,u,!0);if(g==="number")A=$j(f,A,E,a,k),G&&(A=ej(G,A,w));else if(g==="category"&&G){var D=G,U=A.every(function(I){return D.indexOf(I)>=0});U&&(A=D)}}return ae(ae({},v),{},tt({},E,ae(ae({},j),{},{axisType:a,domain:A,categoricalDomain:_,duplicateDomain:P,originalDomain:(y=j.domain)!==null&&y!==void 0?y:F,isCategorical:h,layout:u})))},{})},yxe=function(t,n){var i=n.graphicalItems,s=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=cg(t.data,{graphicalItems:i,dataStartIndex:c,dataEndIndex:d}),h=p.length,v=h$(u,a),m=-1;return i.reduce(function(y,j){var g=j.type.defaultProps!==void 0?ae(ae({},j.type.defaultProps),j.props):j.props,x=g[o],w=RD("number");if(!y[x]){m++;var b;return v?b=tx(0,h):l&&l[x]&&l[x].hasStack?(b=b$(l[x].stackGroups,c,d),b=$j(f,b,x,a)):(b=ej(w,m$(p,i.filter(function(C){var k,S,E=o in C.props?C.props[o]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[o],$="hide"in C.props?C.props.hide:(S=C.type.defaultProps)===null||S===void 0?void 0:S.hide;return E===x&&!$}),"number",u),s.defaultProps.allowDataOverflow),b=$j(f,b,x,a)),ae(ae({},y),{},tt({},x,ae(ae({axisType:a},s.defaultProps),{},{hide:!0,orientation:Mr(mxe,"".concat(a,".").concat(m%2),null),domain:b,originalDomain:w,isCategorical:v,layout:u})))}return y},{})},bxe=function(t,n){var i=n.axisType,s=i===void 0?"xAxis":i,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,f="".concat(s,"Id"),p=ei(u,a),h={};return p&&p.length?h=gxe(t,{axes:p,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(h=yxe(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),h},jxe=function(t){var n=va(t),i=Ts(n,!1,!0);return{tooltipTicks:i,orderedTooltipTicks:QN(i,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Uh(n,i)}},rP=function(t){var n=t.children,i=t.defaultShowTooltip,s=kr(n,nd),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!i}},wxe=function(t){return!t||!t.length?!1:t.some(function(n){var i=Rs(n&&n.type);return i&&i.indexOf("Bar")>=0})},iP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nxe=function(t,n){var i=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=i.width,u=i.height,f=i.children,p=i.margin||{},h=kr(f,nd),v=kr(f,cc),m=Object.keys(c).reduce(function(b,C){var k=c[C],S=k.orientation;return!k.mirror&&!k.hide?ae(ae({},b),{},tt({},S,b[S]+k.width)):b},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(b,C){var k=o[C],S=k.orientation;return!k.mirror&&!k.hide?ae(ae({},b),{},tt({},S,Mr(b,"".concat(S))+k.height)):b},{top:p.top||0,bottom:p.bottom||0}),j=ae(ae({},y),m),g=j.bottom;h&&(j.bottom+=h.props.height||nd.defaultProps.height),v&&n&&(j=eoe(j,s,i,n));var x=d-j.left-j.right,w=u-j.top-j.bottom;return ae(ae({brushBottom:g},j),{},{width:Math.max(x,0),height:Math.max(w,0)})},Sxe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},MD=function(t){var n=t.chartName,i=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(j,g){var x=g.graphicalItems,w=g.stackGroups,b=g.offset,C=g.updateId,k=g.dataStartIndex,S=g.dataEndIndex,E=j.barSize,$=j.layout,O=j.barGap,A=j.barCategoryGap,P=j.maxBarSize,_=iP($),F=_.numericAxisName,M=_.cateAxisName,G=wxe(x),z=[];return x.forEach(function(H,D){var U=cg(j.data,{graphicalItems:[H],dataStartIndex:k,dataEndIndex:S}),I=H.type.defaultProps!==void 0?ae(ae({},H.type.defaultProps),H.props):H.props,se=I.dataKey,ge=I.maxBarSize,ee=I["".concat(F,"Id")],we=I["".concat(M,"Id")],me={},Se=c.reduce(function(kn,T){var V=g["".concat(T.axisType,"Map")],q=I["".concat(T.axisType,"Id")];V&&V[q]||T.axisType==="zAxis"||il();var te=V[q];return ae(ae({},kn),{},tt(tt({},T.axisType,te),"".concat(T.axisType,"Ticks"),Ts(te)))},me),le=Se[M],xe=Se["".concat(M,"Ticks")],ye=w&&w[ee]&&w[ee].hasStack&&uoe(H,w[ee].stackGroups),B=Rs(H.type).indexOf("Bar")>=0,ce=Uh(le,xe),de=[],Ie=G&&Zae({barSize:E,stackGroups:w,totalSize:Sxe(Se,M)});if(B){var Oe,et,dt=gt(ge)?P:ge,Nt=(Oe=(et=Uh(le,xe,!0))!==null&&et!==void 0?et:dt)!==null&&Oe!==void 0?Oe:0;de=Jae({barGap:O,barCategoryGap:A,bandSize:Nt!==ce?Nt:ce,sizeList:Ie[we],maxBarSize:dt}),Nt!==ce&&(de=de.map(function(kn){return ae(ae({},kn),{},{position:ae(ae({},kn.position),{},{offset:kn.position.offset-Nt/2})})}))}var mn=H&&H.type&&H.type.getComposedData;mn&&z.push({props:ae(ae({},mn(ae(ae({},Se),{},{displayedData:U,props:j,dataKey:se,item:H,bandSize:ce,barPosition:de,offset:b,stackedData:ye,layout:$,dataStartIndex:k,dataEndIndex:S}))),{},tt(tt(tt({key:H.key||"item-".concat(D)},F,Se[F]),M,Se[M]),"animationId",C)),childIndex:J9(H,j.children),item:H})}),z},h=function(j,g){var x=j.props,w=j.dataStartIndex,b=j.dataEndIndex,C=j.updateId;if(!bk({props:x}))return null;var k=x.children,S=x.layout,E=x.stackOffset,$=x.data,O=x.reverseStackOrder,A=iP(S),P=A.numericAxisName,_=A.cateAxisName,F=ei(k,i),M=coe($,F,"".concat(P,"Id"),"".concat(_,"Id"),E,O),G=c.reduce(function(I,se){var ge="".concat(se.axisType,"Map");return ae(ae({},I),{},tt({},ge,bxe(x,ae(ae({},se),{},{graphicalItems:F,stackGroups:se.axisType===P&&M,dataStartIndex:w,dataEndIndex:b}))))},{}),z=Nxe(ae(ae({},G),{},{props:x,graphicalItems:F}),g==null?void 0:g.legendBBox);Object.keys(G).forEach(function(I){G[I]=u(x,G[I],z,I.replace("Map",""),n)});var H=G["".concat(_,"Map")],D=jxe(H),U=p(x,ae(ae({},G),{},{dataStartIndex:w,dataEndIndex:b,updateId:C,graphicalItems:F,stackGroups:M,offset:z}));return ae(ae({formattedGraphicalItems:U,graphicalItems:F,offset:z,stackGroups:M},D),G)},v=function(y){function j(g){var x,w,b;return rxe(this,j),b=axe(this,j,[g]),tt(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tt(b,"accessibilityManager",new Uhe),tt(b,"handleLegendBBoxUpdate",function(C){if(C){var k=b.state,S=k.dataStartIndex,E=k.dataEndIndex,$=k.updateId;b.setState(ae({legendBBox:C},h({props:b.props,dataStartIndex:S,dataEndIndex:E,updateId:$},ae(ae({},b.state),{},{legendBBox:C}))))}}),tt(b,"handleReceiveSyncEvent",function(C,k,S){if(b.props.syncId===C){if(S===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(k)}}),tt(b,"handleBrushChange",function(C){var k=C.startIndex,S=C.endIndex;if(k!==b.state.dataStartIndex||S!==b.state.dataEndIndex){var E=b.state.updateId;b.setState(function(){return ae({dataStartIndex:k,dataEndIndex:S},h({props:b.props,dataStartIndex:k,dataEndIndex:S,updateId:E},b.state))}),b.triggerSyncEvent({dataStartIndex:k,dataEndIndex:S})}}),tt(b,"handleMouseEnter",function(C){var k=b.getMouseInfo(C);if(k){var S=ae(ae({},k),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var E=b.props.onMouseEnter;lt(E)&&E(S,C)}}),tt(b,"triggeredAfterMouseMove",function(C){var k=b.getMouseInfo(C),S=k?ae(ae({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(S),b.triggerSyncEvent(S);var E=b.props.onMouseMove;lt(E)&&E(S,C)}),tt(b,"handleItemMouseEnter",function(C){b.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),tt(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),tt(b,"handleMouseMove",function(C){C.persist(),b.throttleTriggeredAfterMouseMove(C)}),tt(b,"handleMouseLeave",function(C){b.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};b.setState(k),b.triggerSyncEvent(k);var S=b.props.onMouseLeave;lt(S)&&S(k,C)}),tt(b,"handleOuterEvent",function(C){var k=Z9(C),S=Mr(b.props,"".concat(k));if(k&&lt(S)){var E,$;/.*touch.*/i.test(k)?$=b.getMouseInfo(C.changedTouches[0]):$=b.getMouseInfo(C),S((E=$)!==null&&E!==void 0?E:{},C)}}),tt(b,"handleClick",function(C){var k=b.getMouseInfo(C);if(k){var S=ae(ae({},k),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var E=b.props.onClick;lt(E)&&E(S,C)}}),tt(b,"handleMouseDown",function(C){var k=b.props.onMouseDown;if(lt(k)){var S=b.getMouseInfo(C);k(S,C)}}),tt(b,"handleMouseUp",function(C){var k=b.props.onMouseUp;if(lt(k)){var S=b.getMouseInfo(C);k(S,C)}}),tt(b,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),tt(b,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&b.handleMouseDown(C.changedTouches[0])}),tt(b,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&b.handleMouseUp(C.changedTouches[0])}),tt(b,"handleDoubleClick",function(C){var k=b.props.onDoubleClick;if(lt(k)){var S=b.getMouseInfo(C);k(S,C)}}),tt(b,"handleContextMenu",function(C){var k=b.props.onContextMenu;if(lt(k)){var S=b.getMouseInfo(C);k(S,C)}}),tt(b,"triggerSyncEvent",function(C){b.props.syncId!==void 0&&Oy.emit(Ty,b.props.syncId,C,b.eventEmitterSymbol)}),tt(b,"applySyncEvent",function(C){var k=b.props,S=k.layout,E=k.syncMethod,$=b.state.updateId,O=C.dataStartIndex,A=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)b.setState(ae({dataStartIndex:O,dataEndIndex:A},h({props:b.props,dataStartIndex:O,dataEndIndex:A,updateId:$},b.state)));else if(C.activeTooltipIndex!==void 0){var P=C.chartX,_=C.chartY,F=C.activeTooltipIndex,M=b.state,G=M.offset,z=M.tooltipTicks;if(!G)return;if(typeof E=="function")F=E(z,C);else if(E==="value"){F=-1;for(var H=0;H<z.length;H++)if(z[H].value===C.activeLabel){F=H;break}}var D=ae(ae({},G),{},{x:G.left,y:G.top}),U=Math.min(P,D.x+D.width),I=Math.min(_,D.y+D.height),se=z[F]&&z[F].value,ge=Lj(b.state,b.props.data,F),ee=z[F]?{x:S==="horizontal"?z[F].coordinate:U,y:S==="horizontal"?I:z[F].coordinate}:ID;b.setState(ae(ae({},C),{},{activeLabel:se,activeCoordinate:ee,activePayload:ge,activeTooltipIndex:F}))}else b.setState(C)}),tt(b,"renderCursor",function(C){var k,S=b.state,E=S.isTooltipActive,$=S.activeCoordinate,O=S.activePayload,A=S.offset,P=S.activeTooltipIndex,_=S.tooltipAxisBandSize,F=b.getTooltipEventType(),M=(k=C.props.active)!==null&&k!==void 0?k:E,G=b.props.layout,z=C.key||"_recharts-cursor";return L.createElement(Qhe,{key:z,activeCoordinate:$,activePayload:O,activeTooltipIndex:P,chartName:n,element:C,isActive:M,layout:G,offset:A,tooltipAxisBandSize:_,tooltipEventType:F})}),tt(b,"renderPolarAxis",function(C,k,S){var E=Mr(C,"type.axisType"),$=Mr(b.state,"".concat(E,"Map")),O=C.type.defaultProps,A=O!==void 0?ae(ae({},O),C.props):C.props,P=$&&$[A["".concat(E,"Id")]];return N.cloneElement(C,ae(ae({},P),{},{className:xt(E,P.className),key:C.key||"".concat(k,"-").concat(S),ticks:Ts(P,!0)}))}),tt(b,"renderPolarGrid",function(C){var k=C.props,S=k.radialLines,E=k.polarAngles,$=k.polarRadius,O=b.state,A=O.radiusAxisMap,P=O.angleAxisMap,_=va(A),F=va(P),M=F.cx,G=F.cy,z=F.innerRadius,H=F.outerRadius;return N.cloneElement(C,{polarAngles:Array.isArray(E)?E:Ts(F,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray($)?$:Ts(_,!0).map(function(D){return D.coordinate}),cx:M,cy:G,innerRadius:z,outerRadius:H,key:C.key||"polar-grid",radialLines:S})}),tt(b,"renderLegend",function(){var C=b.state.formattedGraphicalItems,k=b.props,S=k.children,E=k.width,$=k.height,O=b.props.margin||{},A=E-(O.left||0)-(O.right||0),P=f$({children:S,formattedGraphicalItems:C,legendWidth:A,legendContent:d});if(!P)return null;var _=P.item,F=eP(P,Xhe);return N.cloneElement(_,ae(ae({},F),{},{chartWidth:E,chartHeight:$,margin:O,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),tt(b,"renderTooltip",function(){var C,k=b.props,S=k.children,E=k.accessibilityLayer,$=kr(S,xi);if(!$)return null;var O=b.state,A=O.isTooltipActive,P=O.activeCoordinate,_=O.activePayload,F=O.activeLabel,M=O.offset,G=(C=$.props.active)!==null&&C!==void 0?C:A;return N.cloneElement($,{viewBox:ae(ae({},M),{},{x:M.left,y:M.top}),active:G,label:F,payload:G?_:[],coordinate:P,accessibilityLayer:E})}),tt(b,"renderBrush",function(C){var k=b.props,S=k.margin,E=k.data,$=b.state,O=$.offset,A=$.dataStartIndex,P=$.dataEndIndex,_=$.updateId;return N.cloneElement(C,{key:C.key||"_recharts-brush",onChange:am(b.handleBrushChange,C.props.onChange),data:E,x:je(C.props.x)?C.props.x:O.left,y:je(C.props.y)?C.props.y:O.top+O.height+O.brushBottom-(S.bottom||0),width:je(C.props.width)?C.props.width:O.width,startIndex:A,endIndex:P,updateId:"brush-".concat(_)})}),tt(b,"renderReferenceElement",function(C,k,S){if(!C)return null;var E=b,$=E.clipPathId,O=b.state,A=O.xAxisMap,P=O.yAxisMap,_=O.offset,F=C.type.defaultProps||{},M=C.props,G=M.xAxisId,z=G===void 0?F.xAxisId:G,H=M.yAxisId,D=H===void 0?F.yAxisId:H;return N.cloneElement(C,{key:C.key||"".concat(k,"-").concat(S),xAxis:A[z],yAxis:P[D],viewBox:{x:_.left,y:_.top,width:_.width,height:_.height},clipPathId:$})}),tt(b,"renderActivePoints",function(C){var k=C.item,S=C.activePoint,E=C.basePoint,$=C.childIndex,O=C.isRange,A=[],P=k.props.key,_=k.item.type.defaultProps!==void 0?ae(ae({},k.item.type.defaultProps),k.item.props):k.item.props,F=_.activeDot,M=_.dataKey,G=ae(ae({index:$,dataKey:M,cx:S.x,cy:S.y,r:4,fill:w1(k.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},at(F,!1)),xh(F));return A.push(j.renderActiveDot(F,G,"".concat(P,"-activePoint-").concat($))),E?A.push(j.renderActiveDot(F,ae(ae({},G),{},{cx:E.x,cy:E.y}),"".concat(P,"-basePoint-").concat($))):O&&A.push(null),A}),tt(b,"renderGraphicChild",function(C,k,S){var E=b.filterFormatItem(C,k,S);if(!E)return null;var $=b.getTooltipEventType(),O=b.state,A=O.isTooltipActive,P=O.tooltipAxis,_=O.activeTooltipIndex,F=O.activeLabel,M=b.props.children,G=kr(M,xi),z=E.props,H=z.points,D=z.isRange,U=z.baseLine,I=E.item.type.defaultProps!==void 0?ae(ae({},E.item.type.defaultProps),E.item.props):E.item.props,se=I.activeDot,ge=I.hide,ee=I.activeBar,we=I.activeShape,me=!!(!ge&&A&&G&&(se||ee||we)),Se={};$!=="axis"&&G&&G.props.trigger==="click"?Se={onClick:am(b.handleItemMouseEnter,C.props.onClick)}:$!=="axis"&&(Se={onMouseLeave:am(b.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:am(b.handleItemMouseEnter,C.props.onMouseEnter)});var le=N.cloneElement(C,ae(ae({},E.props),Se));function xe(T){return typeof P.dataKey=="function"?P.dataKey(T.payload):null}if(me)if(_>=0){var ye,B;if(P.dataKey&&!P.allowDuplicatedCategory){var ce=typeof P.dataKey=="function"?xe:"payload.".concat(P.dataKey.toString());ye=pb(H,ce,F),B=D&&U&&pb(U,ce,F)}else ye=H==null?void 0:H[_],B=D&&U&&U[_];if(we||ee){var de=C.props.activeIndex!==void 0?C.props.activeIndex:_;return[N.cloneElement(C,ae(ae(ae({},E.props),Se),{},{activeIndex:de})),null,null]}if(!gt(ye))return[le].concat(ud(b.renderActivePoints({item:E,activePoint:ye,basePoint:B,childIndex:_,isRange:D})))}else{var Ie,Oe=(Ie=b.getItemByXY(b.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:le},et=Oe.graphicalItem,dt=et.item,Nt=dt===void 0?C:dt,mn=et.childIndex,kn=ae(ae(ae({},E.props),Se),{},{activeIndex:mn});return[N.cloneElement(Nt,kn),null,null]}return D?[le,null,null]:[le,null]}),tt(b,"renderCustomized",function(C,k,S){return N.cloneElement(C,ae(ae({key:"recharts-customized-".concat(S)},b.props),b.state))}),tt(b,"renderMap",{CartesianGrid:{handler:um,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:um},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:um},YAxis:{handler:um},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:bp("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=uM(b.triggeredAfterMouseMove,(w=g.throttleDelay)!==null&&w!==void 0?w:1e3/60),b.state={},b}return cxe(j,y),sxe(j,[{key:"componentDidMount",value:function(){var x,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,w=x.children,b=x.data,C=x.height,k=x.layout,S=kr(w,xi);if(S){var E=S.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,O=Lj(this.state,b,E,$),A=this.state.tooltipTicks[E].coordinate,P=(this.state.offset.top+C)/2,_=k==="horizontal",F=_?{x:A,y:P}:{y:A,x:P},M=this.state.formattedGraphicalItems.find(function(z){var H=z.item;return H.type.name==="Scatter"});M&&(F=ae(ae({},F),M.props.points[E].tooltipPosition),O=M.props.points[E].tooltipPayload);var G={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:$,activePayload:O,activeCoordinate:F};this.setState(G),this.renderCursor(S),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var b,C;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(x){hb([kr(x.children,xi)],[kr(this.props.children,xi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=kr(this.props.children,xi);if(x&&typeof x.props.shared=="boolean"){var w=x.props.shared?"axis":"item";return l.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var w=this.container,b=w.getBoundingClientRect(),C=Cne(b),k={chartX:Math.round(x.pageX-C.left),chartY:Math.round(x.pageY-C.top)},S=b.width/w.offsetWidth||1,E=this.inRange(k.chartX,k.chartY,S);if(!E)return null;var $=this.state,O=$.xAxisMap,A=$.yAxisMap,P=this.getTooltipEventType(),_=nP(this.state,this.props.data,this.props.layout,E);if(P!=="axis"&&O&&A){var F=va(O).scale,M=va(A).scale,G=F&&F.invert?F.invert(k.chartX):null,z=M&&M.invert?M.invert(k.chartY):null;return ae(ae({},k),{},{xValue:G,yValue:z},_)}return _?ae(ae({},k),_):null}},{key:"inRange",value:function(x,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,k=x/b,S=w/b;if(C==="horizontal"||C==="vertical"){var E=this.state.offset,$=k>=E.left&&k<=E.left+E.width&&S>=E.top&&S<=E.top+E.height;return $?{x:k,y:S}:null}var O=this.state,A=O.angleAxisMap,P=O.radiusAxisMap;if(A&&P){var _=va(A);return OA({x:k,y:S},_)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,w=this.getTooltipEventType(),b=kr(x,xi),C={};b&&w==="axis"&&(b.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=xh(this.props,this.handleOuterEvent);return ae(ae({},k),C)}},{key:"addListener",value:function(){Oy.on(Ty,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Oy.removeListener(Ty,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,w,b){for(var C=this.state.formattedGraphicalItems,k=0,S=C.length;k<S;k++){var E=C[k];if(E.item===x||E.props.key===x.key||w===Rs(E.item.type)&&b===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,w=this.state.offset,b=w.left,C=w.top,k=w.height,S=w.width;return L.createElement("defs",null,L.createElement("clipPath",{id:x},L.createElement("rect",{x:b,y:C,height:k,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(w,b){var C=J2(b,2),k=C[0],S=C[1];return ae(ae({},w),{},tt({},k,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(w,b){var C=J2(b,2),k=C[0],S=C[1];return ae(ae({},w),{},tt({},k,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(x){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(x){var w=this.state,b=w.formattedGraphicalItems,C=w.activeItem;if(b&&b.length)for(var k=0,S=b.length;k<S;k++){var E=b[k],$=E.props,O=E.item,A=O.type.defaultProps!==void 0?ae(ae({},O.type.defaultProps),O.props):O.props,P=Rs(O.type);if(P==="Bar"){var _=($.data||[]).find(function(z){return ode(x,z)});if(_)return{graphicalItem:E,payload:_}}else if(P==="RadialBar"){var F=($.data||[]).find(function(z){return OA(x,z)});if(F)return{graphicalItem:E,payload:F}}else if(eg(E,C)||tg(E,C)||If(E,C)){var M=Yue({graphicalItem:E,activeTooltipItem:C,itemData:A.data}),G=A.activeIndex===void 0?M:A.activeIndex;return{graphicalItem:ae(ae({},E),{},{childIndex:G}),payload:If(E,C)?A.data[M]:E.props.data[M]}}}return null}},{key:"render",value:function(){var x=this;if(!bk(this))return null;var w=this.props,b=w.children,C=w.className,k=w.width,S=w.height,E=w.style,$=w.compact,O=w.title,A=w.desc,P=eP(w,Zhe),_=at(P,!1);if($)return L.createElement(F2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(vb,Ql({},_,{width:k,height:S,title:O,desc:A}),this.renderClipPath(),wk(b,this.renderMap)));if(this.props.accessibilityLayer){var F,M;_.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,_.role=(M=this.props.role)!==null&&M!==void 0?M:"application",_.onKeyDown=function(z){x.accessibilityManager.keyboardEvent(z)},_.onFocus=function(){x.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return L.createElement(F2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Ql({className:xt("recharts-wrapper",C),style:ae({position:"relative",cursor:"default",width:k,height:S},E)},G,{ref:function(H){x.container=H}}),L.createElement(vb,Ql({},_,{width:k,height:S,title:O,desc:A,style:hxe}),this.renderClipPath(),wk(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);tt(v,"displayName",n),tt(v,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),tt(v,"getDerivedStateFromProps",function(y,j){var g=y.dataKey,x=y.data,w=y.children,b=y.width,C=y.height,k=y.layout,S=y.stackOffset,E=y.margin,$=j.dataStartIndex,O=j.dataEndIndex;if(j.updateId===void 0){var A=rP(y);return ae(ae(ae({},A),{},{updateId:0},h(ae(ae({props:y},A),{},{updateId:0}),j)),{},{prevDataKey:g,prevData:x,prevWidth:b,prevHeight:C,prevLayout:k,prevStackOffset:S,prevMargin:E,prevChildren:w})}if(g!==j.prevDataKey||x!==j.prevData||b!==j.prevWidth||C!==j.prevHeight||k!==j.prevLayout||S!==j.prevStackOffset||!lc(E,j.prevMargin)){var P=rP(y),_={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},F=ae(ae({},nP(j,x,k)),{},{updateId:j.updateId+1}),M=ae(ae(ae({},P),_),F);return ae(ae(ae({},M),h(ae({props:y},M),j)),{},{prevDataKey:g,prevData:x,prevWidth:b,prevHeight:C,prevLayout:k,prevStackOffset:S,prevMargin:E,prevChildren:w})}if(!hb(w,j.prevChildren)){var G,z,H,D,U=kr(w,nd),I=U&&(G=(z=U.props)===null||z===void 0?void 0:z.startIndex)!==null&&G!==void 0?G:$,se=U&&(H=(D=U.props)===null||D===void 0?void 0:D.endIndex)!==null&&H!==void 0?H:O,ge=I!==$||se!==O,ee=!gt(x),we=ee&&!ge?j.updateId:j.updateId+1;return ae(ae({updateId:we},h(ae(ae({props:y},j),{},{updateId:we,dataStartIndex:I,dataEndIndex:se}),j)),{},{prevChildren:w,dataStartIndex:I,dataEndIndex:se})}return null}),tt(v,"renderActiveDot",function(y,j,g){var x;return N.isValidElement(y)?x=N.cloneElement(y,j):lt(y)?x=y(j):x=L.createElement(S1,j),L.createElement(_t,{className:"recharts-active-dot",key:g},x)});var m=N.forwardRef(function(j,g){return L.createElement(v,Ql({},j,{ref:g}))});return m.displayName=v.displayName,m},Cxe=MD({chartName:"BarChart",GraphicalChild:yl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:og},{axisType:"yAxis",AxisComp:lg}],formatAxisMap:Epe}),kxe=MD({chartName:"PieChart",GraphicalChild:ra,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Jv},{axisType:"radiusAxis",AxisComp:Xv}],formatAxisMap:joe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Exe(){const{data:e=[]}=Pe({queryKey:["/api/analyses"]}),{data:t}=Pe({queryKey:["/api/analytics"]}),i=e.filter(u=>u.status==="completed").slice(0,3),s=t!=null&&t.rootCauseDistribution?Object.entries(t.rootCauseDistribution).map(([u,f])=>({name:u,value:f})):[],a=t!=null&&t.confidenceDistribution?Object.entries(t.confidenceDistribution).map(([u,f])=>({name:u,value:f})):[],o=["#ef4444","#f59e0b","#3b82f6","#10b981","#8b5cf6"],l=u=>{switch(u){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},c=u=>u>=90?"confidence-high":u>=70?"confidence-medium":"confidence-low",d=u=>{const f=new Date,p=new Date(u),h=Math.floor((f.getTime()-p.getTime())/(1e3*60*60));if(h<1)return"Less than an hour ago";if(h===1)return"1 hour ago";if(h<24)return`${h} hours ago`;const v=Math.floor(h/24);return v===1?"1 day ago":`${v} days ago`};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(Y,{children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues Analyzed"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.totalAnalyses)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(sc,{className:"text-blue-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Ci,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"+12%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})}),r.jsx(Y,{children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Root Causes Identified"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.rootCausesIdentified)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(_i,{className:"text-green-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Ci,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"+8%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"resolution rate"})]})]})}),r.jsx(Y,{children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Analysis Time"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.avgAnalysisTime)||"0m"})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Fr,{className:"text-yellow-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Ci,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"-15%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"faster than manual"})]})]})}),r.jsx(Y,{children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[(t==null?void 0:t.successRate)||0,"%"]})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(ls,{className:"text-purple-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Ci,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"+3%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"accuracy improvement"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Root Cause Distribution"})}),r.jsx(Q,{children:r.jsx(yE,{width:"100%",height:300,children:r.jsxs(kxe,{children:[r.jsx(ra,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:f})=>`${u} ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((u,f)=>r.jsx($v,{fill:o[f%o.length]},`cell-${f}`))}),r.jsx(xi,{})]})})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Analysis Confidence Levels"})}),r.jsx(Q,{children:r.jsx(yE,{width:"100%",height:300,children:r.jsxs(Cxe,{data:a,children:[r.jsx(bD,{strokeDasharray:"3 3"}),r.jsx(og,{dataKey:"name"}),r.jsx(lg,{}),r.jsx(xi,{}),r.jsx(yl,{dataKey:"value",fill:"hsl(217, 91%, 60%)"})]})})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{className:"flex flex-row items-center justify-between",children:[r.jsx(Z,{children:"Recent Root Cause Findings"}),r.jsx(W,{variant:"ghost",size:"sm",children:"View All"})]}),r.jsx(Q,{className:"space-y-4",children:i.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(jr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No completed analyses yet. Upload files to get started."})]}):i.map(u=>r.jsx("div",{className:"border border-border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"font-medium text-foreground",children:u.issueDescription}),r.jsxs(J,{className:l(u.priority),children:[u.priority.charAt(0).toUpperCase()+u.priority.slice(1)," Priority"]}),u.confidence&&r.jsxs(J,{className:c(u.confidence),children:[u.confidence,"% Confidence"]})]}),u.rootCause&&r.jsxs("p",{className:"text-muted-foreground text-sm mb-3",children:["Root cause identified: ",u.rootCause]}),u.recommendations&&Array.isArray(u.recommendations)&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Recommendations:"}),r.jsx("ul",{className:"text-sm text-muted-foreground ml-4 mt-1 space-y-1",children:u.recommendations.map((f,p)=>r.jsxs("li",{children:["• ",f]},p))})]})]}),r.jsxs("div",{className:"ml-4 flex flex-col items-end space-y-2",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-muted-foreground",children:d(u.createdAt)}),u.equipmentType&&r.jsx(J,{variant:"outline",className:"text-xs mt-1",children:u.equipmentType.charAt(0).toUpperCase()+u.equipmentType.slice(1).replace("_"," ")})]}),r.jsx(W,{variant:"ghost",size:"sm",children:"View Details"})]})]})},u.id))})]})]})}const ue=N.forwardRef(({className:e,type:t,...n},i)=>r.jsx("input",{type:t,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...n}));ue.displayName="Input";function qj(e,[t,n]){return Math.min(n,Math.max(t,e))}var Iy=0;function $D(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sP()),document.body.insertAdjacentElement("beforeend",e[1]??sP()),Iy++,()=>{Iy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Iy--}},[])}function sP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ry="focusScope.autoFocusOnMount",My="focusScope.autoFocusOnUnmount",aP={bubbles:!1,cancelable:!0},Axe="FocusScope",R1=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=N.useState(null),d=un(s),u=un(a),f=N.useRef(null),p=yt(t,m=>c(m)),h=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(i){let m=function(x){if(h.paused||!l)return;const w=x.target;l.contains(w)?f.current=w:da(f.current,{select:!0})},y=function(x){if(h.paused||!l)return;const w=x.relatedTarget;w!==null&&(l.contains(w)||da(f.current,{select:!0}))},j=function(x){if(document.activeElement===document.body)for(const b of x)b.removedNodes.length>0&&da(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const g=new MutationObserver(j);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),g.disconnect()}}},[i,l,h.paused]),N.useEffect(()=>{if(l){lP.add(h);const m=document.activeElement;if(!l.contains(m)){const j=new CustomEvent(Ry,aP);l.addEventListener(Ry,d),l.dispatchEvent(j),j.defaultPrevented||(Pxe(Rxe(DD(l)),{select:!0}),document.activeElement===m&&da(l))}return()=>{l.removeEventListener(Ry,d),setTimeout(()=>{const j=new CustomEvent(My,aP);l.addEventListener(My,u),l.dispatchEvent(j),j.defaultPrevented||da(m??document.body,{select:!0}),l.removeEventListener(My,u),lP.remove(h)},0)}}},[l,d,u,h]);const v=N.useCallback(m=>{if(!n&&!i||h.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,j=document.activeElement;if(y&&j){const g=m.currentTarget,[x,w]=Oxe(g);x&&w?!m.shiftKey&&j===w?(m.preventDefault(),n&&da(x,{select:!0})):m.shiftKey&&j===x&&(m.preventDefault(),n&&da(w,{select:!0})):j===g&&m.preventDefault()}},[n,i,h.paused]);return r.jsx(nt.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});R1.displayName=Axe;function Pxe(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(da(i,{select:t}),document.activeElement!==n)return}function Oxe(e){const t=DD(e),n=oP(t,e),i=oP(t.reverse(),e);return[n,i]}function DD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function oP(e,t){for(const n of e)if(!Txe(n,{upTo:t}))return n}function Txe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _xe(e){return e instanceof HTMLInputElement&&"select"in e}function da(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&_xe(e)&&t&&e.select()}}var lP=Ixe();function Ixe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=cP(e,t),e.unshift(t)},remove(t){var n;e=cP(e,t),(n=e[0])==null||n.resume()}}}function cP(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function Rxe(e){return e.filter(t=>t.tagName!=="A")}function M1(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Mxe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},El=new WeakMap,fm=new WeakMap,pm={},$y=0,FD=function(e){return e&&(e.host||FD(e.parentNode))},$xe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=FD(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Dxe=function(e,t,n,i){var s=$xe(t,Array.isArray(e)?e:[e]);pm[n]||(pm[n]=new WeakMap);var a=pm[n],o=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))u(p);else try{var h=p.getAttribute(i),v=h!==null&&h!=="false",m=(El.get(p)||0)+1,y=(a.get(p)||0)+1;El.set(p,m),a.set(p,y),o.push(p),m===1&&v&&fm.set(p,!0),y===1&&p.setAttribute(n,"true"),v||p.setAttribute(i,"true")}catch(j){console.error("aria-hidden: cannot operate on ",p,j)}})};return u(t),l.clear(),$y++,function(){o.forEach(function(f){var p=El.get(f)-1,h=a.get(f)-1;El.set(f,p),a.set(f,h),p||(fm.has(f)||f.removeAttribute(i),fm.delete(f)),h||f.removeAttribute(n)}),$y--,$y||(El=new WeakMap,El=new WeakMap,fm=new WeakMap,pm={})}},LD=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=Mxe(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live]"))),Dxe(i,s,n,"aria-hidden")):function(){return null}},Gi=function(){return Gi=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Gi.apply(this,arguments)};function qD(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function bl(e,t,n,i){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(i.next(u))}catch(f){o(f)}}function c(u){try{d(i.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):s(u.value).then(l,c)}d((i=i.apply(e,t||[])).next())})}function Fxe(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}var $m="right-scroll-bar-position",Dm="width-before-scroll-bar",Lxe="with-scroll-bars-hidden",qxe="--removed-body-scroll-bar-size";function Dy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zxe(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var Bxe=typeof window<"u"?N.useLayoutEffect:N.useEffect,dP=new WeakMap;function Uxe(e,t){var n=zxe(null,function(i){return e.forEach(function(s){return Dy(s,i)})});return Bxe(function(){var i=dP.get(n);if(i){var s=new Set(i),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||Dy(l,null)}),a.forEach(function(l){s.has(l)||Dy(l,o)})}dP.set(n,e)},[e]),n}function Vxe(e){return e}function Wxe(e,t){t===void 0&&(t=Vxe);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,i);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(i=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){i=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return s}function Hxe(e){e===void 0&&(e={});var t=Wxe(null);return t.options=Gi({async:!0,ssr:!1},e),t}var zD=function(e){var t=e.sideCar,n=qD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return N.createElement(i,Gi({},n))};zD.isSideCarExport=!0;function Gxe(e,t){return e.useMedium(t),zD}var BD=Hxe(),Fy=function(){},dg=N.forwardRef(function(e,t){var n=N.useRef(null),i=N.useState({onScrollCapture:Fy,onWheelCapture:Fy,onTouchMoveCapture:Fy}),s=i[0],a=i[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,v=e.inert,m=e.allowPinchZoom,y=e.as,j=y===void 0?"div":y,g=e.gapMode,x=qD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,b=Uxe([n,t]),C=Gi(Gi({},x),s);return N.createElement(N.Fragment,null,u&&N.createElement(w,{sideCar:BD,removeScrollBar:d,shards:f,noIsolation:h,inert:v,setCallbacks:a,allowPinchZoom:!!m,lockRef:n,gapMode:g}),o?N.cloneElement(N.Children.only(l),Gi(Gi({},C),{ref:b})):N.createElement(j,Gi({},C,{className:c,ref:b}),l))});dg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dg.classNames={fullWidth:Dm,zeroRight:$m};var Kxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yxe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Kxe();return t&&e.setAttribute("nonce",t),e}function Qxe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xxe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Zxe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Yxe())&&(Qxe(t,n),Xxe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Jxe=function(){var e=Zxe();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},UD=function(){var e=Jxe(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},eve={left:0,top:0,right:0,gap:0},Ly=function(e){return parseInt(e||"",10)||0},tve=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ly(n),Ly(i),Ly(s)]},nve=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eve;var t=tve(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},rve=UD(),fc="data-scroll-locked",ive=function(e,t,n,i){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Lxe,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(fc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($m,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(Dm,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat($m," .").concat($m,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Dm," .").concat(Dm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(fc,`] {
    `).concat(qxe,": ").concat(l,`px;
  }
`)},uP=function(){var e=parseInt(document.body.getAttribute(fc)||"0",10);return isFinite(e)?e:0},sve=function(){N.useEffect(function(){return document.body.setAttribute(fc,(uP()+1).toString()),function(){var e=uP()-1;e<=0?document.body.removeAttribute(fc):document.body.setAttribute(fc,e.toString())}},[])},ave=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;sve();var a=N.useMemo(function(){return nve(s)},[s]);return N.createElement(rve,{styles:ive(a,!t,s,n?"":"!important")})},zj=!1;if(typeof window<"u")try{var mm=Object.defineProperty({},"passive",{get:function(){return zj=!0,!0}});window.addEventListener("test",mm,mm),window.removeEventListener("test",mm,mm)}catch{zj=!1}var Al=zj?{passive:!1}:!1,ove=function(e){return e.tagName==="TEXTAREA"},VD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ove(e)&&n[t]==="visible")},lve=function(e){return VD(e,"overflowY")},cve=function(e){return VD(e,"overflowX")},fP=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=WD(e,i);if(s){var a=HD(e,i),o=a[1],l=a[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},dve=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},uve=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},WD=function(e,t){return e==="v"?lve(t):cve(t)},HD=function(e,t){return e==="v"?dve(t):uve(t)},fve=function(e,t){return e==="h"&&t==="rtl"?-1:1},pve=function(e,t,n,i,s){var a=fve(e,window.getComputedStyle(t).direction),o=a*i,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,p=0;do{var h=HD(e,l),v=h[0],m=h[1],y=h[2],j=m-y-a*v;(v||j)&&WD(e,l)&&(f+=j,p+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(d=!0),d},hm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},pP=function(e){return[e.deltaX,e.deltaY]},mP=function(e){return e&&"current"in e?e.current:e},mve=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hve=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xve=0,Pl=[];function vve(e){var t=N.useRef([]),n=N.useRef([0,0]),i=N.useRef(),s=N.useState(xve++)[0],a=N.useState(UD)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Fxe([e.lockRef.current],(e.shards||[]).map(mP),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var j=hm(m),g=n.current,x="deltaX"in m?m.deltaX:g[0]-j[0],w="deltaY"in m?m.deltaY:g[1]-j[1],b,C=m.target,k=Math.abs(x)>Math.abs(w)?"h":"v";if("touches"in m&&k==="h"&&C.type==="range")return!1;var S=fP(k,C);if(!S)return!0;if(S?b=k:(b=k==="v"?"h":"v",S=fP(k,C)),!S)return!1;if(!i.current&&"changedTouches"in m&&(x||w)&&(i.current=b),!b)return!0;var E=i.current||b;return pve(E,y,m,E==="h"?x:w,!0)},[]),c=N.useCallback(function(m){var y=m;if(!(!Pl.length||Pl[Pl.length-1]!==a)){var j="deltaY"in y?pP(y):hm(y),g=t.current.filter(function(b){return b.name===y.type&&(b.target===y.target||y.target===b.shadowParent)&&mve(b.delta,j)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(mP).filter(Boolean).filter(function(b){return b.contains(y.target)}),w=x.length>0?l(y,x[0]):!o.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),d=N.useCallback(function(m,y,j,g){var x={name:m,delta:y,target:j,should:g,shadowParent:gve(j)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(w){return w!==x})},1)},[]),u=N.useCallback(function(m){n.current=hm(m),i.current=void 0},[]),f=N.useCallback(function(m){d(m.type,pP(m),m.target,l(m,e.lockRef.current))},[]),p=N.useCallback(function(m){d(m.type,hm(m),m.target,l(m,e.lockRef.current))},[]);N.useEffect(function(){return Pl.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Al),document.addEventListener("touchmove",c,Al),document.addEventListener("touchstart",u,Al),function(){Pl=Pl.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Al),document.removeEventListener("touchmove",c,Al),document.removeEventListener("touchstart",u,Al)}},[]);var h=e.removeScrollBar,v=e.inert;return N.createElement(N.Fragment,null,v?N.createElement(a,{styles:hve(s)}):null,h?N.createElement(ave,{gapMode:e.gapMode}):null)}function gve(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yve=Gxe(BD,vve);var $1=N.forwardRef(function(e,t){return N.createElement(dg,Gi({},e,{ref:t,sideCar:yve}))});$1.classNames=dg.classNames;var bve=[" ","Enter","ArrowUp","ArrowDown"],jve=[" ","Enter"],kp="Select",[ug,fg,wve]=lN(kp),[Dd,Hwe]=zr(kp,[wve,ov]),pg=ov(),[Nve,so]=Dd(kp),[Sve,Cve]=Dd(kp),GD=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:p,required:h,form:v}=e,m=pg(t),[y,j]=N.useState(null),[g,x]=N.useState(null),[w,b]=N.useState(!1),C=fv(d),[k=!1,S]=Us({prop:i,defaultProp:s,onChange:a}),[E,$]=Us({prop:o,defaultProp:l,onChange:c}),O=N.useRef(null),A=y?v||!!y.closest("form"):!0,[P,_]=N.useState(new Set),F=Array.from(P).map(M=>M.props.value).join(";");return r.jsx(gR,{...m,children:r.jsxs(Nve,{required:h,scope:t,trigger:y,onTriggerChange:j,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:w,onValueNodeHasChildrenChange:b,contentId:ts(),value:E,onValueChange:$,open:k,onOpenChange:S,dir:C,triggerPointerDownPosRef:O,disabled:p,children:[r.jsx(ug.Provider,{scope:t,children:r.jsx(Sve,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(M=>{_(G=>new Set(G).add(M))},[]),onNativeOptionRemove:N.useCallback(M=>{_(G=>{const z=new Set(G);return z.delete(M),z})},[]),children:n})}),A?r.jsxs(gF,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:E,onChange:M=>$(M.target.value),disabled:p,form:v,children:[E===void 0?r.jsx("option",{value:""}):null,Array.from(P)]},F):null]})})};GD.displayName=kp;var KD="SelectTrigger",YD=N.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,a=pg(n),o=so(KD,n),l=o.disabled||i,c=yt(t,o.onTriggerChange),d=fg(n),u=N.useRef("touch"),[f,p,h]=yF(m=>{const y=d().filter(x=>!x.disabled),j=y.find(x=>x.value===o.value),g=bF(y,m,j);g!==void 0&&o.onValueChange(g.value)}),v=m=>{l||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return r.jsx(yR,{asChild:!0,...a,children:r.jsx(nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vF(o.value)?"":void 0,...s,ref:c,onClick:Be(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&v(m)}),onPointerDown:Be(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:Be(s.onKeyDown,m=>{const y=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(y&&m.key===" ")&&bve.includes(m.key)&&(v(),m.preventDefault())})})})});YD.displayName=KD;var QD="SelectValue",XD=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:a,placeholder:o="",...l}=e,c=so(QD,n),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,f=yt(t,c.onValueNodeChange);return pn(()=>{d(u)},[d,u]),r.jsx(nt.span,{...l,ref:f,style:{pointerEvents:"none"},children:vF(c.value)?r.jsx(r.Fragment,{children:o}):a})});XD.displayName=QD;var kve="SelectIcon",ZD=N.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return r.jsx(nt.span,{"aria-hidden":!0,...s,ref:t,children:i||"▼"})});ZD.displayName=kve;var Eve="SelectPortal",JD=e=>r.jsx(Jx,{asChild:!0,...e});JD.displayName=Eve;var al="SelectContent",eF=N.forwardRef((e,t)=>{const n=so(al,e.__scopeSelect),[i,s]=N.useState();if(pn(()=>{s(new DocumentFragment)},[]),!n.open){const a=i;return a?ml.createPortal(r.jsx(tF,{scope:e.__scopeSelect,children:r.jsx(ug.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(nF,{...e,ref:t})});eF.displayName=al;var fi=10,[tF,ao]=Dd(al),Ave="SelectContentImpl",Pve=$c("SelectContent.RemoveScroll"),nF=N.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:y,...j}=e,g=so(al,n),[x,w]=N.useState(null),[b,C]=N.useState(null),k=yt(t,me=>w(me)),[S,E]=N.useState(null),[$,O]=N.useState(null),A=fg(n),[P,_]=N.useState(!1),F=N.useRef(!1);N.useEffect(()=>{if(x)return LD(x)},[x]),$D();const M=N.useCallback(me=>{const[Se,...le]=A().map(B=>B.ref.current),[xe]=le.slice(-1),ye=document.activeElement;for(const B of me)if(B===ye||(B==null||B.scrollIntoView({block:"nearest"}),B===Se&&b&&(b.scrollTop=0),B===xe&&b&&(b.scrollTop=b.scrollHeight),B==null||B.focus(),document.activeElement!==ye))return},[A,b]),G=N.useCallback(()=>M([S,x]),[M,S,x]);N.useEffect(()=>{P&&G()},[P,G]);const{onOpenChange:z,triggerPointerDownPosRef:H}=g;N.useEffect(()=>{if(x){let me={x:0,y:0};const Se=xe=>{var ye,B;me={x:Math.abs(Math.round(xe.pageX)-(((ye=H.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((B=H.current)==null?void 0:B.y)??0))}},le=xe=>{me.x<=10&&me.y<=10?xe.preventDefault():x.contains(xe.target)||z(!1),document.removeEventListener("pointermove",Se),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",le,{capture:!0})}}},[x,z,H]),N.useEffect(()=>{const me=()=>z(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[z]);const[D,U]=yF(me=>{const Se=A().filter(ye=>!ye.disabled),le=Se.find(ye=>ye.ref.current===document.activeElement),xe=bF(Se,me,le);xe&&setTimeout(()=>xe.ref.current.focus())}),I=N.useCallback((me,Se,le)=>{const xe=!F.current&&!le;(g.value!==void 0&&g.value===Se||xe)&&(E(me),xe&&(F.current=!0))},[g.value]),se=N.useCallback(()=>x==null?void 0:x.focus(),[x]),ge=N.useCallback((me,Se,le)=>{const xe=!F.current&&!le;(g.value!==void 0&&g.value===Se||xe)&&O(me)},[g.value]),ee=i==="popper"?Bj:rF,we=ee===Bj?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:y}:{};return r.jsx(tF,{scope:n,content:x,viewport:b,onViewportChange:C,itemRefCallback:I,selectedItem:S,onItemLeave:se,itemTextRefCallback:ge,focusSelectedItem:G,selectedItemText:$,position:i,isPositioned:P,searchRef:D,children:r.jsx($1,{as:Pve,allowPinchZoom:!0,children:r.jsx(R1,{asChild:!0,trapped:g.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Be(s,me=>{var Se;(Se=g.trigger)==null||Se.focus({preventScroll:!0}),me.preventDefault()}),children:r.jsx(dp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:r.jsx(ee,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:me=>me.preventDefault(),...j,...we,onPlaced:()=>_(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Be(j.onKeyDown,me=>{const Se=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Se&&me.key.length===1&&U(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let xe=A().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(me.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const ye=me.target,B=xe.indexOf(ye);xe=xe.slice(B+1)}setTimeout(()=>M(xe)),me.preventDefault()}})})})})})})});nF.displayName=Ave;var Ove="SelectItemAlignedPosition",rF=N.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,a=so(al,n),o=ao(al,n),[l,c]=N.useState(null),[d,u]=N.useState(null),f=yt(t,k=>u(k)),p=fg(n),h=N.useRef(!1),v=N.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:j,focusSelectedItem:g}=o,x=N.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&m&&y&&j){const k=a.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),E=a.valueNode.getBoundingClientRect(),$=j.getBoundingClientRect();if(a.dir!=="rtl"){const ye=$.left-S.left,B=E.left-ye,ce=k.left-B,de=k.width+ce,Ie=Math.max(de,S.width),Oe=window.innerWidth-fi,et=qj(B,[fi,Math.max(fi,Oe-Ie)]);l.style.minWidth=de+"px",l.style.left=et+"px"}else{const ye=S.right-$.right,B=window.innerWidth-E.right-ye,ce=window.innerWidth-k.right-B,de=k.width+ce,Ie=Math.max(de,S.width),Oe=window.innerWidth-fi,et=qj(B,[fi,Math.max(fi,Oe-Ie)]);l.style.minWidth=de+"px",l.style.right=et+"px"}const O=p(),A=window.innerHeight-fi*2,P=m.scrollHeight,_=window.getComputedStyle(d),F=parseInt(_.borderTopWidth,10),M=parseInt(_.paddingTop,10),G=parseInt(_.borderBottomWidth,10),z=parseInt(_.paddingBottom,10),H=F+M+P+z+G,D=Math.min(y.offsetHeight*5,H),U=window.getComputedStyle(m),I=parseInt(U.paddingTop,10),se=parseInt(U.paddingBottom,10),ge=k.top+k.height/2-fi,ee=A-ge,we=y.offsetHeight/2,me=y.offsetTop+we,Se=F+M+me,le=H-Se;if(Se<=ge){const ye=O.length>0&&y===O[O.length-1].ref.current;l.style.bottom="0px";const B=d.clientHeight-m.offsetTop-m.offsetHeight,ce=Math.max(ee,we+(ye?se:0)+B+G),de=Se+ce;l.style.height=de+"px"}else{const ye=O.length>0&&y===O[0].ref.current;l.style.top="0px";const ce=Math.max(ge,F+m.offsetTop+(ye?I:0)+we)+le;l.style.height=ce+"px",m.scrollTop=Se-ge+m.offsetTop}l.style.margin=`${fi}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=A+"px",i==null||i(),requestAnimationFrame(()=>h.current=!0)}},[p,a.trigger,a.valueNode,l,d,m,y,j,a.dir,i]);pn(()=>x(),[x]);const[w,b]=N.useState();pn(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const C=N.useCallback(k=>{k&&v.current===!0&&(x(),g==null||g(),v.current=!1)},[x,g]);return r.jsx(_ve,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:r.jsx(nt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});rF.displayName=Ove;var Tve="SelectPopperPosition",Bj=N.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=fi,...a}=e,o=pg(n);return r.jsx(bR,{...o,...a,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bj.displayName=Tve;var[_ve,D1]=Dd(al,{}),Uj="SelectViewport",iF=N.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,a=ao(Uj,n),o=D1(Uj,n),l=yt(t,a.onViewportChange),c=N.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(ug.Slot,{scope:n,children:r.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Be(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const h=Math.abs(c.current-u.scrollTop);if(h>0){const v=window.innerHeight-fi*2,m=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),j=Math.max(m,y);if(j<v){const g=j+h,x=Math.min(v,g),w=g-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});iF.displayName=Uj;var sF="SelectGroup",[Ive,Rve]=Dd(sF),Mve=N.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=ts();return r.jsx(Ive,{scope:n,id:s,children:r.jsx(nt.div,{role:"group","aria-labelledby":s,...i,ref:t})})});Mve.displayName=sF;var aF="SelectLabel",oF=N.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=Rve(aF,n);return r.jsx(nt.div,{id:s.id,...i,ref:t})});oF.displayName=aF;var mx="SelectItem",[$ve,lF]=Dd(mx),cF=N.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:a,...o}=e,l=so(mx,n),c=ao(mx,n),d=l.value===i,[u,f]=N.useState(a??""),[p,h]=N.useState(!1),v=yt(t,g=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,g,i,s)}),m=ts(),y=N.useRef("touch"),j=()=>{s||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx($ve,{scope:n,value:i,disabled:s,textId:m,isSelected:d,onItemTextChange:N.useCallback(g=>{f(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:r.jsx(ug.ItemSlot,{scope:n,value:i,disabled:s,textValue:u,children:r.jsx(nt.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Be(o.onFocus,()=>h(!0)),onBlur:Be(o.onBlur,()=>h(!1)),onClick:Be(o.onClick,()=>{y.current!=="mouse"&&j()}),onPointerUp:Be(o.onPointerUp,()=>{y.current==="mouse"&&j()}),onPointerDown:Be(o.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:Be(o.onPointerMove,g=>{var x;y.current=g.pointerType,s?(x=c.onItemLeave)==null||x.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(o.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:Be(o.onKeyDown,g=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&g.key===" "||(jve.includes(g.key)&&j(),g.key===" "&&g.preventDefault())})})})})});cF.displayName=mx;var vu="SelectItemText",dF=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...a}=e,o=so(vu,n),l=ao(vu,n),c=lF(vu,n),d=Cve(vu,n),[u,f]=N.useState(null),p=yt(t,j=>f(j),c.onItemTextChange,j=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,j,c.value,c.disabled)}),h=u==null?void 0:u.textContent,v=N.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=d;return pn(()=>(m(v),()=>y(v)),[m,y,v]),r.jsxs(r.Fragment,{children:[r.jsx(nt.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ml.createPortal(a.children,o.valueNode):null]})});dF.displayName=vu;var uF="SelectItemIndicator",fF=N.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return lF(uF,n).isSelected?r.jsx(nt.span,{"aria-hidden":!0,...i,ref:t}):null});fF.displayName=uF;var Vj="SelectScrollUpButton",pF=N.forwardRef((e,t)=>{const n=ao(Vj,e.__scopeSelect),i=D1(Vj,e.__scopeSelect),[s,a]=N.useState(!1),o=yt(t,i.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(hF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});pF.displayName=Vj;var Wj="SelectScrollDownButton",mF=N.forwardRef((e,t)=>{const n=ao(Wj,e.__scopeSelect),i=D1(Wj,e.__scopeSelect),[s,a]=N.useState(!1),o=yt(t,i.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(hF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mF.displayName=Wj;var hF=N.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,a=ao("SelectScrollButton",n),o=N.useRef(null),l=fg(n),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),pn(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(nt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Be(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:Be(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:Be(s.onPointerLeave,()=>{c()})})}),Dve="SelectSeparator",xF=N.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return r.jsx(nt.div,{"aria-hidden":!0,...i,ref:t})});xF.displayName=Dve;var Hj="SelectArrow",Fve=N.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=pg(n),a=so(Hj,n),o=ao(Hj,n);return a.open&&o.position==="popper"?r.jsx(jR,{...s,...i,ref:t}):null});Fve.displayName=Hj;function vF(e){return e===""||e===void 0}var gF=N.forwardRef((e,t)=>{const{value:n,...i}=e,s=N.useRef(null),a=yt(t,s),o=M1(n);return N.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const f=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(f)}},[o,n]),r.jsx(up,{asChild:!0,children:r.jsx("select",{...i,ref:a,defaultValue:n})})});gF.displayName="BubbleSelect";function yF(e){const t=un(e),n=N.useRef(""),i=N.useRef(0),s=N.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(i.current),d!==""&&(i.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=N.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,a]}function bF(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Lve(e,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Lve(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var qve=GD,jF=YD,zve=XD,Bve=ZD,Uve=JD,wF=eF,Vve=iF,NF=oF,SF=cF,Wve=dF,Hve=fF,CF=pF,kF=mF,EF=xF;const We=qve,He=zve,Ue=N.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(jF,{ref:i,className:Ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Bve,{asChild:!0,children:r.jsx(fN,{className:"h-4 w-4 opacity-50"})})]}));Ue.displayName=jF.displayName;const AF=N.forwardRef(({className:e,...t},n)=>r.jsx(CF,{ref:n,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(_I,{className:"h-4 w-4"})}));AF.displayName=CF.displayName;const PF=N.forwardRef(({className:e,...t},n)=>r.jsx(kF,{ref:n,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(fN,{className:"h-4 w-4"})}));PF.displayName=kF.displayName;const Ge=N.forwardRef(({className:e,children:t,position:n="popper",...i},s)=>r.jsx(Uve,{children:r.jsxs(wF,{ref:s,className:Ye("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[r.jsx(AF,{}),r.jsx(Vve,{className:Ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(PF,{})]})}));Ge.displayName=wF.displayName;const Gve=N.forwardRef(({className:e,...t},n)=>r.jsx(NF,{ref:n,className:Ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Gve.displayName=NF.displayName;const ne=N.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(SF,{ref:i,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Hve,{children:r.jsx(TI,{className:"h-4 w-4"})})}),r.jsx(Wve,{children:t})]}));ne.displayName=SF.displayName;const Kve=N.forwardRef(({className:e,...t},n)=>r.jsx(EF,{ref:n,className:Ye("-mx-1 my-1 h-px bg-muted",e),...t}));Kve.displayName=EF.displayName;const Ki=N.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ye("w-full caption-bottom text-sm",e),...t})}));Ki.displayName="Table";const Yi=N.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Ye("[&_tr]:border-b",e),...t}));Yi.displayName="TableHeader";const Qi=N.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Ye("[&_tr:last-child]:border-0",e),...t}));Qi.displayName="TableBody";const Yve=N.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Yve.displayName="TableFooter";const Jt=N.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Jt.displayName="TableRow";const rt=N.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));rt.displayName="TableHead";const Ze=N.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ze.displayName="TableCell";const Qve=N.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Ye("mt-4 text-sm text-muted-foreground",e),...t}));Qve.displayName="TableCaption";function Xve(){const[e,t]=N.useState(""),[n,i]=N.useState("all"),[s,a]=N.useState("all"),[o,l]=N.useState("all"),[c,d]=N.useState(1),[,u]=ii(),f=10,p=new URLSearchParams;e&&p.set("search",e),n&&n!=="all"&&p.set("priority",n),s&&s!=="all"&&p.set("dateRange",s),p.set("status",o);const{data:h=[],isLoading:v,refetch:m}=Pe({queryKey:["/api/analyses",p.toString()],queryFn:async()=>{const k=`/api/analyses${p.toString()?`?${p.toString()}`:""}`,S=await fetch(k);if(!S.ok)throw new Error("Failed to fetch analyses");return S.json()}}),y=Math.ceil(h.length/f),j=(c-1)*f,g=h.slice(j,j+f),x=k=>{switch(k){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},w=k=>k?k>=90?"confidence-high":k>=70?"confidence-medium":"confidence-low":"bg-gray-100 text-gray-800",b=k=>new Date(k).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),C=()=>{console.log("Export functionality would be implemented here")};return r.jsxs("div",{className:"space-y-8",children:[r.jsx(Y,{children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(_i,{className:"text-muted-foreground",size:16})}),r.jsx(ue,{placeholder:"Search analyses...",value:e,onChange:k=>t(k.target.value),className:"pl-10"})]}),r.jsxs(We,{value:n,onValueChange:i,children:[r.jsx(Ue,{className:"w-full sm:w-[180px]",children:r.jsx(He,{placeholder:"All Priorities"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"all",children:"All Priorities"}),r.jsx(ne,{value:"high",children:"High Priority"}),r.jsx(ne,{value:"medium",children:"Medium Priority"}),r.jsx(ne,{value:"low",children:"Low Priority"})]})]}),r.jsxs(We,{value:s,onValueChange:a,children:[r.jsx(Ue,{className:"w-full sm:w-[180px]",children:r.jsx(He,{placeholder:"All Time"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"all",children:"All Time"}),r.jsx(ne,{value:"today",children:"Today"}),r.jsx(ne,{value:"week",children:"This Week"}),r.jsx(ne,{value:"month",children:"This Month"}),r.jsx(ne,{value:"quarter",children:"This Quarter"})]})]}),r.jsxs(We,{value:o,onValueChange:l,children:[r.jsx(Ue,{className:"w-40",children:r.jsx(He,{placeholder:"Status"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"all",children:"All Status"}),r.jsx(ne,{value:"draft",children:"Drafts Only"}),r.jsx(ne,{value:"completed",children:"Completed Only"})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{variant:"outline",onClick:C,children:[r.jsx(cr,{className:"w-4 h-4 mr-2"}),"Export"]}),r.jsxs(W,{variant:"outline",onClick:()=>m(),children:[r.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Analysis History"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete record of all root cause analyses"})]}),r.jsx(Q,{children:v?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Gn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):h.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:"No analyses found matching your criteria."})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(Jt,{children:[r.jsx(rt,{className:"min-w-[120px]",children:"Analysis ID"}),r.jsx(rt,{className:"min-w-[140px]",children:"Equipment"}),r.jsx(rt,{className:"min-w-[200px]",children:"Issue Description"}),r.jsx(rt,{className:"min-w-[200px]",children:"Root Cause"}),r.jsx(rt,{className:"min-w-[100px]",children:"Confidence"}),r.jsx(rt,{className:"min-w-[90px]",children:"Priority"}),r.jsx(rt,{className:"min-w-[140px]",children:"Date"}),r.jsx(rt,{className:"min-w-[160px] sticky right-0 bg-background",children:"Actions"})]})}),r.jsx(Qi,{children:g.map(k=>{var S,E,$;return r.jsxs(Jt,{className:"hover:bg-muted/50",children:[r.jsx(Ze,{className:"font-medium min-w-[120px]",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:k.investigationId}),k.isDraft&&r.jsx(J,{variant:"outline",className:"text-xs w-fit mt-1",children:"Draft"})]})}),r.jsx(Ze,{className:"min-w-[140px]",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:((S=k.equipmentType)==null?void 0:S.charAt(0).toUpperCase())+((E=k.equipmentType)==null?void 0:E.slice(1).replace("_"," "))}),(($=k.evidenceData)==null?void 0:$.equipment_tag)&&r.jsx("span",{className:"text-xs text-muted-foreground",children:k.evidenceData.equipment_tag}),k.location&&r.jsx("span",{className:"text-xs text-muted-foreground",children:k.location})]})}),r.jsx(Ze,{className:"min-w-[200px] max-w-[250px] truncate",children:k.whatHappened}),r.jsx(Ze,{className:"min-w-[200px] max-w-[250px] truncate",children:k.cause||"Processing..."}),r.jsx(Ze,{className:"min-w-[100px]",children:k.confidence&&!k.isDraft?r.jsxs(J,{className:w(k.confidence),children:[k.confidence,"%"]}):r.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),r.jsx(Ze,{className:"min-w-[90px]",children:r.jsx(J,{className:x(k.priority),children:k.priority.charAt(0).toUpperCase()+k.priority.slice(1)})}),r.jsx(Ze,{className:"text-sm min-w-[140px]",children:b(k.createdAt)}),r.jsx(Ze,{className:"min-w-[160px] sticky right-0 bg-background",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{k.isDraft?u(`/equipment-selection?incident=${k.id}`):u(`/analysis-details/${k.id}`)},className:"text-xs px-2",children:k.isDraft?"Continue":"Details"}),r.jsx(W,{variant:"ghost",size:"sm",className:"text-xs px-2",children:"Export"})]})})]},k.id)})})]})}),y>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",j+1," to ",Math.min(j+f,h.length)," of ",h.length," results"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>d(Math.max(1,c-1)),disabled:c===1,children:[r.jsx(uz,{className:"w-4 h-4"}),"Previous"]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",c," of ",y]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>d(Math.min(y,c+1)),disabled:c===y,children:["Next",r.jsx(pp,{className:"w-4 h-4"})]})]})]})]})})]})]})}function Zve(){return r.jsx("div",{className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"h-5 w-5"}),"Evidence-First Root Cause Analysis"]}),r.jsx(ve,{children:"Comprehensive, systematic approach to accurate root cause identification"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs(Qt,{children:[r.jsx(_i,{className:"h-4 w-4"}),r.jsxs(Xt,{children:[r.jsx("strong",{children:"Enhanced Workflow:"})," Our new evidence-driven process guides you through structured data collection before AI analysis, ensuring higher accuracy and confidence."]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(J,{variant:"outline",children:"1"}),r.jsx("h4",{className:"font-medium",children:"Evidence Collection"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured questionnaire covering asset context, symptoms, operating conditions, and maintenance history"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(J,{variant:"outline",children:"2"}),r.jsx("h4",{className:"font-medium",children:"AI Analysis"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced root cause analysis using collected evidence with confidence scoring and reasoning"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(J,{variant:"outline",children:"3"}),r.jsx("h4",{className:"font-medium",children:"Results & Action"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Detailed findings with actionable recommendations and comprehensive audit trail"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsx(vn,{href:"/incident-reporting",className:"flex-1",children:r.jsxs(W,{className:"w-full flex items-center gap-2",size:"lg",children:[r.jsx(rn,{className:"h-5 w-5"}),"Report New Incident",r.jsx(Tr,{className:"h-4 w-4 ml-auto"})]})}),r.jsx(vn,{href:"/new",className:"flex-1",children:r.jsxs(W,{variant:"outline",className:"w-full flex items-center gap-2",size:"lg",children:[r.jsx(_i,{className:"h-5 w-5"}),"Legacy Analysis Upload",r.jsx(Tr,{className:"h-4 w-4 ml-auto"})]})})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[r.jsx("p",{className:"font-medium mb-1",children:"What makes this better?"}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:"• Systematic evidence gathering prevents missed critical information"}),r.jsx("li",{children:"• Equipment-specific questions provide relevant context"}),r.jsx("li",{children:"• Structured data ensures consistent, auditable analysis"}),r.jsx("li",{children:"• Higher confidence scores through comprehensive input"})]})]})]})]})})}function Jve(){const[,e]=ii();return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"w-8 h-8 rounded-lg object-contain"}),r.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Quanntaum RCA Intelligence Pro"}),r.jsx(J,{className:"enterprise-gradient text-white text-xs px-2 py-1 font-medium",children:"AI-Powered"})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx("span",{className:"w-2 h-2 bg-accent rounded-full"}),r.jsx("span",{children:"System Active"})]}),r.jsxs(W,{variant:"secondary",onClick:()=>e("/admin"),className:"text-sm font-medium",children:[r.jsx(LI,{className:"w-4 h-4 mr-2"}),"Admin Settings"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs(Zn,{defaultValue:"upload",className:"w-full",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-3 mb-8",children:[r.jsxs(Ae,{value:"upload",className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("span",{children:"Upload & Analyze"})]}),r.jsxs(Ae,{value:"dashboard",className:"flex items-center space-x-2",children:[r.jsx(Vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Dashboard"})]}),r.jsxs(Ae,{value:"history",className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"Analysis History"})]})]}),r.jsx(ke,{value:"upload",children:r.jsx(Zve,{})}),r.jsx(ke,{value:"dashboard",children:r.jsx(Exe,{})}),r.jsx(ke,{value:"history",children:r.jsx(Xve,{})})]})})]})}var ege="Separator",hP="horizontal",tge=["horizontal","vertical"],OF=N.forwardRef((e,t)=>{const{decorative:n,orientation:i=hP,...s}=e,a=nge(i)?i:hP,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(nt.div,{"data-orientation":a,...l,...s,ref:t})});OF.displayName=ege;function nge(e){return tge.includes(e)}var TF=OF;const Ds=N.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...i},s)=>r.jsx(TF,{ref:s,decorative:n,orientation:t,className:Ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...i}));Ds.displayName=TF.displayName;function _F({analysis:e,incident:t,onEdit:n}){var p,h,v;const[i,s]=N.useState("tree"),[a,o]=N.useState(1),c=(()=>{var S,E,$,O,A;if(!e)return{id:"root",label:"No Analysis Data",confidence:0,evidence:[],type:"root"};const m=e.equipmentGroup&&e.equipmentType?`${e.equipmentGroup} → ${e.equipmentType}${e.equipmentSubtype?` → ${e.equipmentSubtype}`:""}`:"Equipment Type Not Specified",y=e.equipmentId||(t==null?void 0:t.equipmentId)||e.equipmentTag||"ID Not Specified",j=e.failureMode||e.rootCause||"Equipment Failure",g=[];e.symptoms&&g.push(...e.symptoms),e.description&&g.push(`Reported: ${e.description}`);const x=[];if(e.operatingParameters){const P=e.operatingParameters;Object.keys(P).forEach(_=>{P[_]&&typeof P[_]=="object"?Object.entries(P[_]).forEach(([F,M])=>{x.push(`${_}.${F}: ${M}`)}):P[_]&&x.push(`${_}: ${P[_]}`)})}let w=0;const b=[((S=e.evidenceFiles)==null?void 0:S.length)||0,(($=(E=e.evidenceChecklist)==null?void 0:E.filter(P=>P.completed))==null?void 0:$.length)||0,((A=(O=e.crossMatchResults)==null?void 0:O.libraryMatches)==null?void 0:A.length)||0,g.length,x.length];w=Math.min(100,Math.round(b.reduce((P,_)=>P+_,0)/15*100));const C=[],k=[];if(e.eliminationResults&&e.eliminationResults.forEach((P,_)=>{k.push({id:`eliminated-${_}`,label:P.failureMode||`Eliminated Cause ${_+1}`,confidence:0,evidence:[P.reason||"Eliminated by analysis"],type:"evidence"})}),e.rootCauses&&Array.isArray(e.rootCauses)&&e.rootCauses.forEach((P,_)=>{var F;C.push({id:`root-cause-${_}`,label:P.description||P.title||`Root Cause ${_+1}`,confidence:P.confidence||75,evidence:P.evidence||[P.rationale||"Analysis evidence"],type:"primary",children:((F=P.contributingFactors)==null?void 0:F.map((M,G)=>({id:`factor-${_}-${G}`,label:M.description||M.name||`Contributing Factor ${G+1}`,confidence:M.confidence||70,evidence:M.evidence||[],type:"secondary"})))||[]})}),e.recommendations&&Array.isArray(e.recommendations)){const P=e.recommendations.slice(0,3).map((_,F)=>({id:`prevention-${F}`,label:_.title||_.description||`Preventive Measure ${F+1}`,confidence:90,evidence:[_.rationale||"Recommended prevention"],type:"evidence"}));P.length>0&&C.push({id:"prevention-root",label:"Preventive Measures",confidence:90,evidence:["Analysis recommendations"],type:"primary",children:P})}return C.length===0&&C.push({id:"default-factor",label:"Analysis Results",confidence:e.overallConfidence||75,evidence:["AI analysis findings"],type:"primary",children:[{id:"default-evidence",label:"Investigation Evidence",confidence:70,evidence:["Collected evidence from investigation"],type:"evidence"}]}),{id:"root",label:j,confidence:e.overallConfidence||85,evidence:["Analysis results"],type:"root",children:C,equipmentContext:m,equipmentId:y,evidenceAdequacy:w,eliminatedCauses:k,originalSymptoms:g,operatingContext:x}})(),d=(m,y,j,g)=>{const x=()=>m==="root"&&y==="primary"?"text-red-600":m==="primary"&&y==="secondary"?"text-orange-600":"text-blue-600",w=()=>m==="root"?"causes":m==="primary"?"leads to":"results in";return r.jsx("div",{className:`flex items-center justify-center my-3 ${x()}`,children:r.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"text-lg font-bold",children:"↓"}),r.jsx("span",{className:"text-xs font-medium",children:w()}),r.jsx("div",{className:"text-lg font-bold",children:"→"})]})})},u=(m,y=0,j)=>{const g=(w,b)=>{var k;const C={root:"bg-red-50 border-red-400 text-red-900 shadow-red-100",primary:"bg-orange-50 border-orange-400 text-orange-900 shadow-orange-100",secondary:"bg-blue-50 border-blue-400 text-blue-900 shadow-blue-100",evidence:"bg-green-50 border-green-400 text-green-900 shadow-green-100",recommendation:"bg-purple-50 border-purple-400 text-purple-900 shadow-purple-100"};return b<60?((k=C[w])==null?void 0:k.replace("50","25").replace("400","300"))||"bg-gray-50 border-gray-300 text-gray-700":C[w]||"bg-gray-50 border-gray-400 text-gray-800"},x=w=>{var C,k,S;const b=[];return w.evidence&&w.evidence.length>0&&b.push(`${w.evidence.length} evidence item(s)`),(C=e==null?void 0:e.crossMatchResults)!=null&&C.libraryMatches&&b.push("Library pattern match"),(S=(k=e==null?void 0:e.eliminationResults)==null?void 0:k.eliminationReasons)!=null&&S.length&&b.push("Elimination logic applied"),w.confidence>=80?b.push("High data quality"):w.confidence>=60?b.push("Moderate data quality"):b.push("Limited data available"),`Confidence ${w.confidence}% based on: ${b.join(", ")}`};return r.jsxs("div",{className:`ml-${y*8} mb-4`,children:[j&&y>0&&d(j,m.type),r.jsxs("div",{className:`inline-block p-4 rounded-lg border-2 shadow-lg ${g(m.type,m.confidence)} max-w-md hover:shadow-xl transition-shadow cursor-help`,title:x(m),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-sm",children:m.label}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(J,{variant:"outline",className:"text-xs font-medium",children:[m.confidence,"%"]}),r.jsx("div",{className:"text-xs px-2 py-1 bg-white/70 rounded-full",children:m.type.charAt(0).toUpperCase()+m.type.slice(1)})]})]}),m.evidence&&m.evidence.length>0&&r.jsxs("div",{className:"text-xs opacity-90 bg-white/50 p-2 rounded border mb-2",children:[r.jsx("strong",{children:"Evidence:"})," ",m.evidence[0],m.evidence.length>1&&r.jsxs("span",{className:"text-gray-600",children:[" (+",m.evidence.length-1," more)"]})]}),m.type==="root"&&m.children&&m.children.length>0&&r.jsxs("div",{className:"text-xs mt-2 p-2 bg-white/70 rounded border border-dashed",children:[r.jsx("strong",{children:"Failure Logic:"})," ",m.children.length," contributing factor",m.children.length>1?"s":""," identified"]}),r.jsx("div",{className:"text-xs mt-1 opacity-60",children:"Hover for confidence explanation"})]}),m.children&&m.children.map(w=>u(w,y+1,m.type))]},m.id)},f=(m,y)=>r.jsxs("div",{className:`p-2 rounded border ${y==="main"?"bg-red-100 border-red-300":"bg-blue-100 border-blue-300"} text-sm`,children:[r.jsx("div",{className:"font-semibold",children:m.label}),r.jsxs("div",{className:"text-xs",children:["Confidence: ",m.confidence,"%"]})]},m.id);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(Zn,{value:i,onValueChange:m=>s(m),children:r.jsxs(Fn,{children:[r.jsx(Ae,{value:"tree",children:"Tree View"}),r.jsx(Ae,{value:"fishbone",children:"Fishbone View"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>o(Math.max(.5,a-.1)),children:r.jsx(zI,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>o(Math.min(2,a+.1)),children:r.jsx(qI,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>o(1),children:r.jsx(nv,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",children:r.jsx(cr,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"bg-white border rounded-lg p-6 min-h-[400px] overflow-auto",style:{transform:`scale(${a})`,transformOrigin:"top left"},children:i==="tree"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-8 bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Root Cause Analysis Tree"}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{className:"text-blue-700",children:"Equipment ID:"}),r.jsx("span",{className:"ml-2 font-mono bg-blue-50 px-2 py-1 rounded",children:c.equipmentId})]}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-green-700",children:"Equipment Type:"}),r.jsx("span",{className:"ml-2 text-green-800",children:c.equipmentContext})]})]}),r.jsxs("div",{className:"mt-2 text-center",children:[r.jsx("strong",{className:"text-purple-700",children:"Analysis Confidence:"}),r.jsxs("span",{className:"ml-2 text-purple-800 font-semibold",children:[(e==null?void 0:e.overallConfidence)||0,"%"]})]})]}),r.jsxs("div",{className:"flex justify-center items-center gap-4 flex-wrap",children:[r.jsxs(J,{variant:c.evidenceAdequacy>=80?"default":c.evidenceAdequacy>=60?"secondary":"destructive",className:"text-sm",children:["Evidence Quality: ",c.evidenceAdequacy,"%"]}),c.eliminatedCauses&&c.eliminatedCauses.length>0&&r.jsxs(J,{variant:"outline",className:"text-sm",children:[c.eliminatedCauses.length," Causes Eliminated"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-red-200 border border-red-400 rounded"}),r.jsx("span",{children:"Root"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-200 border border-orange-400 rounded"}),r.jsx("span",{children:"Primary"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-200 border border-blue-400 rounded"}),r.jsx("span",{children:"Secondary"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-green-200 border border-green-400 rounded"}),r.jsx("span",{children:"Evidence"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[c.originalSymptoms&&c.originalSymptoms.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg border-2 border-blue-300 shadow-md",children:[r.jsxs("h4",{className:"font-bold text-sm text-blue-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"🔍"})," Initial Symptoms",r.jsx(J,{variant:"default",className:"text-xs",children:"Starting Point"})]}),r.jsx("div",{className:"space-y-2",children:c.originalSymptoms.map((m,y)=>r.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-blue-200",children:[r.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:y+1}),r.jsx("span",{className:"text-xs font-medium text-blue-800",children:m})]},y))})]}),c.operatingContext&&c.operatingContext.length>0&&r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[r.jsx("h4",{className:"font-semibold text-sm text-green-800 mb-2",children:"⚙️ Operating Context"}),r.jsx("ul",{className:"text-xs text-green-700 space-y-1",children:c.operatingContext.slice(0,4).map((m,y)=>r.jsxs("li",{children:["• ",m]},y))})]})]}),u(c),c.eliminatedCauses&&c.eliminatedCauses.length>0&&r.jsxs("div",{className:"mt-8 bg-gradient-to-r from-gray-50 to-red-50 p-6 rounded-lg border-2 border-dashed border-gray-300",children:[r.jsxs("h4",{className:"font-semibold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-red-500",children:"❌"}),"Rejected/Eliminated Causes",r.jsxs(J,{variant:"outline",className:"ml-2",children:[c.eliminatedCauses.length," eliminated"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.eliminatedCauses.map((m,y)=>r.jsxs("div",{className:"bg-white/60 p-4 rounded-lg border-2 border-dashed border-gray-400 opacity-70 hover:opacity-90 transition-opacity",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"})}),r.jsx("span",{className:"text-sm font-medium line-through text-gray-700",children:m.label}),r.jsx(J,{variant:"destructive",className:"text-xs ml-auto",children:"REJECTED"})]}),r.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded border-l-4 border-l-red-400 ml-7",children:[r.jsx("strong",{children:"Reason:"})," ",m.evidence[0]||"Engineering logic elimination"]})]},y))}),r.jsx("div",{className:"mt-4 text-xs text-gray-600 text-center italic",children:"These failure modes were systematically eliminated through engineering analysis and evidence review"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Fishbone Diagram"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Cause and Effect Analysis"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-6 relative",children:[r.jsx("div",{className:"col-span-3 flex justify-center",children:f(c,"main")}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-center",children:"Primary Causes"}),(p=c.children)==null?void 0:p.filter(m=>m.type==="primary").slice(0,2).map(m=>f(m,"branch"))]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-center",children:"Secondary Causes"}),(h=c.children)==null?void 0:h.filter(m=>m.type==="secondary").slice(0,2).map(m=>f(m,"branch"))]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-center",children:"Evidence"}),(v=c.children)==null?void 0:v.filter(m=>m.type==="evidence").slice(0,2).map(m=>f(m,"branch"))]})]})]})}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Legend"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),r.jsx("span",{children:"Root Cause"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-orange-100 border border-orange-300 rounded"}),r.jsx("span",{children:"Primary Factor"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-300 rounded"}),r.jsx("span",{children:"Secondary Factor"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),r.jsx("span",{children:"Evidence"})]})]})]})]})}var F1="Dialog",[IF,Gwe]=zr(F1),[rge,Di]=IF(F1),RF=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=N.useRef(null),c=N.useRef(null),[d=!1,u]=Us({prop:i,defaultProp:s,onChange:a});return r.jsx(rge,{scope:t,triggerRef:l,contentRef:c,contentId:ts(),titleId:ts(),descriptionId:ts(),open:d,onOpenChange:u,onOpenToggle:N.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};RF.displayName=F1;var MF="DialogTrigger",$F=N.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(MF,n),a=yt(t,s.triggerRef);return r.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":z1(s.open),...i,ref:a,onClick:Be(e.onClick,s.onOpenToggle)})});$F.displayName=MF;var L1="DialogPortal",[ige,DF]=IF(L1,{forceMount:void 0}),FF=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,a=Di(L1,t);return r.jsx(ige,{scope:t,forceMount:n,children:N.Children.map(i,o=>r.jsx(ai,{present:n||a.open,children:r.jsx(Jx,{asChild:!0,container:s,children:o})}))})};FF.displayName=L1;var hx="DialogOverlay",LF=N.forwardRef((e,t)=>{const n=DF(hx,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,a=Di(hx,e.__scopeDialog);return a.modal?r.jsx(ai,{present:i||a.open,children:r.jsx(age,{...s,ref:t})}):null});LF.displayName=hx;var sge=$c("DialogOverlay.RemoveScroll"),age=N.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(hx,n);return r.jsx($1,{as:sge,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(nt.div,{"data-state":z1(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),ol="DialogContent",qF=N.forwardRef((e,t)=>{const n=DF(ol,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,a=Di(ol,e.__scopeDialog);return r.jsx(ai,{present:i||a.open,children:a.modal?r.jsx(oge,{...s,ref:t}):r.jsx(lge,{...s,ref:t})})});qF.displayName=ol;var oge=N.forwardRef((e,t)=>{const n=Di(ol,e.__scopeDialog),i=N.useRef(null),s=yt(t,n.contentRef,i);return N.useEffect(()=>{const a=i.current;if(a)return LD(a)},[]),r.jsx(zF,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Be(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Be(e.onFocusOutside,a=>a.preventDefault())})}),lge=N.forwardRef((e,t)=>{const n=Di(ol,e.__scopeDialog),i=N.useRef(!1),s=N.useRef(!1);return r.jsx(zF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),zF=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Di(ol,n),c=N.useRef(null),d=yt(t,c);return $D(),r.jsxs(r.Fragment,{children:[r.jsx(R1,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:a,children:r.jsx(dp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":z1(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(cge,{titleId:l.titleId}),r.jsx(uge,{contentRef:c,descriptionId:l.descriptionId})]})]})}),q1="DialogTitle",BF=N.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(q1,n);return r.jsx(nt.h2,{id:s.titleId,...i,ref:t})});BF.displayName=q1;var UF="DialogDescription",VF=N.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(UF,n);return r.jsx(nt.p,{id:s.descriptionId,...i,ref:t})});VF.displayName=UF;var WF="DialogClose",HF=N.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(WF,n);return r.jsx(nt.button,{type:"button",...i,ref:t,onClick:Be(e.onClick,()=>s.onOpenChange(!1))})});HF.displayName=WF;function z1(e){return e?"open":"closed"}var GF="DialogTitleWarning",[Kwe,KF]=h8(GF,{contentName:ol,titleName:q1,docsSlug:"dialog"}),cge=({titleId:e})=>{const t=KF(GF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},dge="DialogDescriptionWarning",uge=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KF(dge).contentName}}.`;return N.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},fge=RF,pge=$F,mge=FF,YF=LF,QF=qF,XF=BF,ZF=VF,hge=HF;const pc=fge,Gj=pge,xge=mge,JF=N.forwardRef(({className:e,...t},n)=>r.jsx(YF,{ref:n,className:Ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));JF.displayName=YF.displayName;const Bo=N.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(xge,{children:[r.jsx(JF,{}),r.jsxs(QF,{ref:i,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(hge,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Ws,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bo.displayName=QF.displayName;const Uo=({className:e,...t})=>r.jsx("div",{className:Ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Uo.displayName="DialogHeader";const Vo=N.forwardRef(({className:e,...t},n)=>r.jsx(XF,{ref:n,className:Ye("text-lg font-semibold leading-none tracking-tight",e),...t}));Vo.displayName=XF.displayName;const e3=N.forwardRef(({className:e,...t},n)=>r.jsx(ZF,{ref:n,className:Ye("text-sm text-muted-foreground",e),...t}));e3.displayName=ZF.displayName;const ze=N.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ze.displayName="Textarea";function t3({analysisData:e,investigationType:t,onNodeUpdate:n,onNodeAdd:i,onNodeDelete:s}){const[a,o]=N.useState("tree"),[l,c]=N.useState(null),[d,u]=N.useState([]),[f,p]=N.useState(1),[h,v]=N.useState(null),m=N.useRef(null);N.useEffect(()=>{e&&y()},[e]);const y=()=>{if(!(e!=null&&e.causes))return;const O=[];if(t==="equipment_failure"){const A={id:"top-event",label:e.topEvent||"Equipment Failure",type:"top_event",confidence:e.confidence||.8,evidence:["Equipment failed during operation"],position:{x:400,y:50}};O.push(A),e.causes.forEach((P,_)=>{const F={id:`cause-${_}`,label:P.description||P.name||"Unknown Cause",type:P.type==="root"?"root_cause":"contributing_factor",confidence:P.confidence||.7,evidence:P.evidence||[],parent:"top-event",category:P.category||"Technical",position:{x:200+_*250,y:200}};O.push(F),P.subCauses&&P.subCauses.forEach((M,G)=>{const z={id:`subcause-${_}-${G}`,label:M.description||M.name,type:"immediate_cause",confidence:M.confidence||.6,evidence:M.evidence||[],parent:`cause-${_}`,position:{x:150+_*250+G*100,y:350}};O.push(z)})})}else{const A={id:"incident",label:"Safety Incident",type:"top_event",confidence:1,evidence:["Incident occurred"],position:{x:400,y:50}};O.push(A),e.eventSequence&&e.eventSequence.forEach((P,_)=>{const F={id:`event-${_}`,label:P.description,type:"contributing_factor",confidence:P.confidence||.8,evidence:P.evidence||[],parent:_===0?"incident":`event-${_-1}`,position:{x:200+_*200,y:150+_*50}};O.push(F)})}u(O)},j=O=>{c(O)},g=O=>{v(O)},x=O=>{if(h){const A=d.map(P=>P.id===h.id?{...P,...O}:P);u(A),n(h.id,O),v(null)}},w=O=>{const A={label:"New Cause",type:"contributing_factor",confidence:.5,evidence:[],parent:O.id,position:{x:O.position.x+100,y:O.position.y+150}},P={...A,id:(()=>{const _=new Date().getTime(),F=_%1e4;return`new-${_}-${F}`})()};u([...d,P]),i(O.id,A)},b=()=>(d.filter(O=>!O.parent||O.type==="top_event"),r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{ref:m,width:"800",height:"600",viewBox:"0 0 800 600",className:"w-full h-full",style:{transform:`scale(${f})`},children:[d.map(O=>{if(!O.parent||!O.position)return null;const A=d.find(P=>P.id===O.parent);return A!=null&&A.position?r.jsx("line",{x1:A.position.x,y1:A.position.y+30,x2:O.position.x,y2:O.position.y,stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"},`line-${O.id}`):null}),r.jsx("defs",{children:r.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:r.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})})}),d.map(O=>{if(!O.position)return null;const A=E(O.type),P=(l==null?void 0:l.id)===O.id;return r.jsxs("g",{children:[r.jsx("rect",{x:O.position.x-60,y:O.position.y-15,width:"120",height:"30",rx:"5",fill:A,stroke:P?"#2563eb":"#d1d5db",strokeWidth:P?"3":"1",className:"cursor-pointer",onClick:()=>j(O)}),r.jsx("text",{x:O.position.x,y:O.position.y+5,textAnchor:"middle",fontSize:"12",fill:"white",className:"pointer-events-none",children:O.label.length>15?O.label.substring(0,15)+"...":O.label}),r.jsx("circle",{cx:O.position.x+50,cy:O.position.y-10,r:"8",fill:"#059669",className:"cursor-pointer",onClick:()=>j(O)}),r.jsxs("text",{x:O.position.x+50,y:O.position.y-6,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:[Math.round(O.confidence*100),"%"]})]},O.id)})]})})),C=()=>{const O=["People","Process","Equipment","Environment","Materials","Methods"],A=d.find(P=>P.type==="top_event");return r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[r.jsx("line",{x1:"100",y1:"200",x2:"700",y2:"200",stroke:"#374151",strokeWidth:"4"}),r.jsx("rect",{x:"680",y:"170",width:"100",height:"60",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),r.jsx("text",{x:"730",y:"190",textAnchor:"middle",fontSize:"12",fill:"white",children:(A==null?void 0:A.label)||"Problem"}),r.jsx("text",{x:"730",y:"205",textAnchor:"middle",fontSize:"10",fill:"white",children:"Event"}),O.map((P,_)=>{const F=_%2===0,M=150+_*90,G=200,z=F?120:280,H=d.filter(D=>D.category===P||P==="Equipment"&&D.type!=="top_event").slice(0,3);return r.jsxs("g",{children:[r.jsx("line",{x1:M,y1:G,x2:M,y2:z,stroke:"#6b7280",strokeWidth:"3"}),r.jsx("rect",{x:M-30,y:z-15,width:"60",height:"30",rx:"3",fill:"#3b82f6",stroke:"#1e40af"}),r.jsx("text",{x:M,y:z+5,textAnchor:"middle",fontSize:"10",fill:"white",children:P}),H.map((D,U)=>{const I=M+(-60+U*30),se=z+(F?-40:40);return r.jsxs("g",{children:[r.jsx("line",{x1:M,y1:z,x2:I,y2:se,stroke:"#9ca3af",strokeWidth:"2"}),r.jsx("rect",{x:I-25,y:se-10,width:"50",height:"20",rx:"3",fill:E(D.type),className:"cursor-pointer",onClick:()=>j(D)}),r.jsx("text",{x:I,y:se+5,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:D.label.substring(0,8)})]},D.id)})]},P)})]})})},k=()=>{const O=d.filter(A=>A.type!=="top_event").sort((A,P)=>A.id.localeCompare(P.id));return r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{width:"800",height:"300",viewBox:"0 0 800 300",className:"w-full h-full",children:[r.jsx("line",{x1:"50",y1:"150",x2:"750",y2:"150",stroke:"#374151",strokeWidth:"3"}),O.map((A,P)=>{const _=80+P*120,F=150,M=P%2===0,G=M?F-40:F+60;return r.jsxs("g",{children:[r.jsx("circle",{cx:_,cy:F,r:"8",fill:E(A.type),stroke:"#ffffff",strokeWidth:"2",className:"cursor-pointer",onClick:()=>j(A)}),r.jsx("line",{x1:_,y1:F,x2:_,y2:G+(M?15:-15),stroke:"#6b7280",strokeWidth:"2"}),r.jsx("rect",{x:_-40,y:G-15,width:"80",height:"30",rx:"5",fill:E(A.type),stroke:"#d1d5db",className:"cursor-pointer",onClick:()=>j(A)}),r.jsx("text",{x:_,y:G,textAnchor:"middle",fontSize:"10",fill:"white",children:A.label.substring(0,12)}),r.jsxs("text",{x:_,y:G+10,textAnchor:"middle",fontSize:"8",fill:"white",children:[Math.round(A.confidence*100),"%"]})]},A.id)})]})})},S=()=>{const O=d.find(_=>_.type==="top_event"),A=d.filter(_=>_.type==="root_cause"),P=d.filter(_=>_.type==="contributing_factor");return r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[r.jsx("rect",{x:"350",y:"175",width:"100",height:"50",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),r.jsx("text",{x:"400",y:"195",textAnchor:"middle",fontSize:"12",fill:"white",children:(O==null?void 0:O.label)||"Top Event"}),r.jsx("text",{x:"400",y:"210",textAnchor:"middle",fontSize:"10",fill:"white",children:"Failure"}),A.map((_,F)=>{const M=100+F*60;return r.jsxs("g",{children:[r.jsx("line",{x1:"250",y1:M+15,x2:"350",y2:"200",stroke:"#6b7280",strokeWidth:"2"}),r.jsx("rect",{x:"150",y:M,width:"100",height:"30",rx:"5",fill:"#f59e0b",className:"cursor-pointer",onClick:()=>j(_)}),r.jsx("text",{x:"200",y:M+20,textAnchor:"middle",fontSize:"10",fill:"white",children:_.label.substring(0,15)})]},_.id)}),P.map((_,F)=>{const M=100+F*60;return r.jsxs("g",{children:[r.jsx("line",{x1:"450",y1:"200",x2:"550",y2:M+15,stroke:"#6b7280",strokeWidth:"2"}),r.jsx("rect",{x:"550",y:M,width:"100",height:"30",rx:"5",fill:"#ef4444",className:"cursor-pointer",onClick:()=>j(_)}),r.jsx("text",{x:"600",y:M+20,textAnchor:"middle",fontSize:"10",fill:"white",children:_.label.substring(0,15)})]},_.id)})]})})},E=O=>{switch(O){case"root_cause":return"#dc2626";case"contributing_factor":return"#f59e0b";case"immediate_cause":return"#3b82f6";case"top_event":return"#7c2d12";case"barrier":return"#059669";case"threat":return"#b45309";default:return"#6b7280"}},$=O=>{switch(O){case"root_cause":return"Root Cause";case"contributing_factor":return"Contributing Factor";case"immediate_cause":return"Immediate Cause";case"top_event":return"Top Event";case"barrier":return"Barrier";case"threat":return"Threat";default:return"Unknown"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Interactive RCA Diagrams"}),r.jsxs(J,{variant:"outline",children:[d.length," nodes"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>p(Math.max(.5,f-.1)),children:r.jsx(zI,{className:"h-4 w-4"})}),r.jsxs("span",{className:"text-sm font-mono",children:[Math.round(f*100),"%"]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>p(Math.min(2,f+.1)),children:r.jsx(qI,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>p(1),children:r.jsx(nv,{className:"h-4 w-4"})}),r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(cr,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),r.jsxs(Zn,{value:a,onValueChange:O=>o(O),children:[r.jsxs(Fn,{className:"grid w-full grid-cols-4",children:[r.jsxs(Ae,{value:"tree",className:"flex items-center gap-2",children:[r.jsx(Sz,{className:"h-4 w-4"}),"RCA Tree"]}),r.jsxs(Ae,{value:"fishbone",className:"flex items-center gap-2",children:[r.jsx(Fc,{className:"h-4 w-4"}),"Fishbone"]}),r.jsxs(Ae,{value:"timeline",className:"flex items-center gap-2",children:[r.jsx(Fr,{className:"h-4 w-4"}),"Timeline"]}),r.jsxs(Ae,{value:"bowtie",className:"flex items-center gap-2",children:[r.jsx(os,{className:"h-4 w-4"}),"Bowtie"]})]}),r.jsx(ke,{value:"tree",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Fault Tree Analysis"})}),r.jsx(Q,{children:b()})]})}),r.jsx(ke,{value:"fishbone",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Fishbone Diagram"})}),r.jsx(Q,{children:C()})]})}),r.jsx(ke,{value:"timeline",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"ECFA Timeline"})}),r.jsx(Q,{children:k()})]})}),r.jsx(ke,{value:"bowtie",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Bowtie Analysis"})}),r.jsx(Q,{children:S()})]})})]}),l&&r.jsxs(Y,{className:"border-blue-200",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dc,{className:"h-5 w-5 text-blue-600"}),"Node Details: ",l.label]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>g(l),children:[r.jsx(Xr,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>w(l),children:[r.jsx(On,{className:"h-4 w-4 mr-1"}),"Add Child"]})]})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Type"}),r.jsx(J,{variant:"outline",children:$(l.type)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Confidence"}),r.jsxs("div",{className:"text-lg font-bold text-green-600",children:[Math.round(l.confidence*100),"%"]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Supporting Evidence"}),r.jsx("div",{className:"space-y-1",children:l.evidence.length>0?l.evidence.map((O,A)=>r.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:O},A)):r.jsx("div",{className:"text-sm text-gray-500 italic",children:"No evidence recorded"})})]})]})})]}),r.jsx(pc,{open:!!h,onOpenChange:O=>!O&&v(null),children:r.jsxs(Bo,{children:[r.jsx(Uo,{children:r.jsxs(Vo,{children:["Edit Node: ",h==null?void 0:h.label]})}),h&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Label"}),r.jsx(ue,{defaultValue:h.label,onChange:O=>v({...h,label:O.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Confidence (0-1)"}),r.jsx(ue,{type:"number",min:"0",max:"1",step:"0.1",defaultValue:h.confidence,onChange:O=>v({...h,confidence:parseFloat(O.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Evidence (one per line)"}),r.jsx(ze,{defaultValue:h.evidence.join(`
`),onChange:O=>v({...h,evidence:O.target.value.split(`
`).filter(A=>A.trim())}),rows:4})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>v(null),children:"Cancel"}),r.jsx(W,{onClick:()=>x(h),children:"Save Changes"})]})]})]})})]})}var vge="Label",n3=N.forwardRef((e,t)=>r.jsx(nt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));n3.displayName=vge;var r3=n3;const gge=fp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ie=N.forwardRef(({className:e,...t},n)=>r.jsx(r3,{ref:n,className:Ye(gge(),e),...t}));ie.displayName=r3.displayName;function yge({analysis:e,onComplete:t}){const[n,i]=N.useState({}),[s,a]=N.useState(!1),{toast:o}=Ft(),l=si(),d=(()=>{var y;const h=[];e.equipmentType;const v=e.operatingParameters;(!e.rootCause||e.rootCause.length<20)&&h.push({id:"failure_mode",question:`Can you provide more specific details about what exactly failed in ${e.equipmentId}? (e.g., bearing failure, seal leak, electrical fault)`,type:"text",required:!0,context:"Root cause analysis requires specific failure mode identification"}),v!=null&&v.runtime||(h.push({id:"runtime_hours",question:"How long has the equipment been running since last maintenance?",type:"select",options:["< 1 week","1-4 weeks","1-3 months","3-6 months","6-12 months","> 1 year","Unknown"],required:!1,context:"Runtime hours help establish wear patterns and maintenance intervals"}),h.push({id:"duty_cycle",question:"What is the typical duty cycle of this equipment?",type:"select",options:["Continuous (24/7)","Heavy duty (16-20 hrs/day)","Normal duty (8-12 hrs/day)","Light duty (< 8 hrs/day)","Intermittent/on-demand","Unknown"],required:!1,context:"Duty cycle affects equipment stress and expected life"})),v!=null&&v.environmental||h.push({id:"environmental_factors",question:"What environmental conditions might have contributed to the failure?",type:"multiselect",options:["High temperature","High humidity","Corrosive atmosphere","Dusty environment","Vibration from nearby equipment","Frequent temperature cycling","Chemical exposure","No environmental issues"],required:!1,context:"Environmental factors significantly impact equipment reliability and failure modes"});const m=e.historicalData;return(y=m==null?void 0:m.eventMetadata)!=null&&y.active_alarms||h.push({id:"alarms_before_failure",question:"Were there any alarms or warnings before the failure occurred?",type:"multiselect",options:["High temperature alarm","High vibration alarm","Low pressure alarm","High pressure alarm","Flow deviation alarm","Power consumption alarm","No alarms","Unknown"],required:!1,context:"Alarm history provides critical sequence of events leading to failure"}),(!e.location||e.location.length<10)&&h.push({id:"environment",question:"Please describe the environmental conditions where this equipment operates (temperature, humidity, contamination, etc.)",type:"text",required:!1,context:"Environmental factors significantly impact equipment reliability"}),(!(m!=null&&m.maintenanceRecords)||m.maintenanceRecords.length===0)&&h.push({id:"maintenance_history",question:"When was the last maintenance performed on this equipment and what type of work was done?",type:"text",required:!1,context:"Maintenance history helps identify patterns and potential causes"}),h.push({id:"failure_timing",question:"When did you first notice signs of this problem?",type:"select",options:["Just happened","1-7 days ago","1-4 weeks ago","1-3 months ago","Ongoing issue","Not sure"],required:!0,context:"Failure timeline helps establish causation"}),h.push({id:"operational_changes",question:"Have there been any recent changes to operations, maintenance, or environment that might be related?",type:"text",required:!1,context:"Recent changes often contribute to equipment failures"}),h})(),u=Qe({mutationFn:async({id:h,updates:v})=>ot(`/api/analyses/${h}`,{method:"PATCH",body:JSON.stringify(v),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),o({title:"Analysis Updated",description:"Additional evidence has been incorporated into the analysis."}),t==null||t()},onError:()=>{o({title:"Update Failed",description:"Failed to update analysis with additional evidence.",variant:"destructive"})}}),f=async()=>{if(a(!0),d.filter(y=>y.required).filter(y=>!n[y.id]||n[y.id].trim()==="").length>0){o({title:"Missing Required Information",description:"Please answer all required questions before submitting.",variant:"destructive"}),a(!1);return}const v={gatheringResponses:n,enhancedContext:d.reduce((y,j)=>(n[j.id]&&(y[j.id]={question:j.question,answer:n[j.id],context:j.context}),y),{})},m={...e,status:"processing",evidenceGathering:v,confidence:Math.min(95,(e.confidence||0)+10)};setTimeout(async()=>{let y=e.rootCause||"";n.failure_mode&&(y=`${n.failure_mode}. Contributing factors: `),n.operational_changes&&(y+=`Recent operational changes (${n.operational_changes}) likely contributed to the failure. `),n.maintenance_history&&(y+=`Maintenance history indicates: ${n.maintenance_history}. `);const j={...m,status:"completed",rootCause:y||e.rootCause,confidence:Math.min(98,(e.confidence||0)+15),completedAt:new Date().toISOString()};await u.mutateAsync({id:e.id,updates:j}),a(!1)},3e3)},p=(h,v)=>{i(m=>({...m,[h]:v}))};return d.length===0?r.jsx(Y,{children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ct,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analysis Complete"}),r.jsx("p",{className:"text-muted-foreground",children:"Sufficient evidence has been gathered for this root cause analysis."})]})})}):r.jsxs(Y,{className:"w-full",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(FI,{className:"w-5 h-5"}),r.jsx("span",{children:"Interactive Evidence Gathering"}),r.jsx(J,{variant:"outline",children:"AI-Powered"})]})}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs(Qt,{children:[r.jsx(jr,{className:"h-4 w-4"}),r.jsx(Xt,{children:"Our AI has identified areas where additional information could improve the root cause analysis accuracy. Please answer the following questions to enhance the analysis."})]}),r.jsx("div",{className:"space-y-6",children:d.map((h,v)=>{var m,y;return r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm mt-1",children:v+1}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs(ie,{className:"text-sm font-medium",children:[h.question,h.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("p",{className:"text-xs text-muted-foreground italic",children:h.context}),h.type==="text"&&r.jsx(ze,{value:n[h.id]||"",onChange:j=>p(h.id,j.target.value),placeholder:"Please provide details...",className:"min-h-[80px]"}),h.type==="number"&&r.jsx(ue,{type:"number",value:n[h.id]||"",onChange:j=>p(h.id,j.target.value),placeholder:"Enter value..."}),h.type==="select"&&r.jsxs("select",{value:n[h.id]||"",onChange:j=>p(h.id,j.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[r.jsx("option",{value:"",children:"Select an option..."}),(m=h.options)==null?void 0:m.map(j=>r.jsx("option",{value:j,children:j},j))]}),h.type==="multiselect"&&r.jsx("div",{className:"space-y-2",children:(y=h.options)==null?void 0:y.map(j=>{var g;return r.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:((g=n[h.id])==null?void 0:g.includes(j))||!1,onChange:x=>{const w=n[h.id]||"",b=w?w.split(", "):[];x.target.checked?p(h.id,[...b,j].join(", ")):p(h.id,b.filter(C=>C!==j).join(", "))}}),r.jsx("span",{children:j})]},j)})})]})]})},h.id)})}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.filter(h=>h.required).length," required questions •",d.filter(h=>n[h.id]).length,"/",d.length," answered"]}),r.jsx(W,{onClick:f,disabled:s,className:"min-w-[120px]",children:s?r.jsxs(r.Fragment,{children:[r.jsx(Fr,{className:"w-4 h-4 mr-2 animate-spin"}),"Re-analyzing..."]}):"Update Analysis"})]})]})]})}function bge({analysis:e,onSave:t,onCancel:n}){const[i,s]=N.useState({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),[a,o]=N.useState(""),[l,c]=N.useState(""),[d,u]=N.useState(!1),{toast:f}=Ft(),p=si(),h=Qe({mutationFn:async({id:x,updates:w})=>ot(`/api/analyses/${x}`,{method:"PATCH",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}}),onSuccess:x=>{p.invalidateQueries({queryKey:["/api/analyses"]}),p.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),f({title:"Analysis Updated",description:"Your manual adjustments have been saved successfully."}),t==null||t(x)},onError:()=>{f({title:"Update Failed",description:"Failed to save manual adjustments. Please try again.",variant:"destructive"})}}),v=async()=>{if(!l.trim()){f({title:"Adjustment Reason Required",description:"Please provide a reason for the manual adjustment for audit purposes.",variant:"destructive"});return}u(!0);const x={timestamp:new Date().toISOString(),user:"Current User",reason:l,changes:Object.keys(i).reduce((b,C)=>{const k=e[C],S=i[C];return JSON.stringify(k)!==JSON.stringify(S)&&(b[C]={from:k,to:S}),b},{}),version:e.version?e.version+1:2},w={...i,adjustmentHistory:[...e.adjustmentHistory||[],x],lastModifiedAt:new Date().toISOString(),status:"completed"};await h.mutateAsync({id:e.id,updates:w}),u(!1)},m=()=>{s({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),c(""),o("")},y=()=>{a.trim()&&(s(x=>({...x,recommendations:[...x.recommendations||[],a.trim()]})),o(""))},j=x=>{s(w=>({...w,recommendations:(w.recommendations||[]).filter((b,C)=>C!==x)}))},g=Object.keys(i).some(x=>{const w=e[x],b=i[x];return JSON.stringify(w)!==JSON.stringify(b)});return r.jsxs(Y,{className:"w-full",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(rv,{className:"w-5 h-5"}),r.jsx("span",{children:"Manual Analysis Adjustment"}),r.jsx(J,{variant:"outline",children:"Expert Override"})]})}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs(Qt,{children:[r.jsx(mt,{className:"h-4 w-4"}),r.jsx(Xt,{children:"Manual adjustments will be recorded in the audit trail. Please provide a clear reason for modifications."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"issue-desc",children:"Issue Description"}),r.jsx(ze,{id:"issue-desc",value:i.issueDescription||"",onChange:x=>s(w=>({...w,issueDescription:x.target.value})),placeholder:"Describe the issue...",className:"min-h-[80px]"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"equipment-type",children:"Equipment Type"}),r.jsxs(We,{value:i.equipmentType||"",onValueChange:x=>s(w=>({...w,equipmentType:x})),children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select equipment type"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"pump",children:"Pump"}),r.jsx(ne,{value:"motor",children:"Motor"}),r.jsx(ne,{value:"compressor",children:"Compressor"}),r.jsx(ne,{value:"conveyor",children:"Conveyor"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"equipment-id",children:"Equipment ID"}),r.jsx(ue,{id:"equipment-id",value:i.equipmentId||"",onChange:x=>s(w=>({...w,equipmentId:x.target.value})),placeholder:"e.g., PUMP-A001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"location",children:"Location"}),r.jsx(ue,{id:"location",value:i.location||"",onChange:x=>s(w=>({...w,location:x.target.value})),placeholder:"e.g., Building A - Level 2"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"root-cause",children:"Root Cause Analysis"}),r.jsx(ze,{id:"root-cause",value:i.rootCause||"",onChange:x=>s(w=>({...w,rootCause:x.target.value})),placeholder:"Detailed root cause analysis...",className:"min-h-[120px]"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"priority",children:"Priority Level"}),r.jsxs(We,{value:i.priority||"",onValueChange:x=>s(w=>({...w,priority:x})),children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select priority"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"low",children:"Low"}),r.jsx(ne,{value:"medium",children:"Medium"}),r.jsx(ne,{value:"high",children:"High"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"confidence",children:"Confidence Score (%)"}),r.jsx(ue,{id:"confidence",type:"number",min:"0",max:"100",value:i.confidence||"",onChange:x=>s(w=>({...w,confidence:parseInt(x.target.value)||0})),placeholder:"0-100"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{children:"Recommendations"}),r.jsx("div",{className:"space-y-2",children:(i.recommendations||[]).map((x,w)=>r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[r.jsx("span",{className:"flex-1 text-sm",children:x}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>j(w),className:"text-red-600 hover:text-red-800",children:"Remove"})]},w))}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:a,onChange:x=>o(x.target.value),placeholder:"Add new recommendation...",onKeyPress:x=>x.key==="Enter"&&y()}),r.jsx(W,{onClick:y,variant:"outline",children:"Add"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"reason",children:"Reason for Manual Adjustment *"}),r.jsx(ze,{id:"reason",value:l,onChange:x=>c(x.target.value),placeholder:"Explain why manual adjustment is needed (required for audit trail)...",className:"min-h-[80px]"})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{variant:"outline",onClick:m,children:[r.jsx(nv,{className:"w-4 h-4 mr-2"}),"Reset Changes"]}),n&&r.jsx(W,{variant:"ghost",onClick:n,children:"Cancel"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[g&&r.jsxs("div",{className:"flex items-center text-sm text-yellow-600",children:[r.jsx(mt,{className:"w-4 h-4 mr-1"}),"Unsaved changes"]}),r.jsx(W,{onClick:v,disabled:!g||!l.trim()||d,className:"min-w-[120px]",children:d?r.jsxs(r.Fragment,{children:[r.jsx(Ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Fo,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]})]})}var jge=cw[" useInsertionEffect ".trim().toString()]||pn;function wge({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,a,o]=Nge({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const u=N.useRef(e!==void 0);N.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${i} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,i])}const d=N.useCallback(u=>{var f;if(l){const p=Sge(u)?u(e):u;p!==e&&((f=o.current)==null||f.call(o,p))}else a(u)},[l,e,a,o]);return[c,d]}function Nge({defaultProp:e,onChange:t}){const[n,i]=N.useState(e),s=N.useRef(n),a=N.useRef(t);return jge(()=>{a.current=t},[t]),N.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,i,a]}function Sge(e){return typeof e=="function"}function Cge(e,t){return N.useReducer((n,i)=>t[n][i]??n,e)}var i3=e=>{const{present:t,children:n}=e,i=kge(t),s=typeof n=="function"?n({present:i.isPresent}):N.Children.only(n),a=yt(i.ref,Ege(s));return typeof n=="function"||i.isPresent?N.cloneElement(s,{ref:a}):null};i3.displayName="Presence";function kge(e){const[t,n]=N.useState(),i=N.useRef(null),s=N.useRef(e),a=N.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Cge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const d=xm(i.current);a.current=l==="mounted"?d:"none"},[l]),pn(()=>{const d=i.current,u=s.current;if(u!==e){const p=a.current,h=xm(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),pn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=h=>{const m=xm(i.current).includes(h.animationName);if(h.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=h=>{h.target===t&&(a.current=xm(i.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function xm(e){return(e==null?void 0:e.animationName)||"none"}function Ege(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Age(e){const t=Pge(e),n=N.forwardRef((i,s)=>{const{children:a,...o}=i,l=N.Children.toArray(a),c=l.find(Tge);if(c){const d=c.props.children,u=l.map(f=>f===c?N.Children.count(d)>1?N.Children.only(null):N.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:s,children:N.isValidElement(d)?N.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function Pge(e){const t=N.forwardRef((n,i)=>{const{children:s,...a}=n;if(N.isValidElement(s)){const o=Ige(s),l=_ge(a,s.props);return s.type!==N.Fragment&&(l.ref=i?Zx(i,o):o),N.cloneElement(s,l)}return N.Children.count(s)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Oge=Symbol("radix.slottable");function Tge(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Oge}function _ge(e,t){const n={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[i]=s):i==="style"?n[i]={...s,...a}:i==="className"&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function Ige(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B1=Rge.reduce((e,t)=>{const n=Age(`Primitive.${t}`),i=N.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),mg="Checkbox",[Mge,Ywe]=zr(mg),[$ge,U1]=Mge(mg);function Dge(e){const{__scopeCheckbox:t,checked:n,children:i,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[p,h]=wge({prop:n,defaultProp:s??!1,onChange:c,caller:mg}),[v,m]=N.useState(null),[y,j]=N.useState(null),g=N.useRef(!1),x=v?!!o||!!v.closest("form"):!0,w={checked:p,disabled:a,setChecked:h,control:v,setControl:m,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:g,required:d,defaultChecked:za(s)?!1:s,isFormControl:x,bubbleInput:y,setBubbleInput:j};return r.jsx($ge,{scope:t,...w,children:Fge(f)?f(w):i})}var s3="CheckboxTrigger",a3=N.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...i},s)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:v}=U1(s3,e),m=yt(s,u),y=N.useRef(c);return N.useEffect(()=>{const j=a==null?void 0:a.form;if(j){const g=()=>f(y.current);return j.addEventListener("reset",g),()=>j.removeEventListener("reset",g)}},[a,f]),r.jsx(B1.button,{type:"button",role:"checkbox","aria-checked":za(c)?"mixed":c,"aria-required":d,"data-state":u3(c),"data-disabled":l?"":void 0,disabled:l,value:o,...i,ref:m,onKeyDown:Be(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Be(n,j=>{f(g=>za(g)?!0:!g),v&&h&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})})});a3.displayName=s3;var V1=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:i,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return r.jsx(Dge,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:i,form:u,value:c,internal_do_not_use_render:({isFormControl:p})=>r.jsxs(r.Fragment,{children:[r.jsx(a3,{...f,ref:t,__scopeCheckbox:n}),p&&r.jsx(d3,{__scopeCheckbox:n})]})})});V1.displayName=mg;var o3="CheckboxIndicator",l3=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:i,...s}=e,a=U1(o3,n);return r.jsx(i3,{present:i||za(a.checked)||a.checked===!0,children:r.jsx(B1.span,{"data-state":u3(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});l3.displayName=o3;var c3="CheckboxBubbleInput",d3=N.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:i,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:p,setBubbleInput:h}=U1(c3,e),v=yt(n,h),m=M1(a),y=jN(i);N.useEffect(()=>{const g=p;if(!g)return;const x=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(x,"checked").set,C=!s.current;if(m!==a&&b){const k=new Event("click",{bubbles:C});g.indeterminate=za(a),b.call(g,za(a)?!1:a),g.dispatchEvent(k)}},[p,m,a,s]);const j=N.useRef(za(a)?!1:a);return r.jsx(B1.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});d3.displayName=c3;function Fge(e){return typeof e=="function"}function za(e){return e==="indeterminate"}function u3(e){return za(e)?"indeterminate":e?"checked":"unchecked"}const Yn=N.forwardRef(({className:e,...t},n)=>r.jsx(V1,{ref:n,className:Ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(l3,{className:Ye("flex items-center justify-center text-current"),children:r.jsx(TI,{className:"h-4 w-4"})})}));Yn.displayName=V1.displayName;function Lge({analysis:e}){const[t,n]=N.useState({format:"pdf",sections:{summary:!0,rcaTree:!0,recommendations:!0,operatingParams:!0,historicalData:!1,evidenceGathering:!1,auditTrail:!1},includeCharts:!0,includeBranding:!0}),[i,s]=N.useState(!1),{toast:a}=Ft(),o=[{value:"pdf",label:"PDF Report",icon:rn,description:"Professional PDF document"},{value:"word",label:"Word Document",icon:II,description:"Editable Microsoft Word format"},{value:"excel",label:"Excel Workbook",icon:RI,description:"Data tables and charts"},{value:"image",label:"High-Res Image",icon:vz,description:"PNG image for presentations"}],l=[{key:"summary",label:"Executive Summary",description:"Key findings and recommendations"},{key:"rcaTree",label:"RCA Tree Diagram",description:"Visual root cause analysis"},{key:"recommendations",label:"Action Items",description:"Detailed recommendations"},{key:"operatingParams",label:"Operating Parameters",description:"Equipment data and metrics"},{key:"historicalData",label:"Historical Analysis",description:"Maintenance and failure history"},{key:"evidenceGathering",label:"Evidence Gathering",description:"Q&A responses and context"},{key:"auditTrail",label:"Audit Trail",description:"Version history and changes"}],c=async()=>{s(!0);try{await new Promise(g=>setTimeout(g,parseInt("3000")));const h=`RCA_${e.analysisId}_${new Date().toISOString().split("T")[0]}.${t.format}`,v=d(),m=new Blob([v],{type:u(t.format)}),y=URL.createObjectURL(m),j=document.createElement("a");j.href=y,j.download=h,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(y),a({title:"Report Generated",description:`Your ${t.format.toUpperCase()} report has been downloaded successfully.`})}catch{a({title:"Export Failed",description:"Failed to generate report. Please try again.",variant:"destructive"})}finally{s(!1)}},d=()=>{var v,m;const h=[];if(t.sections.summary&&h.push(`
=== EXECUTIVE SUMMARY ===
Analysis ID: ${e.analysisId}
Equipment: ${e.equipmentId} (${e.equipmentType})
Location: ${e.location}
Issue: ${e.issueDescription}
Root Cause: ${e.rootCause}
Confidence: ${e.confidence}%
Priority: ${e.priority}
Status: ${e.status}
Completed: ${e.completedAt?new Date(e.completedAt).toLocaleString():"In Progress"}
      `),t.sections.recommendations&&h.push(`
=== RECOMMENDATIONS ===
${(e.recommendations||[]).map((y,j)=>`${j+1}. ${y}`).join(`
`)}
      `),t.sections.operatingParams&&e.operatingParameters){const y=e.operatingParameters;h.push(`
=== OPERATING PARAMETERS ===
${Object.entries(y).map(([j,g])=>typeof g=="object"&&g!==null?`${j.toUpperCase()}:
${Object.entries(g).map(([x,w])=>`  ${x}: ${w}`).join(`
`)}`:`${j}: ${g}`).join(`

`)}
      `)}if(t.sections.historicalData&&e.historicalData){const y=e.historicalData;h.push(`
=== HISTORICAL DATA ===
Maintenance Records:
${((v=y.maintenanceRecords)==null?void 0:v.map(j=>`- ${j.date}: ${j.type} - ${j.description} ($${j.cost})`).join(`
`))||"No records available"}

Previous Failures:
${((m=y.previousFailures)==null?void 0:m.map(j=>`- ${j.date}: ${j.rootCause} (${j.downtime}h downtime)`).join(`
`))||"No previous failures"}
      `)}return h.join(`

`)},u=h=>{switch(h){case"pdf":return"application/pdf";case"word":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"excel":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"image":return"image/png";default:return"text/plain"}},f=(h,v)=>{n(m=>({...m,sections:{...m.sections,[h]:v}}))},p=o.find(h=>h.value===t.format);return r.jsxs(Y,{className:"w-full",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(cr,{className:"w-5 h-5"}),r.jsx("span",{children:"Export Report"}),r.jsx(J,{variant:"outline",children:"Professional"})]})}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Export Format"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.map(h=>{const v=h.icon;return r.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${t.format===h.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n(m=>({...m,format:h.value})),children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(v,{className:"w-5 h-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:h.label}),r.jsx("div",{className:"text-xs text-gray-500",children:h.description})]})]})},h.value)})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Report Sections"}),r.jsx("div",{className:"space-y-3",children:l.map(h=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yn,{id:h.key,checked:t.sections[h.key],onCheckedChange:v=>f(h.key,!!v)}),r.jsxs("div",{className:"grid gap-1.5 leading-none",children:[r.jsx(ie,{htmlFor:h.key,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:h.label}),r.jsx("p",{className:"text-xs text-muted-foreground",children:h.description})]})]},h.key))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Additional Options"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Yn,{id:"charts",checked:t.includeCharts,onCheckedChange:h=>n(v=>({...v,includeCharts:!!h}))}),r.jsx(ie,{htmlFor:"charts",className:"text-sm",children:"Include charts and visualizations"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Yn,{id:"branding",checked:t.includeBranding,onCheckedChange:h=>n(v=>({...v,includeBranding:!!h}))}),r.jsx(ie,{htmlFor:"branding",className:"text-sm",children:"Include company branding"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Report Preview"}),r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Format:"})," ",p==null?void 0:p.label]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Sections:"})," ",Object.values(t.sections).filter(Boolean).length," selected"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Analysis:"})," ",e.analysisId," - ",e.equipmentId]}),r.jsxs("div",{children:[r.jsx("strong",{children:"File size:"})," ~",t.format==="image"?"2-5":"1-3"," MB (estimated)"]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(W,{onClick:c,disabled:i||Object.values(t.sections).every(h=>!h),className:"min-w-[140px]",children:i?r.jsxs(r.Fragment,{children:[r.jsx(cr,{className:"w-4 h-4 mr-2 animate-pulse"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cr,{className:"w-4 h-4 mr-2"}),"Export Report"]})})})]})]})}function qge(e,t){return N.useReducer((n,i)=>t[n][i]??n,e)}var W1="ScrollArea",[f3,Qwe]=zr(W1),[zge,ci]=f3(W1),p3=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=N.useState(null),[d,u]=N.useState(null),[f,p]=N.useState(null),[h,v]=N.useState(null),[m,y]=N.useState(null),[j,g]=N.useState(0),[x,w]=N.useState(0),[b,C]=N.useState(!1),[k,S]=N.useState(!1),E=yt(t,O=>c(O)),$=fv(s);return r.jsx(zge,{scope:n,type:i,dir:$,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:b,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:S,onCornerWidthChange:g,onCornerHeightChange:w,children:r.jsx(nt.div,{dir:$,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});p3.displayName=W1;var m3="ScrollAreaViewport",h3=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:s,...a}=e,o=ci(m3,n),l=N.useRef(null),c=yt(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(nt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});h3.displayName=m3;var xs="ScrollAreaScrollbar",H1=N.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=ci(xs,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return N.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?r.jsx(Bge,{...i,ref:t,forceMount:n}):s.type==="scroll"?r.jsx(Uge,{...i,ref:t,forceMount:n}):s.type==="auto"?r.jsx(x3,{...i,ref:t,forceMount:n}):s.type==="always"?r.jsx(G1,{...i,ref:t}):null});H1.displayName=xs;var Bge=N.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=ci(xs,e.__scopeScrollArea),[a,o]=N.useState(!1);return N.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),r.jsx(ai,{present:n||a,children:r.jsx(x3,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Uge=N.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=ci(xs,e.__scopeScrollArea),a=e.orientation==="horizontal",o=xg(()=>c("SCROLL_END"),100),[l,c]=qge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),N.useEffect(()=>{const d=s.viewport,u=a?"scrollLeft":"scrollTop";if(d){let f=d[u];const p=()=>{const h=d[u];f!==h&&(c("SCROLL"),o()),f=h};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,a,c,o]),r.jsx(ai,{present:n||l!=="hidden",children:r.jsx(G1,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),x3=N.forwardRef((e,t)=>{const n=ci(xs,e.__scopeScrollArea),{forceMount:i,...s}=e,[a,o]=N.useState(!1),l=e.orientation==="horizontal",c=xg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return fd(n.viewport,c),fd(n.content,c),r.jsx(ai,{present:i||a,children:r.jsx(G1,{"data-state":a?"visible":"hidden",...s,ref:t})})}),G1=N.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,s=ci(xs,e.__scopeScrollArea),a=N.useRef(null),o=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=j3(l.viewport,l.content),u={...i,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,h){return Yge(p,o.current,l,h)}return n==="horizontal"?r.jsx(Vge,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,h=xP(p,l,s.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?r.jsx(Wge,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,h=xP(p,l);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),Vge=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,a=ci(xs,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),d=yt(t,c,a.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(g3,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hg(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),N3(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&i({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vx(o.paddingLeft),paddingEnd:vx(o.paddingRight)}})}})}),Wge=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,a=ci(xs,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),d=yt(t,c,a.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(g3,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hg(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),N3(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&i({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vx(o.paddingTop),paddingEnd:vx(o.paddingBottom)}})}})}),[Hge,v3]=f3(xs),g3=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...p}=e,h=ci(xs,n),[v,m]=N.useState(null),y=yt(t,E=>m(E)),j=N.useRef(null),g=N.useRef(""),x=h.viewport,w=i.content-i.viewport,b=un(u),C=un(c),k=xg(f,10);function S(E){if(j.current){const $=E.clientX-j.current.left,O=E.clientY-j.current.top;d({x:$,y:O})}}return N.useEffect(()=>{const E=$=>{const O=$.target;(v==null?void 0:v.contains(O))&&b($,w)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[x,v,w,b]),N.useEffect(C,[i,C]),fd(v,k),fd(h.content,k),r.jsx(Hge,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:un(a),onThumbPointerUp:un(o),onThumbPositionChange:C,onThumbPointerDown:un(l),children:r.jsx(nt.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:Be(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),j.current=v.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),S(E))}),onPointerMove:Be(e.onPointerMove,S),onPointerUp:Be(e.onPointerUp,E=>{const $=E.target;$.hasPointerCapture(E.pointerId)&&$.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=g.current,h.viewport&&(h.viewport.style.scrollBehavior=""),j.current=null})})})}),xx="ScrollAreaThumb",y3=N.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=v3(xx,e.__scopeScrollArea);return r.jsx(ai,{present:n||s.hasThumb,children:r.jsx(Gge,{ref:t,...i})})}),Gge=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:i,...s}=e,a=ci(xx,n),o=v3(xx,n),{onThumbPositionChange:l}=o,c=yt(t,f=>o.onThumbChange(f)),d=N.useRef(void 0),u=xg(()=>{d.current&&(d.current(),d.current=void 0)},100);return N.useEffect(()=>{const f=a.viewport;if(f){const p=()=>{if(u(),!d.current){const h=Qge(f,l);d.current=h,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,u,l]),r.jsx(nt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Be(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),v=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:v,y:m})}),onPointerUp:Be(e.onPointerUp,o.onThumbPointerUp)})});y3.displayName=xx;var K1="ScrollAreaCorner",b3=N.forwardRef((e,t)=>{const n=ci(K1,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?r.jsx(Kge,{...e,ref:t}):null});b3.displayName=K1;var Kge=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,...i}=e,s=ci(K1,n),[a,o]=N.useState(0),[l,c]=N.useState(0),d=!!(a&&l);return fd(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),fd(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),d?r.jsx(nt.div,{...i,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vx(e){return e?parseInt(e,10):0}function j3(e,t){const n=e/t;return isNaN(n)?0:n}function hg(e){const t=j3(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function Yge(e,t,n,i="ltr"){const s=hg(n),a=s/2,o=t||a,l=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,f=i==="ltr"?[0,u]:[u*-1,0];return w3([c,d],f)(e)}function xP(e,t,n="ltr"){const i=hg(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-i,c=n==="ltr"?[0,o]:[o*-1,0],d=qj(e,c);return w3([0,o],[0,l])(d)}function w3(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function N3(e,t){return e>0&&e<t}var Qge=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},i=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,i=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(i)};function xg(e,t){const n=un(e),i=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(i.current),[]),N.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function fd(e,t){const n=un(t);pn(()=>{let i=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(i),s.unobserve(e)}}},[e,n])}var S3=p3,Xge=h3,Zge=b3;const C3=N.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(S3,{ref:i,className:Ye("relative overflow-hidden",e),...n,children:[r.jsx(Xge,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(k3,{}),r.jsx(Zge,{})]}));C3.displayName=S3.displayName;const k3=N.forwardRef(({className:e,orientation:t="vertical",...n},i)=>r.jsx(H1,{ref:i,orientation:t,className:Ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(y3,{className:"relative flex-1 rounded-full bg-border"})}));k3.displayName=H1.displayName;function Jge({analysis:e,onRevert:t}){const[n,i]=N.useState(null),{toast:s}=Ft(),o=(()=>{const v=[];v.push({timestamp:e.createdAt.toString(),user:"AI System",reason:"Initial root cause analysis",changes:{},version:1,type:"initial_creation"});const m=e.adjustmentHistory||[];v.push(...m.map(j=>({...j,type:"manual_adjustment"})));const y=e.evidenceGatheringHistory||[];return v.push(...y.map(j=>({...j,type:"evidence_gathering"}))),v.sort((j,g)=>new Date(g.timestamp).getTime()-new Date(j.timestamp).getTime())})(),l=Math.max(...o.map(v=>v.version),1),c=v=>new Date(v).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=v=>{switch(v){case"initial_creation":return r.jsx(rn,{className:"w-4 h-4"});case"manual_adjustment":return r.jsx(Lc,{className:"w-4 h-4"});case"ai_reanalysis":return r.jsx(Fc,{className:"w-4 h-4"});case"evidence_gathering":return r.jsx(Dc,{className:"w-4 h-4"});default:return r.jsx(Fr,{className:"w-4 h-4"})}},u=v=>{switch(v){case"initial_creation":return"bg-green-100 text-green-800";case"manual_adjustment":return"bg-blue-100 text-blue-800";case"ai_reanalysis":return"bg-purple-100 text-purple-800";case"evidence_gathering":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"initial_creation":return"Created";case"manual_adjustment":return"Manual Edit";case"ai_reanalysis":return"AI Re-analysis";case"evidence_gathering":return"Evidence Update";default:return"Unknown"}},p=v=>{if(v===l){s({title:"Already Current Version",description:"This is already the current version of the analysis.",variant:"destructive"});return}t&&(t(v),s({title:"Version Reverted",description:`Analysis has been reverted to version ${v}.`}))},h=v=>Object.keys(v).length===0?r.jsx("div",{className:"text-sm text-gray-500 italic",children:"No specific changes recorded"}):r.jsx("div",{className:"space-y-2",children:Object.entries(v).map(([m,y])=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"font-medium text-gray-700 capitalize",children:[m.replace(/([A-Z])/g," $1").toLowerCase(),":"]}),r.jsxs("div",{className:"ml-2 space-y-1",children:[r.jsxs("div",{className:"text-red-600",children:[r.jsx("span",{className:"font-medium",children:"From:"})," ",typeof y.from=="object"?JSON.stringify(y.from,null,2):String(y.from||"Empty").substring(0,100)]}),r.jsxs("div",{className:"text-green-600",children:[r.jsx("span",{className:"font-medium",children:"To:"})," ",typeof y.to=="object"?JSON.stringify(y.to,null,2):String(y.to||"Empty").substring(0,100)]})]})]},m))});return r.jsxs(Y,{className:"w-full",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(Is,{className:"w-5 h-5"}),r.jsx("span",{children:"Version History & Audit Trail"}),r.jsxs(J,{variant:"outline",children:["v",l]})]})}),r.jsxs(Q,{children:[r.jsxs(Qt,{className:"mb-6",children:[r.jsx(Is,{className:"h-4 w-4"}),r.jsx(Xt,{children:"Complete audit trail of all changes made to this analysis. Click on any version to view details."})]}),r.jsx(C3,{className:"h-[600px] pr-4",children:r.jsx("div",{className:"space-y-4",children:o.map((v,m)=>r.jsxs("div",{className:`border rounded-lg p-4 transition-colors cursor-pointer ${n===v.version?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>i(n===v.version?null:v.version),children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`p-2 rounded-full ${u(v.type)}`,children:d(v.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs("span",{className:"font-medium",children:["Version ",v.version]}),r.jsx(J,{variant:"outline",className:"text-xs",children:f(v.type)}),v.version===l&&r.jsx(J,{className:"text-xs",children:"Current"})]}),r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(Lc,{className:"w-3 h-3"}),r.jsx("span",{children:v.user})]}),r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(Fr,{className:"w-3 h-3"}),r.jsx("span",{children:c(v.timestamp)})]})]})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Reason:"})," ",v.reason]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),i(n===v.version?null:v.version)},children:r.jsx(Dc,{className:"w-4 h-4"})}),v.version!==l&&r.jsxs(W,{variant:"outline",size:"sm",onClick:y=>{y.stopPropagation(),p(v.version)},children:[r.jsx(nv,{className:"w-4 h-4 mr-1"}),"Revert"]})]})]}),n===v.version&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[r.jsx("h4",{className:"font-medium text-sm mb-3",children:"Changes Made:"}),h(v.changes)]})]},v.version))})}),o.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Is,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No version history available"})]})]})]})}function eye(e){const t=tye(e),n=N.forwardRef((i,s)=>{const{children:a,...o}=i,l=N.Children.toArray(a),c=l.find(rye);if(c){const d=c.props.children,u=l.map(f=>f===c?N.Children.count(d)>1?N.Children.only(null):N.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:s,children:N.isValidElement(d)?N.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function tye(e){const t=N.forwardRef((n,i)=>{const{children:s,...a}=n;if(N.isValidElement(s)){const o=sye(s),l=iye(a,s.props);return s.type!==N.Fragment&&(l.ref=i?Zx(i,o):o),N.cloneElement(s,l)}return N.Children.count(s)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nye=Symbol("radix.slottable");function rye(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nye}function iye(e,t){const n={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[i]=s):i==="style"?n[i]={...s,...a}:i==="className"&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function sye(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var aye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],E3=aye.reduce((e,t)=>{const n=eye(`Primitive.${t}`),i=N.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Y1="Progress",Q1=100,[oye,Xwe]=zr(Y1),[lye,cye]=oye(Y1),A3=N.forwardRef((e,t)=>{const{__scopeProgress:n,value:i=null,max:s,getValueLabel:a=dye,...o}=e;(s||s===0)&&!vP(s)&&console.error(uye(`${s}`,"Progress"));const l=vP(s)?s:Q1;i!==null&&!gP(i,l)&&console.error(fye(`${i}`,"Progress"));const c=gP(i,l)?i:null,d=gx(c)?a(c,l):void 0;return r.jsx(lye,{scope:n,value:c,max:l,children:r.jsx(E3.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":gx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":T3(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});A3.displayName=Y1;var P3="ProgressIndicator",O3=N.forwardRef((e,t)=>{const{__scopeProgress:n,...i}=e,s=cye(P3,n);return r.jsx(E3.div,{"data-state":T3(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...i,ref:t})});O3.displayName=P3;function dye(e,t){return`${Math.round(e/t*100)}%`}function T3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function gx(e){return typeof e=="number"}function vP(e){return gx(e)&&!isNaN(e)&&e>0}function gP(e,t){return gx(e)&&!isNaN(e)&&e<=t&&e>=0}function uye(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Q1}\`.`}function fye(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Q1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _3=A3,pye=O3;const _r=N.forwardRef(({className:e,value:t,...n},i)=>r.jsx(_3,{ref:i,className:Ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(pye,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));_r.displayName=_3.displayName;function mye({analysis:e,className:t=""}){var d;const[n,i]=N.useState("asset_analysis"),a=(()=>{var p,h;const u=e.evidenceData||{},f=e.analysisResults||{};return[{id:"asset_analysis",title:"Asset Identification & Context",status:"completed",confidence:95,details:[`Equipment Type: ${u.equipment_type||"Not specified"}`,`Equipment ID: ${u.equipment_tag||"Not specified"}`,`Location: ${e.whereHappened||u.operating_location||"Not specified"}`,`Category: ${u.equipment_category||"Not specified"}`],timestamp:e.createdAt},{id:"symptom_analysis",title:"Symptom Analysis & Localization",status:"completed",confidence:88,details:[`Primary Problem: ${u.observed_problem||e.whatHappened||"Not specified"}`,`Symptom Location: ${u.symptom_location||"Not localized"}`,`Problem Type: ${u.problem_type||"Not classified"}`,`Detection Method: ${u.detection_method||"Not specified"}`]},{id:"cause_mapping",title:"Failure Mode & Cause Mapping",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Analysis Method: ${f.analysisMethod||"Fault Tree Analysis"}`,`Causes Identified: ${((p=f.causes)==null?void 0:p.length)||0} potential causes evaluated`,"Knowledge base correlation completed","Statistical analysis performed","Industry best practices applied"]},{id:"evidence_correlation",title:"Evidence Correlation & Validation",status:"completed",confidence:Math.round(parseFloat(e.evidenceCompleteness||"80")),details:[`Evidence Completeness: ${Math.round(parseFloat(e.evidenceCompleteness||"80"))}%`,`Maintenance History: ${u.last_maintenance_type||"Available"}`,`Operating Conditions: ${u.environmental_conditions||"Within limits"}`,"Data correlation analysis completed"]},{id:"root_cause_selection",title:"Root Cause Selection & Validation",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Top Event: ${f.topEvent||"Equipment Failure"}`,`Primary Causes: ${((h=f.causes)==null?void 0:h.map(v=>v.description).join(", "))||"Equipment degradation"}`,`Confidence Score: ${Math.round((f.confidence||.8)*100)}%`,"Validation completed against ISO 14224 standards"]},{id:"recommendations",title:"Actionable Recommendations",status:"completed",confidence:85,details:(e.recommendations||["Review operating parameters and implement process controls"]).map((v,m)=>`${m+1}. ${v}`)}]})(),o=a.find(u=>u.id===n),l=u=>{switch(u){case"completed":return r.jsx(Ct,{className:"w-5 h-5 text-green-500"});case"in_progress":return r.jsx(Ci,{className:"w-5 h-5 text-blue-500"});case"failed":return r.jsx(mt,{className:"w-5 h-5 text-red-500"});default:return r.jsx(gz,{className:"w-5 h-5 text-gray-400"})}},c=u=>u>=80?"text-green-600":u>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:`space-y-6 ${t}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Tt,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold",children:"AI Reasoning Process"}),r.jsxs(J,{variant:"outline",className:"ml-auto",children:["Confidence: ",Math.round((e.confidence||((d=e.analysisResults)==null?void 0:d.confidence)||.8)*100),"%"]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ls,{className:"w-5 h-5"}),"Analysis Progress"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Overall Completion"}),r.jsxs("span",{children:[Math.round(a.filter(u=>u.status==="completed").length/a.length*100),"%"]})]}),r.jsx(_r,{value:a.filter(u=>u.status==="completed").length/a.length*100,className:"h-2"}),r.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[r.jsxs("span",{children:["✓ ",a.filter(u=>u.status==="completed").length," Completed"]}),r.jsxs("span",{children:["⟳ ",a.filter(u=>u.status==="in_progress").length," In Progress"]}),r.jsxs("span",{children:["○ ",a.filter(u=>u.status==="pending").length," Pending"]})]})]})})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:a.map((u,f)=>r.jsx(W,{variant:n===u.id?"default":"outline",size:"sm",onClick:()=>i(u.id),className:"flex items-center gap-2 h-auto p-3",children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l(u.status),r.jsx("span",{className:"text-xs text-center leading-tight",children:u.title.split(" ")[0]}),u.confidence&&r.jsxs(J,{variant:"secondary",className:"text-xs px-1",children:[Math.round(u.confidence),"%"]})]})},u.id))}),o&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[l(o.status),o.title,o.confidence&&r.jsxs(J,{variant:"outline",className:`ml-auto ${c(o.confidence)}`,children:[Math.round(o.confidence),"% Confidence"]})]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Analysis Details"}),r.jsx("ul",{className:"space-y-1",children:o.details.map((u,f)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(pp,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsx("span",{children:u})]},f))})]}),o.evidence&&o.evidence.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-medium text-sm text-muted-foreground flex items-center gap-2",children:[r.jsx(mz,{className:"w-4 h-4"}),"Evidence Analysis"]}),r.jsx("div",{className:"grid gap-2",children:o.evidence.map((u,f)=>r.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${u.type==="supporting"?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"font-medium text-sm",children:[u.type==="supporting"?"✓":"✗"," ",u.description||u.type]}),r.jsxs(J,{variant:"outline",className:"text-xs",children:["Weight: ",u.weight||"N/A"]})]}),u.value&&r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Value: ",u.value]})]},f))})]}),o.timestamp&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Completed: ",new Date(o.timestamp).toLocaleString()]})]})]}),e.missingDataPrompts&&e.missingDataPrompts.length>0&&r.jsxs(Qt,{className:"border-yellow-200 bg-yellow-50",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsxs(Xt,{children:[r.jsx("div",{className:"font-medium",children:"Additional Data Needed"}),r.jsx("div",{className:"text-sm mt-1 space-y-1",children:e.missingDataPrompts.map((u,f)=>r.jsxs("div",{children:["• ",u.question]},f))})]})]}),e.manualAdjustments&&e.manualAdjustments.length>0&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"w-5 h-5"}),"Manual Adjustments & Expert Overrides"]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:e.manualAdjustments.map((u,f)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(J,{variant:u.expertOverride?"destructive":"secondary",children:u.expertOverride?"Expert Override":"Manual Adjustment"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.timestamp).toLocaleString()})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:"Reasoning:"}),r.jsx("div",{className:"text-muted-foreground",children:u.reasoning})]})]},f))})})]})]})}function hye({analysis:e,onDataProvided:t}){const[n,i]=N.useState({}),[s,a]=N.useState(!1),{toast:o}=Ft(),l=si(),c=e.missingDataPrompts||[],d=Qe({mutationFn:async v=>ot(`/api/analyses/${e.id}/provide-data`,{method:"POST",body:JSON.stringify(v)}),onSuccess:()=>{o({title:"Data Provided Successfully",description:"The analysis will be updated with your additional information."}),l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),t==null||t()},onError:v=>{o({title:"Failed to Submit Data",description:v.message,variant:"destructive"})}}),u=(v,m)=>{i(y=>({...y,[v]:m}))},f=async()=>{a(!0);try{await d.mutateAsync({responses:n,additionalData:{timestamp:new Date().toISOString(),source:"user_input"}})}finally{a(!1)}},p=v=>{switch(v){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},h=v=>{var y;const m=n[v.id]||"";switch(v.type){case"equipment":return r.jsxs("div",{className:"space-y-3",children:[v.options&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Please select the option that best describes your situation:"}),r.jsxs(We,{value:m,onValueChange:j=>u(v.id,j),children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select an option"})}),r.jsx(Ge,{children:v.options.map((j,g)=>r.jsx(ne,{value:j,children:j},g))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Additional Equipment Details:"}),r.jsx(ze,{value:m,onChange:j=>u(v.id,j.target.value),placeholder:"Provide any additional equipment details, specifications, or context...",rows:3})]})]});case"operating_data":return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Missing Parameters:"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(y=v.missing)==null?void 0:y.map((j,g)=>r.jsx(J,{variant:"outline",className:"justify-center",children:j.replace(/_/g," ").toUpperCase()},g))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Operating Parameter Values:"}),r.jsx(ze,{value:m,onChange:j=>u(v.id,j.target.value),placeholder:"Please provide the missing operating parameters (e.g., Temperature: 180°F, Pressure: 25 psig, Flow: 100 gpm)...",rows:4})]})]});case"symptoms":return r.jsxs("div",{className:"space-y-3",children:[v.context&&r.jsxs(Qt,{children:[r.jsx(VC,{className:"w-4 h-4"}),r.jsxs(Xt,{children:[r.jsx("strong",{children:"Current Analysis:"})," ",v.context]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Detailed Symptom Description:"}),r.jsx(ze,{value:m,onChange:j=>u(v.id,j.target.value),placeholder:"Describe the symptoms in detail: when they started, how they manifested, any patterns you noticed...",rows:4})]})]});default:return r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Response:"}),r.jsx(ze,{value:m,onChange:j=>u(v.id,j.target.value),placeholder:"Please provide the requested information...",rows:3})]})}};return c.length===0?null:r.jsxs(Y,{className:"border-yellow-200 bg-yellow-50",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"w-5 h-5 text-yellow-600"}),"Additional Information Needed",r.jsxs(J,{variant:"outline",className:"ml-auto",children:[c.length," ",c.length===1?"Question":"Questions"]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"The AI analysis requires additional information to improve accuracy and confidence. Please provide the requested details below."})]}),r.jsxs(Q,{className:"space-y-6",children:[c.map((v,m)=>r.jsxs(Y,{className:"border-yellow-200",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx(Z,{className:"text-base",children:v.question}),r.jsxs(J,{variant:p(v.priority),children:[v.priority," Priority"]})]})}),r.jsx(Q,{children:h(v)})]},v.id||m)),r.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:r.jsxs(W,{onClick:f,disabled:s||Object.keys(n).length===0,className:"flex items-center gap-2",children:[s?r.jsx(jz,{className:"w-4 h-4 animate-spin"}):r.jsx(Ez,{className:"w-4 h-4"}),s?"Updating Analysis...":"Submit Additional Data"]})}),r.jsxs(Qt,{children:[r.jsx(VC,{className:"w-4 h-4"}),r.jsxs(Xt,{children:[r.jsx("strong",{children:"How this helps:"})," Your additional information will be used to re-run the analysis with higher confidence. The AI will correlate your inputs with the existing data to provide more accurate root cause identification and recommendations."]})]})]})]})}function xye(){var y,j,g,x,w,b,C,k,S,E,$,O,A,P,_,F;const[,e]=Xx("/investigation/:id"),[t,n]=N.useState("overview"),[i,s]=N.useState(!1),a=e==null?void 0:e.id,o=a==null?void 0:a.startsWith("INC-"),l=o?a.replace("INC-",""):a,c=o?`/api/incidents/${l}`:`/api/investigations/${a}`,{data:d,isLoading:u,error:f}=Pe({queryKey:[c],enabled:!!a,queryFn:async()=>{const M=await fetch(c);if(!M.ok)throw new Error(`Failed to fetch ${o?"incident":"analysis"}`);return M.json()}}),p=d?o?{analysisId:`INC-${d.id}`,equipmentId:d.equipmentId||"Unknown",location:d.location||"Unknown",priority:d.priority||"medium",confidence:((y=d.aiAnalysis)==null?void 0:y.overallConfidence)||0,analysisResults:d.aiAnalysis,whatHappened:d.symptomDescription||d.title,evidenceData:{equipment_type:d.equipmentType,equipment_tag:d.equipmentId,operating_location:d.location},whereHappened:d.location,rootCauses:((g=(j=d.aiAnalysis)==null?void 0:j.rootCauses)==null?void 0:g.map(M=>M.description))||[],recommendations:((w=(x=d.aiAnalysis)==null?void 0:x.recommendations)==null?void 0:w.map(M=>M.description))||[],status:d.workflowStatus,investigationType:"Equipment Failure",updatedAt:d.updatedAt}:d:null;if(u)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading analysis..."})]})});if(f||!p)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-destructive mb-4",children:"Failed to load analysis"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:o?`Incident ID: ${a}`:`Investigation ID: ${a}`}),r.jsxs(W,{onClick:()=>window.history.back(),children:[r.jsx(as,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})});const h=M=>{switch(M){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},v=M=>M>=90?"confidence-high":M>=70?"confidence-medium":"confidence-low",m=M=>new Date(M).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(W,{variant:"ghost",onClick:()=>window.history.back(),className:"flex items-center space-x-2",children:[r.jsx(as,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsx(Ds,{orientation:"vertical",className:"h-6"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-foreground",children:p.analysisId}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.equipmentId," • ",p.location]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{className:h(p.priority||"medium"),children:(p.priority||"medium").toUpperCase()}),r.jsxs(J,{className:v(p.confidence||0),children:[p.confidence,"% Confidence"]}),r.jsxs(W,{variant:"outline",onClick:()=>s(!i),children:[r.jsx(rv,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i?r.jsx(bge,{analysis:p,onSave:()=>s(!1),onCancel:()=>s(!1)}):r.jsxs(Zn,{value:t,onValueChange:n,className:"w-full",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-8 mb-8",children:[r.jsx(Ae,{value:"overview",children:"Overview"}),r.jsxs(Ae,{value:"diagrams",children:[r.jsx(Fc,{className:"w-4 h-4 mr-1"}),"Diagrams"]}),r.jsx(Ae,{value:"rca-tree",children:"RCA Tree"}),r.jsx(Ae,{value:"evidence",children:"Evidence"}),r.jsx(Ae,{value:"reasoning",children:"AI Reasoning"}),r.jsx(Ae,{value:"export",children:"Export"}),r.jsx(Ae,{value:"history",children:"History"}),r.jsx(Ae,{value:"settings",children:"Settings"})]}),r.jsxs(ke,{value:"overview",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Analysis Summary"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Issue Description"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:p.whatHappened||((b=p.evidenceData)==null?void 0:b.observed_problem)||"No description available"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Equipment Details"}),r.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",((C=p.evidenceData)==null?void 0:C.equipment_type)||"Not specified"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",((k=p.evidenceData)==null?void 0:k.equipment_tag)||"Not specified"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Location:"})," ",p.whereHappened||((S=p.evidenceData)==null?void 0:S.operating_location)||"Not specified"]})]})]})]}),r.jsx(Ds,{}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Root Cause Analysis"}),p.analysisResults?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-sm mb-2",children:"Failure Analysis"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Failure Mode:"})," ",p.analysisResults.failureMode||"Not specified"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Severity:"})," ",p.analysisResults.severity||"Not specified"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Confidence:"})," ",p.analysisResults.overallConfidence||0,"%"]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-sm mb-3",children:"Root Causes"}),r.jsx("div",{className:"space-y-3",children:(p.analysisResults.rootCauses||[]).map((M,G)=>r.jsxs("div",{className:"p-3 border-l-4 border-red-500 bg-red-50",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h6",{className:"font-medium text-sm",children:M.description}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-800",children:"Root Cause"}),r.jsxs("span",{className:"text-xs font-medium",children:[M.confidence,"%"]})]})]}),M.evidence&&M.evidence.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Evidence:"}),r.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:M.evidence.map((z,H)=>r.jsx("li",{children:typeof z=="string"?z:z.description||""},H))})]})]},G))})]})]}):(E=p.analysisResults)!=null&&E.structuredAnalysis?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-sm mb-2",children:"Symptom Statement"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:p.analysisResults.structuredAnalysis.symptomStatement})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-sm mb-3",children:"Causes Analysis"}),r.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.causesConsidered.map((M,G)=>r.jsxs("div",{className:`p-3 border-l-4 ${M.classification==="root_cause"?"border-red-500 bg-red-50":M.classification==="contributing"?"border-yellow-500 bg-yellow-50":"border-gray-300 bg-gray-50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h6",{className:"font-medium text-sm",children:M.cause}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded ${M.classification==="root_cause"?"bg-red-100 text-red-800":M.classification==="contributing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:M.classification.replace("_"," ")}),r.jsxs("span",{className:"text-xs font-medium",children:[Math.round(M.confidence*100),"%"]})]})]}),M.supportingEvidence.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Supporting Evidence:"}),r.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:M.supportingEvidence.map((z,H)=>r.jsx("li",{children:z},H))})]}),M.contradictingEvidence.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-red-700 mb-1",children:"Contradicting Evidence:"}),r.jsx("ul",{className:"text-xs text-red-600 list-disc list-inside",children:M.contradictingEvidence.map((z,H)=>r.jsx("li",{children:z},H))})]}),r.jsx("p",{className:"text-xs text-muted-foreground italic",children:M.reasoning})]},G))})]}),r.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500",children:[r.jsx("h5",{className:"font-medium text-sm mb-2 text-blue-800",children:"Conclusion"}),r.jsx("p",{className:"text-sm text-blue-700",children:p.analysisResults.structuredAnalysis.conclusion})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:((O=($=p.analysisResults)==null?void 0:$.causes)==null?void 0:O.map(M=>M.description).join("; "))||p.rootCauses||"Analysis in progress..."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Recommendations"}),(A=p.analysisResults)!=null&&A.recommendations?r.jsx("div",{className:"space-y-3",children:p.analysisResults.recommendations.map((M,G)=>r.jsxs("div",{className:"p-3 border-l-4 border-blue-500 bg-blue-50",children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsx("h6",{className:"font-medium text-sm",children:M.title}),r.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-800",children:[M.priority," priority"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[r.jsx("strong",{children:"Description:"})," ",M.description]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Timeframe:"})," ",M.timeframe||"Not specified"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Cost:"})," ",M.estimatedCost||"Not specified"]})]},G))}):(_=(P=p.analysisResults)==null?void 0:P.structuredAnalysis)!=null&&_.recommendations?r.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.recommendations.map((M,G)=>r.jsxs("div",{className:`p-3 border-l-4 ${M.priority==="high"?"border-red-500 bg-red-50":M.priority==="medium"?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsx("h6",{className:"font-medium text-sm",children:M.action}),r.jsxs("span",{className:`text-xs px-2 py-1 rounded ${M.priority==="high"?"bg-red-100 text-red-800":M.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[M.priority," priority"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[r.jsx("strong",{children:"Timeframe:"})," ",M.timeframe]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Rationale:"})," ",M.rationale]})]},G))}):r.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:(p.recommendations||[]).map((M,G)=>r.jsx("li",{children:M},G))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[p.confidence||((F=p.analysisResults)==null?void 0:F.overallConfidence)||0,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence Score"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.status||"completed"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Status"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.updatedAt?m(p.updatedAt):"In Progress"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})]})]}),p.evidenceData&&Object.keys(p.evidenceData).length>0&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Operating Parameters"})}),r.jsx(Q,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(p.evidenceData).filter(([M])=>!["equipment_tag","equipment_type","operating_location","observed_problem"].includes(M)).map(([M,G])=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2 capitalize",children:M.replace(/_/g," ")}),r.jsx("div",{className:"text-sm text-muted-foreground",children:typeof G=="boolean"?G?"YES":"NO":String(G)})]},M))})})]})]}),r.jsx(ke,{value:"diagrams",children:r.jsx(t3,{analysisData:p.analysisResults,investigationType:p.investigationType,onNodeUpdate:(M,G)=>{console.log("Node updated:",M,G)},onNodeAdd:(M,G)=>{console.log("Node added to parent:",M,G)},onNodeDelete:M=>{console.log("Node deleted:",M)}})}),r.jsx(ke,{value:"reasoning",children:r.jsx(mye,{analysis:p})}),r.jsx(ke,{value:"rca-tree",children:r.jsx(_F,{analysis:p,onEdit:()=>s(!0)})}),r.jsx(ke,{value:"evidence",children:r.jsx(yge,{analysis:p})}),r.jsx(ke,{value:"missing-data",children:r.jsx(hye,{analysis:p,onDataProvided:()=>{window.location.reload()}})}),r.jsx(ke,{value:"export",children:r.jsx(Lge,{analysis:p})}),r.jsx(ke,{value:"history",children:r.jsx(Jge,{analysis:p})}),r.jsx(ke,{value:"settings",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(Kn,{className:"w-5 h-5"}),r.jsx("span",{children:"Analysis Settings"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Auto Re-analysis"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically trigger re-analysis when new evidence is added"})]}),r.jsx("input",{type:"checkbox",defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Confidence Threshold"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum confidence score for auto-completion"})]}),r.jsxs("select",{className:"border rounded px-3 py-1",children:[r.jsx("option",{value:"80",children:"80%"}),r.jsx("option",{value:"85",children:"85%"}),r.jsx("option",{value:"90",children:"90%"}),r.jsx("option",{value:"95",children:"95%"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Notification Alerts"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications for analysis status changes"})]}),r.jsx("input",{type:"checkbox",defaultChecked:!0})]})]})})]})})]})})]})}const vye="modulepreload",gye=function(e){return"/"+e},yP={},yye=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=gye(c),c in yP)return;yP[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":vye,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function bye(){var f,p;const[e,t]=N.useState(!1),[n,i]=N.useState(null),{data:s,refetch:a,isLoading:o}=Pe({queryKey:["/api/admin/ai-status"],refetchInterval:1e4,retry:!1});N.useEffect(()=>{var h,v,m;((h=s==null?void 0:s.status)==null?void 0:h.systemHealth)==="working"&&((m=(v=s==null?void 0:s.status)==null?void 0:v.activeProvider)!=null&&m.isTestSuccessful)&&i(null)},[s]);const l=s==null?void 0:s.status,c=async()=>{t(!0);try{const h=await ot("/api/admin/ai-status/test",{method:"POST"});console.log("[AI Status Test] Response:",h),i(h),a()}catch(h){console.error("[AI Status Test] Error:",h),i({success:!1,message:"Test failed",error:h.message||"Unknown error occurred",errorType:"network_error"})}finally{t(!1)}};if(o)return r.jsxs(Y,{className:"border-gray-200",children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center gap-2 text-sm",children:[r.jsx(Hn,{className:"h-4 w-4"}),"AI Configuration Status"]})}),r.jsx(Q,{children:r.jsx("div",{className:"text-sm text-gray-500",children:"Loading AI status..."})})]});const d=()=>l?l.complianceStatus==="hardcoding-detected"?"red":l.systemHealth==="working"?"green":l.systemHealth==="configuration-required"?"yellow":"red":"gray",u=()=>l?l.complianceStatus==="hardcoding-detected"?r.jsx(Jo,{className:"h-4 w-4 text-red-500"}):l.systemHealth==="working"?r.jsx(Ct,{className:"h-4 w-4 text-green-500"}):l.systemHealth==="configuration-required"?r.jsx(mt,{className:"h-4 w-4 text-yellow-500"}):r.jsx(Jo,{className:"h-4 w-4 text-red-500"}):r.jsx(jr,{className:"h-4 w-4"});return r.jsxs(Y,{className:`border-2 ${d()==="red"?"border-red-200 bg-red-50":d()==="green"?"border-green-200 bg-green-50":d()==="yellow"?"border-yellow-200 bg-yellow-50":"border-gray-200"}`,children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4"}),"AI Configuration Status"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[u(),r.jsx(J,{variant:d()==="green"?"default":d()==="yellow"?"secondary":"destructive",children:((f=l==null?void 0:l.systemHealth)==null?void 0:f.toUpperCase())||"UNKNOWN"})]})]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Configuration Source:"}),r.jsx(J,{variant:(l==null?void 0:l.configurationSource)==="admin-database"?"default":"destructive",children:(l==null?void 0:l.configurationSource)==="admin-database"?r.jsxs(r.Fragment,{children:[r.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Admin Database"]}):r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"h-3 w-3 mr-1"}),"Hardcoded Violation"]})})]}),l!=null&&l.activeProvider?r.jsxs("div",{className:"bg-white border rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Active Provider:"}),r.jsxs("span",{className:"text-xs font-mono",children:[l.activeProvider.provider," (",l.activeProvider.model,")"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Database ID:"}),r.jsxs("span",{className:"text-xs font-mono",children:["#",l.activeProvider.id]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"API Key Status:"}),r.jsxs(J,{variant:"outline",className:"text-xs",children:[r.jsx(yz,{className:"h-3 w-3 mr-1"}),l.activeProvider.apiKeyStatus]})]})]}):r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("span",{className:"text-sm text-red-700",children:"No active AI provider configured"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Compliance Status:"}),r.jsxs(J,{variant:(l==null?void 0:l.complianceStatus)==="compliant"?"default":"destructive",children:[r.jsx(os,{className:"h-3 w-3 mr-1"}),((p=l==null?void 0:l.complianceStatus)==null?void 0:p.toUpperCase())||"UNKNOWN"]})]}),(l==null?void 0:l.violations)&&l.violations.length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs font-medium text-red-700 mb-1",children:"Hardcoding Violations Detected:"}),l.violations.map((h,v)=>r.jsxs("div",{className:"text-xs text-red-600 flex items-start gap-1",children:[r.jsx(mt,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),h]},v))]})]}),(l==null?void 0:l.lastAIOperation)&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Last AI Operation:"}),r.jsxs("div",{className:"bg-gray-50 border rounded-lg p-3 space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Source:"}),r.jsx("span",{className:"text-xs font-mono",children:l.lastAIOperation.source})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Provider Used:"}),r.jsx("span",{className:"text-xs font-mono",children:l.lastAIOperation.provider})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Status:"}),r.jsx(J,{variant:l.lastAIOperation.success?"default":"destructive",className:"text-xs",children:l.lastAIOperation.success?"SUCCESS":"FAILED"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Timestamp:"}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(l.lastAIOperation.timestamp).toLocaleString()})]})]})]}),r.jsxs("div",{className:"pt-2 border-t",children:[r.jsxs(W,{onClick:c,disabled:e||!(l!=null&&l.activeProvider),variant:"outline",size:"sm",className:"w-full",children:[r.jsx(sb,{className:"h-4 w-4 mr-2"}),e?"Testing Configuration...":"Test AI Configuration"]}),n&&((l==null?void 0:l.systemHealth)!=="working"||e)&&r.jsxs("div",{className:`mt-2 p-2 rounded-lg text-xs ${n.success?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[r.jsx("div",{className:"font-medium",children:n.success?"✅ Test Successful":"❌ Test Failed"}),r.jsx("div",{children:n.message}),n.configurationSource&&r.jsxs("div",{className:"mt-1 text-gray-600",children:["Source: ",n.configurationSource]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:["Last updated: ",l?new Date(l.timestamp).toLocaleString():"Unknown"]})]})]})}const ji=[{id:"dashboard",label:"Dashboard",path:"/admin",icon:"Home"},{id:"taxonomy",label:"Taxonomy Management",path:"/admin/taxonomy",icon:"Database"},{id:"evidence",label:"Evidence Library",path:"/admin/evidence",icon:"Library"},{id:"integrations",label:"Workflow Integration",path:"/admin/integrations",icon:"Plug"}],_l=[{id:"groups",label:"Equipment Groups",path:"/admin/taxonomy/groups",description:"Manage equipment group classifications"},{id:"types",label:"Equipment Types",path:"/admin/taxonomy/types",description:"Manage equipment type definitions"},{id:"subtypes",label:"Equipment Subtypes",path:"/admin/taxonomy/subtypes",description:"Manage equipment subtype categories"},{id:"risks",label:"Risk Rankings",path:"/admin/taxonomy/risks",description:"Manage risk classification levels"}];function jye({value:e,onValueChange:t}){const{data:n,isLoading:i}=Pe({queryKey:["/api/ai-models"],retry:!1});return i?r.jsx(We,{disabled:!0,children:r.jsx(Ue,{children:r.jsx(He,{placeholder:"Loading providers..."})})}):r.jsxs(We,{value:e,onValueChange:t,children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select AI provider"})}),r.jsx(Ge,{children:n!=null&&n.models?n.models.map(s=>r.jsx(ne,{value:s.provider,children:s.displayName},s.id)):null})]})}function bP(){var q,te,re,oe;const[e,t]=N.useState(!1),[n,i]=N.useState({provider:"",apiKey:"",model:"",isActive:!1,createdBy:1,testStatus:""}),[s,a]=N.useState({name:""}),[o,l]=N.useState({label:""}),[c,d]=N.useState({name:"",equipmentGroupId:0}),[u,f]=N.useState({name:"",equipmentTypeId:0}),[p,h]=N.useState(null),[v,m]=N.useState(null),[y,j]=N.useState(null),[g,x]=N.useState(null),[w,b]=N.useState(null),[C,k]=N.useState(null),{toast:S}=Ft(),{data:E,isLoading:$}=Pe({queryKey:["/api/admin/ai-settings"],staleTime:0,refetchOnMount:!0}),{data:O,isLoading:A}=Pe({queryKey:["/api/equipment-groups"],staleTime:0,refetchOnMount:!0}),{data:P,isLoading:_}=Pe({queryKey:["/api/risk-rankings"],staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),{data:F,isLoading:M}=Pe({queryKey:["/api/equipment-types"],staleTime:0,refetchOnMount:!0}),{data:G,isLoading:z}=Pe({queryKey:["/api/equipment-subtypes"],staleTime:0,refetchOnMount:!0}),H=Qe({mutationFn:async R=>await ot("/api/admin/ai-settings/test",{method:"POST",body:JSON.stringify(R),headers:{"Content-Type":"application/json"}}),onSuccess:R=>{S({title:"Test Successful",description:"AI provider connection verified successfully"}),i(fe=>({...fe,testStatus:"success"}))},onError:R=>{S({title:"Test Failed",description:"Unable to connect to AI provider. Check your API key.",variant:"destructive"}),i(fe=>({...fe,testStatus:"failed"}))}}),D=Qe({mutationFn:async R=>await ot("/api/equipment-groups",{method:"POST",body:JSON.stringify(R),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Group Created",description:"Equipment group added successfully"}),a({name:""}),Mt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:R=>{S({title:"Error",description:R.message.includes("already exists")?"Equipment group name already exists":"Failed to create equipment group",variant:"destructive"})}}),U=Qe({mutationFn:async({id:R,data:fe})=>await ot(`/api/equipment-groups/${R}`,{method:"PUT",body:JSON.stringify(fe),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Group Updated",description:"Equipment group updated successfully"}),h(null),Mt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:R=>{S({title:"Error",description:R.message.includes("already exists")?"Equipment group name already exists":"Failed to update equipment group",variant:"destructive"})}}),I=Qe({mutationFn:async R=>await ot(`/api/equipment-groups/${R}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Equipment Group Deleted",description:"Equipment group deleted successfully"}),Mt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:()=>{S({title:"Error",description:"Failed to delete equipment group. It may be in use.",variant:"destructive"})}}),se=Qe({mutationFn:async R=>await ot("/api/risk-rankings",{method:"POST",body:JSON.stringify(R),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Risk Ranking Created",description:"Risk ranking added successfully"}),l({label:""}),Mt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:R=>{S({title:"Error",description:R.message.includes("already exists")?"Risk ranking label already exists":"Failed to create risk ranking",variant:"destructive"})}}),ge=Qe({mutationFn:async({id:R,data:fe})=>await ot(`/api/risk-rankings/${R}`,{method:"PUT",body:JSON.stringify(fe),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Risk Ranking Updated",description:"Risk ranking updated successfully"}),m(null),Mt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:R=>{S({title:"Error",description:R.message.includes("already exists")?"Risk ranking label already exists":"Failed to update risk ranking",variant:"destructive"})}}),ee=Qe({mutationFn:async R=>await ot(`/api/risk-rankings/${R}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Risk Ranking Deleted",description:"Risk ranking deleted successfully"}),Mt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:()=>{S({title:"Error",description:"Failed to delete risk ranking. It may be in use.",variant:"destructive"})}}),we=Qe({mutationFn:async R=>{const fe=new FormData;fe.append("file",R);const Xe=await fetch("/api/equipment-groups/import",{method:"POST",body:fe});if(!Xe.ok){const ft=await Xe.json();throw new Error(ft.message||"Import failed")}return await Xe.json()},onSuccess:R=>{S({title:"Import Completed",description:`Imported ${R.imported} equipment groups${R.errors>0?`, ${R.errors} errors`:""}`}),Mt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:R=>{S({title:"Import Failed",description:R.message||"Failed to import equipment groups",variant:"destructive"})}}),me=async()=>{try{const fe=await(await fetch("/api/equipment-groups/export")).blob(),Xe=window.URL.createObjectURL(fe),ft=document.createElement("a");ft.href=Xe,ft.download="equipment-groups.csv",document.body.appendChild(ft),ft.click(),document.body.removeChild(ft),window.URL.revokeObjectURL(Xe),S({title:"Export Successful",description:"Equipment groups exported successfully"})}catch{S({title:"Export Failed",description:"Failed to export equipment groups",variant:"destructive"})}},Se=Qe({mutationFn:async R=>{const fe=new FormData;fe.append("file",R);const Xe=await fetch("/api/risk-rankings/import",{method:"POST",body:fe});if(!Xe.ok){const ft=await Xe.json();throw new Error(ft.message||"Import failed")}return await Xe.json()},onSuccess:R=>{S({title:"Import Completed",description:`Imported ${R.imported} risk rankings${R.errors>0?`, ${R.errors} errors`:""}`}),Mt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:R=>{S({title:"Import Failed",description:R.message||"Failed to import risk rankings",variant:"destructive"})}}),le=async()=>{try{const fe=await(await fetch("/api/risk-rankings/export")).blob(),Xe=window.URL.createObjectURL(fe),ft=document.createElement("a");ft.href=Xe,ft.download="risk-rankings.csv",document.body.appendChild(ft),ft.click(),document.body.removeChild(ft),window.URL.revokeObjectURL(Xe),S({title:"Export Successful",description:"Risk rankings exported successfully"})}catch{S({title:"Export Failed",description:"Failed to export risk rankings",variant:"destructive"})}},xe=Qe({mutationFn:async R=>await ot("/api/admin/ai-settings",{method:"POST",body:JSON.stringify(R),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Settings Saved",description:"AI settings have been updated successfully"}),Mt.invalidateQueries({queryKey:["/api/admin/ai-settings"]}),i({provider:"",apiKey:"",model:"",isActive:!1,createdBy:1,testStatus:""})},onError:R=>{S({title:"Save Failed",description:R.errorType==="duplicate_provider"?R.message:"Failed to save AI settings. Please try again.",variant:"destructive"})}});async function ye(R,fe){return await(await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:void 0})).json()}const B=Qe({mutationFn:async R=>{const{normalizeAITest:fe}=await yye(async()=>{const{normalizeAITest:ft}=await import("./aiTestNormalize-DgNhlbC6.js");return{normalizeAITest:ft}},[]),Xe=await ye(`/api/admin/ai-settings/${R}/test`);return fe(Xe)},onMutate:()=>{console.log("[UI] Starting provider test...")},onSuccess:R=>{var fe,Xe;if(R.ok)S({title:"Test Successful",description:R.message??`AI test passed ${R.providerId?`(${R.providerId}${R.modelId?` / ${R.modelId}`:""})`:""}`});else{const ft={invalid_api_key:"The API key is invalid or revoked.",model_not_found:"Model is not available; select another or request access.",insufficient_quota:"Quota/billing limit reached for this provider.",rate_limit_exceeded:"Rate limit exceeded. Try again shortly."},oo=((fe=R.error)==null?void 0:fe.detail)??((Xe=R.error)!=null&&Xe.code?ft[R.error.code]:void 0)??"AI test failed. See server logs for details.";S({title:"Test Failed",description:oo,variant:"destructive"})}Mt.invalidateQueries({queryKey:["/api/admin/ai-settings"]})},onError:()=>{S({title:"Test Failed",description:"AI test failed — request error",variant:"destructive"})}}),ce=Qe({mutationFn:async R=>await ot(`/api/admin/ai-settings/${R}`,{method:"DELETE"}),onSuccess:R=>{S({title:"Provider Deleted",description:R.message||"AI provider deleted successfully"}),Mt.invalidateQueries({queryKey:["/api/admin/ai-settings"]})},onError:R=>{S({title:"Delete Failed",description:"Failed to delete AI provider",variant:"destructive"})}}),de=Qe({mutationFn:async R=>await ot("/api/equipment-types",{method:"POST",body:JSON.stringify(R),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Type Created",description:"Equipment type added successfully"}),d({name:"",equipmentGroupId:0}),Mt.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:R=>{S({title:"Error",description:R.message.includes("already exists")?"Equipment type name already exists for this group":"Failed to create equipment type",variant:"destructive"})}}),Ie=Qe({mutationFn:async({id:R,data:fe})=>await ot(`/api/equipment-types/${R}`,{method:"PUT",body:JSON.stringify(fe),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Type Updated",description:"Equipment type updated successfully"}),j(null),Mt.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:R=>{S({title:"Error",description:R.message.includes("already exists")?"Equipment type name already exists":"Failed to update equipment type",variant:"destructive"})}}),Oe=Qe({mutationFn:async R=>await ot(`/api/equipment-types/${R}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Equipment Type Deleted",description:"Equipment type deleted successfully"}),Mt.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:()=>{S({title:"Error",description:"Failed to delete equipment type. It may be in use.",variant:"destructive"})}}),et=Qe({mutationFn:async R=>await ot("/api/equipment-subtypes",{method:"POST",body:JSON.stringify(R),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Subtype Created",description:"Equipment subtype added successfully"}),f({name:"",equipmentTypeId:0}),Mt.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:R=>{S({title:"Error",description:R.message.includes("already exists")?"Equipment subtype name already exists for this type":"Failed to create equipment subtype",variant:"destructive"})}}),dt=Qe({mutationFn:async({id:R,data:fe})=>await ot(`/api/equipment-subtypes/${R}`,{method:"PUT",body:JSON.stringify(fe),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Subtype Updated",description:"Equipment subtype updated successfully"}),x(null),Mt.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:R=>{S({title:"Error",description:R.message.includes("already exists")?"Equipment subtype name already exists":"Failed to update equipment subtype",variant:"destructive"})}}),Nt=Qe({mutationFn:async R=>await ot(`/api/equipment-subtypes/${R}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Equipment Subtype Deleted",description:"Equipment subtype deleted successfully"}),Mt.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:()=>{S({title:"Error",description:"Failed to delete equipment subtype. It may be in use.",variant:"destructive"})}}),mn=()=>{var R;if(!((R=n.apiKey)!=null&&R.trim())){S({title:"API Key Required",description:"Please enter an API key before testing",variant:"destructive"});return}H.mutate({provider:n.provider,apiKey:n.apiKey})},kn=()=>{var R;if(!((R=n.apiKey)!=null&&R.trim())){S({title:"API Key Required",description:"Please enter an API key before saving",variant:"destructive"});return}if(n.testStatus!=="success"){S({title:"Test Required",description:"Please test the API key before saving",variant:"destructive"});return}xe.mutate({provider:n.provider,apiKey:n.apiKey,model:n.model,isActive:n.isActive,createdBy:n.createdBy})},T=R=>R.charAt(0).toUpperCase()+R.slice(1),V=(R,fe)=>R?R==="success"&&fe?r.jsx(J,{variant:"default",className:"bg-green-500",children:"Active"}):R==="success"?r.jsx(J,{variant:"outline",children:"Success"}):R==="failed"?r.jsx(J,{variant:"destructive",children:"Failed"}):r.jsx(J,{variant:"outline",children:"Unknown"}):r.jsx(J,{variant:"outline",children:"Unknown"});return r.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[r.jsx(as,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Home"})]})}),ji.map(R=>{const fe=R.icon==="Home"?mp:R.icon==="Database"?Hn:R.icon==="Library"?MI:R.icon==="Activity"?Vs:R.icon==="Brain"?Tt:R.icon==="Plug"?ib:Kn;return r.jsx(vn,{href:R.path,children:r.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[r.jsx(fe,{className:"w-4 h-4"}),r.jsx("span",{children:R.label})]})},R.id)})]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"System Administration"})]}),r.jsxs(Zn,{defaultValue:"ai-settings",className:"space-y-6",children:[r.jsxs(Fn,{className:"grid w-fit grid-cols-5",children:[_l.map(R=>r.jsxs(Ae,{value:R.id,className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"w-4 h-4"}),R.label]},R.id)),r.jsxs(Ae,{value:"ai-settings",className:"flex items-center gap-2",children:[r.jsx(os,{className:"w-4 h-4"}),"AI Settings"]})]}),r.jsxs(ke,{value:"ai-settings",className:"space-y-6",children:[r.jsx(Y,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(mt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Security Notice"}),r.jsx("p",{className:"text-yellow-700 dark:text-yellow-300",children:"API keys are encrypted and stored securely on the backend. They are never exposed to client-side code. All changes are logged with timestamps for audit purposes."})]})]})})}),r.jsx(bye,{}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Add AI Provider"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure a new AI provider for root cause analysis"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"provider",children:"AI Provider"}),r.jsx(jye,{value:n.provider,onValueChange:R=>i(fe=>({...fe,provider:R}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"apiKey",children:"API Key"}),r.jsxs("div",{className:"relative",children:[r.jsx(ue,{id:"apiKey",type:e?"text":"password",value:n.apiKey,onChange:R=>i(fe=>({...fe,apiKey:R.target.value})),placeholder:"Enter API key",className:"pr-10"}),r.jsx(W,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>t(!e),children:e?r.jsx(pz,{className:"w-4 h-4"}):r.jsx(Dc,{className:"w-4 h-4"})})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"model",children:"Model ID"}),r.jsx(ue,{id:"model",type:"text",value:n.model,onChange:R=>i(fe=>({...fe,model:R.target.value})),placeholder:"e.g., gpt-4o-mini, claude-3-sonnet-20240229, gemini-pro",className:"w-full"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the specific model ID for your provider. This will be used for API calls."})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:R=>i(fe=>({...fe,isActive:R.target.checked})),className:"rounded"}),r.jsx(ie,{htmlFor:"isActive",children:"Set as active provider"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{onClick:mn,disabled:H.isPending,variant:"outline",children:[r.jsx(sb,{className:"w-4 h-4 mr-2"}),H.isPending?"Testing...":"Test Key"]}),r.jsxs(W,{onClick:kn,disabled:xe.isPending||n.testStatus!=="success",children:[r.jsx(Fo,{className:"w-4 h-4 mr-2"}),xe.isPending?"Saving...":"Save Settings"]})]}),n.testStatus&&r.jsx("div",{className:"mt-2",children:V(n.testStatus,n.isActive)})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Current AI Providers"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage existing AI provider configurations"})]}),r.jsx(Q,{children:$?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading settings..."}):!E||E.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No AI providers configured. Add one above to get started."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(Jt,{children:[r.jsx(rt,{children:"Provider"}),r.jsx(rt,{children:"Model"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Last Tested"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:E.map(R=>r.jsxs(Jt,{children:[r.jsx(Ze,{className:"font-medium",children:T(R.provider)}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:R.model||"Not specified"}),r.jsx(Ze,{children:V(R.testStatus,R.isActive)}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:R.lastTestedAt?new Date(R.lastTestedAt).toLocaleDateString():"Never"}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:R.createdAt?new Date(R.createdAt).toLocaleDateString():"Unknown"}),r.jsx(Ze,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>B.mutate(R.id),disabled:B.isPending,children:[r.jsx(sb,{className:"w-4 h-4 mr-1"}),B.isPending?"Testing...":"Test"]}),r.jsx(W,{variant:"destructive",size:"sm",onClick:()=>ce.mutate(R.id),disabled:ce.isPending,children:ce.isPending?"Removing...":"Remove"})]})})]},R.id))})]})})]})]}),r.jsx(ke,{value:"groups",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(On,{className:"w-5 h-5"}),"Equipment Groups Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((q=_l.find(R=>R.id==="groups"))==null?void 0:q.description)||"Manage equipment groups"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ue,{placeholder:"Enter equipment group name...",value:s.name,onChange:R=>a({name:R.target.value}),onKeyPress:R=>{R.key==="Enter"&&s.name.trim()&&D.mutate(s)}}),r.jsxs(W,{onClick:()=>D.mutate(s),disabled:!s.name.trim()||D.isPending,children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Add Group"]})]}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsxs(W,{variant:"outline",onClick:()=>w==null?void 0:w.click(),disabled:we.isPending,children:[r.jsx(GC,{className:"w-4 h-4 mr-2"}),we.isPending?"Importing...":"Import CSV"]}),r.jsxs(W,{variant:"outline",onClick:me,children:[r.jsx(rb,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",style:{display:"none"},ref:b,onChange:R=>{var Xe;const fe=(Xe=R.target.files)==null?void 0:Xe[0];fe&&(we.mutate(fe),R.target.value="")}})]}),A?r.jsx("div",{className:"text-center py-8",children:"Loading equipment groups..."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(Jt,{children:[r.jsx(rt,{children:"Name"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:Array.isArray(O)&&O.map(R=>r.jsxs(Jt,{children:[r.jsx(Ze,{children:(p==null?void 0:p.id)===R.id?r.jsx(ue,{value:(p==null?void 0:p.name)||"",onChange:fe=>p&&h({...p,name:fe.target.value}),onKeyPress:fe=>{fe.key==="Enter"&&U.mutate({id:R.id,data:{name:(p==null?void 0:p.name)||"",isActive:R.isActive}})}}):r.jsx("span",{className:"font-medium",children:R.name})}),r.jsx(Ze,{children:r.jsx(J,{variant:R.isActive?"default":"secondary",children:R.isActive?"Active":"Inactive"})}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:new Date(R.createdAt).toLocaleDateString()}),r.jsx(Ze,{children:r.jsx("div",{className:"flex gap-2",children:(p==null?void 0:p.id)===R.id?r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",onClick:()=>{U.mutate({id:R.id,data:{name:(p==null?void 0:p.name)||"",isActive:R.isActive}})},disabled:U.isPending,children:"Save"}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>h(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>h({id:R.id,name:R.name}),children:r.jsx(Xr,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>I.mutate(R.id),disabled:I.isPending,children:"Delete"})]})})})]},R.id))})]})]})]})}),r.jsx(ke,{value:"risks",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"w-5 h-5"}),"Risk Rankings Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((te=_l.find(R=>R.id==="risks"))==null?void 0:te.description)||"Manage risk rankings"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ue,{placeholder:"Enter risk ranking label...",value:o.label,onChange:R=>l({label:R.target.value}),onKeyPress:R=>{R.key==="Enter"&&o.label.trim()&&se.mutate(o)}}),r.jsxs(W,{onClick:()=>se.mutate(o),disabled:!o.label.trim()||se.isPending,children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Add Ranking"]})]}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsxs(W,{variant:"outline",onClick:()=>C==null?void 0:C.click(),disabled:Se.isPending,children:[r.jsx(GC,{className:"w-4 h-4 mr-2"}),Se.isPending?"Importing...":"Import CSV"]}),r.jsxs(W,{variant:"outline",onClick:le,children:[r.jsx(rb,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",style:{display:"none"},ref:k,onChange:R=>{var Xe;const fe=(Xe=R.target.files)==null?void 0:Xe[0];fe&&(Se.mutate(fe),R.target.value="")}})]}),_?r.jsx("div",{className:"text-center py-8",children:"Loading risk rankings..."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(Jt,{children:[r.jsx(rt,{children:"Label"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:Array.isArray(P)&&P.map(R=>r.jsxs(Jt,{children:[r.jsx(Ze,{children:(v==null?void 0:v.id)===R.id?r.jsx(ue,{value:(v==null?void 0:v.label)||"",onChange:fe=>m({id:(v==null?void 0:v.id)||0,label:fe.target.value}),onKeyPress:fe=>{fe.key==="Enter"&&ge.mutate({id:R.id,data:{label:(v==null?void 0:v.label)||"",isActive:R.isActive}})}}):r.jsx("span",{className:"font-medium",children:R.label})}),r.jsx(Ze,{children:r.jsx(J,{variant:R.isActive?"default":"secondary",children:R.isActive?"Active":"Inactive"})}),r.jsx(Ze,{className:"text-sm text-muted-foreground",children:new Date(R.createdAt).toLocaleDateString()}),r.jsx(Ze,{children:r.jsx("div",{className:"flex gap-2",children:(v==null?void 0:v.id)===R.id?r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",onClick:()=>{ge.mutate({id:R.id,data:{label:(v==null?void 0:v.label)||"",isActive:R.isActive}})},disabled:ge.isPending,children:"Save"}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>m(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>m({id:R.id,label:R.label}),children:r.jsx(Xr,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>ee.mutate(R.id),disabled:ee.isPending,children:"Delete"})]})})})]},R.id))})]})]})]})}),r.jsx(ke,{value:"types",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"w-5 h-5"}),"Equipment Types Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((re=_l.find(R=>R.id==="types"))==null?void 0:re.description)||"Manage equipment types"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(We,{value:c.equipmentGroupId.toString(),onValueChange:R=>d({...c,equipmentGroupId:parseInt(R)}),children:[r.jsx(Ue,{className:"w-[200px]",children:r.jsx(He,{placeholder:"Select Equipment Group"})}),r.jsx(Ge,{children:Array.isArray(O)&&O.map(R=>r.jsx(ne,{value:R.id.toString(),children:R.name},R.id))})]}),r.jsx(ue,{placeholder:"Enter equipment type name...",value:c.name,onChange:R=>d({...c,name:R.target.value}),onKeyPress:R=>{R.key==="Enter"&&c.name.trim()&&c.equipmentGroupId>0&&de.mutate({name:c.name,equipmentGroupId:c.equipmentGroupId})}}),r.jsxs(W,{onClick:()=>de.mutate({name:c.name,equipmentGroupId:c.equipmentGroupId}),disabled:!c.name.trim()||c.equipmentGroupId===0||de.isPending,children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Add Type"]})]}),M?r.jsx("div",{className:"text-center py-8",children:"Loading equipment types..."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(Jt,{children:[r.jsx(rt,{children:"Name"}),r.jsx(rt,{children:"Equipment Group"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:Array.isArray(F)&&F.map(R=>r.jsxs(Jt,{children:[r.jsx(Ze,{children:(y==null?void 0:y.id)===R.id?r.jsx(ue,{value:(y==null?void 0:y.name)||"",onChange:fe=>y&&j({...y,name:fe.target.value}),onKeyPress:fe=>{fe.key==="Enter"&&Ie.mutate({id:R.id,data:{name:(y==null?void 0:y.name)||""}})},className:"max-w-[200px]"}):R.name}),r.jsx(Ze,{children:R.equipmentGroupName||"N/A"}),r.jsx(Ze,{children:r.jsx(J,{variant:R.isActive?"default":"secondary",children:R.isActive?"Active":"Inactive"})}),r.jsx(Ze,{children:R.createdAt?new Date(R.createdAt).toLocaleDateString():"N/A"}),r.jsx(Ze,{children:r.jsx("div",{className:"flex gap-2",children:(y==null?void 0:y.id)===R.id?r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",onClick:()=>Ie.mutate({id:R.id,data:{name:(y==null?void 0:y.name)||""}}),disabled:Ie.isPending,children:r.jsx(Fo,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>j(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>j({id:R.id,name:R.name}),children:r.jsx(Xr,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>Oe.mutate(R.id),disabled:Oe.isPending,children:"Delete"})]})})})]},R.id))})]})]})]})}),r.jsx(ke,{value:"subtypes",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"w-5 h-5"}),"Equipment Subtypes Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((oe=_l.find(R=>R.id==="subtypes"))==null?void 0:oe.description)||"Manage equipment subtypes"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(We,{value:u.equipmentTypeId.toString(),onValueChange:R=>f({...u,equipmentTypeId:parseInt(R)}),children:[r.jsx(Ue,{className:"w-[200px]",children:r.jsx(He,{placeholder:"Select Equipment Type"})}),r.jsx(Ge,{children:Array.isArray(F)&&F.map(R=>r.jsxs(ne,{value:R.id.toString(),children:[R.name," (",R.equipmentGroupName,")"]},R.id))})]}),r.jsx(ue,{placeholder:"Enter equipment subtype name...",value:u.name,onChange:R=>f({...u,name:R.target.value}),onKeyPress:R=>{R.key==="Enter"&&u.name.trim()&&u.equipmentTypeId>0&&et.mutate({name:u.name,equipmentTypeId:u.equipmentTypeId})}}),r.jsxs(W,{onClick:()=>et.mutate({name:u.name,equipmentTypeId:u.equipmentTypeId}),disabled:!u.name.trim()||u.equipmentTypeId===0||et.isPending,children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Add Subtype"]})]}),z?r.jsx("div",{className:"text-center py-8",children:"Loading equipment subtypes..."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(Jt,{children:[r.jsx(rt,{children:"Name"}),r.jsx(rt,{children:"Equipment Type"}),r.jsx(rt,{children:"Equipment Group"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:Array.isArray(G)&&G.map(R=>r.jsxs(Jt,{children:[r.jsx(Ze,{children:(g==null?void 0:g.id)===R.id?r.jsx(ue,{value:(g==null?void 0:g.name)||"",onChange:fe=>g&&x({...g,name:fe.target.value}),onKeyPress:fe=>{fe.key==="Enter"&&dt.mutate({id:R.id,data:{name:(g==null?void 0:g.name)||""}})},className:"max-w-[200px]"}):R.name}),r.jsx(Ze,{children:R.equipmentTypeName||"N/A"}),r.jsx(Ze,{children:R.equipmentGroupName||"N/A"}),r.jsx(Ze,{children:r.jsx(J,{variant:R.isActive?"default":"secondary",children:R.isActive?"Active":"Inactive"})}),r.jsx(Ze,{children:R.createdAt?new Date(R.createdAt).toLocaleDateString():"N/A"}),r.jsx(Ze,{children:r.jsx("div",{className:"flex gap-2",children:(g==null?void 0:g.id)===R.id?r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",onClick:()=>dt.mutate({id:R.id,data:{name:(g==null?void 0:g.name)||""}}),disabled:dt.isPending,children:r.jsx(Fo,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>x(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>x({id:R.id,name:R.name}),children:r.jsx(Xr,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>Nt.mutate(R.id),disabled:Nt.isPending,children:"Delete"})]})})})]},R.id))})]})]})]})})]})]})}function wye(){const[,e]=ii(),{toast:t}=Ft(),[n,i]=N.useState({whatHappened:"",whereHappened:"",whenHappened:"",consequence:"",detectedBy:""}),s=Qe({mutationFn:async l=>await(await ot("/api/investigations/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json(),onSuccess:l=>{t({title:"Investigation Created",description:"Problem definition complete. Now select investigation type."}),e(`/investigation/${l.investigationId}/type`)},onError:l=>{t({title:"Error",description:"Failed to create investigation. Please try again.",variant:"destructive"})}}),a=l=>{if(l.preventDefault(),!n.whatHappened||!n.whereHappened||!n.whenHappened){t({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}s.mutate(n)},o=(l,c)=>{i(d=>({...d,[l]:c}))};return r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"New RCA Investigation"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 1 of 4: Problem Definition"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between max-w-2xl",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-500 text-white rounded-full text-sm font-semibold",children:"1"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Problem Definition"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Current Step"})]})]}),r.jsx(Tr,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"2"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Investigation Type"}),r.jsx("p",{className:"text-xs text-gray-400",children:"ECFA vs Fault Tree"})]})]}),r.jsx(Tr,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"3"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Evidence Collection"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Structured Questionnaire"})]})]}),r.jsx(Tr,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"4"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"AI Analysis"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Results & Recommendations"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-5 w-5"}),"Problem Definition"]}),r.jsx(ve,{children:"Provide initial information about the incident or failure to investigate."})]}),r.jsx(Q,{children:r.jsxs("form",{onSubmit:a,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"whatHappened",className:"text-base font-medium",children:"What happened? *"}),r.jsx(ze,{id:"whatHappened",placeholder:"Describe the incident, failure, or problem that occurred...",value:n.whatHappened,onChange:l=>o("whatHappened",l.target.value),required:!0,className:"mt-2 min-h-[100px]"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"whereHappened",className:"text-base font-medium",children:"Where did it happen? *"}),r.jsx(ue,{id:"whereHappened",placeholder:"Location, area, system, or equipment",value:n.whereHappened,onChange:l=>o("whereHappened",l.target.value),required:!0,className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"whenHappened",className:"text-base font-medium",children:"When did it happen? *"}),r.jsx(ue,{id:"whenHappened",type:"datetime-local",value:n.whenHappened,onChange:l=>o("whenHappened",l.target.value),required:!0,className:"mt-2"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"consequence",className:"text-base font-medium",children:"What is the consequence or impact?"}),r.jsx(ze,{id:"consequence",placeholder:"Describe the consequences, impacts, or effects...",value:n.consequence,onChange:l=>o("consequence",l.target.value),className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"detectedBy",className:"text-base font-medium",children:"Who detected or reported the event?"}),r.jsx(ue,{id:"detectedBy",placeholder:"Name, role, or system that detected the issue",value:n.detectedBy,onChange:l=>o("detectedBy",l.target.value),className:"mt-2"})]}),r.jsx(W,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?"Creating Investigation...":r.jsxs(r.Fragment,{children:["Continue to Investigation Type",r.jsx(Tr,{className:"h-4 w-4 ml-2"})]})})]})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Qt,{children:[r.jsx(mt,{className:"h-4 w-4"}),r.jsxs(Xt,{children:[r.jsx("strong",{children:"New Methodology:"})," This investigation follows a structured approach with mandatory investigation type selection (ECFA vs Fault Tree) that determines all subsequent workflow, forms, and analysis logic."]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"Investigation Types"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA (Event-Causal Factor Analysis)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For all safety and environmental incidents. Focuses on event chronology, barriers, and contributing factors."})]}),r.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Fault Tree Analysis (FTA)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For plant asset or equipment failures. Uses structured questionnaire with 8 sections and ISO 14224 taxonomy."})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"What happens next?"})}),r.jsxs(Q,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:"2"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Investigation Type Selection"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mandatory choice between ECFA and Fault Tree Analysis"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"3"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Dynamic Evidence Collection"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured forms based on your investigation type selection"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"AI Analysis & Results"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analysis only after 80% evidence completion requirement"})]})]})]})]})]})]})]})}function Nye(){const[,e]=ii(),[,t]=Xx("/investigation/:id/type"),{toast:n}=Ft(),i=t==null?void 0:t.id,[s,a]=N.useState(""),{data:o,isLoading:l}=Pe({queryKey:["/api/investigations",i],enabled:!!i}),c=Qe({mutationFn:async f=>ot(`/api/investigations/${i}/type`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({investigationType:f})}),onSuccess:f=>{n({title:"Investigation Type Set",description:`${s==="safety_environmental"?"ECFA":"Fault Tree Analysis"} workflow activated.`}),e(`/investigation/${i}/evidence`)},onError:f=>{n({title:"Error",description:"Failed to set investigation type. Please try again.",variant:"destructive"})}}),d=f=>{a(f)},u=()=>{if(!s){n({title:"Selection Required",description:"Please select an investigation type to continue.",variant:"destructive"});return}c.mutate(s)};return l?r.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading investigation..."})]})})}):o?r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Investigation Type Selection"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 2 of 4: Choose your investigation methodology"})]}),r.jsxs(Y,{className:"mb-8",children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"Problem Summary"})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"What happened:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whatHappened})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Where:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whereHappened})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"When:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(o.whenHappened).toLocaleString()})]}),o.consequence&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Impact:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.consequence})]})]})})]}),r.jsx("div",{className:"mb-8",children:r.jsxs(Qt,{className:"border-2 border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[r.jsx(mt,{className:"h-5 w-5 text-amber-600"}),r.jsxs(Xt,{className:"text-base font-medium text-amber-800 dark:text-amber-200",children:[r.jsx("strong",{children:"Mandatory Selection:"})," Is this investigation related to a safety or environmental incident?",r.jsx("br",{}),r.jsx("span",{className:"text-sm font-normal mt-2 block",children:"This choice is mandatory and sets all downstream logic, forms, analysis methods, and outputs."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs(Y,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${s==="safety_environmental"?"ring-2 ring-red-500 bg-red-50 dark:bg-red-950 border-red-200":"hover:border-red-300"}`,onClick:()=>d("safety_environmental"),children:[r.jsx(X,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:r.jsx(os,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{children:[r.jsx(Z,{className:"text-xl text-red-700 dark:text-red-300",children:"YES - Safety/Environmental"}),r.jsx(J,{variant:"destructive",className:"mt-1",children:"ECFA Methodology"})]})]}),s==="safety_environmental"&&r.jsx(Ct,{className:"h-6 w-6 text-red-600"})]})}),r.jsxs(Q,{children:[r.jsx(ve,{className:"text-base mb-4",children:"For all safety and environmental incidents requiring Event-Causal Factor Analysis."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA Framework includes:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Event chronology and timeline reconstruction"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Immediate, underlying, and root causes analysis"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Barriers and contributing factors assessment"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Risk/severity assessment and regulatory reporting"]})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900 rounded-lg",children:r.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[r.jsx("strong",{children:"Use for:"})," Personal injury, environmental releases, fires/explosions, process safety events, near misses, security incidents"]})})]})]}),r.jsxs(Y,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${s==="equipment_failure"?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-950 border-blue-200":"hover:border-blue-300"}`,onClick:()=>d("equipment_failure"),children:[r.jsx(X,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:r.jsx(uh,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx(Z,{className:"text-xl text-blue-700 dark:text-blue-300",children:"NO - Equipment/Process Failure"}),r.jsx(J,{variant:"secondary",className:"mt-1 bg-blue-100 text-blue-800",children:"Fault Tree Analysis"})]})]}),s==="equipment_failure"&&r.jsx(Ct,{className:"h-6 w-6 text-blue-600"})]})}),r.jsxs(Q,{children:[r.jsx(ve,{className:"text-base mb-4",children:"For plant asset or equipment failures using structured Fault Tree Analysis with ISO 14224 taxonomy."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"8-Section Questionnaire:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"General Information (Equipment taxonomy & hierarchy)"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Failure/Event Details & Operating Mode"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Symptom & Evidence Collection"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Operating & Maintenance History"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Equipment-Specific Parameters (conditional)"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Human Factors & Materials/Spares"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Contributing/External Factors"]})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[r.jsx("strong",{children:"Use for:"})," Pump failures, motor issues, valve problems, process equipment breakdowns, instrument malfunctions"]})})]})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(W,{onClick:u,disabled:!s||c.isPending,size:"lg",className:"min-w-[200px]",children:c.isPending?"Setting Investigation Type...":r.jsxs(r.Fragment,{children:["Continue to Evidence Collection",r.jsx(Tr,{className:"h-4 w-4 ml-2"})]})})}),s&&r.jsxs(Y,{className:"mt-8",children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"Next: Evidence Collection"})}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Based on your selection, you'll complete:"}),s==="safety_environmental"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium text-red-700 dark:text-red-300",children:"ECFA-Specific Forms:"}),r.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[r.jsx("li",{children:"• Event classification and timeline"}),r.jsx("li",{children:"• Immediate and root cause analysis"}),r.jsx("li",{children:"• Barrier analysis and contributing factors"}),r.jsx("li",{children:"• Risk assessment and regulatory status"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Fault Tree Questionnaire (8 Sections):"}),r.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[r.jsx("li",{children:"• Equipment information with ISO 14224 taxonomy"}),r.jsx("li",{children:"• Dynamic questions based on equipment type"}),r.jsx("li",{children:"• Equipment-specific parameters (pressure, temperature, etc.)"}),r.jsx("li",{children:"• Validation ensures 80% completion before analysis"})]})]})]})]})]}):r.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:r.jsxs(Qt,{children:[r.jsx(mt,{className:"h-4 w-4"}),r.jsx(Xt,{children:"Investigation not found. Please check the URL or start a new investigation."})]})})}const Sye=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function pd(e,t,n){const i=Cye(e),{webkitRelativePath:s}=e,a=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof i.path!="string"&&jP(i,"path",a),jP(i,"relativePath",a),i}function Cye(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),s=Sye.get(i);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function jP(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const kye=[".DS_Store","Thumbs.db"];function Eye(e){return bl(this,void 0,void 0,function*(){return yx(e)&&Aye(e.dataTransfer)?_ye(e.dataTransfer,e.type):Pye(e)?Oye(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Tye(e):[]})}function Aye(e){return yx(e)}function Pye(e){return yx(e)&&yx(e.target)}function yx(e){return typeof e=="object"&&e!==null}function Oye(e){return Kj(e.target.files).map(t=>pd(t))}function Tye(e){return bl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>pd(n))})}function _ye(e,t){return bl(this,void 0,void 0,function*(){if(e.items){const n=Kj(e.items).filter(s=>s.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(Iye));return wP(I3(i))}return wP(Kj(e.files).map(n=>pd(n)))})}function wP(e){return e.filter(t=>kye.indexOf(t.name)===-1)}function Kj(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function Iye(e){if(typeof e.webkitGetAsEntry!="function")return NP(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?R3(t):NP(e,t)}function I3(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?I3(n):[n]],[])}function NP(e,t){return bl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,pd(o)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return pd(i,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function Rye(e){return bl(this,void 0,void 0,function*(){return e.isDirectory?R3(e):Mye(e)})}function R3(e){const t=e.createReader();return new Promise((n,i)=>{const s=[];function a(){t.readEntries(o=>bl(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(Rye));s.push(l),a()}else try{const l=yield Promise.all(s);n(l)}catch(l){i(l)}}),o=>{i(o)})}a()})}function Mye(e){return bl(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const s=pd(i,e.fullPath);t(s)},i=>{n(i)})})})}var qy=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",s=(e.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?i.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):s===l})}return!0};function SP(e){return Fye(e)||Dye(e)||$3(e)||$ye()}function $ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fye(e){if(Array.isArray(e))return Yj(e)}function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function kP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(i){M3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function M3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qf(e,t){return zye(e)||qye(e,t)||$3(e,t)||Lye()}function Lye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3(e,t){if(e){if(typeof e=="string")return Yj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yj(e,t)}}function Yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return i}}function zye(e){if(Array.isArray(e))return e}var Bye=typeof qy=="function"?qy:qy.default,Uye="file-invalid-type",Vye="file-too-large",Wye="file-too-small",Hye="too-many-files",Gye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Uye,message:"File type must be ".concat(i)}},EP=function(t){return{code:Vye,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},AP=function(t){return{code:Wye,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Kye={code:Hye,message:"Too many files"};function D3(e,t){var n=e.type==="application/x-moz-file"||Bye(e,t);return[n,n?null:Gye(t)]}function F3(e,t,n){if(bo(e.size))if(bo(t)&&bo(n)){if(e.size>n)return[!1,EP(n)];if(e.size<t)return[!1,AP(t)]}else{if(bo(t)&&e.size<t)return[!1,AP(t)];if(bo(n)&&e.size>n)return[!1,EP(n)]}return[!0,null]}function bo(e){return e!=null}function Yye(e){var t=e.files,n=e.accept,i=e.minSize,s=e.maxSize,a=e.multiple,o=e.maxFiles,l=e.validator;return!a&&t.length>1||a&&o>=1&&t.length>o?!1:t.every(function(c){var d=D3(c,n),u=qf(d,1),f=u[0],p=F3(c,i,s),h=qf(p,1),v=h[0],m=l?l(c):null;return f&&v&&!m})}function bx(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function vm(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function PP(e){e.preventDefault()}function Qye(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Xye(e){return e.indexOf("Edge/")!==-1}function Zye(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Qye(e)||Xye(e)}function qi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return t.some(function(l){return!bx(i)&&l&&l.apply(void 0,[i].concat(a)),bx(i)})}}function Jye(){return"showOpenFilePicker"in window}function e0e(e){if(bo(e)){var t=Object.entries(e).filter(function(n){var i=qf(n,2),s=i[0],a=i[1],o=!0;return L3(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(q3))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,i){var s=qf(i,2),a=s[0],o=s[1];return kP(kP({},n),{},M3({},a,o))},{});return[{description:"Files",accept:t}]}return e}function t0e(e){if(bo(e))return Object.entries(e).reduce(function(t,n){var i=qf(n,2),s=i[0],a=i[1];return[].concat(SP(t),[s],SP(a))},[]).filter(function(t){return L3(t)||q3(t)}).join(",")}function n0e(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function r0e(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function L3(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function q3(e){return/^.*\.[\w]+$/.test(e)}var i0e=["children"],s0e=["open"],a0e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],o0e=["refKey","onChange","onClick"];function l0e(e){return u0e(e)||d0e(e)||z3(e)||c0e()}function c0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u0e(e){if(Array.isArray(e))return Qj(e)}function zy(e,t){return m0e(e)||p0e(e,t)||z3(e,t)||f0e()}function f0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3(e,t){if(e){if(typeof e=="string")return Qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(e,t)}}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return i}}function m0e(e){if(Array.isArray(e))return e}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(i){Xj(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Xj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jx(e,t){if(e==null)return{};var n=h0e(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function h0e(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var X1=N.forwardRef(function(e,t){var n=e.children,i=jx(e,i0e),s=Z1(i),a=s.open,o=jx(s,s0e);return N.useImperativeHandle(t,function(){return{open:a}},[a]),L.createElement(N.Fragment,null,n(Zt(Zt({},o),{},{open:a})))});X1.displayName="Dropzone";var B3={disabled:!1,getFilesFromEvent:Eye,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};X1.defaultProps=B3;X1.propTypes={children:Ke.func,accept:Ke.objectOf(Ke.arrayOf(Ke.string)),multiple:Ke.bool,preventDropOnDocument:Ke.bool,noClick:Ke.bool,noKeyboard:Ke.bool,noDrag:Ke.bool,noDragEventsBubbling:Ke.bool,minSize:Ke.number,maxSize:Ke.number,maxFiles:Ke.number,disabled:Ke.bool,getFilesFromEvent:Ke.func,onFileDialogCancel:Ke.func,onFileDialogOpen:Ke.func,useFsAccessApi:Ke.bool,autoFocus:Ke.bool,onDragEnter:Ke.func,onDragLeave:Ke.func,onDragOver:Ke.func,onDrop:Ke.func,onDropAccepted:Ke.func,onDropRejected:Ke.func,onError:Ke.func,validator:Ke.func};var Zj={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Z1(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Zt(Zt({},B3),e),n=t.accept,i=t.disabled,s=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,f=t.onDragOver,p=t.onDrop,h=t.onDropAccepted,v=t.onDropRejected,m=t.onFileDialogCancel,y=t.onFileDialogOpen,j=t.useFsAccessApi,g=t.autoFocus,x=t.preventDropOnDocument,w=t.noClick,b=t.noKeyboard,C=t.noDrag,k=t.noDragEventsBubbling,S=t.onError,E=t.validator,$=N.useMemo(function(){return t0e(n)},[n]),O=N.useMemo(function(){return e0e(n)},[n]),A=N.useMemo(function(){return typeof y=="function"?y:TP},[y]),P=N.useMemo(function(){return typeof m=="function"?m:TP},[m]),_=N.useRef(null),F=N.useRef(null),M=N.useReducer(x0e,Zj),G=zy(M,2),z=G[0],H=G[1],D=z.isFocused,U=z.isFileDialogActive,I=N.useRef(typeof window<"u"&&window.isSecureContext&&j&&Jye()),se=function(){!I.current&&U&&setTimeout(function(){if(F.current){var te=F.current.files;te.length||(H({type:"closeDialog"}),P())}},300)};N.useEffect(function(){return window.addEventListener("focus",se,!1),function(){window.removeEventListener("focus",se,!1)}},[F,U,P,I]);var ge=N.useRef([]),ee=function(te){_.current&&_.current.contains(te.target)||(te.preventDefault(),ge.current=[])};N.useEffect(function(){return x&&(document.addEventListener("dragover",PP,!1),document.addEventListener("drop",ee,!1)),function(){x&&(document.removeEventListener("dragover",PP),document.removeEventListener("drop",ee))}},[_,x]),N.useEffect(function(){return!i&&g&&_.current&&_.current.focus(),function(){}},[_,g,i]);var we=N.useCallback(function(q){S?S(q):console.error(q)},[S]),me=N.useCallback(function(q){q.preventDefault(),q.persist(),mn(q),ge.current=[].concat(l0e(ge.current),[q.target]),vm(q)&&Promise.resolve(s(q)).then(function(te){if(!(bx(q)&&!k)){var re=te.length,oe=re>0&&Yye({files:te,accept:$,minSize:o,maxSize:a,multiple:l,maxFiles:c,validator:E}),R=re>0&&!oe;H({isDragAccept:oe,isDragReject:R,isDragActive:!0,type:"setDraggedFiles"}),d&&d(q)}}).catch(function(te){return we(te)})},[s,d,we,k,$,o,a,l,c,E]),Se=N.useCallback(function(q){q.preventDefault(),q.persist(),mn(q);var te=vm(q);if(te&&q.dataTransfer)try{q.dataTransfer.dropEffect="copy"}catch{}return te&&f&&f(q),!1},[f,k]),le=N.useCallback(function(q){q.preventDefault(),q.persist(),mn(q);var te=ge.current.filter(function(oe){return _.current&&_.current.contains(oe)}),re=te.indexOf(q.target);re!==-1&&te.splice(re,1),ge.current=te,!(te.length>0)&&(H({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),vm(q)&&u&&u(q))},[_,u,k]),xe=N.useCallback(function(q,te){var re=[],oe=[];q.forEach(function(R){var fe=D3(R,$),Xe=zy(fe,2),ft=Xe[0],oo=Xe[1],lo=F3(R,o,a),ia=zy(lo,2),Fd=ia[0],jl=ia[1],Ld=E?E(R):null;if(ft&&Fd&&!Ld)re.push(R);else{var wl=[oo,jl];Ld&&(wl=wl.concat(Ld)),oe.push({file:R,errors:wl.filter(function(PL){return PL})})}}),(!l&&re.length>1||l&&c>=1&&re.length>c)&&(re.forEach(function(R){oe.push({file:R,errors:[Kye]})}),re.splice(0)),H({acceptedFiles:re,fileRejections:oe,isDragReject:oe.length>0,type:"setFiles"}),p&&p(re,oe,te),oe.length>0&&v&&v(oe,te),re.length>0&&h&&h(re,te)},[H,l,$,o,a,c,p,h,v,E]),ye=N.useCallback(function(q){q.preventDefault(),q.persist(),mn(q),ge.current=[],vm(q)&&Promise.resolve(s(q)).then(function(te){bx(q)&&!k||xe(te,q)}).catch(function(te){return we(te)}),H({type:"reset"})},[s,xe,we,k]),B=N.useCallback(function(){if(I.current){H({type:"openDialog"}),A();var q={multiple:l,types:O};window.showOpenFilePicker(q).then(function(te){return s(te)}).then(function(te){xe(te,null),H({type:"closeDialog"})}).catch(function(te){n0e(te)?(P(te),H({type:"closeDialog"})):r0e(te)?(I.current=!1,F.current?(F.current.value=null,F.current.click()):we(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):we(te)});return}F.current&&(H({type:"openDialog"}),A(),F.current.value=null,F.current.click())},[H,A,P,j,xe,we,O,l]),ce=N.useCallback(function(q){!_.current||!_.current.isEqualNode(q.target)||(q.key===" "||q.key==="Enter"||q.keyCode===32||q.keyCode===13)&&(q.preventDefault(),B())},[_,B]),de=N.useCallback(function(){H({type:"focus"})},[]),Ie=N.useCallback(function(){H({type:"blur"})},[]),Oe=N.useCallback(function(){w||(Zye()?setTimeout(B,0):B())},[w,B]),et=function(te){return i?null:te},dt=function(te){return b?null:et(te)},Nt=function(te){return C?null:et(te)},mn=function(te){k&&te.stopPropagation()},kn=N.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=q.refKey,re=te===void 0?"ref":te,oe=q.role,R=q.onKeyDown,fe=q.onFocus,Xe=q.onBlur,ft=q.onClick,oo=q.onDragEnter,lo=q.onDragOver,ia=q.onDragLeave,Fd=q.onDrop,jl=jx(q,a0e);return Zt(Zt(Xj({onKeyDown:dt(qi(R,ce)),onFocus:dt(qi(fe,de)),onBlur:dt(qi(Xe,Ie)),onClick:et(qi(ft,Oe)),onDragEnter:Nt(qi(oo,me)),onDragOver:Nt(qi(lo,Se)),onDragLeave:Nt(qi(ia,le)),onDrop:Nt(qi(Fd,ye)),role:typeof oe=="string"&&oe!==""?oe:"presentation"},re,_),!i&&!b?{tabIndex:0}:{}),jl)}},[_,ce,de,Ie,Oe,me,Se,le,ye,b,C,i]),T=N.useCallback(function(q){q.stopPropagation()},[]),V=N.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=q.refKey,re=te===void 0?"ref":te,oe=q.onChange,R=q.onClick,fe=jx(q,o0e),Xe=Xj({accept:$,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:et(qi(oe,ye)),onClick:et(qi(R,T)),tabIndex:-1},re,F);return Zt(Zt({},Xe),fe)}},[F,n,l,ye,i]);return Zt(Zt({},z),{},{isFocused:D&&!i,getRootProps:kn,getInputProps:V,rootRef:_,inputRef:F,open:et(B)})}function x0e(e,t){switch(t.type){case"focus":return Zt(Zt({},e),{},{isFocused:!0});case"blur":return Zt(Zt({},e),{},{isFocused:!1});case"openDialog":return Zt(Zt({},Zj),{},{isFileDialogActive:!0});case"closeDialog":return Zt(Zt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Zt(Zt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Zt(Zt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Zt({},Zj);default:return e}}function TP(){}function _P(){const[,e]=ii(),[t,n]=N.useState(null),[i,s]=N.useState([]),[a,o]=N.useState(""),[l,c]=N.useState(!1),[d,u]=N.useState(0);N.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("incident");C&&n(parseInt(C))},[]);const{data:f,isLoading:p}=Pe({queryKey:["/api/incidents",t],enabled:!!t}),h=Qe({mutationFn:async b=>{const C=await fetch(`/api/incidents/${b.id}/generate-evidence-categories`,{method:"POST",body:JSON.stringify({equipmentGroup:b.equipmentGroup,equipmentType:b.equipmentType,evidenceChecklist:b.evidenceChecklist}),headers:{"Content-Type":"application/json"}});if(!C.ok)throw new Error(`Failed to generate categories: ${C.status}`);return await C.json()},onSuccess:b=>{console.log("Evidence categories generated:",b),b&&b.categories&&Array.isArray(b.categories)?(s(b.categories),b.categories.length>0&&o(b.categories[0].id)):(console.error("Invalid evidence categories format:",b),s([]))},onError:b=>{console.error("Failed to generate evidence categories:",b)}}),v=Qe({mutationFn:async b=>{const C=new FormData;C.append("files",b.file),C.append("categoryId",b.categoryId),C.append("incidentId",t.toString()),b.description&&C.append("description",b.description);const k=await fetch(`/api/incidents/${t}/upload-evidence`,{method:"POST",body:C});if(!k.ok){const S=await k.text();throw console.error("Upload failed:",S),new Error(`Upload failed: ${k.status}`)}return await k.json()},onSuccess:(b,C)=>{s(k=>k.map(S=>S.id===C.categoryId?{...S,files:[...S.files,b.file]}:S)),c(!1)}});N.useEffect(()=>{f&&Array.isArray(i)&&i.length===0&&f.id&&f.title&&f.equipmentGroup&&f.equipmentType&&h.mutate(f)},[f]),N.useEffect(()=>{if(Array.isArray(i)&&i.length>0){const b=i.filter(O=>O.required),C=b.filter(O=>{var A;return O.files.length>0||O.isUnavailable&&((A=O.unavailableReason)==null?void 0:A.trim())}),k=i.filter(O=>!O.required),S=k.filter(O=>{var A;return O.files.length>0||O.isUnavailable&&((A=O.unavailableReason)==null?void 0:A.trim())}),E=b.length>0?C.length/b.length*70:70,$=k.length>0?S.length/k.length*30:30;u(Math.round(E+$))}},[i]);const m=(b,C,k)=>{b.forEach(S=>{c(!0),v.mutate({file:S,categoryId:C,description:k})})},y=(b,C)=>{s(k=>k.map(S=>S.id===b?{...S,files:S.files.filter(E=>E.id!==C)}:S))},j=(b,C,k)=>{s(S=>S.map(E=>E.id===b?{...E,isUnavailable:C,unavailableReason:k||"",files:C?[]:E.files}:E))},g=i.filter(b=>b.required).every(b=>{var C;return b.files.length>0||b.isUnavailable&&((C=b.unavailableReason)==null?void 0:C.trim())}),x=()=>{t&&(console.log("[EVIDENCE COLLECTION] Proceeding to MANDATORY Stage 3B Human Review"),window.location.href=`/human-review?incident=${t}`)};if(p||!f)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Tt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading incident details..."})]})});const w=i.find(b=>b.id===a);return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(W,{variant:"ghost",onClick:()=>e("/"),children:"← Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),r.jsx("h1",{className:"text-xl font-bold",children:"Step 4: Evidence Collection"})]})]}),r.jsxs(J,{variant:"outline",className:"text-sm",children:["Incident #",(f==null?void 0:f.id)||"Loading..."]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(Y,{className:"mb-8",children:r.jsxs(X,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-5 w-5"}),(f==null?void 0:f.title)||"Loading..."]}),r.jsxs(ve,{children:["Equipment: ",(f==null?void 0:f.equipmentGroup)||"Unknown"," → ",(f==null?void 0:f.equipmentType)||"Unknown"," (",(f==null?void 0:f.equipmentId)||"Unknown",")"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[d,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Evidence Collected"})]})]}),r.jsx(_r,{value:d,className:"mt-4"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-base",children:"Evidence Categories"}),r.jsxs(ve,{children:[i.filter(b=>b.required).length," required, ",i.filter(b=>!b.required).length," optional"]})]}),r.jsx(Q,{className:"space-y-2",children:i.map(b=>r.jsxs("button",{onClick:()=>o(b.id),className:`w-full text-left p-3 rounded-lg border transition-colors ${a===b.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${b.isUnavailable?"bg-orange-50 border-orange-200":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-sm",children:b.name}),b.isUnavailable?r.jsx(jr,{className:"h-4 w-4 text-orange-600"}):b.files.length>0?r.jsx(Ct,{className:"h-4 w-4 text-green-600"}):b.required?r.jsx(mt,{className:"h-4 w-4 text-orange-500"}):r.jsx("div",{className:"h-4 w-4"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(J,{variant:b.required?"destructive":"secondary",className:"text-xs",children:b.required?"Required":"Optional"}),b.isUnavailable&&r.jsx(J,{variant:"outline",className:"text-xs bg-orange-100 border-orange-300",children:"Not Available"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:b.isUnavailable?"Documented":`${b.files.length}/${b.maxFiles} files`})]})]},b.id))})]})}),r.jsx("div",{className:"lg:col-span-3",children:w&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[w.name,r.jsx(J,{variant:w.required?"destructive":"secondary",children:w.required?"Required":"Optional"}),w.isUnavailable&&r.jsx(J,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800",children:"Not Available"})]}),r.jsx(ve,{children:w.description})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:w.isUnavailable?"Evidence documented as unavailable":`${w.files.length} / ${w.maxFiles} files`})]})}),r.jsx(Q,{children:r.jsx(v0e,{category:w,onFileUpload:m,onRemoveFile:y,isUploading:l,onUnavailabilityChange:j})})]})})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/evidence-checklist?incident=${t}`),children:"← Back to Evidence Checklist"}),r.jsx(W,{onClick:x,disabled:!g,className:"flex items-center gap-2",children:r.jsxs(r.Fragment,{children:["Proceed to Human Review (Stage 3B)",r.jsx(pp,{className:"h-4 w-4"})]})})]}),!g&&i.length>0&&r.jsxs(Qt,{className:"mt-4 border-amber-200 bg-amber-50",children:[r.jsx(mt,{className:"h-4 w-4"}),r.jsxs(Xt,{children:[r.jsx("strong",{children:"Requirements:"})," For each required evidence category, either upload files OR mark as unavailable with explanation."]})]})]})]})}function v0e({category:e,onFileUpload:t,onRemoveFile:n,isUploading:i,onUnavailabilityChange:s}){const[a,o]=N.useState(""),[l,c]=N.useState(e.unavailableReason||""),{getRootProps:d,getInputProps:u,isDragActive:f}=Z1({onDrop:p=>{p.length>0&&(t(p,e.id,a),o(""))},accept:e.acceptedTypes.reduce((p,h)=>{const m={pdf:["application/pdf"],xlsx:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],csv:["text/csv"],txt:["text/plain"],jpg:["image/jpeg"],png:["image/png"],gif:["image/gif"],docx:["application/vnd.openxmlformats-officedocument.wordprocessingml.document"]}[h]||[h];return{...p,...m.reduce((y,j)=>({...y,[j]:[]}),{})}},{}),maxFiles:e.maxFiles-e.files.length,disabled:e.files.length>=e.maxFiles||i});return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"border rounded-lg p-4 bg-orange-50 border-orange-200",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yn,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:p=>{s(e.id,p,l)}}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(ie,{htmlFor:`unavailable-${e.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[r.jsx(jr,{className:"h-4 w-4 text-orange-600"}),"This evidence is not available or accessible"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&r.jsxs("div",{className:"mt-3",children:[r.jsx(ie,{htmlFor:`reason-${e.id}`,className:"text-sm font-medium",children:"Why is this evidence unavailable? *"}),r.jsx(ze,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:l,onChange:p=>{c(p.target.value),s(e.id,!0,p.target.value)},className:"mt-1",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&e.files.length<e.maxFiles&&r.jsxs("div",{...d(),className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${f?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${i?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("input",{...u()}),r.jsx(Va,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-lg font-medium",children:f?"Drop files here":"Drag files here or click to browse"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Accepted: ",e.acceptedTypes.join(", ")]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max ",e.maxFiles," files, ",e.files.length," uploaded"]})]})]}),!e.isUnavailable&&e.files.length<e.maxFiles&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"file-description",className:"text-sm font-medium",children:"Optional Description"}),r.jsx(ze,{id:"file-description",placeholder:"Describe what this evidence shows...",value:a,onChange:p=>o(p.target.value),className:"mt-1",rows:2})]}),e.files.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:["Uploaded Files",e.isUnavailable&&r.jsx(J,{variant:"outline",className:"text-xs bg-amber-100 border-amber-300",children:"Files uploaded but evidence marked unavailable"})]}),e.files.map(p=>r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${e.isUnavailable?"bg-amber-50 border-amber-200":"bg-green-50 border-green-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(rn,{className:`h-5 w-5 ${e.isUnavailable?"text-amber-600":"text-green-600"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:p.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(p.size/1024/1024).toFixed(2)," MB • ",p.type]}),p.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:r.jsx("a",{href:p.url,download:!0,children:r.jsx(cr,{className:"h-4 w-4"})})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>n(e.id,p.id),children:r.jsx(Ws,{className:"h-4 w-4"})})]})]},p.id)),e.isUnavailable&&r.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 p-2 rounded border border-amber-200",children:[r.jsx("strong",{children:"Note:"}),' Evidence is marked as unavailable but files are still uploaded. You can remove files or uncheck "not available" to use uploaded evidence.']})]}),e.isUnavailable&&e.unavailableReason&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"font-medium text-sm text-orange-800 mb-2 flex items-center gap-2",children:[r.jsx(jr,{className:"h-4 w-4"}),"Evidence Unavailability Documentation"]}),r.jsxs("p",{className:"text-sm text-orange-700 mb-2",children:[r.jsx("strong",{children:"Reason:"})," ",e.unavailableReason]}),r.jsx("p",{className:"text-xs text-orange-600",children:"This documentation will be included in the final analysis to explain evidence limitations."})]}),e.files.length>=e.maxFiles&&r.jsxs(Qt,{className:"border-green-200 bg-green-50",children:[r.jsx(Ct,{className:"h-4 w-4"}),r.jsxs(Xt,{children:["This category is complete! You've uploaded the maximum number of files (",e.maxFiles,")."]})]})]})}function g0e(){var D,U,I,se,ge,ee,we,me,Se,le,xe,ye;const{toast:e}=Ft(),t=si(),[n,i]=N.useState(""),[s,a]=N.useState(!1),[o,l]=N.useState(null),[c,d]=N.useState({}),[u,f]=N.useState(""),[p,h]=N.useState("all"),[v,m]=N.useState("equipmentType"),[y,j]=N.useState("asc"),[g,x]=N.useState(!1),[w,b]=N.useState("all"),[C,k]=N.useState("all"),{data:S,isLoading:E,error:$}=Pe({queryKey:["/api/evidence-library"]});console.log("Query State:",{isLoading:E,error:$==null?void 0:$.message,hasData:!!S,dataKeys:S?Object.keys(S):[],itemCount:Array.isArray(S)?S.length:0});const O=N.useMemo(()=>{if(!Array.isArray(S))return[];let B=S;if(u.trim()){const ce=u.toLowerCase().trim();B=B.filter(de=>[de.equipmentGroup,de.equipmentType,de.subtype,de.componentFailureMode,de.equipmentCode,de.failureCode].join(" ").toLowerCase().includes(ce))}if(p!=="all"&&(B=B.filter(ce=>{switch(p){case"rotating":return ce.equipmentGroup==="Rotating Equipment";case"electrical":return ce.equipmentGroup==="Electrical";case"control":return ce.equipmentGroup==="Control Valves";case"environmental":return ce.equipmentGroup==="Environmental";case"instrumentation":return ce.equipmentGroup==="Instrumentation";default:return!0}})),w!=="all"&&(B=B.filter(ce=>{switch(w){case"rotating":return ce.equipmentGroup==="Rotating Equipment";case"electrical":return ce.equipmentGroup==="Electrical";case"control":return ce.equipmentGroup==="Control Valves";case"environmental":return ce.equipmentGroup==="Environmental";case"instrumentation":return ce.equipmentGroup==="Instrumentation";default:return!0}})),C!=="all"){const ce=new Date;B=B.filter(de=>{const Ie=new Date(de.lastUpdated||""),Oe=Math.floor((ce.getTime()-Ie.getTime())/(1e3*60*60*24));switch(C){case"recent":return Oe<=7;case"week":return Oe<=30;case"month":return Oe<=90;case"old":return Oe>90;default:return!0}})}return B.sort((ce,de)=>{let Ie,Oe;switch(v){case"equipmentType":Ie=ce.equipmentType,Oe=de.equipmentType;break;case"failureCode":Ie=ce.failureCode,Oe=de.failureCode;break;case"lastUpdated":Ie=ce.lastUpdated||"",Oe=de.lastUpdated||"";break;case"riskRanking":Ie=ce.riskRanking,Oe=de.riskRanking;break;default:Ie=ce.equipmentType,Oe=de.equipmentType}const et=Ie.localeCompare(Oe);return y==="asc"?et:-et}),B},[S,u,p,v,y,w,C]),A=()=>{f(""),h("all"),m("equipmentType"),j("asc"),b("all"),k("all")},P=(B,ce)=>{if(!ce.trim())return B;const de=new RegExp(`(${ce.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return B.split(de).map((Oe,et)=>de.test(Oe)?r.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:Oe},et):Oe)},_=[u.trim()!=="",p!=="all",v!=="equipmentType",y!=="asc",w!=="all",C!=="all"].filter(Boolean).length,F={Pumps:"pumps_centrifugal",Compressors:"compressors_reciprocating",Turbines:"turbines_gas","Electric Motors":"motors_electric",Generators:"generators_synchronous","Fans / Blowers":"fans_centrifugal","Agitators / Mixers":"mixers_top_entry","Heat Exchangers":"heat_exchangers_shell_tube",Boilers:"boilers_water_tube","Pressure Vessels":"vessels_pressure","Columns/Towers":"columns_distillation","Filters/Strainers":"filters_basket",Tanks:"tanks_atmospheric",Piping:"piping_systems",Valves:"valves_control",Switchgear:"switchgear_electrical",Transformers:"transformers_power","UPS/Rectifiers":"ups_static","Cables/Busbars":"cables_power","Sensors/Transmitters":"sensors_pressure","PLCs/DCS Systems":"plc_redundant","Control Valves":"control_valves_pneumatic",Analyzers:"analyzers_gc","HVAC Units":"hvac_air_handler","Cranes/Hoists":"cranes_bridge","Fire Protection Systems":"fire_systems_deluge"};console.log("Equipment Types API Response:",equipmentTypes),console.log("Is Loading:",E),console.log("Equipment Types Array:",equipmentTypes==null?void 0:equipmentTypes.equipmentTypes);const{data:M}=Pe({queryKey:["/api/evidence-library/equipment",n],queryFn:()=>ot(`/api/evidence-library/equipment/${n}`),enabled:!!n}),{data:G}=Pe({queryKey:["/api/evidence-library/admin/history",n],queryFn:()=>ot(`/api/evidence-library/admin/history?equipmentType=${n}`),enabled:!!n}),z=Qe({mutationFn:async({equipmentType:B,trendId:ce,updates:de})=>ot(`/api/evidence-library/admin/equipment/${B}/trends/${ce}`,{method:"PATCH",body:JSON.stringify({updates:de,updatedBy:"Admin User"}),headers:{"Content-Type":"application/json","x-admin-key":"admin123"}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/evidence-library/equipment",n]}),e({title:"Success",description:"Trend requirement updated successfully"}),l(null)},onError:()=>{e({title:"Error",description:"Failed to update trend requirement",variant:"destructive"})}});Qe({mutationFn:()=>ot("/api/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}}),onSuccess:B=>{const ce=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),de=URL.createObjectURL(ce),Ie=document.createElement("a");Ie.href=de,Ie.download=`evidence-library-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie),URL.revokeObjectURL(de),e({title:"Success",description:"Evidence library exported successfully"})}});const H=()=>{!o||!n||z.mutate({equipmentType:n,trendId:o.id,updates:o})};return E?r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Loading evidence library..."})]})})}):r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(Hn,{className:"h-8 w-8 text-blue-600"}),"Evidence Library Administration"]}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Manage equipment-specific evidence requirements and AI prompts (",Array.isArray(S)?S.length:0," evidence items)"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{variant:"outline",onClick:async()=>{try{if(!Array.isArray(S)||!S.length){e({title:"No Data",description:"No evidence library items to export",variant:"destructive"});return}const B=["Equipment Group","Equipment Type","Component/Failure Mode","Equipment Code","Failure Code","Risk Ranking","Required Trend Data","AI Questions","Attachments Required"],ce=S.map(dt=>[dt.equipmentGroup,dt.equipmentType,dt.componentFailureMode,dt.equipmentCode,dt.failureCode,dt.riskRanking,dt.requiredTrendDataEvidence||"",dt.aiOrInvestigatorQuestions||"",dt.attachmentsEvidenceRequired||""]),de=[B.join(","),...ce.map(dt=>dt.map(Nt=>`"${Nt.replace(/"/g,'""')}"`).join(","))].join(`
`),Ie=new Blob([de],{type:"text/csv;charset=utf-8;"}),Oe=document.createElement("a"),et=URL.createObjectURL(Ie);Oe.setAttribute("href",et),Oe.setAttribute("download",`evidence-library-${new Date().toISOString().split("T")[0]}.csv`),Oe.style.visibility="hidden",document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(et),e({title:"CSV Export Successful",description:`Exported ${S.length} evidence library items to CSV`})}catch(B){console.error("CSV export failed:",B),e({title:"CSV Export Failed",description:"Failed to export to CSV format",variant:"destructive"})}},children:[r.jsx(rb,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),r.jsxs(W,{variant:"outline",onClick:async()=>{try{const B=await fetch("/api/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}});if(B.ok){const ce=await B.blob(),de=window.URL.createObjectURL(ce),Ie=document.createElement("a");Ie.href=de,Ie.download="evidence-library-export.json",Ie.click(),window.URL.revokeObjectURL(de),e({title:"JSON Export Successful",description:"Evidence library exported successfully"})}else e({title:"Export Failed",description:"Unable to export library",variant:"destructive"})}catch{e({title:"Export Error",description:"Failed to export evidence library",variant:"destructive"})}},children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Export JSON"]}),r.jsxs(W,{onClick:()=>{const B=document.createElement("input");B.type="file",B.accept=".csv,.json",B.onchange=async ce=>{var Ie;const de=(Ie=ce.target.files)==null?void 0:Ie[0];if(de)try{if(de.name.endsWith(".csv")){const Oe=new FileReader;Oe.onload=et=>{var dt;try{const mn=((dt=et.target)==null?void 0:dt.result).split(`
`),kn=mn[0].split(",").map(T=>T.replace(/"/g,"").trim());e({title:"CSV Import Ready",description:`Found ${mn.length-1} equipment types in CSV. Import processing completed.`})}catch(Nt){console.error("CSV import failed:",Nt),e({title:"CSV Import Failed",description:"Failed to parse CSV file",variant:"destructive"})}},Oe.readAsText(de)}else{const Oe=new FormData;Oe.append("file",de),(await fetch("/api/evidence-library/admin/import",{method:"POST",headers:{"x-admin-key":"admin123"},body:Oe})).ok?(e({title:"JSON Import Successful",description:"Evidence library imported successfully"}),window.location.reload()):e({title:"Import Failed",description:"Unable to import library",variant:"destructive"})}}catch{e({title:"Import Error",description:"Failed to import file",variant:"destructive"})}},B.click()},children:[r.jsx(Va,{className:"h-4 w-4 mr-2"}),"Import File"]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-5 w-5"}),"Equipment Types Library (",((D=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:D.length)||0," Types)"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(_i,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(ue,{placeholder:"Search equipment types, ISO codes, or subtypes...",className:"pl-10 pr-10",value:u,onChange:B=>f(B.target.value)}),u&&r.jsx(W,{variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-8 w-8 p-0",onClick:()=>f(""),children:r.jsx(Ws,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hz,{className:"h-4 w-4"}),r.jsxs(We,{value:p,onValueChange:h,children:[r.jsx(Ue,{className:"w-48",children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"all",children:"All Equipment"}),r.jsx(ne,{value:"rotating",children:"Rotating Equipment"}),r.jsx(ne,{value:"static",children:"Static Equipment"}),r.jsx(ne,{value:"electrical",children:"Electrical Equipment"}),r.jsx(ne,{value:"process",children:"Process Equipment"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),r.jsxs(We,{value:v,onValueChange:m,children:[r.jsx(Ue,{className:"w-40",children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"equipmentType",children:"Equipment Type"}),r.jsx(ne,{value:"failureCode",children:"Failure Code"}),r.jsx(ne,{value:"lastUpdated",children:"Last Updated"}),r.jsx(ne,{value:"riskRanking",children:"Risk Ranking"})]})]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>j(y==="asc"?"desc":"asc"),children:y==="asc"?r.jsx(OI,{className:"h-4 w-4"}):r.jsx(PI,{className:"h-4 w-4"})})]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>x(!g),className:g?"bg-blue-50 border-blue-200":"",children:["Advanced Filters",_>0&&r.jsx(J,{variant:"secondary",className:"ml-2 h-5 w-5 p-0 text-xs",children:_})]}),_>0&&r.jsxs(W,{variant:"outline",size:"sm",onClick:A,children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Clear All (",_,")"]}),r.jsxs("div",{className:"text-sm text-gray-600 ml-auto",children:["Showing ",O.length," of ",Array.isArray(S)?S.length:0," evidence items"]})]}),g&&r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Advanced Filters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{className:"text-sm font-medium",children:"Equipment Category"}),r.jsxs(We,{value:w,onValueChange:b,children:[r.jsx(Ue,{className:"mt-1",children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"all",children:"All Equipment Types"}),r.jsx(ne,{value:"rotating",children:"Rotating Equipment"}),r.jsx(ne,{value:"static",children:"Static Equipment"}),r.jsx(ne,{value:"electrical",children:"Electrical Systems"}),r.jsx(ne,{value:"process",children:"Process Control"}),r.jsx(ne,{value:"instrumentation",children:"Instrumentation"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{className:"text-sm font-medium",children:"Last Updated"}),r.jsxs(We,{value:C,onValueChange:k,children:[r.jsx(Ue,{className:"mt-1",children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"all",children:"Any Time"}),r.jsx(ne,{value:"recent",children:"Last 7 days"}),r.jsx(ne,{value:"week",children:"Last 30 days"}),r.jsx(ne,{value:"month",children:"Last 90 days"}),r.jsx(ne,{value:"old",children:"Older than 90 days"})]})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(W,{variant:"outline",size:"sm",onClick:()=>{b("all"),k("all")},className:"w-full",children:"Reset Advanced"})})]})]})]}),r.jsx("div",{className:"border rounded-lg",children:r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(Jt,{children:[r.jsx(rt,{className:"font-semibold",children:"Equipment Type"}),r.jsx(rt,{className:"font-semibold",children:"Typical Subtypes / Examples"}),r.jsx(rt,{className:"font-semibold",children:"Required Trend Data"}),r.jsx(rt,{className:"font-semibold",children:"AI Prompt Examples"}),r.jsx(rt,{className:"font-semibold",children:"Attachments / Evidence Required"}),r.jsx(rt,{className:"text-right font-semibold",children:"Actions"})]})}),r.jsx(Qi,{children:!E&&O.length>0?O.map(B=>r.jsxs(Jt,{children:[r.jsx(Ze,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:P(B.equipmentType,u)}),r.jsx(J,{variant:"outline",className:"text-xs",children:B.iso14224Code})]})}),r.jsx(Ze,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.subtypes.slice(0,4).map((ce,de)=>r.jsx(J,{variant:"secondary",className:"text-xs",children:ce},de)),B.subtypes.length>4&&r.jsxs(J,{variant:"secondary",className:"text-xs",children:["+",B.subtypes.length-4," more"]})]})}),r.jsx(Ze,{children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ci,{className:"h-3 w-3"}),r.jsx("span",{children:"Comprehensive monitoring"})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Vibration, Temperature, Pressure, Flow"})]})}),r.jsx(Ze,{children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Tt,{className:"h-3 w-3"}),r.jsx("span",{children:"Equipment-specific"})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Context-aware prompts configured"})]})}),r.jsx(Ze,{children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(rn,{className:"h-3 w-3"}),r.jsx("span",{children:"Standard attachments"})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Trends, photos, maintenance logs"})]})}),r.jsx(Ze,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-1",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>i(B.equipmentType.toLowerCase().replace(/[^a-z0-9]/g,"_")),children:r.jsx(Dc,{className:"h-3 w-3"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>{e({title:"Edit Equipment Type",description:`Editing ${B.equipmentType} - Advanced editing interface will be available soon`})},children:r.jsx(Xr,{className:"h-3 w-3"})})]})})]},B.iso14224Code)):E?r.jsx(Jt,{children:r.jsx(Ze,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Hn,{className:"h-8 w-8 text-gray-400"}),r.jsx("p",{className:"text-gray-600",children:"Loading equipment types..."}),r.jsx("p",{className:"text-xs text-gray-500",children:"Fetching data from API..."})]})})}):r.jsx(Jt,{children:r.jsx(Ze,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Hn,{className:"h-8 w-8 text-red-400"}),r.jsx("p",{className:"text-gray-600",children:"No equipment types found"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Data: ",JSON.stringify(equipmentTypes)]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Error: ",($==null?void 0:$.message)||"None"]})]})})})})]})}),r.jsxs("div",{className:"flex items-center justify-between py-2 px-1",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",O.length," of ",(equipmentTypes==null?void 0:equipmentTypes.totalCount)||((U=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:U.length)||0," equipment types"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["API Status: ",equipmentTypes!=null&&equipmentTypes.success?"Connected":"Disconnected"," | Last updated: ",new Date().toLocaleDateString()]})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-5 w-5"}),"Equipment Selection"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"equipment-select",children:"Select Equipment Type"}),r.jsxs(We,{value:n,onValueChange:i,children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Choose equipment type..."})}),r.jsx(Ge,{children:E?r.jsx("div",{className:"p-2 text-center text-gray-500",children:"Loading equipment types..."}):((I=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:I.length)>0?equipmentTypes.equipmentTypes.map(B=>{const ce=F[B.equipmentType];return r.jsxs(ne,{value:ce||B.equipmentType.toLowerCase().replace(/\s+/g,"_"),children:[B.equipmentType," (",B.iso14224Code,")"]},B.equipmentType)}):r.jsx("div",{className:"p-2 text-center text-gray-500",children:"No equipment types found"})})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs(W,{variant:"outline",className:"w-full",onClick:()=>a(!0),children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add New Equipment Type"]})})]})})]}),s&&r.jsxs(Y,{className:"border-primary/20",children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"Add New Equipment Type"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Type Name"}),r.jsx(ue,{placeholder:"e.g., Heat Exchangers",value:c.name||"",onChange:B=>d(ce=>({...ce,name:B.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"ISO 14224 Code"}),r.jsx(ue,{placeholder:"e.g., HE-003",value:c.id||"",onChange:B=>d(ce=>({...ce,id:B.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Subtypes (comma-separated)"}),r.jsx(ue,{placeholder:"e.g., Shell and Tube, Plate, Air Cooled",value:c.units||"",onChange:B=>d(ce=>({...ce,units:B.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Description"}),r.jsx(ze,{placeholder:"Brief description of equipment type and its applications",value:c.description||"",onChange:B=>d(ce=>({...ce,description:B.target.value}))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{onClick:()=>{e({title:"Feature Coming Soon",description:"Equipment type addition will be implemented in the next update"}),a(!1)},disabled:!c.name||!c.id,children:"Add Equipment Type"}),r.jsx(W,{variant:"outline",onClick:()=>{a(!1),d({})},children:"Cancel"})]})]})]}),n&&M&&r.jsxs(Zn,{defaultValue:"trends",className:"space-y-4",children:[r.jsxs(Fn,{className:"grid grid-cols-4 w-fit",children:[r.jsxs(Ae,{value:"trends",children:[r.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Trend Data"]}),r.jsxs(Ae,{value:"attachments",children:[r.jsx(dz,{className:"h-4 w-4 mr-2"}),"Attachments"]}),r.jsxs(Ae,{value:"prompts",children:[r.jsx(Tt,{className:"h-4 w-4 mr-2"}),"AI Prompts"]}),r.jsxs(Ae,{value:"history",children:[r.jsx(Is,{className:"h-4 w-4 mr-2"}),"History"]})]}),r.jsx(ke,{value:"trends",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Trend Data Requirements"}),r.jsxs(W,{size:"sm",children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add Trend"]})]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:(ge=(se=M==null?void 0:M.profile)==null?void 0:se.requiredTrendData)==null?void 0:ge.map(B=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-semibold",children:B.name}),r.jsx(J,{variant:B.mandatory?"default":"secondary",children:B.mandatory?"Mandatory":"Optional"})]}),r.jsx(W,{size:"sm",variant:"ghost",onClick:()=>l(B),children:r.jsx(Xr,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:B.description}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Units:"})," ",B.units]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sampling:"})," ",B.samplingFrequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Range:"})," ",B.typicalRange||"Not specified"]})]}),B.alertThresholds&&r.jsxs("div",{className:"mt-2 text-sm",children:[r.jsx("span",{className:"font-medium",children:"Thresholds:"}),r.jsxs("span",{className:"ml-2 text-amber-600",children:["Warning: ",B.alertThresholds.warning]}),r.jsxs("span",{className:"ml-4 text-red-600",children:["Alarm: ",B.alertThresholds.alarm]})]})]},B.id))})})]})}),r.jsx(ke,{value:"attachments",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Attachment Requirements"}),r.jsxs(W,{size:"sm",children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add Attachment"]})]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:(we=(ee=M==null?void 0:M.profile)==null?void 0:ee.requiredAttachments)==null?void 0:we.map(B=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-semibold",children:B.name}),r.jsx(J,{variant:B.mandatory?"default":"secondary",children:B.mandatory?"Mandatory":"Optional"})]}),r.jsx(W,{size:"sm",variant:"ghost",children:r.jsx(Xr,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:B.description}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"File Types:"})," ",B.fileTypes.join(", ")]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Max Size:"})," ",B.maxSizeMB,"MB"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Validation:"})," ",B.validationCriteria||"None"]})]})]},B.id))})})]})}),r.jsx(ke,{value:"prompts",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"AI Prompt Templates"})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:(le=(Se=(me=M==null?void 0:M.data)==null?void 0:me.profile)==null?void 0:Se.aiPromptTemplates)==null?void 0:le.map((B,ce)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold capitalize",children:B.fieldType.replace("_"," ")}),r.jsx(W,{size:"sm",variant:"ghost",children:r.jsx(Xr,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:B.context}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded text-sm",children:[r.jsx("strong",{children:"Prompt:"})," ",B.prompt]}),B.examples&&B.examples.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("strong",{className:"text-sm",children:"Examples:"}),r.jsx("ul",{className:"text-sm text-gray-600 mt-1 space-y-1",children:B.examples.map((de,Ie)=>r.jsxs("li",{className:"pl-2 border-l-2 border-gray-200",children:['"',de,'"']},Ie))})]})]},ce))})})]})}),r.jsx(ke,{value:"history",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Update History"})}),r.jsx(Q,{children:((ye=(xe=G==null?void 0:G.data)==null?void 0:xe.history)==null?void 0:ye.length)>0?r.jsx("div",{className:"space-y-2",children:G.data.history.map((B,ce)=>r.jsxs("div",{className:"border-l-4 border-blue-200 pl-4 py-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(J,{variant:"outline",children:B.changeType}),r.jsx("span",{className:"font-medium",children:B.fieldChanged}),r.jsxs("span",{className:"text-gray-500",children:["by ",B.updatedBy]}),r.jsx("span",{className:"text-gray-400",children:new Date(B.timestamp).toLocaleDateString()})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:B.reason})]},ce))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No update history available"})})]})})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(Y,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsx(X,{children:r.jsxs(Z,{children:["Edit Trend Requirement: ",o.name]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"trend-name",children:"Name"}),r.jsx(ue,{id:"trend-name",value:o.name,onChange:B=>l({...o,name:B.target.value})})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"trend-description",children:"Description"}),r.jsx(ze,{id:"trend-description",value:o.description,onChange:B=>l({...o,description:B.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"trend-units",children:"Units"}),r.jsx(ue,{id:"trend-units",value:o.units,onChange:B=>l({...o,units:B.target.value})})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"trend-sampling",children:"Sampling Frequency"}),r.jsx(ue,{id:"trend-sampling",value:o.samplingFrequency,onChange:B=>l({...o,samplingFrequency:B.target.value})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),r.jsx(W,{onClick:H,disabled:z.isPending,children:z.isPending?"Updating...":"Update"})]})]})]})})]})}var Ep=e=>e.type==="checkbox",Ao=e=>e instanceof Date,ir=e=>e==null;const U3=e=>typeof e=="object";var fn=e=>!ir(e)&&!Array.isArray(e)&&U3(e)&&!Ao(e),V3=e=>fn(e)&&e.target?Ep(e.target)?e.target.checked:e.target.value:e,y0e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,W3=(e,t)=>e.has(y0e(t)),b0e=e=>{const t=e.constructor&&e.constructor.prototype;return fn(t)&&t.hasOwnProperty("isPrototypeOf")},J1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function In(e){let t;const n=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(J1&&(e instanceof Blob||i))&&(n||fn(e)))if(t=n?[]:{},!n&&!b0e(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=In(e[s]));else return e;return t}var vg=e=>Array.isArray(e)?e.filter(Boolean):[],cn=e=>e===void 0,Ne=(e,t,n)=>{if(!t||!fn(e))return n;const i=vg(t.split(/[,[\].]+?/)).reduce((s,a)=>ir(s)?s:s[a],e);return cn(i)||i===e?cn(e[t])?n:e[t]:i},Er=e=>typeof e=="boolean",eS=e=>/^\w*$/.test(e),H3=e=>vg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Et=(e,t,n)=>{let i=-1;const s=eS(t)?[t]:H3(t),a=s.length,o=a-1;for(;++i<a;){const l=s[i];let c=n;if(i!==o){const d=e[l];c=fn(d)||Array.isArray(d)?d:isNaN(+s[i+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const wx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ys={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},G3=L.createContext(null),gg=()=>L.useContext(G3),j0e=e=>{const{children:t,...n}=e;return L.createElement(G3.Provider,{value:n},t)};var K3=(e,t,n,i=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==wi.all&&(t._proxyFormState[o]=!i||wi.all),n&&(n[o]=!0),e[o]}});return s};function w0e(e){const t=gg(),{control:n=t.control,disabled:i,name:s,exact:a}=e||{},[o,l]=L.useState(n._formState),c=L.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=L.useRef(s);return d.current=s,L.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!i&&l({...n._formState,...u})}}),[n,i,a]),L.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),L.useMemo(()=>K3(o,n,c.current,!1),[o,n])}var Zi=e=>typeof e=="string",Y3=(e,t,n,i,s)=>Zi(e)?(i&&t.watch.add(e),Ne(n,e,s)):Array.isArray(e)?e.map(a=>(i&&t.watch.add(a),Ne(n,a))):(i&&(t.watchAll=!0),n);function N0e(e){const t=gg(),{control:n=t.control,name:i,defaultValue:s,disabled:a,exact:o}=e||{},l=L.useRef(i),c=L.useRef(s);l.current=i,L.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!a&&u(Y3(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,a,o]);const[d,u]=L.useState(n._getWatch(i,s));return L.useEffect(()=>n._removeUnmounted()),d}function S0e(e){const t=gg(),{name:n,disabled:i,control:s=t.control,shouldUnregister:a}=e,o=W3(s._names.array,n),l=N0e({control:s,name:n,defaultValue:Ne(s._formValues,n,Ne(s._defaultValues,n,e.defaultValue)),exact:!0}),c=w0e({control:s,name:n,exact:!0}),d=L.useRef(e),u=L.useRef(s.register(n,{...e.rules,value:l,...Er(e.disabled)?{disabled:e.disabled}:{}})),f=L.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ne(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ne(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ne(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ne(c.errors,n)}}),[c,n]),p=L.useCallback(y=>u.current.onChange({target:{value:V3(y),name:n},type:wx.CHANGE}),[n]),h=L.useCallback(()=>u.current.onBlur({target:{value:Ne(s._formValues,n),name:n},type:wx.BLUR}),[n,s._formValues]),v=L.useCallback(y=>{const j=Ne(s._fields,n);j&&y&&(j._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:g=>y.setCustomValidity(g),reportValidity:()=>y.reportValidity()})},[s._fields,n]),m=L.useMemo(()=>({name:n,value:l,...Er(i)||c.disabled?{disabled:c.disabled||i}:{},onChange:p,onBlur:h,ref:v}),[n,i,c.disabled,p,h,v,l]);return L.useEffect(()=>{const y=s._options.shouldUnregister||a;s.register(n,{...d.current.rules,...Er(d.current.disabled)?{disabled:d.current.disabled}:{}});const j=(g,x)=>{const w=Ne(s._fields,g);w&&w._f&&(w._f.mount=x)};if(j(n,!0),y){const g=In(Ne(s._options.defaultValues,n));Et(s._defaultValues,n,g),cn(Ne(s._formValues,n))&&Et(s._formValues,n,g)}return!o&&s.register(n),()=>{(o?y&&!s._state.action:y)?s.unregister(n):j(n,!1)}},[n,s,o,a]),L.useEffect(()=>{s._setDisabledField({disabled:i,name:n})},[i,n,s]),L.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const C0e=e=>e.render(S0e(e));var Q3=(e,t,n,i,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:s||!0}}:{},$u=e=>Array.isArray(e)?e:[e],IP=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Jj=e=>ir(e)||!U3(e);function ga(e,t){if(Jj(e)||Jj(t))return e===t;if(Ao(e)&&Ao(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const s of n){const a=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Ao(a)&&Ao(o)||fn(a)&&fn(o)||Array.isArray(a)&&Array.isArray(o)?!ga(a,o):a!==o)return!1}}return!0}var nr=e=>fn(e)&&!Object.keys(e).length,tS=e=>e.type==="file",Ni=e=>typeof e=="function",Nx=e=>{if(!J1)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},X3=e=>e.type==="select-multiple",nS=e=>e.type==="radio",k0e=e=>nS(e)||Ep(e),By=e=>Nx(e)&&e.isConnected;function E0e(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=cn(e)?i++:e[t[i++]];return e}function A0e(e){for(const t in e)if(e.hasOwnProperty(t)&&!cn(e[t]))return!1;return!0}function bn(e,t){const n=Array.isArray(t)?t:eS(t)?[t]:H3(t),i=n.length===1?e:E0e(e,n),s=n.length-1,a=n[s];return i&&delete i[a],s!==0&&(fn(i)&&nr(i)||Array.isArray(i)&&A0e(i))&&bn(e,n.slice(0,-1)),e}var Z3=e=>{for(const t in e)if(Ni(e[t]))return!0;return!1};function Sx(e,t={}){const n=Array.isArray(e);if(fn(e)||n)for(const i in e)Array.isArray(e[i])||fn(e[i])&&!Z3(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Sx(e[i],t[i])):ir(e[i])||(t[i]=!0);return t}function J3(e,t,n){const i=Array.isArray(e);if(fn(e)||i)for(const s in e)Array.isArray(e[s])||fn(e[s])&&!Z3(e[s])?cn(t)||Jj(n[s])?n[s]=Array.isArray(e[s])?Sx(e[s],[]):{...Sx(e[s])}:J3(e[s],ir(t)?{}:t[s],n[s]):n[s]=!ga(e[s],t[s]);return n}var au=(e,t)=>J3(e,t,Sx(t));const RP={value:!1,isValid:!1},MP={value:!0,isValid:!0};var eL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!cn(e[0].attributes.value)?cn(e[0].value)||e[0].value===""?MP:{value:e[0].value,isValid:!0}:MP:RP}return RP},tL=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>cn(e)?e:t?e===""?NaN:e&&+e:n&&Zi(e)?new Date(e):i?i(e):e;const $P={isValid:!1,value:null};var nL=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,$P):$P;function DP(e){const t=e.ref;return tS(t)?t.files:nS(t)?nL(e.refs).value:X3(t)?[...t.selectedOptions].map(({value:n})=>n):Ep(t)?eL(e.refs).value:tL(cn(t.value)?e.ref.value:t.value,e)}var P0e=(e,t,n,i)=>{const s={};for(const a of e){const o=Ne(t,a);o&&Et(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:i}},Cx=e=>e instanceof RegExp,ou=e=>cn(e)?e:Cx(e)?e.source:fn(e)?Cx(e.value)?e.value.source:e.value:e,FP=e=>({isOnSubmit:!e||e===wi.onSubmit,isOnBlur:e===wi.onBlur,isOnChange:e===wi.onChange,isOnAll:e===wi.all,isOnTouch:e===wi.onTouched});const LP="AsyncFunction";var O0e=e=>!!e&&!!e.validate&&!!(Ni(e.validate)&&e.validate.constructor.name===LP||fn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===LP)),T0e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),qP=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Du=(e,t,n,i)=>{for(const s of n||Object.keys(e)){const a=Ne(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!i)return!0;if(o.ref&&t(o.ref,o.name)&&!i)return!0;if(Du(l,t))break}else if(fn(l)&&Du(l,t))break}}};function zP(e,t,n){const i=Ne(e,n);if(i||eS(n))return{error:i,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=Ne(t,a),l=Ne(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var _0e=(e,t,n,i)=>{n(e);const{name:s,...a}=e;return nr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!i||wi.all))},I0e=(e,t,n)=>!e||!t||e===t||$u(e).some(i=>i&&(n?i===t:i.startsWith(t)||t.startsWith(i))),R0e=(e,t,n,i,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?i.isOnBlur:s.isOnBlur)?!e:(n?i.isOnChange:s.isOnChange)?e:!0,M0e=(e,t)=>!vg(Ne(e,t)).length&&bn(e,t),$0e=(e,t,n)=>{const i=$u(Ne(e,n));return Et(i,"root",t[n]),Et(e,n,i),e},Fm=e=>Zi(e);function BP(e,t,n="validate"){if(Fm(e)||Array.isArray(e)&&e.every(Fm)||Er(e)&&!e)return{type:n,message:Fm(e)?e:"",ref:t}}var Ol=e=>fn(e)&&!Cx(e)?e:{value:e,message:""},UP=async(e,t,n,i,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:p,pattern:h,validate:v,name:m,valueAsNumber:y,mount:j}=e._f,g=Ne(n,m);if(!j||t.has(m))return{};const x=l?l[0]:o,w=A=>{s&&x.reportValidity&&(x.setCustomValidity(Er(A)?"":A||""),x.reportValidity())},b={},C=nS(o),k=Ep(o),S=C||k,E=(y||tS(o))&&cn(o.value)&&cn(g)||Nx(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,$=Q3.bind(null,m,i,b),O=(A,P,_,F=ys.maxLength,M=ys.minLength)=>{const G=A?P:_;b[m]={type:A?F:M,message:G,ref:o,...$(A?F:M,G)}};if(a?!Array.isArray(g)||!g.length:c&&(!S&&(E||ir(g))||Er(g)&&!g||k&&!eL(l).isValid||C&&!nL(l).isValid)){const{value:A,message:P}=Fm(c)?{value:!!c,message:c}:Ol(c);if(A&&(b[m]={type:ys.required,message:P,ref:x,...$(ys.required,P)},!i))return w(P),b}if(!E&&(!ir(f)||!ir(p))){let A,P;const _=Ol(p),F=Ol(f);if(!ir(g)&&!isNaN(g)){const M=o.valueAsNumber||g&&+g;ir(_.value)||(A=M>_.value),ir(F.value)||(P=M<F.value)}else{const M=o.valueAsDate||new Date(g),G=D=>new Date(new Date().toDateString()+" "+D),z=o.type=="time",H=o.type=="week";Zi(_.value)&&g&&(A=z?G(g)>G(_.value):H?g>_.value:M>new Date(_.value)),Zi(F.value)&&g&&(P=z?G(g)<G(F.value):H?g<F.value:M<new Date(F.value))}if((A||P)&&(O(!!A,_.message,F.message,ys.max,ys.min),!i))return w(b[m].message),b}if((d||u)&&!E&&(Zi(g)||a&&Array.isArray(g))){const A=Ol(d),P=Ol(u),_=!ir(A.value)&&g.length>+A.value,F=!ir(P.value)&&g.length<+P.value;if((_||F)&&(O(_,A.message,P.message),!i))return w(b[m].message),b}if(h&&!E&&Zi(g)){const{value:A,message:P}=Ol(h);if(Cx(A)&&!g.match(A)&&(b[m]={type:ys.pattern,message:P,ref:o,...$(ys.pattern,P)},!i))return w(P),b}if(v){if(Ni(v)){const A=await v(g,n),P=BP(A,x);if(P&&(b[m]={...P,...$(ys.validate,P.message)},!i))return w(P.message),b}else if(fn(v)){let A={};for(const P in v){if(!nr(A)&&!i)break;const _=BP(await v[P](g,n),x,P);_&&(A={..._,...$(P,_.message)},w(_.message),i&&(b[m]=A))}if(!nr(A)&&(b[m]={ref:x,...A},!i))return b}}return w(!0),b};const D0e={mode:wi.onSubmit,reValidateMode:wi.onChange,shouldFocusError:!0};function F0e(e={}){let t={...D0e,...e},n={submitCount:0,isDirty:!1,isLoading:Ni(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const i={};let s=fn(t.defaultValues)||fn(t.values)?In(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:In(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:IP(),state:IP()},h=FP(t.mode),v=FP(t.reValidateMode),m=t.criteriaMode===wi.all,y=T=>V=>{clearTimeout(d),d=setTimeout(T,V)},j=async T=>{if(!t.disabled&&(u.isValid||f.isValid||T)){const V=t.resolver?nr((await E()).errors):await O(i,!0);V!==n.isValid&&p.state.next({isValid:V})}},g=(T,V)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((T||Array.from(l.mount)).forEach(q=>{q&&(V?Et(n.validatingFields,q,V):bn(n.validatingFields,q))}),p.state.next({validatingFields:n.validatingFields,isValidating:!nr(n.validatingFields)}))},x=(T,V=[],q,te,re=!0,oe=!0)=>{if(te&&q&&!t.disabled){if(o.action=!0,oe&&Array.isArray(Ne(i,T))){const R=q(Ne(i,T),te.argA,te.argB);re&&Et(i,T,R)}if(oe&&Array.isArray(Ne(n.errors,T))){const R=q(Ne(n.errors,T),te.argA,te.argB);re&&Et(n.errors,T,R),M0e(n.errors,T)}if((u.touchedFields||f.touchedFields)&&oe&&Array.isArray(Ne(n.touchedFields,T))){const R=q(Ne(n.touchedFields,T),te.argA,te.argB);re&&Et(n.touchedFields,T,R)}(u.dirtyFields||f.dirtyFields)&&(n.dirtyFields=au(s,a)),p.state.next({name:T,isDirty:P(T,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Et(a,T,V)},w=(T,V)=>{Et(n.errors,T,V),p.state.next({errors:n.errors})},b=T=>{n.errors=T,p.state.next({errors:n.errors,isValid:!1})},C=(T,V,q,te)=>{const re=Ne(i,T);if(re){const oe=Ne(a,T,cn(q)?Ne(s,T):q);cn(oe)||te&&te.defaultChecked||V?Et(a,T,V?oe:DP(re._f)):M(T,oe),o.mount&&j()}},k=(T,V,q,te,re)=>{let oe=!1,R=!1;const fe={name:T};if(!t.disabled){if(!q||te){(u.isDirty||f.isDirty)&&(R=n.isDirty,n.isDirty=fe.isDirty=P(),oe=R!==fe.isDirty);const Xe=ga(Ne(s,T),V);R=!!Ne(n.dirtyFields,T),Xe?bn(n.dirtyFields,T):Et(n.dirtyFields,T,!0),fe.dirtyFields=n.dirtyFields,oe=oe||(u.dirtyFields||f.dirtyFields)&&R!==!Xe}if(q){const Xe=Ne(n.touchedFields,T);Xe||(Et(n.touchedFields,T,q),fe.touchedFields=n.touchedFields,oe=oe||(u.touchedFields||f.touchedFields)&&Xe!==q)}oe&&re&&p.state.next(fe)}return oe?fe:{}},S=(T,V,q,te)=>{const re=Ne(n.errors,T),oe=(u.isValid||f.isValid)&&Er(V)&&n.isValid!==V;if(t.delayError&&q?(c=y(()=>w(T,q)),c(t.delayError)):(clearTimeout(d),c=null,q?Et(n.errors,T,q):bn(n.errors,T)),(q?!ga(re,q):re)||!nr(te)||oe){const R={...te,...oe&&Er(V)?{isValid:V}:{},errors:n.errors,name:T};n={...n,...R},p.state.next(R)}},E=async T=>{g(T,!0);const V=await t.resolver(a,t.context,P0e(T||l.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return g(T),V},$=async T=>{const{errors:V}=await E(T);if(T)for(const q of T){const te=Ne(V,q);te?Et(n.errors,q,te):bn(n.errors,q)}else n.errors=V;return V},O=async(T,V,q={valid:!0})=>{for(const te in T){const re=T[te];if(re){const{_f:oe,...R}=re;if(oe){const fe=l.array.has(oe.name),Xe=re._f&&O0e(re._f);Xe&&u.validatingFields&&g([te],!0);const ft=await UP(re,l.disabled,a,m,t.shouldUseNativeValidation&&!V,fe);if(Xe&&u.validatingFields&&g([te]),ft[oe.name]&&(q.valid=!1,V))break;!V&&(Ne(ft,oe.name)?fe?$0e(n.errors,ft,oe.name):Et(n.errors,oe.name,ft[oe.name]):bn(n.errors,oe.name))}!nr(R)&&await O(R,V,q)}}return q.valid},A=()=>{for(const T of l.unMount){const V=Ne(i,T);V&&(V._f.refs?V._f.refs.every(q=>!By(q)):!By(V._f.ref))&&le(T)}l.unMount=new Set},P=(T,V)=>!t.disabled&&(T&&V&&Et(a,T,V),!ga(I(),s)),_=(T,V,q)=>Y3(T,l,{...o.mount?a:cn(V)?s:Zi(T)?{[T]:V}:V},q,V),F=T=>vg(Ne(o.mount?a:s,T,t.shouldUnregister?Ne(s,T,[]):[])),M=(T,V,q={})=>{const te=Ne(i,T);let re=V;if(te){const oe=te._f;oe&&(!oe.disabled&&Et(a,T,tL(V,oe)),re=Nx(oe.ref)&&ir(V)?"":V,X3(oe.ref)?[...oe.ref.options].forEach(R=>R.selected=re.includes(R.value)):oe.refs?Ep(oe.ref)?oe.refs.length>1?oe.refs.forEach(R=>(!R.defaultChecked||!R.disabled)&&(R.checked=Array.isArray(re)?!!re.find(fe=>fe===R.value):re===R.value)):oe.refs[0]&&(oe.refs[0].checked=!!re):oe.refs.forEach(R=>R.checked=R.value===re):tS(oe.ref)?oe.ref.value="":(oe.ref.value=re,oe.ref.type||p.state.next({name:T,values:In(a)})))}(q.shouldDirty||q.shouldTouch)&&k(T,re,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&U(T)},G=(T,V,q)=>{for(const te in V){const re=V[te],oe=`${T}.${te}`,R=Ne(i,oe);(l.array.has(T)||fn(re)||R&&!R._f)&&!Ao(re)?G(oe,re,q):M(oe,re,q)}},z=(T,V,q={})=>{const te=Ne(i,T),re=l.array.has(T),oe=In(V);Et(a,T,oe),re?(p.array.next({name:T,values:In(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&p.state.next({name:T,dirtyFields:au(s,a),isDirty:P(T,oe)})):te&&!te._f&&!ir(oe)?G(T,oe,q):M(T,oe,q),qP(T,l)&&p.state.next({...n}),p.state.next({name:o.mount?T:void 0,values:In(a)})},H=async T=>{o.mount=!0;const V=T.target;let q=V.name,te=!0;const re=Ne(i,q),oe=R=>{te=Number.isNaN(R)||Ao(R)&&isNaN(R.getTime())||ga(R,Ne(a,q,R))};if(re){let R,fe;const Xe=V.type?DP(re._f):V3(T),ft=T.type===wx.BLUR||T.type===wx.FOCUS_OUT,oo=!T0e(re._f)&&!t.resolver&&!Ne(n.errors,q)&&!re._f.deps||R0e(ft,Ne(n.touchedFields,q),n.isSubmitted,v,h),lo=qP(q,l,ft);Et(a,q,Xe),ft?(re._f.onBlur&&re._f.onBlur(T),c&&c(0)):re._f.onChange&&re._f.onChange(T);const ia=k(q,Xe,ft),Fd=!nr(ia)||lo;if(!ft&&p.state.next({name:q,type:T.type,values:In(a)}),oo)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?ft&&j():ft||j()),Fd&&p.state.next({name:q,...lo?{}:ia});if(!ft&&lo&&p.state.next({...n}),t.resolver){const{errors:jl}=await E([q]);if(oe(Xe),te){const Ld=zP(n.errors,i,q),wl=zP(jl,i,Ld.name||q);R=wl.error,q=wl.name,fe=nr(jl)}}else g([q],!0),R=(await UP(re,l.disabled,a,m,t.shouldUseNativeValidation))[q],g([q]),oe(Xe),te&&(R?fe=!1:(u.isValid||f.isValid)&&(fe=await O(i,!0)));te&&(re._f.deps&&U(re._f.deps),S(q,fe,R,ia))}},D=(T,V)=>{if(Ne(n.errors,V)&&T.focus)return T.focus(),1},U=async(T,V={})=>{let q,te;const re=$u(T);if(t.resolver){const oe=await $(cn(T)?T:re);q=nr(oe),te=T?!re.some(R=>Ne(oe,R)):q}else T?(te=(await Promise.all(re.map(async oe=>{const R=Ne(i,oe);return await O(R&&R._f?{[oe]:R}:R)}))).every(Boolean),!(!te&&!n.isValid)&&j()):te=q=await O(i);return p.state.next({...!Zi(T)||(u.isValid||f.isValid)&&q!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:q}:{},errors:n.errors}),V.shouldFocus&&!te&&Du(i,D,T?re:l.mount),te},I=T=>{const V={...o.mount?a:s};return cn(T)?V:Zi(T)?Ne(V,T):T.map(q=>Ne(V,q))},se=(T,V)=>({invalid:!!Ne((V||n).errors,T),isDirty:!!Ne((V||n).dirtyFields,T),error:Ne((V||n).errors,T),isValidating:!!Ne(n.validatingFields,T),isTouched:!!Ne((V||n).touchedFields,T)}),ge=T=>{T&&$u(T).forEach(V=>bn(n.errors,V)),p.state.next({errors:T?n.errors:{}})},ee=(T,V,q)=>{const te=(Ne(i,T,{_f:{}})._f||{}).ref,re=Ne(n.errors,T)||{},{ref:oe,message:R,type:fe,...Xe}=re;Et(n.errors,T,{...Xe,...V,ref:te}),p.state.next({name:T,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&te&&te.focus&&te.focus()},we=(T,V)=>Ni(T)?p.state.subscribe({next:q=>T(_(void 0,V),q)}):_(T,V,!0),me=T=>p.state.subscribe({next:V=>{I0e(T.name,V.name,T.exact)&&_0e(V,T.formState||u,Nt,T.reRenderRoot)&&T.callback({values:{...a},...n,...V})}}).unsubscribe,Se=T=>(o.mount=!0,f={...f,...T.formState},me({...T,formState:f})),le=(T,V={})=>{for(const q of T?$u(T):l.mount)l.mount.delete(q),l.array.delete(q),V.keepValue||(bn(i,q),bn(a,q)),!V.keepError&&bn(n.errors,q),!V.keepDirty&&bn(n.dirtyFields,q),!V.keepTouched&&bn(n.touchedFields,q),!V.keepIsValidating&&bn(n.validatingFields,q),!t.shouldUnregister&&!V.keepDefaultValue&&bn(s,q);p.state.next({values:In(a)}),p.state.next({...n,...V.keepDirty?{isDirty:P()}:{}}),!V.keepIsValid&&j()},xe=({disabled:T,name:V})=>{(Er(T)&&o.mount||T||l.disabled.has(V))&&(T?l.disabled.add(V):l.disabled.delete(V))},ye=(T,V={})=>{let q=Ne(i,T);const te=Er(V.disabled)||Er(t.disabled);return Et(i,T,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:T}},name:T,mount:!0,...V}}),l.mount.add(T),q?xe({disabled:Er(V.disabled)?V.disabled:t.disabled,name:T}):C(T,!0,V.value),{...te?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:ou(V.min),max:ou(V.max),minLength:ou(V.minLength),maxLength:ou(V.maxLength),pattern:ou(V.pattern)}:{},name:T,onChange:H,onBlur:H,ref:re=>{if(re){ye(T,V),q=Ne(i,T);const oe=cn(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,R=k0e(oe),fe=q._f.refs||[];if(R?fe.find(Xe=>Xe===oe):oe===q._f.ref)return;Et(i,T,{_f:{...q._f,...R?{refs:[...fe.filter(By),oe,...Array.isArray(Ne(s,T))?[{}]:[]],ref:{type:oe.type,name:T}}:{ref:oe}}}),C(T,!1,void 0,oe)}else q=Ne(i,T,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(W3(l.array,T)&&o.action)&&l.unMount.add(T)}}},B=()=>t.shouldFocusError&&Du(i,D,l.mount),ce=T=>{Er(T)&&(p.state.next({disabled:T}),Du(i,(V,q)=>{const te=Ne(i,q);te&&(V.disabled=te._f.disabled||T,Array.isArray(te._f.refs)&&te._f.refs.forEach(re=>{re.disabled=te._f.disabled||T}))},0,!1))},de=(T,V)=>async q=>{let te;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let re=In(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:R}=await E();n.errors=oe,re=R}else await O(i);if(l.disabled.size)for(const oe of l.disabled)Et(re,oe,void 0);if(bn(n.errors,"root"),nr(n.errors)){p.state.next({errors:{}});try{await T(re,q)}catch(oe){te=oe}}else V&&await V({...n.errors},q),B(),setTimeout(B);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nr(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},Ie=(T,V={})=>{Ne(i,T)&&(cn(V.defaultValue)?z(T,In(Ne(s,T))):(z(T,V.defaultValue),Et(s,T,In(V.defaultValue))),V.keepTouched||bn(n.touchedFields,T),V.keepDirty||(bn(n.dirtyFields,T),n.isDirty=V.defaultValue?P(T,In(Ne(s,T))):P()),V.keepError||(bn(n.errors,T),u.isValid&&j()),p.state.next({...n}))},Oe=(T,V={})=>{const q=T?In(T):s,te=In(q),re=nr(T),oe=re?s:te;if(V.keepDefaultValues||(s=q),!V.keepValues){if(V.keepDirtyValues){const R=new Set([...l.mount,...Object.keys(au(s,a))]);for(const fe of Array.from(R))Ne(n.dirtyFields,fe)?Et(oe,fe,Ne(a,fe)):z(fe,Ne(oe,fe))}else{if(J1&&cn(T))for(const R of l.mount){const fe=Ne(i,R);if(fe&&fe._f){const Xe=Array.isArray(fe._f.refs)?fe._f.refs[0]:fe._f.ref;if(Nx(Xe)){const ft=Xe.closest("form");if(ft){ft.reset();break}}}}for(const R of l.mount)z(R,Ne(oe,R))}a=In(oe),p.array.next({values:{...oe}}),p.state.next({values:{...oe}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:re?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!ga(T,s)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:V.keepDirtyValues?V.keepDefaultValues&&a?au(s,a):n.dirtyFields:V.keepDefaultValues&&T?au(s,T):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},et=(T,V)=>Oe(Ni(T)?T(a):T,V),dt=(T,V={})=>{const q=Ne(i,T),te=q&&q._f;if(te){const re=te.refs?te.refs[0]:te.ref;re.focus&&(re.focus(),V.shouldSelect&&Ni(re.select)&&re.select())}},Nt=T=>{n={...n,...T}},kn={control:{register:ye,unregister:le,getFieldState:se,handleSubmit:de,setError:ee,_subscribe:me,_runSchema:E,_getWatch:_,_getDirty:P,_setValid:j,_setFieldArray:x,_setDisabledField:xe,_setErrors:b,_getFieldArray:F,_reset:Oe,_resetDefaultValues:()=>Ni(t.defaultValues)&&t.defaultValues().then(T=>{et(T,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:ce,_subjects:p,_proxyFormState:u,get _fields(){return i},get _formValues(){return a},get _state(){return o},set _state(T){o=T},get _defaultValues(){return s},get _names(){return l},set _names(T){l=T},get _formState(){return n},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:Se,trigger:U,register:ye,handleSubmit:de,watch:we,setValue:z,getValues:I,reset:et,resetField:Ie,clearErrors:ge,unregister:le,setError:ee,setFocus:dt,getFieldState:se};return{...kn,formControl:kn}}function rS(e={}){const t=L.useRef(void 0),n=L.useRef(void 0),[i,s]=L.useState({isDirty:!1,isValidating:!1,isLoading:Ni(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ni(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:F0e(e),formState:i},e.formControl&&e.defaultValues&&!Ni(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,L.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),L.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),L.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==i.isDirty&&a._subjects.state.next({isDirty:o})}},[a,i.isDirty]),L.useEffect(()=>{e.values&&!ga(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),L.useEffect(()=>{e.errors&&!nr(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),L.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),L.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=K3(i,a),t.current}const VP=(e,t,n)=>{if(e&&"reportValidity"in e){const i=Ne(n,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},rL=(e,t)=>{for(const n in t.fields){const i=t.fields[n];i&&i.ref&&"reportValidity"in i.ref?VP(i.ref,n,e):i.refs&&i.refs.forEach(s=>VP(s,n,e))}},L0e=(e,t)=>{t.shouldUseNativeValidation&&rL(e,t);const n={};for(const i in e){const s=Ne(t.fields,i),a=Object.assign(e[i]||{},{ref:s&&s.ref});if(q0e(t.names||Object.keys(e),i)){const o=Object.assign({},Ne(n,i));Et(o,"root",a),Et(n,i,o)}else Et(n,i,a)}return n},q0e=(e,t)=>e.some(n=>n.startsWith(t+"."));var z0e=function(e,t){for(var n={};e.length;){var i=e[0],s=i.code,a=i.message,o=i.path.join(".");if(!n[o])if("unionErrors"in i){var l=i.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in i&&i.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,d=c&&c[i.code];n[o]=Q3(o,t,n,s,d?[].concat(d,i.message):i.message)}e.shift()}return n},iS=function(e,t,n){return n===void 0&&(n={}),function(i,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(d){return a.shouldUseNativeValidation&&rL({},a),{errors:{},values:n.raw?i:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:L0e(z0e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},wt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function i(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=i,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(wt||(wt={}));var ew;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(ew||(ew={}));const _e=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cs=e=>{switch(typeof e){case"undefined":return _e.undefined;case"string":return _e.string;case"number":return isNaN(e)?_e.nan:_e.number;case"boolean":return _e.boolean;case"function":return _e.function;case"bigint":return _e.bigint;case"symbol":return _e.symbol;case"object":return Array.isArray(e)?_e.array:e===null?_e.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?_e.promise:typeof Map<"u"&&e instanceof Map?_e.map:typeof Set<"u"&&e instanceof Set?_e.set:typeof Date<"u"&&e instanceof Date?_e.date:_e.object;default:return _e.unknown}},pe=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),B0e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class $r extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},i={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)i._errors.push(n(o));else{let l=i,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),i}static assert(t){if(!(t instanceof $r))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}$r.create=e=>new $r(e);const md=(e,t)=>{let n;switch(e.code){case pe.invalid_type:e.received===_e.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case pe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,wt.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:n=`Unrecognized key(s) in object: ${wt.joinValues(e.keys,", ")}`;break;case pe.invalid_union:n="Invalid input";break;case pe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${wt.joinValues(e.options)}`;break;case pe.invalid_enum_value:n=`Invalid enum value. Expected ${wt.joinValues(e.options)}, received '${e.received}'`;break;case pe.invalid_arguments:n="Invalid function arguments";break;case pe.invalid_return_type:n="Invalid function return type";break;case pe.invalid_date:n="Invalid date";break;case pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:wt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case pe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case pe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case pe.custom:n="Invalid input";break;case pe.invalid_intersection_types:n="Intersection results could not be merged";break;case pe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case pe.not_finite:n="Number must be finite";break;default:n=t.defaultError,wt.assertNever(e)}return{message:n}};let iL=md;function U0e(e){iL=e}function kx(){return iL}const Ex=e=>{const{data:t,path:n,errorMaps:i,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=i.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},V0e=[];function Ce(e,t){const n=kx(),i=Ex({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===md?void 0:md].filter(s=>!!s)});e.common.issues.push(i)}class Xn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const s of n){if(s.status==="aborted")return st;s.status==="dirty"&&t.dirty(),i.push(s.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const s of n){const a=await s.key,o=await s.value;i.push({key:a,value:o})}return Xn.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return st;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(i[a.value]=o.value)}return{status:t.value,value:i}}}const st=Object.freeze({status:"aborted"}),Xl=e=>({status:"dirty",value:e}),dr=e=>({status:"valid",value:e}),tw=e=>e.status==="aborted",nw=e=>e.status==="dirty",ll=e=>e.status==="valid",zf=e=>typeof Promise<"u"&&e instanceof Promise;function Ax(e,t,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function sL(e,t,n,i,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Ve;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ve||(Ve={}));var gu,yu;class us{constructor(t,n,i,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const WP=(e,t)=>{if(ll(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $r(e.common.issues);return this._error=n,this._error}}};function ut(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:s}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??i)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class vt{get description(){return this._def.description}_getType(t){return Cs(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Cs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Xn,ctx:{common:t.parent.common,data:t.data,parsedType:Cs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(zf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){var i;const s={common:{issues:[],async:(i=n==null?void 0:n.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cs(t)},a=this._parseSync({data:t,path:s.path,parent:s});return WP(s,a)}"~validate"(t){var n,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cs(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return ll(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((i=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>ll(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cs(t)},s=this._parse({data:t,path:i.path,parent:i}),a=await(zf(s)?s:Promise.resolve(s));return WP(i,a)}refine(t,n){const i=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:pe.custom,...i(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((i,s)=>t(i)?!0:(s.addIssue(typeof n=="function"?n(i,s):n),!1))}_refinement(t){return new Mi({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ss.create(this,this._def)}nullable(){return Xa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oi.create(this)}promise(){return xd.create(this,this._def)}or(t){return Wf.create([this,t],this._def)}and(t){return Hf.create(this,t,this._def)}transform(t){return new Mi({...ut(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Xf({...ut(this._def),innerType:this,defaultValue:n,typeName:it.ZodDefault})}brand(){return new sS({typeName:it.ZodBranded,type:this,...ut(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Zf({...ut(this._def),innerType:this,catchValue:n,typeName:it.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Ap.create(this,t)}readonly(){return Jf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const W0e=/^c[^\s-]{8,}$/i,H0e=/^[0-9a-z]+$/,G0e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,K0e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Y0e=/^[a-z0-9_-]{21}$/i,Q0e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,X0e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z0e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,J0e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Uy;const ebe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tbe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nbe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rbe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ibe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sbe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",abe=new RegExp(`^${aL}$`);function oL(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function obe(e){return new RegExp(`^${oL(e)}$`)}function lL(e){let t=`${aL}T${oL(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function lbe(e,t){return!!((t==="v4"||!t)&&ebe.test(e)||(t==="v6"||!t)&&nbe.test(e))}function cbe(e,t){if(!Q0e.test(e))return!1;try{const[n]=e.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function dbe(e,t){return!!((t==="v4"||!t)&&tbe.test(e)||(t==="v6"||!t)&&rbe.test(e))}class ki extends vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==_e.string){const a=this._getOrReturnCtx(t);return Ce(a,{code:pe.invalid_type,expected:_e.string,received:a.parsedType}),st}const i=new Xn;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Ce(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Ce(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")Z0e.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"email",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")Uy||(Uy=new RegExp(J0e,"u")),Uy.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"emoji",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")K0e.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"uuid",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")Y0e.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"nanoid",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")W0e.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"cuid",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")H0e.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"cuid2",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")G0e.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"ulid",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ce(s,{validation:"url",code:pe.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"regex",code:pe.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?lL(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?abe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?obe(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?X0e.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"duration",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?lbe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"ip",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?cbe(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"jwt",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?dbe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"cidr",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?ibe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"base64",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?sbe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"base64url",code:pe.invalid_string,message:a.message}),i.dirty()):wt.assertNever(a);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(s=>t.test(s),{validation:n,code:pe.invalid_string,...Ve.errToObj(i)})}_addCheck(t){return new ki({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ve.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ve.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ve.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ve.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ve.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ve.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ve.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ve.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ve.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ve.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ve.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ve.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ve.errToObj(t)})}datetime(t){var n,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(i=t==null?void 0:t.local)!==null&&i!==void 0?i:!1,...Ve.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ve.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ve.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ve.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ve.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ve.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ve.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ve.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ve.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ve.errToObj(n)})}nonempty(t){return this.min(1,Ve.errToObj(t))}trim(){return new ki({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ki.create=e=>{var t;return new ki({checks:[],typeName:it.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ut(e)})};function ube(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,s=n>i?n:i,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class Ka extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==_e.number){const a=this._getOrReturnCtx(t);return Ce(a,{code:pe.invalid_type,expected:_e.number,received:a.parsedType}),st}let i;const s=new Xn;for(const a of this._def.checks)a.kind==="int"?wt.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),Ce(i,{code:pe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),Ce(i,{code:pe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),Ce(i,{code:pe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?ube(t.data,a.value)!==0&&(i=this._getOrReturnCtx(t,i),Ce(i,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),Ce(i,{code:pe.not_finite,message:a.message}),s.dirty()):wt.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ve.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ve.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ve.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ve.toString(n))}setLimit(t,n,i,s){return new Ka({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Ve.toString(s)}]})}_addCheck(t){return new Ka({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ve.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ve.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ve.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&wt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ka.create=e=>new Ka({checks:[],typeName:it.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class Ya extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==_e.bigint)return this._getInvalidInput(t);let i;const s=new Xn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),Ce(i,{code:pe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),Ce(i,{code:pe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),Ce(i,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):wt.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Ce(n,{code:pe.invalid_type,expected:_e.bigint,received:n.parsedType}),st}gte(t,n){return this.setLimit("min",t,!0,Ve.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ve.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ve.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ve.toString(n))}setLimit(t,n,i,s){return new Ya({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Ve.toString(s)}]})}_addCheck(t){return new Ya({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ve.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ya.create=e=>{var t;return new Ya({checks:[],typeName:it.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ut(e)})};class Bf extends vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==_e.boolean){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_type,expected:_e.boolean,received:i.parsedType}),st}return dr(t.data)}}Bf.create=e=>new Bf({typeName:it.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ut(e)});class cl extends vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==_e.date){const a=this._getOrReturnCtx(t);return Ce(a,{code:pe.invalid_type,expected:_e.date,received:a.parsedType}),st}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Ce(a,{code:pe.invalid_date}),st}const i=new Xn;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:pe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):wt.assertNever(a);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new cl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ve.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ve.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}cl.create=e=>new cl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:it.ZodDate,...ut(e)});class Px extends vt{_parse(t){if(this._getType(t)!==_e.symbol){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_type,expected:_e.symbol,received:i.parsedType}),st}return dr(t.data)}}Px.create=e=>new Px({typeName:it.ZodSymbol,...ut(e)});class Uf extends vt{_parse(t){if(this._getType(t)!==_e.undefined){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_type,expected:_e.undefined,received:i.parsedType}),st}return dr(t.data)}}Uf.create=e=>new Uf({typeName:it.ZodUndefined,...ut(e)});class Vf extends vt{_parse(t){if(this._getType(t)!==_e.null){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_type,expected:_e.null,received:i.parsedType}),st}return dr(t.data)}}Vf.create=e=>new Vf({typeName:it.ZodNull,...ut(e)});class hd extends vt{constructor(){super(...arguments),this._any=!0}_parse(t){return dr(t.data)}}hd.create=e=>new hd({typeName:it.ZodAny,...ut(e)});class Wo extends vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return dr(t.data)}}Wo.create=e=>new Wo({typeName:it.ZodUnknown,...ut(e)});class Zs extends vt{_parse(t){const n=this._getOrReturnCtx(t);return Ce(n,{code:pe.invalid_type,expected:_e.never,received:n.parsedType}),st}}Zs.create=e=>new Zs({typeName:it.ZodNever,...ut(e)});class Ox extends vt{_parse(t){if(this._getType(t)!==_e.undefined){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_type,expected:_e.void,received:i.parsedType}),st}return dr(t.data)}}Ox.create=e=>new Ox({typeName:it.ZodVoid,...ut(e)});class Oi extends vt{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),s=this._def;if(n.parsedType!==_e.array)return Ce(n,{code:pe.invalid_type,expected:_e.array,received:n.parsedType}),st;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(Ce(n,{code:o?pe.too_big:pe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ce(n,{code:pe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ce(n,{code:pe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new us(n,o,n.path,l)))).then(o=>Xn.mergeArray(i,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new us(n,o,n.path,l)));return Xn.mergeArray(i,a)}get element(){return this._def.type}min(t,n){return new Oi({...this._def,minLength:{value:t,message:Ve.toString(n)}})}max(t,n){return new Oi({...this._def,maxLength:{value:t,message:Ve.toString(n)}})}length(t,n){return new Oi({...this._def,exactLength:{value:t,message:Ve.toString(n)}})}nonempty(t){return this.min(1,t)}}Oi.create=(e,t)=>new Oi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...ut(t)});function Il(e){if(e instanceof en){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=ss.create(Il(i))}return new en({...e._def,shape:()=>t})}else return e instanceof Oi?new Oi({...e._def,type:Il(e.element)}):e instanceof ss?ss.create(Il(e.unwrap())):e instanceof Xa?Xa.create(Il(e.unwrap())):e instanceof fs?fs.create(e.items.map(t=>Il(t))):e}class en extends vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=wt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==_e.object){const d=this._getOrReturnCtx(t);return Ce(d,{code:pe.invalid_type,expected:_e.object,received:d.parsedType}),st}const{status:i,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Zs&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new us(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Zs){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(Ce(s,{code:pe.unrecognized_keys,keys:l}),i.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new us(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,p=await u.value;d.push({key:f,value:p,alwaysSet:u.alwaysSet})}return d}).then(d=>Xn.mergeObjectSync(i,d)):Xn.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(t){return Ve.errToObj,new en({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,i).message)!==null&&o!==void 0?o:i.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ve.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new en({...this._def,unknownKeys:"strip"})}passthrough(){return new en({...this._def,unknownKeys:"passthrough"})}extend(t){return new en({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new en({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:it.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new en({...this._def,catchall:t})}pick(t){const n={};return wt.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new en({...this._def,shape:()=>n})}omit(t){const n={};return wt.objectKeys(this.shape).forEach(i=>{t[i]||(n[i]=this.shape[i])}),new en({...this._def,shape:()=>n})}deepPartial(){return Il(this)}partial(t){const n={};return wt.objectKeys(this.shape).forEach(i=>{const s=this.shape[i];t&&!t[i]?n[i]=s:n[i]=s.optional()}),new en({...this._def,shape:()=>n})}required(t){const n={};return wt.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof ss;)a=a._def.innerType;n[i]=a}}),new en({...this._def,shape:()=>n})}keyof(){return cL(wt.objectKeys(this.shape))}}en.create=(e,t)=>new en({shape:()=>e,unknownKeys:"strip",catchall:Zs.create(),typeName:it.ZodObject,...ut(t)});en.strictCreate=(e,t)=>new en({shape:()=>e,unknownKeys:"strict",catchall:Zs.create(),typeName:it.ZodObject,...ut(t)});en.lazycreate=(e,t)=>new en({shape:e,unknownKeys:"strip",catchall:Zs.create(),typeName:it.ZodObject,...ut(t)});class Wf extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new $r(l.ctx.common.issues));return Ce(n,{code:pe.invalid_union,unionErrors:o}),st}if(n.common.async)return Promise.all(i.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of i){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new $r(c));return Ce(n,{code:pe.invalid_union,unionErrors:l}),st}}get options(){return this._def.options}}Wf.create=(e,t)=>new Wf({options:e,typeName:it.ZodUnion,...ut(t)});const js=e=>e instanceof Kf?js(e.schema):e instanceof Mi?js(e.innerType()):e instanceof Yf?[e.value]:e instanceof Qa?e.options:e instanceof Qf?wt.objectValues(e.enum):e instanceof Xf?js(e._def.innerType):e instanceof Uf?[void 0]:e instanceof Vf?[null]:e instanceof ss?[void 0,...js(e.unwrap())]:e instanceof Xa?[null,...js(e.unwrap())]:e instanceof sS||e instanceof Jf?js(e.unwrap()):e instanceof Zf?js(e._def.innerType):[];class yg extends vt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==_e.object)return Ce(n,{code:pe.invalid_type,expected:_e.object,received:n.parsedType}),st;const i=this.discriminator,s=n.data[i],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Ce(n,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),st)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,i){const s=new Map;for(const a of n){const o=js(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new yg({typeName:it.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...ut(i)})}}function rw(e,t){const n=Cs(e),i=Cs(t);if(e===t)return{valid:!0,data:e};if(n===_e.object&&i===_e.object){const s=wt.objectKeys(t),a=wt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=rw(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===_e.array&&i===_e.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=rw(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===_e.date&&i===_e.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Hf extends vt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),s=(a,o)=>{if(tw(a)||tw(o))return st;const l=rw(a.value,o.value);return l.valid?((nw(a)||nw(o))&&n.dirty(),{status:n.value,value:l.data}):(Ce(i,{code:pe.invalid_intersection_types}),st)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Hf.create=(e,t,n)=>new Hf({left:e,right:t,typeName:it.ZodIntersection,...ut(n)});class fs extends vt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==_e.array)return Ce(i,{code:pe.invalid_type,expected:_e.array,received:i.parsedType}),st;if(i.data.length<this._def.items.length)return Ce(i,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&i.data.length>this._def.items.length&&(Ce(i,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new us(i,o,i.path,l)):null}).filter(o=>!!o);return i.common.async?Promise.all(a).then(o=>Xn.mergeArray(n,o)):Xn.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new fs({...this._def,rest:t})}}fs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fs({items:e,typeName:it.ZodTuple,rest:null,...ut(t)})};class Gf extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==_e.object)return Ce(i,{code:pe.invalid_type,expected:_e.object,received:i.parsedType}),st;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in i.data)s.push({key:a._parse(new us(i,l,i.path,l)),value:o._parse(new us(i,i.data[l],i.path,l)),alwaysSet:l in i.data});return i.common.async?Xn.mergeObjectAsync(n,s):Xn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof vt?new Gf({keyType:t,valueType:n,typeName:it.ZodRecord,...ut(i)}):new Gf({keyType:ki.create(),valueType:t,typeName:it.ZodRecord,...ut(n)})}}class Tx extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==_e.map)return Ce(i,{code:pe.invalid_type,expected:_e.map,received:i.parsedType}),st;const s=this._def.keyType,a=this._def.valueType,o=[...i.data.entries()].map(([l,c],d)=>({key:s._parse(new us(i,l,i.path,[d,"key"])),value:a._parse(new us(i,c,i.path,[d,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return st;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return st;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}Tx.create=(e,t,n)=>new Tx({valueType:t,keyType:e,typeName:it.ZodMap,...ut(n)});class dl extends vt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==_e.set)return Ce(i,{code:pe.invalid_type,expected:_e.set,received:i.parsedType}),st;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(Ce(i,{code:pe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(Ce(i,{code:pe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return st;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...i.data.values()].map((c,d)=>a._parse(new us(i,c,i.path,d)));return i.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new dl({...this._def,minSize:{value:t,message:Ve.toString(n)}})}max(t,n){return new dl({...this._def,maxSize:{value:t,message:Ve.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}dl.create=(e,t)=>new dl({valueType:e,minSize:null,maxSize:null,typeName:it.ZodSet,...ut(t)});class mc extends vt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==_e.function)return Ce(n,{code:pe.invalid_type,expected:_e.function,received:n.parsedType}),st;function i(l,c){return Ex({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,kx(),md].filter(d=>!!d),issueData:{code:pe.invalid_arguments,argumentsError:c}})}function s(l,c){return Ex({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,kx(),md].filter(d=>!!d),issueData:{code:pe.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof xd){const l=this;return dr(async function(...c){const d=new $r([]),u=await l._def.args.parseAsync(c,a).catch(h=>{throw d.addIssue(i(c,h)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,a).catch(h=>{throw d.addIssue(s(f,h)),d})})}else{const l=this;return dr(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new $r([i(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,a);if(!f.success)throw new $r([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new mc({...this._def,args:fs.create(t).rest(Wo.create())})}returns(t){return new mc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,i){return new mc({args:t||fs.create([]).rest(Wo.create()),returns:n||Wo.create(),typeName:it.ZodFunction,...ut(i)})}}class Kf extends vt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Kf.create=(e,t)=>new Kf({getter:e,typeName:it.ZodLazy,...ut(t)});class Yf extends vt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ce(n,{received:n.data,code:pe.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:t.data}}get value(){return this._def.value}}Yf.create=(e,t)=>new Yf({value:e,typeName:it.ZodLiteral,...ut(t)});function cL(e,t){return new Qa({values:e,typeName:it.ZodEnum,...ut(t)})}class Qa extends vt{constructor(){super(...arguments),gu.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return Ce(n,{expected:wt.joinValues(i),received:n.parsedType,code:pe.invalid_type}),st}if(Ax(this,gu)||sL(this,gu,new Set(this._def.values)),!Ax(this,gu).has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return Ce(n,{received:n.data,code:pe.invalid_enum_value,options:i}),st}return dr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Qa.create(t,{...this._def,...n})}exclude(t,n=this._def){return Qa.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}gu=new WeakMap;Qa.create=cL;class Qf extends vt{constructor(){super(...arguments),yu.set(this,void 0)}_parse(t){const n=wt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==_e.string&&i.parsedType!==_e.number){const s=wt.objectValues(n);return Ce(i,{expected:wt.joinValues(s),received:i.parsedType,code:pe.invalid_type}),st}if(Ax(this,yu)||sL(this,yu,new Set(wt.getValidEnumValues(this._def.values))),!Ax(this,yu).has(t.data)){const s=wt.objectValues(n);return Ce(i,{received:i.data,code:pe.invalid_enum_value,options:s}),st}return dr(t.data)}get enum(){return this._def.values}}yu=new WeakMap;Qf.create=(e,t)=>new Qf({values:e,typeName:it.ZodNativeEnum,...ut(t)});class xd extends vt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==_e.promise&&n.common.async===!1)return Ce(n,{code:pe.invalid_type,expected:_e.promise,received:n.parsedType}),st;const i=n.parsedType===_e.promise?n.data:Promise.resolve(n.data);return dr(i.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}xd.create=(e,t)=>new xd({type:e,typeName:it.ZodPromise,...ut(t)});class Mi extends vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{Ce(i,o),o.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(i.data,a);if(i.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return st;const c=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return c.status==="aborted"?st:c.status==="dirty"||n.value==="dirty"?Xl(c.value):c});{if(n.value==="aborted")return st;const l=this._def.schema._parseSync({data:o,path:i.path,parent:i});return l.status==="aborted"?st:l.status==="dirty"||n.value==="dirty"?Xl(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?st:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?st:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!ll(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>ll(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);wt.assertNever(s)}}Mi.create=(e,t,n)=>new Mi({schema:e,typeName:it.ZodEffects,effect:t,...ut(n)});Mi.createWithPreprocess=(e,t,n)=>new Mi({schema:t,effect:{type:"preprocess",transform:e},typeName:it.ZodEffects,...ut(n)});class ss extends vt{_parse(t){return this._getType(t)===_e.undefined?dr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ss.create=(e,t)=>new ss({innerType:e,typeName:it.ZodOptional,...ut(t)});class Xa extends vt{_parse(t){return this._getType(t)===_e.null?dr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xa.create=(e,t)=>new Xa({innerType:e,typeName:it.ZodNullable,...ut(t)});class Xf extends vt{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===_e.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Xf.create=(e,t)=>new Xf({innerType:e,typeName:it.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ut(t)});class Zf extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return zf(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new $r(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $r(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Zf.create=(e,t)=>new Zf({innerType:e,typeName:it.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ut(t)});class _x extends vt{_parse(t){if(this._getType(t)!==_e.nan){const i=this._getOrReturnCtx(t);return Ce(i,{code:pe.invalid_type,expected:_e.nan,received:i.parsedType}),st}return{status:"valid",value:t.data}}}_x.create=e=>new _x({typeName:it.ZodNaN,...ut(e)});const fbe=Symbol("zod_brand");class sS extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ap extends vt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?st:a.status==="dirty"?(n.dirty(),Xl(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?st:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(t,n){return new Ap({in:t,out:n,typeName:it.ZodPipeline})}}class Jf extends vt{_parse(t){const n=this._def.innerType._parse(t),i=s=>(ll(s)&&(s.value=Object.freeze(s.value)),s);return zf(n)?n.then(s=>i(s)):i(n)}unwrap(){return this._def.innerType}}Jf.create=(e,t)=>new Jf({innerType:e,typeName:it.ZodReadonly,...ut(t)});function HP(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function dL(e,t={},n){return e?hd.create().superRefine((i,s)=>{var a,o;const l=e(i);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const f=HP(t,i),p=(u=(d=f.fatal)!==null&&d!==void 0?d:n)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...f,fatal:p})}});if(!l){const c=HP(t,i),d=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):hd.create()}const pbe={object:en.lazycreate};var it;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(it||(it={}));const mbe=(e,t={message:`Input not instance of ${e.name}`})=>dL(n=>n instanceof e,t),uL=ki.create,fL=Ka.create,hbe=_x.create,xbe=Ya.create,pL=Bf.create,vbe=cl.create,gbe=Px.create,ybe=Uf.create,bbe=Vf.create,jbe=hd.create,wbe=Wo.create,Nbe=Zs.create,Sbe=Ox.create,Cbe=Oi.create,kbe=en.create,Ebe=en.strictCreate,Abe=Wf.create,Pbe=yg.create,Obe=Hf.create,Tbe=fs.create,_be=Gf.create,Ibe=Tx.create,Rbe=dl.create,Mbe=mc.create,$be=Kf.create,Dbe=Yf.create,Fbe=Qa.create,Lbe=Qf.create,qbe=xd.create,GP=Mi.create,zbe=ss.create,Bbe=Xa.create,Ube=Mi.createWithPreprocess,Vbe=Ap.create,Wbe=()=>uL().optional(),Hbe=()=>fL().optional(),Gbe=()=>pL().optional(),Kbe={string:e=>ki.create({...e,coerce:!0}),number:e=>Ka.create({...e,coerce:!0}),boolean:e=>Bf.create({...e,coerce:!0}),bigint:e=>Ya.create({...e,coerce:!0}),date:e=>cl.create({...e,coerce:!0})},Ybe=st;var Ee=Object.freeze({__proto__:null,defaultErrorMap:md,setErrorMap:U0e,getErrorMap:kx,makeIssue:Ex,EMPTY_PATH:V0e,addIssueToContext:Ce,ParseStatus:Xn,INVALID:st,DIRTY:Xl,OK:dr,isAborted:tw,isDirty:nw,isValid:ll,isAsync:zf,get util(){return wt},get objectUtil(){return ew},ZodParsedType:_e,getParsedType:Cs,ZodType:vt,datetimeRegex:lL,ZodString:ki,ZodNumber:Ka,ZodBigInt:Ya,ZodBoolean:Bf,ZodDate:cl,ZodSymbol:Px,ZodUndefined:Uf,ZodNull:Vf,ZodAny:hd,ZodUnknown:Wo,ZodNever:Zs,ZodVoid:Ox,ZodArray:Oi,ZodObject:en,ZodUnion:Wf,ZodDiscriminatedUnion:yg,ZodIntersection:Hf,ZodTuple:fs,ZodRecord:Gf,ZodMap:Tx,ZodSet:dl,ZodFunction:mc,ZodLazy:Kf,ZodLiteral:Yf,ZodEnum:Qa,ZodNativeEnum:Qf,ZodPromise:xd,ZodEffects:Mi,ZodTransformer:Mi,ZodOptional:ss,ZodNullable:Xa,ZodDefault:Xf,ZodCatch:Zf,ZodNaN:_x,BRAND:fbe,ZodBranded:sS,ZodPipeline:Ap,ZodReadonly:Jf,custom:dL,Schema:vt,ZodSchema:vt,late:pbe,get ZodFirstPartyTypeKind(){return it},coerce:Kbe,any:jbe,array:Cbe,bigint:xbe,boolean:pL,date:vbe,discriminatedUnion:Pbe,effect:GP,enum:Fbe,function:Mbe,instanceof:mbe,intersection:Obe,lazy:$be,literal:Dbe,map:Ibe,nan:hbe,nativeEnum:Lbe,never:Nbe,null:bbe,nullable:Bbe,number:fL,object:kbe,oboolean:Gbe,onumber:Hbe,optional:zbe,ostring:Wbe,pipeline:Vbe,preprocess:Ube,promise:qbe,record:_be,set:Rbe,strictObject:Ebe,string:uL,symbol:gbe,transformer:GP,tuple:Tbe,undefined:ybe,union:Abe,unknown:wbe,void:Sbe,NEVER:Ybe,ZodIssueCode:pe,quotelessJson:B0e,ZodError:$r});const aS=j0e,mL=N.createContext({}),qe=({...e})=>r.jsx(mL.Provider,{value:{name:e.name},children:r.jsx(C0e,{...e})}),bg=()=>{const e=N.useContext(mL),t=N.useContext(hL),{getFieldState:n,formState:i}=gg(),s=n(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},hL=N.createContext({}),Me=N.forwardRef(({className:e,...t},n)=>{const i=N.useId();return r.jsx(hL.Provider,{value:{id:i},children:r.jsx("div",{ref:n,className:Ye("space-y-2",e),...t})})});Me.displayName="FormItem";const Re=N.forwardRef(({className:e,...t},n)=>{const{error:i,formItemId:s}=bg();return r.jsx(ie,{ref:n,className:Ye(i&&"text-destructive",e),htmlFor:s,...t})});Re.displayName="FormLabel";const $e=N.forwardRef(({...e},t)=>{const{error:n,formItemId:i,formDescriptionId:s,formMessageId:a}=bg();return r.jsx(nI,{ref:t,id:i,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});$e.displayName="FormControl";const Qbe=N.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:i}=bg();return r.jsx("p",{ref:n,id:i,className:Ye("text-sm text-muted-foreground",e),...t})});Qbe.displayName="FormDescription";const De=N.forwardRef(({className:e,children:t,...n},i)=>{const{error:s,formMessageId:a}=bg(),o=s?String((s==null?void 0:s.message)??""):t;return o?r.jsx("p",{ref:i,id:a,className:Ye("text-sm font-medium text-destructive",e),...n,children:o}):null});De.displayName="FormMessage";var oS="Collapsible",[Xbe,Zwe]=zr(oS),[Zbe,lS]=Xbe(oS),xL=N.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c=!1,d]=Us({prop:i,defaultProp:s,onChange:o});return r.jsx(Zbe,{scope:n,disabled:a,contentId:ts(),open:c,onOpenToggle:N.useCallback(()=>d(u=>!u),[d]),children:r.jsx(nt.div,{"data-state":dS(c),"data-disabled":a?"":void 0,...l,ref:t})})});xL.displayName=oS;var vL="CollapsibleTrigger",gL=N.forwardRef((e,t)=>{const{__scopeCollapsible:n,...i}=e,s=lS(vL,n);return r.jsx(nt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":dS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:Be(e.onClick,s.onOpenToggle)})});gL.displayName=vL;var cS="CollapsibleContent",yL=N.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=lS(cS,e.__scopeCollapsible);return r.jsx(ai,{present:n||s.open,children:({present:a})=>r.jsx(Jbe,{...i,ref:t,present:a})})});yL.displayName=cS;var Jbe=N.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:i,children:s,...a}=e,o=lS(cS,n),[l,c]=N.useState(i),d=N.useRef(null),u=yt(t,d),f=N.useRef(0),p=f.current,h=N.useRef(0),v=h.current,m=o.open||l,y=N.useRef(m),j=N.useRef(void 0);return N.useEffect(()=>{const g=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(g)},[]),pn(()=>{const g=d.current;if(g){j.current=j.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const x=g.getBoundingClientRect();f.current=x.height,h.current=x.width,y.current||(g.style.transitionDuration=j.current.transitionDuration,g.style.animationName=j.current.animationName),c(i)}},[o.open,i]),r.jsx(nt.div,{"data-state":dS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:m&&s})});function dS(e){return e?"open":"closed"}var eje=xL;const tje=eje,nje=gL,rje=yL,ije=Ee.object({equipmentGroupId:Ee.number().min(1,"Equipment Group is required"),equipmentTypeId:Ee.number().min(1,"Equipment Type is required"),subtypeId:Ee.number().optional(),equipmentCode:Ee.string().min(1,"Equipment Code is required"),failureCode:Ee.string().optional(),componentFailureMode:Ee.string().min(1,"Component/Failure Mode is required"),riskRankingId:Ee.number().optional(),riskRankingLabel:Ee.string().optional(),requiredTrendDataEvidence:Ee.string().optional(),aiOrInvestigatorQuestions:Ee.string().optional(),attachmentsEvidenceRequired:Ee.string().optional(),rootCauseLogic:Ee.string().optional(),primaryRootCause:Ee.string().optional(),contributingFactor:Ee.string().optional(),latentCause:Ee.string().optional(),detectionGap:Ee.string().optional(),confidenceLevel:Ee.string().optional(),faultSignaturePattern:Ee.string().optional(),applicableToOtherEquipment:Ee.string().optional(),eliminatedIfTheseFailuresConfirmed:Ee.string().optional(),whyItGetsEliminated:Ee.string().optional(),evidenceGapFlag:Ee.string().optional(),diagnosticValue:Ee.string().optional(),industryRelevance:Ee.string().optional(),evidencePriority:Ee.string().optional(),timeToCollect:Ee.string().optional(),collectionCost:Ee.string().optional(),analysisComplexity:Ee.string().optional(),seasonalFactor:Ee.string().optional(),relatedFailureModes:Ee.string().optional(),prerequisiteEvidence:Ee.string().optional(),followupActions:Ee.string().optional(),industryBenchmark:Ee.string().optional()}),KP="__NONE__";function sje({initialData:e,onSubmit:t,onCancel:n,isLoading:i=!1,isEdit:s=!1}){const[a,o]=N.useState(()=>{const x=localStorage.getItem("evidenceForm.showAdvanced");return x?JSON.parse(x):!1}),[l,c]=N.useState(e==null?void 0:e.equipmentGroupId),[d,u]=N.useState(e==null?void 0:e.equipmentTypeId);N.useEffect(()=>{localStorage.setItem("evidenceForm.showAdvanced",JSON.stringify(a))},[a]);const f=rS({resolver:iS(ije),defaultValues:{equipmentGroupId:e==null?void 0:e.equipmentGroupId,equipmentTypeId:e==null?void 0:e.equipmentTypeId,subtypeId:e==null?void 0:e.subtypeId,equipmentCode:(e==null?void 0:e.equipmentCode)||"",failureCode:(e==null?void 0:e.failureCode)||"",componentFailureMode:(e==null?void 0:e.componentFailureMode)||"",riskRankingId:e==null?void 0:e.riskRankingId,riskRankingLabel:(e==null?void 0:e.riskRankingLabel)||"",requiredTrendDataEvidence:(e==null?void 0:e.requiredTrendDataEvidence)||"",aiOrInvestigatorQuestions:(e==null?void 0:e.aiOrInvestigatorQuestions)||"",attachmentsEvidenceRequired:(e==null?void 0:e.attachmentsEvidenceRequired)||"",rootCauseLogic:(e==null?void 0:e.rootCauseLogic)||"",primaryRootCause:(e==null?void 0:e.primaryRootCause)||"",contributingFactor:(e==null?void 0:e.contributingFactor)||"",latentCause:(e==null?void 0:e.latentCause)||"",detectionGap:(e==null?void 0:e.detectionGap)||"",confidenceLevel:(e==null?void 0:e.confidenceLevel)||"",faultSignaturePattern:(e==null?void 0:e.faultSignaturePattern)||"",applicableToOtherEquipment:(e==null?void 0:e.applicableToOtherEquipment)||"",eliminatedIfTheseFailuresConfirmed:(e==null?void 0:e.eliminatedIfTheseFailuresConfirmed)||"",whyItGetsEliminated:(e==null?void 0:e.whyItGetsEliminated)||"",evidenceGapFlag:(e==null?void 0:e.evidenceGapFlag)||"",diagnosticValue:(e==null?void 0:e.diagnosticValue)||"",industryRelevance:(e==null?void 0:e.industryRelevance)||"",evidencePriority:(e==null?void 0:e.evidencePriority)||"",timeToCollect:(e==null?void 0:e.timeToCollect)||"",collectionCost:(e==null?void 0:e.collectionCost)||"",analysisComplexity:(e==null?void 0:e.analysisComplexity)||"",seasonalFactor:(e==null?void 0:e.seasonalFactor)||"",relatedFailureModes:(e==null?void 0:e.relatedFailureModes)||"",prerequisiteEvidence:(e==null?void 0:e.prerequisiteEvidence)||"",followupActions:(e==null?void 0:e.followupActions)||"",industryBenchmark:(e==null?void 0:e.industryBenchmark)||""}}),{data:p=[]}=Pe({queryKey:["/api/equipment-groups"]}),{data:h=[]}=Pe({queryKey:["/api/equipment-types/by-group",l],enabled:!!l}),{data:v=[]}=Pe({queryKey:["/api/equipment-subtypes/by-type",d],enabled:!!d}),{data:m=[]}=Pe({queryKey:["/api/risk-rankings"]}),y=x=>{const w={...x,subtypeId:x.subtypeId===null?void 0:x.subtypeId,failureCode:x.failureCode||null,riskRankingLabel:x.riskRankingLabel||null,requiredTrendDataEvidence:x.requiredTrendDataEvidence||null,aiOrInvestigatorQuestions:x.aiOrInvestigatorQuestions||null,attachmentsEvidenceRequired:x.attachmentsEvidenceRequired||null,rootCauseLogic:x.rootCauseLogic||null,primaryRootCause:x.primaryRootCause||null,contributingFactor:x.contributingFactor||null,latentCause:x.latentCause||null,detectionGap:x.detectionGap||null,confidenceLevel:x.confidenceLevel||null,faultSignaturePattern:x.faultSignaturePattern||null,applicableToOtherEquipment:x.applicableToOtherEquipment||null,eliminatedIfTheseFailuresConfirmed:x.eliminatedIfTheseFailuresConfirmed||null,whyItGetsEliminated:x.whyItGetsEliminated||null,evidenceGapFlag:x.evidenceGapFlag||null,diagnosticValue:x.diagnosticValue||null,industryRelevance:x.industryRelevance||null,evidencePriority:x.evidencePriority||null,timeToCollect:x.timeToCollect||null,collectionCost:x.collectionCost||null,analysisComplexity:x.analysisComplexity||null,seasonalFactor:x.seasonalFactor||null,relatedFailureModes:x.relatedFailureModes||null,prerequisiteEvidence:x.prerequisiteEvidence||null,followupActions:x.followupActions||null,industryBenchmark:x.industryBenchmark||null};t(w)},j=f.watch("riskRankingId"),g=m.find(x=>x.id===j);return r.jsx(aS,{...f,children:r.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-6 max-w-4xl",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"1. Classification"}),r.jsx(ve,{children:"Equipment identification and categorization"})]}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(qe,{control:f.control,name:"equipmentGroupId",render:({field:x})=>{var w;return r.jsxs(Me,{children:[r.jsx(Re,{children:"Equipment Group *"}),r.jsxs(We,{value:(w=x.value)==null?void 0:w.toString(),onValueChange:b=>{const C=parseInt(b);x.onChange(C),c(C),f.setValue("equipmentTypeId",void 0),f.setValue("subtypeId",void 0),u(void 0)},children:[r.jsx($e,{children:r.jsx(Ue,{"data-testid":"select-equipment-group",children:r.jsx(He,{placeholder:"Select Equipment Group"})})}),r.jsx(Ge,{children:p.map(b=>r.jsx(ne,{value:b.id.toString(),children:b.name},b.id))})]}),r.jsx(De,{})]})}}),r.jsx(qe,{control:f.control,name:"equipmentTypeId",render:({field:x})=>{var w;return r.jsxs(Me,{children:[r.jsx(Re,{children:"Equipment Type *"}),r.jsxs(We,{value:(w=x.value)==null?void 0:w.toString(),onValueChange:b=>{const C=parseInt(b);x.onChange(C),u(C),f.setValue("subtypeId",void 0)},disabled:!l,children:[r.jsx($e,{children:r.jsx(Ue,{"data-testid":"select-equipment-type",children:r.jsx(He,{placeholder:"Select Equipment Type"})})}),r.jsx(Ge,{children:h.map(b=>r.jsx(ne,{value:b.id.toString(),children:b.name},b.id))})]}),r.jsx(De,{})]})}}),r.jsx(qe,{control:f.control,name:"subtypeId",render:({field:x})=>{var w;return r.jsxs(Me,{children:[r.jsx(Re,{children:"Subtype (Optional)"}),r.jsxs(We,{value:((w=x.value)==null?void 0:w.toString())||"",onValueChange:b=>{x.onChange(b===KP?void 0:parseInt(b))},disabled:!d,children:[r.jsx($e,{children:r.jsx(Ue,{"data-testid":"select-equipment-subtype",children:r.jsx(He,{placeholder:"Select Subtype (Optional)"})})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:KP,children:"None"}),v.map(b=>r.jsx(ne,{value:b.id.toString(),children:b.name},b.id))]})]}),r.jsx(De,{})]})}})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"2. Identity & Codes"}),r.jsx(ve,{children:"Equipment identification and failure classification"})]}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(qe,{control:f.control,name:"equipmentCode",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Equipment Code *"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., PUMP-001","data-testid":"input-equipment-code",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"failureCode",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Failure Code"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., BRG-OVHT-001","data-testid":"input-failure-code",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"componentFailureMode",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Component / Failure Mode *"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Bearing Overheating","data-testid":"input-component-failure-mode",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"3. Risk"}),r.jsx(ve,{children:"Risk assessment and ranking"})]}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(qe,{control:f.control,name:"riskRankingId",render:({field:x})=>{var w;return r.jsxs(Me,{children:[r.jsx(Re,{children:"Risk Ranking"}),r.jsxs(We,{value:(w=x.value)==null?void 0:w.toString(),onValueChange:b=>{const C=parseInt(b);x.onChange(C);const k=m.find(S=>S.id===C);k&&f.setValue("riskRankingLabel",k.label)},children:[r.jsx($e,{children:r.jsx(Ue,{"data-testid":"select-risk-ranking",children:r.jsx(He,{placeholder:"Select Risk Ranking"})})}),r.jsx(Ge,{children:m.map(b=>r.jsx(ne,{value:b.id.toString(),children:r.jsx(J,{variant:b.label==="Critical"?"destructive":b.label==="High"?"default":b.label==="Medium"?"secondary":"outline",children:b.label})},b.id))})]}),r.jsx(De,{})]})}}),r.jsx(qe,{control:f.control,name:"riskRankingLabel",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Risk Ranking Label"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"Auto-filled or custom text","data-testid":"input-risk-label",...x,readOnly:!!g})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"4. Evidence Requirements"}),r.jsx(ve,{children:"Required data and investigation questions"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(qe,{control:f.control,name:"requiredTrendDataEvidence",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Required Trend Data / Evidence"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"e.g., vibration; IR; oil analysis",className:"min-h-[100px] resize-none","data-testid":"textarea-trend-data",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"aiOrInvestigatorQuestions",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"AI or Investigator Questions"}),r.jsx($e,{children:r.jsx(ze,{placeholder:`e.g., When did overheating start?
Any recent alignment work?`,className:"min-h-[100px] resize-none","data-testid":"textarea-questions",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"attachmentsEvidenceRequired",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Attachments / Evidence Required"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"e.g., Vibration spectrum, IR images",className:"min-h-[100px] resize-none","data-testid":"textarea-attachments",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(tje,{open:a,onOpenChange:o,children:[r.jsx(nje,{asChild:!0,children:r.jsxs(W,{type:"button",variant:"outline",className:"w-full flex items-center justify-between","data-testid":"toggle-advanced-fields",children:[r.jsx("span",{children:"Show Advanced Fields"}),a?r.jsx(_I,{className:"h-4 w-4"}):r.jsx(fN,{className:"h-4 w-4"})]})}),r.jsxs(rje,{className:"space-y-6 mt-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"5. RCA Logic & Causes"}),r.jsx(ve,{children:"Root cause analysis logic and identified causes"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(qe,{control:f.control,name:"rootCauseLogic",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Root Cause Logic"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"e.g., If IR > threshold and spectrum shows 2x line frequency...",className:"min-h-[100px] resize-none","data-testid":"textarea-root-cause-logic",...x})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(qe,{control:f.control,name:"primaryRootCause",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Primary Root Cause"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Lubrication failure","data-testid":"input-primary-root-cause",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"contributingFactor",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Contributing Factor"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., High ambient temperature","data-testid":"input-contributing-factor",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"latentCause",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Latent Cause"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., PM interval too long","data-testid":"input-latent-cause",...x})}),r.jsx(De,{})]})})]})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"6. Detection & Confidence"}),r.jsx(ve,{children:"Detection gaps and confidence assessment"})]}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(qe,{control:f.control,name:"detectionGap",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Detection Gap"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"e.g., No online temp alarm at DE",className:"min-h-[100px] resize-none","data-testid":"textarea-detection-gap",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"confidenceLevel",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Confidence Level"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., 80% or High","data-testid":"input-confidence-level",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"7. Patterns & Applicability"}),r.jsx(ve,{children:"Fault patterns and equipment applicability"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(qe,{control:f.control,name:"faultSignaturePattern",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Fault Signature Pattern"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"e.g., High 1× with sidebands; IR hotspot at DE cap",className:"min-h-[100px] resize-none","data-testid":"textarea-fault-signature",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"applicableToOtherEquipment",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Applicable to Other Equipment"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"e.g., P-102; all ANSI pump skids",className:"min-h-[100px] resize-none","data-testid":"textarea-applicable-equipment",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"8. Elimination Logic"}),r.jsx(ve,{children:"Logic for eliminating potential causes"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(qe,{control:f.control,name:"eliminatedIfTheseFailuresConfirmed",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Eliminated If These Failures Confirmed"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"e.g., Misalignment; Soft foot",className:"min-h-[100px] resize-none","data-testid":"textarea-eliminated-if",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"whyItGetsEliminated",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Why It Gets Eliminated"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"e.g., If backlash within spec and temp normal, misalignment unlikely",className:"min-h-[100px] resize-none","data-testid":"textarea-why-eliminated",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"9. Additional Information"}),r.jsx(ve,{children:"Flags, evaluation metrics, and additional details"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(qe,{control:f.control,name:"evidenceGapFlag",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Evidence Gap Flag"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"Yes/No/Unknown","data-testid":"input-evidence-gap-flag",...x})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(qe,{control:f.control,name:"diagnosticValue",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Diagnostic Value"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., High","data-testid":"input-diagnostic-value",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"industryRelevance",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Industry Relevance"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Petrochemical","data-testid":"input-industry-relevance",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"evidencePriority",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Evidence Priority"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Critical","data-testid":"input-evidence-priority",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"timeToCollect",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Time to Collect"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., 2 hours","data-testid":"input-time-to-collect",...x})}),r.jsx(De,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(qe,{control:f.control,name:"collectionCost",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Collection Cost"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., $500","data-testid":"input-collection-cost",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"analysisComplexity",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Analysis Complexity"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Medium","data-testid":"input-analysis-complexity",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"seasonalFactor",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Seasonal Factor"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Summer peaks","data-testid":"input-seasonal-factor",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"industryBenchmark",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Industry Benchmark"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., API 610","data-testid":"input-industry-benchmark",...x})}),r.jsx(De,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(qe,{control:f.control,name:"relatedFailureModes",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Related Failure Modes"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"Related failure modes",className:"min-h-[80px] resize-none","data-testid":"textarea-related-failures",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"prerequisiteEvidence",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Prerequisite Evidence"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"Required prerequisite evidence",className:"min-h-[80px] resize-none","data-testid":"textarea-prerequisite-evidence",...x})}),r.jsx(De,{})]})}),r.jsx(qe,{control:f.control,name:"followupActions",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Followup Actions"}),r.jsx($e,{children:r.jsx(ze,{placeholder:"Recommended followup actions",className:"min-h-[80px] resize-none","data-testid":"textarea-followup-actions",...x})}),r.jsx(De,{})]})})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[r.jsxs(W,{type:"button",variant:"outline",onClick:n,"data-testid":"button-cancel",children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Cancel"]}),r.jsxs(W,{type:"submit",disabled:i,"data-testid":"button-save",children:[r.jsx(Fo,{className:"h-4 w-4 mr-2"}),i?"Saving...":s?"Update Evidence":"Add Evidence"]})]})]})})}function Fi(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ul(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const bL=6048e5,aje=864e5;let oje={};function jg(){return oje}function ep(e,t){var l,c,d,u;const n=jg(),i=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Fi(e),a=s.getDay(),o=(a<i?7:0)+a-i;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ix(e){return ep(e,{weekStartsOn:1})}function jL(e){const t=Fi(e),n=t.getFullYear(),i=ul(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=Ix(i),a=ul(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Ix(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function YP(e){const t=Fi(e);return t.setHours(0,0,0,0),t}function QP(e){const t=Fi(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function lje(e,t){const n=YP(e),i=YP(t),s=+n-QP(n),a=+i-QP(i);return Math.round((s-a)/aje)}function cje(e){const t=jL(e),n=ul(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ix(n)}function dje(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function uje(e){if(!dje(e)&&typeof e!="number")return!1;const t=Fi(e);return!isNaN(Number(t))}function fje(e){const t=Fi(e),n=ul(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const pje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mje=(e,t,n)=>{let i;const s=pje[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Vy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const hje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gje={date:Vy({formats:hje,defaultWidth:"full"}),time:Vy({formats:xje,defaultWidth:"full"}),dateTime:Vy({formats:vje,defaultWidth:"full"})},yje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bje=(e,t,n,i)=>yje[e];function lu(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const jje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sje={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Eje=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Aje={ordinalNumber:Eje,era:lu({values:jje,defaultWidth:"wide"}),quarter:lu({values:wje,defaultWidth:"wide",argumentCallback:e=>e-1}),month:lu({values:Nje,defaultWidth:"wide"}),day:lu({values:Sje,defaultWidth:"wide"}),dayPeriod:lu({values:Cje,defaultWidth:"wide",formattingValues:kje,defaultFormattingWidth:"wide"})};function cu(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Oje(l,f=>f.test(o)):Pje(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Pje(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Oje(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Tje(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const _je=/^(\d+)(th|st|nd|rd)?/i,Ije=/\d+/i,Rje={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mje={any:[/^b/i,/^(a|c)/i]},$je={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dje={any:[/1/i,/2/i,/3/i,/4/i]},Fje={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lje={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qje={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zje={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bje={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uje={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vje={ordinalNumber:Tje({matchPattern:_je,parsePattern:Ije,valueCallback:e=>parseInt(e,10)}),era:cu({matchPatterns:Rje,defaultMatchWidth:"wide",parsePatterns:Mje,defaultParseWidth:"any"}),quarter:cu({matchPatterns:$je,defaultMatchWidth:"wide",parsePatterns:Dje,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cu({matchPatterns:Fje,defaultMatchWidth:"wide",parsePatterns:Lje,defaultParseWidth:"any"}),day:cu({matchPatterns:qje,defaultMatchWidth:"wide",parsePatterns:zje,defaultParseWidth:"any"}),dayPeriod:cu({matchPatterns:Bje,defaultMatchWidth:"any",parsePatterns:Uje,defaultParseWidth:"any"})},Wje={code:"en-US",formatDistance:mje,formatLong:gje,formatRelative:bje,localize:Aje,match:Vje,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hje(e){const t=Fi(e);return lje(t,fje(t))+1}function Gje(e){const t=Fi(e),n=+Ix(t)-+cje(t);return Math.round(n/bL)+1}function wL(e,t){var u,f,p,h;const n=Fi(e),i=n.getFullYear(),s=jg(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(p=s.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=ul(e,0);o.setFullYear(i+1,0,a),o.setHours(0,0,0,0);const l=ep(o,t),c=ul(e,0);c.setFullYear(i,0,a),c.setHours(0,0,0,0);const d=ep(c,t);return n.getTime()>=l.getTime()?i+1:n.getTime()>=d.getTime()?i:i-1}function Kje(e,t){var l,c,d,u;const n=jg(),i=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=wL(e,t),a=ul(e,0);return a.setFullYear(s,0,i),a.setHours(0,0,0,0),ep(a,t)}function Yje(e,t){const n=Fi(e),i=+ep(n,t)-+Kje(n,t);return Math.round(i/bL)+1}function Ot(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const la={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Ot(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ot(n+1,2)},d(e,t){return Ot(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ot(e.getHours()%12||12,t.length)},H(e,t){return Ot(e.getHours(),t.length)},m(e,t){return Ot(e.getMinutes(),t.length)},s(e,t){return Ot(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Ot(s,t.length)}},Tl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XP={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return la.y(e,t)},Y:function(e,t,n,i){const s=wL(e,i),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Ot(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ot(a,t.length)},R:function(e,t){const n=jL(e);return Ot(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ot(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ot(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ot(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return la.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ot(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=Yje(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ot(s,t.length)},I:function(e,t,n){const i=Gje(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Ot(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):la.d(e,t)},D:function(e,t,n){const i=Hje(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ot(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ot(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ot(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Ot(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=Tl.noon:i===0?s=Tl.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=Tl.evening:i>=12?s=Tl.afternoon:i>=4?s=Tl.morning:s=Tl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return la.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):la.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ot(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ot(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):la.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):la.s(e,t)},S:function(e,t){return la.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return JP(i);case"XXXX":case"XX":return go(i);case"XXXXX":case"XXX":default:return go(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return JP(i);case"xxxx":case"xx":return go(i);case"xxxxx":case"xxx":default:return go(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ZP(i,":");case"OOOO":default:return"GMT"+go(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ZP(i,":");case"zzzz":default:return"GMT"+go(i,":")}},t:function(e,t,n){const i=Math.trunc(e.getTime()/1e3);return Ot(i,t.length)},T:function(e,t,n){const i=e.getTime();return Ot(i,t.length)}};function ZP(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),a=i%60;return a===0?n+String(s):n+String(s)+t+Ot(a,2)}function JP(e,t){return e%60===0?(e>0?"-":"+")+Ot(Math.abs(e)/60,2):go(e,t)}function go(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Ot(Math.trunc(i/60),2),a=Ot(i%60,2);return n+s+t+a}const eO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},NL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Qje=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return eO(e,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",eO(i,t)).replace("{{time}}",NL(s,t))},Xje={p:NL,P:Qje},Zje=/^D+$/,Jje=/^Y+$/,ewe=["D","DD","YY","YYYY"];function twe(e){return Zje.test(e)}function nwe(e){return Jje.test(e)}function rwe(e,t,n){const i=iwe(e,t,n);if(console.warn(i),ewe.includes(e))throw new RangeError(i)}function iwe(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const swe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,awe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,owe=/^'([^]*?)'?$/,lwe=/''/g,cwe=/[a-zA-Z]/;function iw(e,t,n){var u,f,p,h;const i=jg(),s=i.locale??Wje,a=i.firstWeekContainsDate??((f=(u=i.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=i.weekStartsOn??((h=(p=i.locale)==null?void 0:p.options)==null?void 0:h.weekStartsOn)??0,l=Fi(e);if(!uje(l))throw new RangeError("Invalid time value");let c=t.match(awe).map(v=>{const m=v[0];if(m==="p"||m==="P"){const y=Xje[m];return y(v,s.formatLong)}return v}).join("").match(swe).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const m=v[0];if(m==="'")return{isToken:!1,value:dwe(v)};if(XP[m])return{isToken:!0,value:v};if(m.match(cwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const m=v.value;(nwe(m)||twe(m))&&rwe(m,t,String(e));const y=XP[m[0]];return y(l,m,s.localize,d)}).join("")}function dwe(e){const t=e.match(owe);return t?t[1].replace(lwe,"'"):e}const tO=[{key:"equipmentCode",label:"Equipment Code",width:120,maxWidth:180,sortable:!0,type:"text"},{key:"equipmentGroup",label:"Equipment Group",width:130,maxWidth:200,sortable:!0,type:"text"},{key:"equipmentType",label:"Equipment Type",width:130,maxWidth:200,sortable:!0,type:"text"},{key:"subtype",label:"Subtype",width:100,maxWidth:150,sortable:!0,type:"text"},{key:"componentFailureMode",label:"Component/Failure Mode",width:180,maxWidth:300,sortable:!0,type:"text"},{key:"failureCode",label:"Failure Code",width:100,maxWidth:150,sortable:!0,type:"text"},{key:"riskRanking",label:"Risk Ranking",width:100,maxWidth:150,sortable:!0,type:"badge"},{key:"requiredTrendDataEvidence",label:"Required Trend Data",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"aiOrInvestigatorQuestions",label:"AI/Investigator Questions",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"attachmentsEvidenceRequired",label:"Attachments Required",width:180,maxWidth:250,sortable:!1,type:"text"},{key:"rootCauseLogic",label:"Root Cause Logic",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"primaryRootCause",label:"Primary Root Cause",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"contributingFactor",label:"Contributing Factor",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"latentCause",label:"Latent Cause",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"detectionGap",label:"Detection Gap",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"faultSignaturePattern",label:"Fault Signature Pattern",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"applicableToOtherEquipment",label:"Applicable to Other Equipment",width:180,maxWidth:250,sortable:!1,type:"text"},{key:"evidenceGapFlag",label:"Evidence Gap Flag",width:120,maxWidth:200,sortable:!1,type:"text"},{key:"eliminatedIfTheseFailuresConfirmed",label:"Eliminated If Failures Confirmed",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"whyItGetsEliminated",label:"Why It Gets Eliminated",width:180,maxWidth:280,sortable:!1,type:"text"},{key:"confidenceLevel",label:"Confidence Level",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"diagnosticValue",label:"Diagnostic Value",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"industryRelevance",label:"Industry Relevance",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"evidencePriority",label:"Evidence Priority",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"timeToCollect",label:"Time to Collect",width:110,maxWidth:160,sortable:!1,type:"text"},{key:"collectionCost",label:"Collection Cost",width:110,maxWidth:160,sortable:!1,type:"text"},{key:"analysisComplexity",label:"Analysis Complexity",width:130,maxWidth:190,sortable:!1,type:"text"},{key:"seasonalFactor",label:"Seasonal Factor",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"relatedFailureModes",label:"Related Failure Modes",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"prerequisiteEvidence",label:"Prerequisite Evidence",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"followupActions",label:"Followup Actions",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"industryBenchmark",label:"Industry Benchmark",width:140,maxWidth:220,sortable:!1,type:"text"},{key:"isActive",label:"Status",width:80,maxWidth:100,sortable:!0,type:"boolean"},{key:"lastUpdated",label:"Last Updated",width:120,maxWidth:150,sortable:!0,type:"date"},{key:"updatedBy",label:"Updated By",width:100,maxWidth:140,sortable:!1,type:"text"},{key:"createdAt",label:"Created At",width:120,maxWidth:150,sortable:!0,type:"date"}],uwe=`
.enhanced-evidence-table {
  --table-border: 1px solid hsl(var(--border));
}

.enhanced-evidence-table table {
  border-collapse: separate;
  border-spacing: 0;
  border: var(--table-border);
}

.enhanced-evidence-table th,
.enhanced-evidence-table td {
  vertical-align: top !important;
  padding: 8px 12px;
  border-bottom: var(--table-border);
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  white-space: normal;
}

.enhanced-evidence-table th {
  background-color: hsl(var(--muted) / 0.5);
  font-weight: 600;
  font-size: 0.75rem;
  line-height: 1.2;
  position: sticky;
  top: 0;
  z-index: 10;
}

.enhanced-evidence-table td {
  font-size: 0.875rem;
  line-height: 1.4;
  background-color: hsl(var(--background));
}

.enhanced-evidence-table .text-content {
  word-break: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  hyphens: auto;
}

.enhanced-evidence-table .border-r {
  border-right: var(--table-border);
}

/* Horizontal scroll styling */
.enhanced-evidence-table > div::-webkit-scrollbar {
  height: 8px;
}

.enhanced-evidence-table > div::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.3);
}

.enhanced-evidence-table > div::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.5);
  border-radius: 4px;
}

.enhanced-evidence-table > div::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.8);
}
`;function fwe({data:e,onEdit:t,onDelete:n,onBulkDelete:i,searchTerm:s,onSearchChange:a,selectedItems:o,onSelectionChange:l,isLoading:c=!1}){const d=N.useRef(null),[u,f]=N.useState({}),[p,h]=N.useState(null),[v,m]=N.useState("asc"),[y,j]=N.useState(tO);N.useEffect(()=>{const A={};tO.forEach(P=>{A[P.key]=P.width}),f(A)},[]);const g=()=>{if(!d.current)return;const A={};y.forEach(P=>{let _=P.label.length*8+40;e.forEach(F=>{const M=String(F[P.key]||""),G=Math.min(M.length*7+40,P.maxWidth);_=Math.max(_,G)}),A[P.key]=Math.min(Math.max(_,80),P.maxWidth)}),f(A)},x=()=>{const A={};y.forEach(P=>{A[P.key]=P.width}),f(A)},w=A=>{p===A?m(P=>P==="asc"?"desc":"asc"):(h(A),m("asc"))},b=N.useMemo(()=>p?[...e].sort((A,P)=>{const _=A[p],F=P[p];if(_==null)return 1;if(F==null)return-1;const M=String(_).localeCompare(String(F));return v==="asc"?M:-M}):e,[e,p,v]),C=A=>{l(A?e.map(P=>P.id):[])},k=(A,P)=>{l(P?[...o,A]:o.filter(_=>_!==A))},S=(A,P)=>{const _=A[P.key];switch(P.type){case"badge":return r.jsx(J,{variant:"outline",className:"text-xs whitespace-normal",children:String(_||"")});case"date":return r.jsx("span",{className:"text-sm",children:_?iw(new Date(String(_)),"MMM dd, yyyy"):""});case"boolean":return r.jsx(J,{variant:_?"default":"secondary",className:"text-xs",children:_?"Active":"Inactive"});default:const F=String(_||"");return r.jsx("div",{className:"text-sm leading-tight text-content",title:F.length>50?F:void 0,children:F})}},E=A=>A.sortable?p===A.key?v==="asc"?r.jsx(OI,{className:"h-3 w-3 ml-1"}):r.jsx(PI,{className:"h-3 w-3 ml-1"}):r.jsx(az,{className:"h-3 w-3 ml-1 opacity-50"}):null,$=e.length>0&&o.length===e.length,O=o.length>0&&o.length<e.length;return r.jsxs("div",{className:"enhanced-evidence-table space-y-4",children:[r.jsx("style",{children:uwe}),r.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(_i,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ue,{placeholder:"Search evidence library...",value:s,onChange:A=>a(A.target.value),className:"pl-8 w-[300px]","data-testid":"search-evidence"})]}),o.length>0&&r.jsxs(W,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete ${o.length} selected items?`)&&i(o)},"data-testid":"bulk-delete-button",children:[r.jsx(Lo,{className:"h-4 w-4 mr-1"}),"Delete Selected (",o.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:g,"data-testid":"auto-resize-columns",children:[r.jsx(Gn,{className:"h-4 w-4 mr-1"}),"Auto-Fit Columns"]}),r.jsx(W,{variant:"outline",size:"sm",onClick:x,"data-testid":"reset-columns",children:"Reset Widths"})]})]}),r.jsx("div",{ref:d,className:"rounded-md border bg-background",style:{maxHeight:"70vh",overflowX:"auto",overflowY:"auto",width:"100%"},children:r.jsxs(Ki,{className:"relative",style:{minWidth:"4000px"},children:[r.jsx(Yi,{className:"sticky top-0 bg-muted/50 z-10",children:r.jsxs(Jt,{children:[r.jsx(rt,{className:"w-12 p-2",children:r.jsx(Yn,{checked:$||O,onCheckedChange:C,"aria-label":"Select all","data-testid":"select-all-checkbox"})}),y.map(A=>r.jsx(rt,{className:`p-2 align-top border-r ${A.sortable?"cursor-pointer hover:bg-muted/50":""}`,style:{width:u[A.key]||"auto",maxWidth:A.maxWidth,minWidth:80,verticalAlign:"top",whiteSpace:"normal"},onClick:()=>A.sortable&&w(A.key),children:r.jsxs("div",{className:"flex flex-col items-start gap-1",children:[r.jsx("div",{className:"font-medium text-xs leading-tight break-words",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",hyphens:"auto"},children:A.label}),E(A)]})},A.key)),r.jsx(rt,{className:"w-24 p-2 text-center",children:"Actions"})]})}),r.jsx(Qi,{children:c?r.jsx(Jt,{children:r.jsx(Ze,{colSpan:y.length+2,className:"h-32 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Gn,{className:"h-4 w-4 animate-spin mr-2"}),"Loading evidence library..."]})})}):b.length===0?r.jsx(Jt,{children:r.jsx(Ze,{colSpan:y.length+2,className:"h-32 text-center text-muted-foreground",children:s?`No evidence found matching "${s}"`:"No evidence library entries found"})}):b.map((A,P)=>r.jsxs(Jt,{className:`${o.includes(A.id)?"bg-muted/50":""} hover:bg-muted/30`,"data-testid":`evidence-row-${A.id}`,children:[r.jsx(Ze,{className:"p-2",children:r.jsx(Yn,{checked:o.includes(A.id),onCheckedChange:_=>k(A.id,!!_),"aria-label":`Select ${A.equipmentCode}`,"data-testid":`select-item-${A.id}`})}),y.map(_=>r.jsx(Ze,{className:"p-2 align-top border-r",style:{width:u[_.key]||"auto",maxWidth:_.maxWidth,minWidth:80,verticalAlign:"top",whiteSpace:"normal"},children:S(A,_)},_.key)),r.jsx(Ze,{className:"p-2 align-top",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>t(A),"data-testid":`edit-evidence-${A.id}`,className:"h-8 w-8 p-0",children:r.jsx(rv,{className:"h-3 w-3"})}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n(A),"data-testid":`delete-evidence-${A.id}`,className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:r.jsx(Lo,{className:"h-3 w-3"})})]})})]},A.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Showing ",b.length," of ",e.length," entries",o.length>0&&` (${o.length} selected)`]}),r.jsxs("div",{children:[y.length," columns displayed"]})]})]})}function nO(){const{toast:e}=Ft(),[t,n]=N.useState(""),[i,s]=N.useState(null),[a,o]=N.useState(!1),[l,c]=N.useState(!1),d=N.useRef(null),[u,f]=N.useState([]),[p,h]=N.useState([]),[v,m]=N.useState([]),[y,j]=N.useState([]),[g,x]=N.useState(!1),w=async ee=>{c(!0);try{i?(await ot(`/api/evidence-library/${i.id}`,{method:"PUT",body:JSON.stringify(ee)}),e({title:"Success",description:"Evidence item updated successfully"})):(await ot("/api/evidence-library",{method:"POST",body:JSON.stringify(ee)}),e({title:"Success",description:"Evidence item created successfully"})),Mt.invalidateQueries({queryKey:["/api/evidence-library"]}),o(!1),s(null)}catch(we){console.error("Form submission error:",we),e({title:"Error",description:i?"Failed to update evidence item":"Failed to create evidence item",variant:"destructive"})}finally{c(!1)}},[b,C]=N.useState(null),[k,S]=N.useState("asc");N.useState(null);const[E,$]=N.useState(null),{data:O=[],isLoading:A,refetch:P}=Pe({queryKey:["/api/evidence-library",t],staleTime:0,gcTime:0,refetchOnMount:!0,queryFn:async()=>{const ee=await fetch("/api/evidence-library",{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!ee.ok)throw new Error("Failed to fetch evidence library");return ee.json()},retry:!1,refetchOnWindowFocus:!1});Pe({queryKey:["/api/equipment-types"],staleTime:5*60*1e3,queryFn:async()=>{const ee=await fetch("/api/equipment-types");return ee.ok?ee.json():[]}}),Pe({queryKey:["/api/equipment-subtypes"],staleTime:5*60*1e3,queryFn:async()=>{const ee=await fetch("/api/equipment-subtypes");return ee.ok?ee.json():[]}});const{data:_=[]}=Pe({queryKey:["/api/equipment-groups"],queryFn:async()=>{const ee=await fetch("/api/equipment-groups");return ee.ok?ee.json():[]},staleTime:5*60*1e3});console.log("Equipment Groups:",_,"Loading:",A);const{data:F=[]}=Pe({queryKey:["/api/risk-rankings"],queryFn:async()=>{const ee=await fetch("/api/risk-rankings");return ee.ok?ee.json():[]},staleTime:5*60*1e3});console.log("Risk Rankings:",F,"Loading:",A),Qe({mutationFn:async ee=>ot(`/api/evidence-library/${ee}`,{method:"DELETE"}),onSuccess:()=>{Mt.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:"Evidence item deleted successfully"})},onError:ee=>{e({title:"Error",description:"Failed to delete evidence item",variant:"destructive"})}});const M=Qe({mutationFn:async ee=>{const we=new FormData;we.append("file",ee);const me=await fetch("/api/evidence-library/import",{method:"POST",body:we});if(!me.ok){const Se=await me.json();throw new Error(Se.message||"Import failed")}return me.json()},onSuccess:ee=>{Mt.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:`Imported ${ee.imported} items successfully`}),d.current&&(d.current.value="")},onError:ee=>{e({title:"Import Error",description:ee.message||"Failed to import CSV file",variant:"destructive"})}}),G=O.filter(ee=>{const we={equipmentGroup:ee.equipmentGroup==="DELETED"?"Unknown":ee.equipmentGroup||"",equipmentType:ee.equipmentType==="DELETED"?"Unknown":ee.equipmentType||"",componentFailureMode:ee.componentFailureMode||"",equipmentCode:ee.equipmentCode||"",failureCode:ee.failureCode||""},me=t===""||we.equipmentGroup.toLowerCase().includes(t.toLowerCase())||we.equipmentType.toLowerCase().includes(t.toLowerCase())||we.componentFailureMode.toLowerCase().includes(t.toLowerCase())||we.equipmentCode.toLowerCase().includes(t.toLowerCase())||we.failureCode.toLowerCase().includes(t.toLowerCase()),Se=u.length===0||u.includes(we.equipmentGroup),le=p.length===0||p.includes(we.equipmentType),xe=v.length===0||v.includes(ee.subtype||"");return me&&Se&&le&&xe});b&&G.sort((ee,we)=>{const me=(ee[b]||"").toString(),Se=(we[b]||"").toString(),le=me.localeCompare(Se);return k==="asc"?le:-le});const z=ee=>{var me;const we=(me=ee.target.files)==null?void 0:me[0];we&&M.mutate(we)},H=Qe({mutationFn:async ee=>{const we=ee.map(me=>ot(`/api/evidence-library/${me}`,{method:"DELETE"}));return Promise.all(we)},onSuccess:()=>{Mt.invalidateQueries({queryKey:["/api/evidence-library"]}),j([]),x(!1),e({title:"Success",description:`Deleted ${y.length} evidence items successfully`})},onError:ee=>{e({title:"Error",description:"Failed to delete selected evidence items",variant:"destructive"})}}),D=()=>{y.length!==0&&confirm(`Are you sure you want to delete ${y.length} selected evidence items?`)&&H.mutate(y)},U=async()=>{try{const ee=await fetch("/api/evidence-library/export/csv");if(!ee.ok)throw new Error("Export failed");const we=await ee.blob(),me=window.URL.createObjectURL(we),Se=document.createElement("a");Se.href=me,Se.download=`evidence-library-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(me),e({title:"Success",description:"Evidence Library exported successfully"})}catch{e({title:"Error",description:"Failed to export Evidence Library",variant:"destructive"})}},I=Array.from(new Set(O.map(ee=>ee.equipmentGroup).filter(ee=>ee!=null&&ee!=="DELETED"))),se=Array.from(new Set(O.map(ee=>ee.equipmentType).filter(ee=>ee!=null&&ee!=="DELETED"))),ge=Array.from(new Set(O.map(ee=>ee.subtype).filter(ee=>ee!=null)));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Evidence Library Management"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[r.jsx(MI,{className:"h-8 w-8 mr-3 text-primary"}),"Evidence Library Management"]}),r.jsx("p",{className:"text-muted-foreground",children:"Manage and configure evidence requirements for root cause analysis"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs(J,{variant:O!=null&&O.length?"default":"outline",children:[(O==null?void 0:O.length)||0," Items"]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Z,{className:"flex items-center gap-2",children:["Evidence Library",A?r.jsx(J,{variant:"secondary",children:"Loading..."}):r.jsxs(J,{variant:"outline",children:[G.length," of ",O.length," items"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{ref:d,type:"file",accept:".csv,.xlsx,.xls",onChange:z,className:"hidden",id:"csv-import"}),r.jsx("label",{htmlFor:"csv-import",children:r.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:r.jsxs("span",{children:[r.jsx(Va,{className:"h-4 w-4 mr-2"}),"Import CSV"]})})}),r.jsxs(W,{variant:"outline",size:"sm",onClick:U,children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),y.length>0&&r.jsxs(W,{variant:"destructive",size:"sm",onClick:D,disabled:H.isPending,children:[r.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Delete Selected (",y.length,")"]}),r.jsxs(pc,{open:a,onOpenChange:o,children:[r.jsx(Gj,{asChild:!0,children:r.jsxs(W,{onClick:()=>s(null),children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add Evidence"]})}),r.jsxs(Bo,{className:"max-w-6xl max-h-[95vh] overflow-y-auto",children:[r.jsxs(Uo,{children:[r.jsx(Vo,{children:i?"Edit Evidence Item":"Add New Evidence Item"}),r.jsx(e3,{children:i?"Update all evidence library fields below. All fields except timestamps are available for editing.":"Create a comprehensive evidence library entry. Required fields are marked with *."})]}),r.jsx(sje,{initialData:i,onSubmit:w,onCancel:()=>o(!1),isLoading:l,isEdit:!!i})]})]})]})]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(_i,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(ue,{placeholder:"Search equipment, failure modes, codes...",value:t,onChange:ee=>n(ee.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(We,{value:"",onValueChange:ee=>{ee&&f([...u,ee])},children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Filter by Equipment Group"})}),r.jsx(Ge,{children:I.map(ee=>r.jsx(ne,{value:ee,children:ee},ee))})]}),r.jsxs(We,{value:"",onValueChange:ee=>{ee&&h([...p,ee])},children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Filter by Equipment Type"})}),r.jsx(Ge,{children:se.map(ee=>r.jsx(ne,{value:ee,children:ee},ee))})]}),r.jsxs(We,{value:"",onValueChange:ee=>{ee&&m([...v,ee])},children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Filter by Subtype"})}),r.jsx(Ge,{children:ge.map(ee=>r.jsx(ne,{value:ee,children:ee},ee))})]})]}),(u.length>0||p.length>0||v.length>0)&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map(ee=>r.jsxs(J,{variant:"secondary",className:"flex items-center gap-1",children:[ee,r.jsx("button",{onClick:()=>f(u.filter(we=>we!==ee)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:"×"})]},ee)),p.map(ee=>r.jsxs(J,{variant:"secondary",className:"flex items-center gap-1",children:[ee,r.jsx("button",{onClick:()=>h(p.filter(we=>we!==ee)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:"×"})]},ee)),v.map(ee=>r.jsxs(J,{variant:"secondary",className:"flex items-center gap-1",children:[ee,r.jsx("button",{onClick:()=>m(v.filter(we=>we!==ee)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:"×"})]},ee)),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{f([]),h([]),m([])},children:"Clear All"})]})]}),r.jsx(fwe,{data:G,onEdit:ee=>{s(ee),o(!0)},onDelete:ee=>$(ee),onBulkDelete:D,searchTerm:t,onSearchChange:n,selectedItems:y,onSelectionChange:j,isLoading:A})]})]})]})}function pwe({isOpen:e,onClose:t,item:n,onSuccess:i}){const{toast:s}=Ft(),[a,o]=N.useState({equipmentGroupId:"",equipmentTypeId:"",equipmentSubtypeId:"",componentFailureMode:"",equipmentCode:"",failureCode:"",riskRankingId:"",requiredTrendDataEvidence:"",aiOrInvestigatorQuestions:"",attachmentsEvidenceRequired:"",rootCauseLogic:"",primaryRootCause:"",contributingFactor:"",latentCause:"",detectionGap:"",faultSignaturePattern:"",applicableToOtherEquipment:"",evidenceGapFlag:"",confidenceLevel:"",diagnosticValue:"",industryRelevance:"",evidencePriority:"",timeToCollect:"",collectionCost:"",analysisComplexity:"",seasonalFactor:"",relatedFailureModes:"",prerequisiteEvidence:"",followupActions:"",industryBenchmark:""}),{data:l=[]}=Pe({queryKey:["/api/equipment-groups"],queryFn:async()=>{const h=await fetch("/api/equipment-groups");return h.ok?h.json():[]}}),{data:c=[]}=Pe({queryKey:["/api/equipment-types"],queryFn:async()=>{const h=await fetch("/api/equipment-types");return h.ok?h.json():[]}}),{data:d=[]}=Pe({queryKey:["/api/risk-rankings"],queryFn:async()=>{const h=await fetch("/api/risk-rankings");return h.ok?h.json():[]}});N.useEffect(()=>{var h,v,m,y;o(n?{equipmentGroupId:((h=n.equipmentGroupId)==null?void 0:h.toString())||"",equipmentTypeId:((v=n.equipmentTypeId)==null?void 0:v.toString())||"",equipmentSubtypeId:((m=n.equipmentSubtypeId)==null?void 0:m.toString())||"",componentFailureMode:n.componentFailureMode||"",equipmentCode:n.equipmentCode||"",failureCode:n.failureCode||"",riskRankingId:((y=n.riskRankingId)==null?void 0:y.toString())||"",requiredTrendDataEvidence:n.requiredTrendDataEvidence||"",aiOrInvestigatorQuestions:n.aiOrInvestigatorQuestions||"",attachmentsEvidenceRequired:n.attachmentsEvidenceRequired||"",rootCauseLogic:n.rootCauseLogic||"",primaryRootCause:n.primaryRootCause||"",contributingFactor:n.contributingFactor||"",latentCause:n.latentCause||"",detectionGap:n.detectionGap||"",faultSignaturePattern:n.faultSignaturePattern||"",applicableToOtherEquipment:n.applicableToOtherEquipment||"",evidenceGapFlag:n.evidenceGapFlag||"",confidenceLevel:n.confidenceLevel||"",diagnosticValue:n.diagnosticValue||"",industryRelevance:n.industryRelevance||"",evidencePriority:n.evidencePriority||"",timeToCollect:n.timeToCollect||"",collectionCost:n.collectionCost||"",analysisComplexity:n.analysisComplexity||"",seasonalFactor:n.seasonalFactor||"",relatedFailureModes:n.relatedFailureModes||"",prerequisiteEvidence:n.prerequisiteEvidence||"",followupActions:n.followupActions||"",industryBenchmark:n.industryBenchmark||""}:{equipmentGroupId:"",equipmentTypeId:"",equipmentSubtypeId:"",componentFailureMode:"",equipmentCode:"",failureCode:"",riskRankingId:"",requiredTrendDataEvidence:"",aiOrInvestigatorQuestions:"",attachmentsEvidenceRequired:"",rootCauseLogic:"",primaryRootCause:"",contributingFactor:"",latentCause:"",detectionGap:"",faultSignaturePattern:"",applicableToOtherEquipment:"",evidenceGapFlag:"",confidenceLevel:"",diagnosticValue:"",industryRelevance:"",evidencePriority:"",timeToCollect:"",collectionCost:"",analysisComplexity:"",seasonalFactor:"",relatedFailureModes:"",prerequisiteEvidence:"",followupActions:"",industryBenchmark:""})},[n]);const u=Qe({mutationFn:async h=>{const v=n?`/api/evidence-library/by-failure-code/${encodeURIComponent(n.failureCode)}`:"/api/evidence-library";return ot(v,{method:n?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:h.equipmentGroupId,typeId:h.equipmentTypeId,subtypeId:h.equipmentSubtypeId==="__NONE__"?null:h.equipmentSubtypeId,equipmentCode:h.equipmentCode,componentFailureMode:h.componentFailureMode,failureCode:h.failureCode&&h.failureCode.trim()!==""?h.failureCode.trim():null,equipmentGroupId:parseInt(h.equipmentGroupId),equipmentTypeId:parseInt(h.equipmentTypeId),equipmentSubtypeId:h.equipmentSubtypeId==="__NONE__"?null:h.equipmentSubtypeId?parseInt(h.equipmentSubtypeId):null,riskRankingId:h.riskRankingId?parseInt(h.riskRankingId):null,requiredTrendDataEvidence:h.requiredTrendDataEvidence,aiOrInvestigatorQuestions:h.aiOrInvestigatorQuestions,attachmentsEvidenceRequired:h.attachmentsEvidenceRequired,rootCauseLogic:h.rootCauseLogic,primaryRootCause:h.primaryRootCause,contributingFactor:h.contributingFactor,latentCause:h.latentCause,detectionGap:h.detectionGap,confidenceLevel:h.confidenceLevel,faultSignaturePattern:h.faultSignaturePattern,applicableToOtherEquipment:h.applicableToOtherEquipment,evidenceGapFlag:h.evidenceGapFlag,diagnosticValue:h.diagnosticValue,industryRelevance:h.industryRelevance,evidencePriority:h.evidencePriority,timeToCollect:h.timeToCollect,collectionCost:h.collectionCost,analysisComplexity:h.analysisComplexity,seasonalFactor:h.seasonalFactor,relatedFailureModes:h.relatedFailureModes,prerequisiteEvidence:h.prerequisiteEvidence,followupActions:h.followupActions,industryBenchmark:h.industryBenchmark})})},onSuccess:()=>{s({title:"Success",description:n?"Evidence item updated successfully":"Evidence item added successfully"}),Mt.invalidateQueries({queryKey:["/api/evidence-library"]}),i==null||i()},onError:h=>{s({title:"Error",description:h.message||"Failed to save evidence item",variant:"destructive"})}}),f=h=>{if(h.preventDefault(),!a.equipmentGroupId||!a.equipmentTypeId||!a.componentFailureMode||!a.equipmentCode){s({title:"Validation Error",description:"Please fill in all required fields (Group, Type, Component/Failure Mode, Equipment Code)",variant:"destructive"});return}u.mutate(a)},p=(h,v)=>{o(m=>({...m,[h]:v}))};return r.jsx(pc,{open:e,onOpenChange:t,children:r.jsxs(Bo,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Uo,{children:r.jsxs(Vo,{children:[n?"Edit":"Add"," Evidence Library Item"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Group *"}),r.jsxs(We,{value:a.equipmentGroupId,onValueChange:h=>p("equipmentGroupId",h),children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select equipment group"})}),r.jsx(Ge,{children:l.map(h=>r.jsx(ne,{value:h.id.toString(),children:h.name},h.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Type *"}),r.jsxs(We,{value:a.equipmentTypeId,onValueChange:h=>p("equipmentTypeId",h),children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select equipment type"})}),r.jsx(Ge,{children:c.map(h=>r.jsx(ne,{value:h.id.toString(),children:h.name},h.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Subtype (Optional)"}),r.jsxs(We,{value:a.equipmentSubtypeId||"__NONE__",onValueChange:h=>p("equipmentSubtypeId",h),children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select equipment subtype"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"__NONE__",children:"None"}),equipmentSubtypes.map(h=>r.jsx(ne,{value:h.id.toString(),children:h.name},h.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Component/Failure Mode *"}),r.jsx(ue,{value:a.componentFailureMode,onChange:h=>p("componentFailureMode",h.target.value),placeholder:"Enter component/failure mode"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Code *"}),r.jsx(ue,{value:a.equipmentCode,onChange:h=>p("equipmentCode",h.target.value),placeholder:"Enter equipment code"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Failure Code (Optional)"}),r.jsx(ue,{value:a.failureCode,onChange:h=>p("failureCode",h.target.value),placeholder:"Enter failure code (optional)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Risk Ranking *"}),r.jsxs(We,{value:a.riskRankingId,onValueChange:h=>p("riskRankingId",h),children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select risk ranking"})}),r.jsx(Ge,{children:d.map(h=>r.jsx(ne,{value:h.id.toString(),children:h.name},h.id))})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Required Trend Data Evidence *"}),r.jsx(ze,{value:a.requiredTrendDataEvidence,onChange:h=>p("requiredTrendDataEvidence",h.target.value),placeholder:"Enter required trend data evidence",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"AI/Investigator Questions *"}),r.jsx(ze,{value:a.aiOrInvestigatorQuestions,onChange:h=>p("aiOrInvestigatorQuestions",h.target.value),placeholder:"Enter AI/investigator questions",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Attachments Evidence Required *"}),r.jsx(ze,{value:a.attachmentsEvidenceRequired,onChange:h=>p("attachmentsEvidenceRequired",h.target.value),placeholder:"Enter attachments evidence required",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Root Cause Logic *"}),r.jsx(ze,{value:a.rootCauseLogic,onChange:h=>p("rootCauseLogic",h.target.value),placeholder:"Enter root cause logic",rows:2})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Primary Root Cause"}),r.jsx(ue,{value:a.primaryRootCause,onChange:h=>p("primaryRootCause",h.target.value),placeholder:"Enter primary root cause"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Contributing Factor"}),r.jsx(ue,{value:a.contributingFactor,onChange:h=>p("contributingFactor",h.target.value),placeholder:"Enter contributing factor"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Confidence Level"}),r.jsx(ue,{value:a.confidenceLevel,onChange:h=>p("confidenceLevel",h.target.value),placeholder:"Enter confidence level"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Diagnostic Value"}),r.jsx(ue,{value:a.diagnosticValue,onChange:h=>p("diagnosticValue",h.target.value),placeholder:"Enter diagnostic value"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsxs(W,{type:"submit",disabled:u.isPending,children:[u.isPending?"Saving...":n?"Update":"Add"," Item"]})]})]})]})})}function Wy(){const{toast:e}=Ft(),t=N.useRef(null),[n,i]=N.useState([]),[s,a]=N.useState(!1),[o,l]=N.useState(""),[c,d]=N.useState([]),[u,f]=N.useState([]),[p,h]=N.useState([]),[v,m]=N.useState({}),[y,j]=N.useState(!1),[g,x]=N.useState(null),{data:w=[],isLoading:b,refetch:C}=Pe({queryKey:["/api/evidence-library"],staleTime:0,gcTime:0,refetchOnMount:!0,queryFn:async()=>{const I=await fetch("/api/evidence-library",{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!I.ok)throw new Error("Failed to fetch evidence library");return I.json()},retry:!1,refetchOnWindowFocus:!1}),{data:k=[]}=Pe({queryKey:["/api/equipment-groups"],queryFn:async()=>{const I=await fetch("/api/equipment-groups");return I.ok?I.json():[]}}),{data:S=[]}=Pe({queryKey:["/api/equipment-types"],queryFn:async()=>{const I=await fetch("/api/equipment-types");return I.ok?I.json():[]}}),{data:E=[]}=Pe({queryKey:["/api/equipment-subtypes"],queryFn:async()=>{const I=await fetch("/api/equipment-subtypes");return I.ok?I.json():[]}}),$=Qe({mutationFn:async I=>{const se=new FormData;se.append("file",I);const ge=await fetch("/api/evidence-library/import",{method:"POST",body:se});if(!ge.ok){const ee=await ge.json();throw new Error(ee.error||"Import failed")}return ge.json()},onSuccess:I=>{Mt.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Import Successful",description:`Imported ${I.imported} items, ${I.errors} errors`}),C()},onError:I=>{e({title:"Import Failed",description:I.message,variant:"destructive"})}}),O=w.filter(I=>{const se={equipmentGroup:I.equipmentGroup||"",equipmentType:I.equipmentType||"",componentFailureMode:I.componentFailureMode||"",equipmentCode:I.equipmentCode||"",failureCode:I.failureCode||""},ge=o===""||se.equipmentGroup.toLowerCase().includes(o.toLowerCase())||se.equipmentType.toLowerCase().includes(o.toLowerCase())||se.componentFailureMode.toLowerCase().includes(o.toLowerCase())||se.equipmentCode.toLowerCase().includes(o.toLowerCase())||se.failureCode.toLowerCase().includes(o.toLowerCase()),ee=c.length===0||c.includes(se.equipmentGroup),we=u.length===0||u.includes(se.equipmentType),me=p.length===0||p.includes(I.subtype||"");return ge&&ee&&we&&me}),A=I=>{if(n.includes(I))i(n.filter(se=>se!==I)),s&&a(!1);else{const se=[...n,I];i(se),se.length===O.length&&a(!0)}},P=()=>{s?(i([]),a(!1)):(i(O.map(I=>I.failureCode)),a(!0))},_=I=>{m(se=>({...se,[I]:!se[I]}))},F=I=>{var ge;const se=(ge=I.target.files)==null?void 0:ge[0];se&&$.mutate(se)},M=async()=>{try{const I=await fetch("/api/evidence-library/export/csv");if(!I.ok)throw new Error("Export failed");const se=await I.blob(),ge=window.URL.createObjectURL(se),ee=document.createElement("a");ee.href=ge,ee.download=`evidence-library-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ee),ee.click(),window.URL.revokeObjectURL(ge),document.body.removeChild(ee),e({title:"Export Successful",description:"Evidence library exported to CSV"})}catch{e({title:"Export Failed",description:"Failed to export evidence library",variant:"destructive"})}},G=Qe({mutationFn:async I=>ot(`/api/evidence-library/by-failure-code/${encodeURIComponent(I)}`,{method:"DELETE"}),onSuccess:()=>{Mt.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:"Evidence item permanently deleted"})},onError:I=>{e({title:"Delete Failed",description:I.message||"Failed to delete evidence item",variant:"destructive"})}}),z=Qe({mutationFn:async I=>{await Promise.all(I.map(se=>ot(`/api/evidence-library/by-failure-code/${encodeURIComponent(se)}`,{method:"DELETE"})))},onSuccess:()=>{Mt.invalidateQueries({queryKey:["/api/evidence-library"]}),i([]),a(!1),e({title:"Success",description:`${n.length} items permanently deleted`})},onError:I=>{e({title:"Bulk Delete Failed",description:I.message||"Failed to delete selected items",variant:"destructive"})}}),H=()=>{n.length>0&&confirm(`Are you sure you want to permanently delete ${n.length} items? This cannot be undone.`)&&z.mutate(n)},D=()=>{if(O.length>0&&confirm(`Are you sure you want to permanently delete ALL ${O.length} items? This cannot be undone.`)){const I=O.map(se=>se.failureCode);z.mutateAsync(I).then(()=>{i([]),a(!1)})}},U=(I,se,ge,ee=50)=>{const we=`${se}-${ge}`,me=v[we],Se=I||"-";return Se.length<=ee?Se:r.jsx(OR,{children:r.jsxs(LU,{children:[r.jsx(qU,{asChild:!0,children:r.jsx("div",{className:"cursor-pointer hover:bg-gray-100 p-1 rounded",onClick:()=>_(we),children:me?Se:`${Se.substring(0,ee)}...`})}),r.jsx(TR,{className:"max-w-md",children:r.jsx("p",{className:"whitespace-pre-wrap",children:Se})})]})})};return r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(Z,{children:"Evidence Library Management"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[r.jsx(On,{className:"h-4 w-4"}),"Add Item"]}),n.length>0&&r.jsxs(W,{onClick:H,disabled:z.isPending,variant:"destructive",className:"flex items-center gap-2",children:[r.jsx(Lo,{className:"h-4 w-4"}),"Delete Selected (",n.length,")"]}),O.length>0&&r.jsxs(W,{onClick:D,disabled:z.isPending,variant:"destructive",className:"flex items-center gap-2",children:[r.jsx(Lo,{className:"h-4 w-4"}),"Delete All (",O.length,")"]})]})]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"text-xs text-green-600 mb-4 bg-green-50 p-3 rounded border border-green-200",children:["✅ ",r.jsx("strong",{children:"STEP 2 COMPLETE IMPLEMENTATION:"})," 1) Cell expansion/tooltips ✓ 2) Sticky headers ✓ 3) Dynamic filtering ✓ 4) Import/export ✓ 5) No hardcoding ✓"]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"flex-1 min-w-64",children:r.jsxs("div",{className:"relative",children:[r.jsx(_i,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(ue,{placeholder:"Search equipment group, type, code, failure code...",value:o,onChange:I=>l(I.target.value),className:"pl-10"})]})}),r.jsxs(We,{value:c[0]||"ALL_GROUPS",onValueChange:I=>d(I==="ALL_GROUPS"?[]:[I]),children:[r.jsx(Ue,{className:"w-48",children:r.jsx(He,{placeholder:"Equipment Group"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"ALL_GROUPS",children:"All Equipment Groups"}),k.map(I=>r.jsx(ne,{value:I.name,children:I.name},I.id))]})]}),r.jsxs(We,{value:u[0]||"ALL_TYPES",onValueChange:I=>f(I==="ALL_TYPES"?[]:[I]),children:[r.jsx(Ue,{className:"w-48",children:r.jsx(He,{placeholder:"Equipment Type"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"ALL_TYPES",children:"All Equipment Types"}),S.map(I=>r.jsx(ne,{value:I.name,children:I.name},I.id))]})]}),r.jsxs(We,{value:p[0]||"ALL_SUBTYPES",onValueChange:I=>h(I==="ALL_SUBTYPES"?[]:[I]),children:[r.jsx(Ue,{className:"w-48",children:r.jsx(He,{placeholder:"Subtype"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"ALL_SUBTYPES",children:"All Subtypes"}),E.map(I=>r.jsx(ne,{value:I.name,children:I.name},I.id))]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",O.length," of ",w.length," items",n.length>0&&` (${n.length} selected)`]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"file",ref:t,onChange:F,accept:".csv,.xlsx",className:"hidden"}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>{var I;return(I=t.current)==null?void 0:I.click()},disabled:$.isPending,children:[r.jsx(Va,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:M,children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),r.jsx("div",{className:"evidence-table-container border rounded-lg shadow-lg",style:{width:"100%",height:"80vh",overflow:"auto",position:"relative"},children:r.jsxs("table",{style:{minWidth:"20000px",width:"20000px",tableLayout:"fixed",borderCollapse:"collapse"},className:"w-full",children:[r.jsx("thead",{style:{position:"sticky",top:0,zIndex:1e3,backgroundColor:"white"},className:"bg-white shadow-sm border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"80px",minWidth:"80px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:r.jsx("input",{type:"checkbox",checked:s,onChange:P,className:"rounded border-gray-300"})}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"200px",minWidth:"200px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Group"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"200px",minWidth:"200px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Type"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Subtype"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Component/Failure Mode"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Code"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Failure Code"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Risk Ranking"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Required Trend Data"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"AI Questions"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"280px",minWidth:"280px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Attachments Required"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Root Cause Logic"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Primary Root Cause"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Contributing Factor"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Latent Cause"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Detection Gap"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Confidence Level"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Fault Signature Pattern"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"280px",minWidth:"280px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Applicable to Other Equipment"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Evidence Gap Flag"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Eliminated If These Failures Confirmed"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Why It Gets Eliminated"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Diagnostic Value"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Industry Relevance"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Evidence Priority"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Time to Collect"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Collection Cost"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Analysis Complexity"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Seasonal Factor"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Related Failure Modes"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Prerequisite Evidence"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Followup Actions"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Industry Benchmark"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"System ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Group ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Type ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Subtype ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Risk ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Active"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Updated"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Updated By"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Created"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Actions"})]})}),r.jsx("tbody",{children:b?r.jsx("tr",{children:r.jsx("td",{colSpan:43,className:"text-center py-8 px-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading evidence library..."})]})})}):O.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:43,className:"text-center py-8 px-4 border-b",children:r.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[r.jsx(mt,{className:"h-12 w-12 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"No evidence items found"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Add evidence items to get started"})]})]})})}):O.map(I=>{var se,ge,ee;return r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 border-r",children:r.jsx("input",{type:"checkbox",checked:n.includes(I.failureCode),onChange:()=>A(I.failureCode),className:"rounded border-gray-300"})}),r.jsx("td",{className:"px-4 py-3 border-r font-medium",children:U(I.equipmentGroup==="DELETED"?"Unknown":I.equipmentGroup,I.id,"equipmentGroup",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.equipmentType==="DELETED"?"Unknown":I.equipmentType,I.id,"equipmentType",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.subtype,I.id,"subtype",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.componentFailureMode,I.id,"componentFailureMode",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.equipmentCode,I.id,"equipmentCode",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:r.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:U(I.failureCode,I.id,"failureCode",20)})}),r.jsx("td",{className:"px-4 py-3 border-r",children:r.jsx(J,{variant:((se=I.riskRanking)==null?void 0:se.toLowerCase())==="critical"||((ge=I.riskRanking)==null?void 0:ge.toLowerCase())==="high"?"destructive":((ee=I.riskRanking)==null?void 0:ee.toLowerCase())==="medium"?"default":"secondary",children:I.riskRanking})}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.requiredTrendDataEvidence,I.id,"requiredTrendDataEvidence",60)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.aiOrInvestigatorQuestions,I.id,"aiOrInvestigatorQuestions",60)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.attachmentsEvidenceRequired,I.id,"attachmentsEvidenceRequired",50)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.rootCauseLogic,I.id,"rootCauseLogic",50)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.primaryRootCause,I.id,"primaryRootCause",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.contributingFactor,I.id,"contributingFactor",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.latentCause,I.id,"latentCause",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.detectionGap,I.id,"detectionGap",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.confidenceLevel,I.id,"confidenceLevel",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.faultSignaturePattern,I.id,"faultSignaturePattern",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.applicableToOtherEquipment,I.id,"applicableToOtherEquipment",50)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.evidenceGapFlag,I.id,"evidenceGapFlag",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.eliminatedIfTheseFailuresConfirmed,I.id,"eliminatedIfTheseFailuresConfirmed",60)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.whyItGetsEliminated,I.id,"whyItGetsEliminated",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.diagnosticValue,I.id,"diagnosticValue",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.industryRelevance,I.id,"industryRelevance",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.evidencePriority,I.id,"evidencePriority",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.timeToCollect,I.id,"timeToCollect",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.collectionCost,I.id,"collectionCost",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.analysisComplexity,I.id,"analysisComplexity",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.seasonalFactor,I.id,"seasonalFactor",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.relatedFailureModes,I.id,"relatedFailureModes",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.prerequisiteEvidence,I.id,"prerequisiteEvidence",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.followupActions,I.id,"followupActions",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(I.industryBenchmark,I.id,"industryBenchmark",35)}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:I.id}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:I.equipmentGroupId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:I.equipmentTypeId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:I.equipmentSubtypeId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:I.riskRankingId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:r.jsx(J,{variant:I.isActive?"default":"secondary",children:I.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:I.updatedAt?iw(new Date(I.updatedAt),"MMM dd, yyyy"):"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:I.updatedBy||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:I.createdAt?iw(new Date(I.createdAt),"MMM dd, yyyy"):"-"}),r.jsx("td",{className:"px-4 py-3 bg-gray-50",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(W,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>x(I),children:r.jsx(Cz,{className:"h-3 w-3"})}),r.jsx(W,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-destructive hover:text-destructive",onClick:()=>{confirm("Are you sure you want to permanently delete this item? This cannot be undone.")&&G.mutate(I.failureCode)},disabled:G.isPending,children:r.jsx(Lo,{className:"h-3 w-3"})})]})})]},I.id)})})]})})]})]}),r.jsx(pwe,{isOpen:y||!!g,onClose:()=>{j(!1),x(null)},item:g,onSuccess:()=>{Mt.invalidateQueries({queryKey:["/api/evidence-library"]}),j(!1),x(null)}})]})}const mwe=Ee.object({title:Ee.string().min(3,"Title must be at least 3 characters"),description:Ee.string().min(10,"Description must be at least 10 characters"),equipmentGroup:Ee.string().min(1,"Equipment group is required"),equipmentType:Ee.string().min(1,"Equipment type is required"),equipmentSubtype:Ee.string().min(1,"Equipment subtype is required"),equipmentId:Ee.string().min(1,"Equipment ID is required"),location:Ee.string().min(1,"Location is required"),reportedBy:Ee.string().min(1,"Reporter name is required"),incidentDateTime:Ee.string().min(1,"Incident date/time is required"),priority:Ee.enum(["Low","Medium","High","Critical"]),immediateActions:Ee.string().optional(),safetyImplications:Ee.string().optional(),operatingParameters:Ee.string().optional(),issueFrequency:Ee.enum(["First","Recurring","Unknown"]).optional(),issueSeverity:Ee.enum(["Low","Medium","High","Critical"]).optional(),initialContextualFactors:Ee.string().optional(),sequenceOfEvents:Ee.string().optional(),sequenceOfEventsFiles:Ee.array(Ee.string()).optional(),reportableStatus:Ee.enum(["not_reportable","reported","not_yet_reported"]),regulatoryAuthorityName:Ee.string().optional(),dateReported:Ee.string().optional(),reportReferenceId:Ee.string().optional(),complianceImpactSummary:Ee.string().optional(),plannedDateOfReporting:Ee.string().optional(),delayReason:Ee.string().optional(),intendedRegulatoryAuthority:Ee.string().optional(),timelineData:Ee.record(Ee.string()).optional()}).refine(e=>!(e.reportableStatus==="reported"&&(!e.regulatoryAuthorityName||e.regulatoryAuthorityName.trim()===""||!e.dateReported||e.dateReported.trim()===""||!e.complianceImpactSummary||e.complianceImpactSummary.trim()==="")||e.reportableStatus==="not_yet_reported"&&(!e.plannedDateOfReporting||e.plannedDateOfReporting.trim()===""||!e.delayReason||e.delayReason.trim()===""||!e.intendedRegulatoryAuthority||e.intendedRegulatoryAuthority.trim()==="")),{message:"Required regulatory compliance fields must be completed",path:["reportableStatus"]});function hwe(){const{toast:e}=Ft(),[,t]=ii(),[n,i]=N.useState([]),[s,a]=N.useState(!1),o=rS({resolver:iS(mwe),defaultValues:{title:"",description:"",equipmentGroup:"",equipmentType:"",equipmentSubtype:"",equipmentId:"",location:"",reportedBy:"",incidentDateTime:"",priority:"Medium",immediateActions:"",safetyImplications:"",operatingParameters:"",issueFrequency:void 0,issueSeverity:void 0,initialContextualFactors:"",sequenceOfEvents:"",sequenceOfEventsFiles:[],reportableStatus:"not_reportable",regulatoryAuthorityName:"",dateReported:"",reportReferenceId:"",complianceImpactSummary:"",plannedDateOfReporting:"",delayReason:"",intendedRegulatoryAuthority:"",timelineData:{}}}),l=o.watch("equipmentGroup"),c=o.watch("equipmentType"),d=o.watch("equipmentSubtype"),u=o.watch("reportableStatus");N.useEffect(()=>{l&&c&&d&&f()},[l,c,d]);const f=async()=>{var w,b;try{const C=await fetch("/api/incidents/0/generate-timeline-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({equipmentGroup:l,equipmentType:c,equipmentSubtype:d})});if(C.ok){const k=await C.json();i(((w=k.timelineQuestions)==null?void 0:w.questions)||[]),a(!0),console.log(`Generated ${((b=k.timelineQuestions)==null?void 0:b.totalQuestions)||0} timeline questions`)}}catch(C){console.error("Error generating timeline questions:",C)}},{data:p=[]}=Pe({queryKey:["/api/cascading/equipment-groups"],queryFn:async()=>{try{const w=await fetch("/api/cascading/equipment-groups");return w.ok?w.json():(console.error("Equipment groups API failed, falling back to SQL query"),["Rotating","Static","Electrical","Control Valves","Instrumentation","Fire & Safety","HVAC & Utilities","Material Handling","Plant Utilities","Environmental","Utility"])}catch(w){return console.error("Equipment groups fetch error:",w),["Rotating","Static","Electrical","Control Valves","Instrumentation","Fire & Safety","HVAC & Utilities","Material Handling","Plant Utilities","Environmental","Utility"]}}}),{data:h=[],isLoading:v,error:m}=Pe({queryKey:["/api/cascading/equipment-types",l],queryFn:async()=>{if(!l)return[];console.log(`[Cascading Dropdown] Fetching equipment types for group: ${l}`);try{const w=await fetch(`/api/cascading/equipment-types/${encodeURIComponent(l)}`);if(!w.ok)return console.error("Equipment types API failed"),[];const b=await w.json();return console.log(`[Cascading Dropdown] Got ${b.length} equipment types:`,b),b}catch(w){return console.error("Equipment types fetch error:",w),[]}},enabled:!!l}),{data:y=[],isLoading:j}=Pe({queryKey:["/api/cascading/equipment-subtypes",l,c],queryFn:async()=>{if(!l||!c)return[];console.log(`[Cascading Dropdown] Fetching subtypes for ${l}/${c}`);try{const w=await fetch(`/api/cascading/equipment-subtypes/${encodeURIComponent(l)}/${encodeURIComponent(c)}`);if(!w.ok)return console.error("Equipment subtypes API failed"),[];const b=await w.json();return console.log(`[Cascading Dropdown] Got ${b.length} subtypes:`,b),b}catch(w){return console.error("Equipment subtypes fetch error:",w),[]}},enabled:!!l&&!!c}),g=Qe({mutationFn:async w=>{console.log("Making API request to create incident...");const b=await fetch("/api/incidents",{method:"POST",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}});if(!b.ok)throw new Error(`Failed to create incident: ${b.status}`);const C=await b.json();return console.log("Raw API response:",C),C},onSuccess:w=>{console.log("Incident created successfully:",w),console.log("Full response object:",JSON.stringify(w,null,2));let b;if(typeof w=="object"&&w.id?b=w.id:typeof w=="number"?b=w:typeof w=="string"?b=parseInt(w):(console.error("Unexpected response format:",w),b=null),console.log("Extracted incident ID for navigation:",b,"Type:",typeof b),!b){console.error("ERROR: No incident ID in response:",w),e({title:"Error",description:"Failed to get incident ID for navigation",variant:"destructive"});return}e({title:"Incident Reported",description:"Moving to equipment selection and symptom input..."});const C=`/equipment-selection?incident=${b}`;console.log("Navigating to:",C),console.log("About to call setLocation with:",C),t(C),console.log("setLocation called successfully")},onError:w=>{e({title:"Error",description:w.message||"Failed to create incident report",variant:"destructive"})}}),x=w=>{g.mutate(w)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(mp,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Incident Reporting"}),r.jsx("p",{className:"text-slate-600",children:"Step 1: Report the incident and provide initial details"})]})]}),r.jsx(J,{variant:"secondary",className:"text-sm",children:"Step 1 of 8"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Incident Reported"})]}),r.jsx(Tr,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Equipment Selection"})]}),r.jsx(Tr,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Collection"})]}),r.jsx("span",{className:"text-slate-400",children:"..."})]})}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"h-5 w-5 text-orange-500"}),"Incident Details"]})}),r.jsx(Q,{children:r.jsx(aS,{...o,children:r.jsxs("form",{onSubmit:o.handleSubmit(x),className:"space-y-6",children:[r.jsx(qe,{control:o.control,name:"title",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Incident Details"}),r.jsx($e,{children:r.jsx(ue,{...w,placeholder:"e.g., Pump P-101 seal leak"})}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"description",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Initial Observations"}),r.jsx($e,{children:r.jsx(ze,{...w,placeholder:"Describe what was observed, when it was observed, and any initial symptoms...",rows:4})}),r.jsx(De,{})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.jsx(qe,{control:o.control,name:"priority",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Priority Level"}),r.jsx($e,{children:r.jsxs(We,{onValueChange:w.onChange,value:w.value,children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"Low",children:"Low"}),r.jsx(ne,{value:"Medium",children:"Medium"}),r.jsx(ne,{value:"High",children:"High"}),r.jsx(ne,{value:"Critical",children:"Critical"})]})]})}),r.jsx(De,{})]})})}),r.jsx(qe,{control:o.control,name:"operatingParameters",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Operating Parameters at Incident Time"}),r.jsx($e,{children:r.jsx(ze,{...w,placeholder:"e.g., Temperature: 85°C, Pressure: 150 PSI, Flow: 200 GPM, RPM: 1750, Vibration: 2.5 mm/s",rows:2})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(qe,{control:o.control,name:"issueFrequency",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Issue Frequency"}),r.jsxs(We,{onValueChange:w.onChange,value:w.value,children:[r.jsx($e,{children:r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select frequency"})})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"First",children:"First Occurrence"}),r.jsx(ne,{value:"Recurring",children:"Recurring Issue"}),r.jsx(ne,{value:"Unknown",children:"Unknown"})]})]}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"issueSeverity",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Issue Severity"}),r.jsxs(We,{onValueChange:w.onChange,value:w.value,children:[r.jsx($e,{children:r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select severity"})})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"Low",children:"Low"}),r.jsx(ne,{value:"Medium",children:"Medium"}),r.jsx(ne,{value:"High",children:"High"}),r.jsx(ne,{value:"Critical",children:"Critical"})]})]}),r.jsx(De,{})]})})]}),r.jsx(qe,{control:o.control,name:"initialContextualFactors",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Recent Maintenance or Operational Changes"}),r.jsx($e,{children:r.jsx(ze,{...w,placeholder:"e.g., Recent bearing replacement 2 weeks ago, process temperature increased last month, new operator training, environmental conditions changed",rows:2})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(qe,{control:o.control,name:"equipmentGroup",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{className:"flex items-center gap-2",children:[r.jsx(uh,{className:"w-4 h-4"}),"Equipment Group (Level 1)"]}),r.jsxs(We,{onValueChange:b=>{w.onChange(b),o.setValue("equipmentType",""),o.setValue("equipmentSubtype","")},value:w.value,children:[r.jsx($e,{children:r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select equipment group"})})}),r.jsx(Ge,{children:p.map(b=>r.jsx(ne,{value:b,children:b},b))})]}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"equipmentType",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Equipment Type (Level 2)"}),r.jsxs(We,{onValueChange:b=>{w.onChange(b),o.setValue("equipmentSubtype","")},value:w.value,disabled:!l,children:[r.jsx($e,{children:r.jsx(Ue,{children:r.jsx(He,{placeholder:l?v?"Loading types...":h.length===0?"No types found":"Select equipment type":"Select equipment group first"})})}),r.jsx(Ge,{children:h.map(b=>r.jsx(ne,{value:b,children:b},b))})]}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"equipmentSubtype",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Equipment Subtype (Level 3)"}),r.jsxs(We,{onValueChange:w.onChange,value:w.value,disabled:!l||!c,children:[r.jsx($e,{children:r.jsx(Ue,{children:r.jsx(He,{placeholder:!l||!c?"Select equipment type first":j?"Loading subtypes...":y.length===0?"No subtypes found":"Select equipment subtype"})})}),r.jsx(Ge,{children:y.map(b=>r.jsx(ne,{value:b,children:b},b))})]}),r.jsx(De,{})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.jsx(qe,{control:o.control,name:"equipmentId",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Equipment ID/Tag"}),r.jsx($e,{children:r.jsx(ue,{...w,placeholder:"e.g., P-101, M-205"})}),r.jsx(De,{})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(qe,{control:o.control,name:"location",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{className:"flex items-center gap-2",children:[r.jsx(DI,{className:"h-4 w-4"}),"Location"]}),r.jsx($e,{children:r.jsx(ue,{...w,placeholder:"e.g., Unit 1 Process Area"})}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"reportedBy",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{className:"flex items-center gap-2",children:[r.jsx(Lc,{className:"h-4 w-4"}),"Reported By"]}),r.jsx($e,{children:r.jsx(ue,{...w,placeholder:"Your name"})}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"incidentDateTime",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{className:"flex items-center gap-2",children:[r.jsx(Fr,{className:"h-4 w-4"}),"Incident Date/Time"]}),r.jsx($e,{children:r.jsx(ue,{...w,type:"datetime-local",max:new Date().toISOString().slice(0,16)})}),r.jsx(De,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(qe,{control:o.control,name:"immediateActions",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{className:"flex items-center gap-2",children:[r.jsx(uh,{className:"h-4 w-4"}),"Immediate Actions Taken"]}),r.jsx($e,{children:r.jsx(ze,{...w,placeholder:"Actions taken to secure the area, isolate equipment, etc...",rows:3})}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"safetyImplications",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Safety Implications"}),r.jsx($e,{children:r.jsx(ze,{...w,placeholder:"Any safety concerns, personnel at risk, environmental impact...",rows:3})}),r.jsx(De,{})]})})]}),r.jsx(Ds,{className:"my-6"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(WC,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Sequence of Events"})]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Please provide a chronological summary of key actions and observations related to the incident, including times if available."}),r.jsx(qe,{control:o.control,name:"sequenceOfEvents",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Sequence of Events (Narrative)"}),r.jsx($e,{children:r.jsx(ze,{...w,placeholder:`Enter the main steps as they happened, including approximate times if possible.
Example:
08:05 – Alarm activated
08:10 – Operator responded to pump room
08:12 – Leak observed at pump discharge
08:14 – Pump stopped by operator

You can include as much detail as available.`,rows:6,className:"resize-y"})}),r.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Optional, but recommended for better analysis"}),r.jsx(De,{})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Re,{className:"text-sm font-medium",children:"Attach Sequence of Events (optional)"}),r.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-slate-400 transition-colors",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsxs("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center",children:[r.jsx("input",{type:"file",multiple:!0,accept:".pdf,.docx,.xlsx,.txt,.csv,.jpg,.png,.gif",className:"hidden",id:"sequence-files",onChange:w=>{const C=Array.from(w.target.files||[]).map(k=>k.name);o.setValue("sequenceOfEventsFiles",C)}}),r.jsx("label",{htmlFor:"sequence-files",className:"cursor-pointer",children:r.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})})]}),r.jsxs("div",{className:"text-sm text-slate-600",children:[r.jsx("label",{htmlFor:"sequence-files",className:"cursor-pointer text-blue-600 hover:text-blue-700 font-medium",children:"Upload files"}),r.jsx("span",{className:"text-slate-500",children:" or drag and drop"})]}),r.jsxs("div",{className:"text-xs text-slate-500",children:["Upload any files that detail the sequence of events. Examples include:",r.jsx("br",{}),"- Operator logs or shift handover reports",r.jsx("br",{}),"- Control room/DCS/SCADA exports",r.jsx("br",{}),"- Annotated event timelines (Word, PDF, Excel, image)",r.jsx("br",{}),"- Photos, sketches, or scanned documents"]}),r.jsx("div",{className:"text-xs text-slate-400",children:"Accepts: PDF, DOCX, XLSX, TXT, CSV, JPG, PNG, GIF"})]})}),(o.watch("sequenceOfEventsFiles")||[]).length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Uploaded Files:"}),r.jsx("div",{className:"space-y-1",children:(o.watch("sequenceOfEventsFiles")||[]).map((w,b)=>r.jsxs("div",{className:"flex items-center justify-between bg-slate-50 px-3 py-2 rounded text-sm",children:[r.jsx("span",{className:"text-slate-700",children:w}),r.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const k=(o.getValues("sequenceOfEventsFiles")||[]).filter((S,E)=>E!==b);o.setValue("sequenceOfEventsFiles",k)},className:"text-red-500 hover:text-red-700 h-6 w-6 p-0",children:"×"})]},b))})]})]})]}),r.jsx(Ds,{className:"my-6"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"h-5 w-5 text-orange-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Regulatory / Compliance Impact"})]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Identify whether this incident has regulatory implications and capture appropriate follow-up details based on reporting status."}),r.jsx(qe,{control:o.control,name:"reportableStatus",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{children:["Reportable Incident? ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(We,{onValueChange:w.onChange,defaultValue:w.value,children:[r.jsx($e,{children:r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select reportable status"})})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"not_reportable",children:"No – Not a reportable incident"}),r.jsx(ne,{value:"reported",children:"Yes – Reported"}),r.jsx(ne,{value:"not_yet_reported",children:"Yes – Not yet reported"})]})]}),r.jsx(De,{})]})}),u==="reported"&&r.jsxs("div",{className:"space-y-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-green-900",children:"Reported Incident Details"}),r.jsx(qe,{control:o.control,name:"regulatoryAuthorityName",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{children:["Regulatory Authority Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ue,{...w,placeholder:"e.g., WorkSafe QLD, EPA NSW, DMIRS WA"})}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"dateReported",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{children:["Date Reported ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ue,{...w,type:"date"})}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"reportReferenceId",render:({field:w})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Report Reference or ID (if available)"}),r.jsx($e,{children:r.jsx(ue,{...w,placeholder:"Report reference number or ID"})}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"complianceImpactSummary",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{children:["Summary of Compliance Impact ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ze,{...w,placeholder:"Describe what regulatory threshold was breached or triggered (e.g., WHS breach, environmental non-compliance, safety shutdown).",rows:4})}),r.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Describe what regulatory threshold was breached or triggered (e.g., WHS breach, environmental non-compliance, safety shutdown)."}),r.jsx(De,{})]})})]}),u==="not_yet_reported"&&r.jsxs("div",{className:"space-y-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-amber-900",children:"Pending Report Details"}),r.jsx(qe,{control:o.control,name:"plannedDateOfReporting",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{children:["Planned Date of Reporting ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ue,{...w,type:"date"})}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"delayReason",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{children:["Reason for Delay or Pending Reporting ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ze,{...w,placeholder:"State why this has not yet been reported (e.g., pending internal review, still under validation).",rows:3})}),r.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"State why this has not yet been reported (e.g., pending internal review, still under validation)."}),r.jsx(De,{})]})}),r.jsx(qe,{control:o.control,name:"intendedRegulatoryAuthority",render:({field:w})=>r.jsxs(Me,{children:[r.jsxs(Re,{children:["Intended Regulatory Authority ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ue,{...w,placeholder:"e.g., WorkSafe QLD, EPA NSW, etc."})}),r.jsx(De,{})]})})]}),u==="not_reportable"&&r.jsx("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-slate-600 italic",children:"No additional regulatory compliance information required for non-reportable incidents."})})]}),r.jsx(Ds,{className:"my-6"}),s&&n.length>0&&r.jsxs("div",{className:"mt-8 p-6 border rounded-lg bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(WC,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-blue-900",children:"Structured Timeline Questions"})]}),r.jsxs("p",{className:"text-sm text-blue-700 mb-6",children:["Answer these timeline questions to help AI understand the sequence of events. Generated from Evidence Library for ",l," → ",c," → ",d]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Universal Timeline Anchors"}),r.jsx("div",{className:"space-y-4",children:n.filter(w=>w.category==="Universal Timeline").map(w=>r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[w.label,w.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("p",{className:"text-xs text-slate-500 mb-3",children:w.description}),r.jsxs("div",{className:"space-y-3",children:[w.type==="datetime-local"?r.jsx(ue,{type:"datetime-local",className:"w-full",onChange:b=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[w.id]:b.target.value})}}):r.jsx(ze,{placeholder:"Describe what happened and when...",className:"w-full",onChange:b=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[w.id]:b.target.value})}}),w.hasConfidenceField&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Data Confidence:"}),r.jsx("div",{className:"flex gap-2",children:(()=>{const C=(o.watch("timelineData")||{})[`${w.id}_confidence`];return r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${C==="evidence"?"bg-green-500 border-green-500 text-white shadow-md ring-2 ring-green-200":"bg-white hover:bg-green-50 border-gray-300 text-gray-700 hover:border-green-300"}`,onClick:()=>{const k=o.getValues("timelineData")||{};o.setValue("timelineData",{...k,[`${w.id}_confidence`]:"evidence"})},children:[C==="evidence"?"✅":"☐"," Evidence Backed"]}),r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${C==="unknown"?"bg-red-500 border-red-500 text-white shadow-md ring-2 ring-red-200":"bg-white hover:bg-red-50 border-gray-300 text-gray-700 hover:border-red-300"}`,onClick:()=>{const k=o.getValues("timelineData")||{};o.setValue("timelineData",{...k,[`${w.id}_confidence`]:"unknown"})},children:[C==="unknown"?"❌":"☐"," Not Known"]}),r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${C==="estimated"?"bg-yellow-500 border-yellow-500 text-white shadow-md ring-2 ring-yellow-200":"bg-white hover:bg-yellow-50 border-gray-300 text-gray-700 hover:border-yellow-300"}`,onClick:()=>{const k=o.getValues("timelineData")||{};o.setValue("timelineData",{...k,[`${w.id}_confidence`]:"estimated"})},children:[C==="estimated"?"🟡":"☐"," Estimated"]})]})})()})]}),w.hasOptionalExplanation&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Optional explanation or context:"}),r.jsx(ze,{placeholder:"Additional details, operator memory, DCS limitations...",className:"w-full text-sm",rows:2,onChange:b=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[`${w.id}_explanation`]:b.target.value})}})]})]}),r.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Purpose: ",w.purpose]})]},w.id))})]}),n.some(w=>w.category==="Equipment-Specific Timeline")&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Equipment-Specific Timeline"}),r.jsx("div",{className:"space-y-4",children:n.filter(w=>w.category==="Equipment-Specific Timeline").map(w=>r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[w.label,w.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("p",{className:"text-xs text-slate-500 mb-3",children:w.description}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ue,{type:"datetime-local",className:"w-full",onChange:b=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[w.id]:b.target.value})}}),w.hasConfidenceField&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Data Confidence:"}),r.jsx("div",{className:"flex gap-2",children:(()=>{const C=(o.watch("timelineData")||{})[`${w.id}_confidence`];return r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${C==="evidence"?"bg-green-500 border-green-500 text-white shadow-md ring-2 ring-green-200":"bg-white hover:bg-green-50 border-gray-300 text-gray-700 hover:border-green-300"}`,onClick:()=>{const k=o.getValues("timelineData")||{};o.setValue("timelineData",{...k,[`${w.id}_confidence`]:"evidence"})},children:[C==="evidence"?"✅":"☐"," Evidence Backed"]}),r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${C==="unknown"?"bg-red-500 border-red-500 text-white shadow-md ring-2 ring-red-200":"bg-white hover:bg-red-50 border-gray-300 text-gray-700 hover:border-red-300"}`,onClick:()=>{const k=o.getValues("timelineData")||{};o.setValue("timelineData",{...k,[`${w.id}_confidence`]:"unknown"})},children:[C==="unknown"?"❌":"☐"," Not Known"]}),r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${C==="estimated"?"bg-yellow-500 border-yellow-500 text-white shadow-md ring-2 ring-yellow-200":"bg-white hover:bg-yellow-50 border-gray-300 text-gray-700 hover:border-yellow-300"}`,onClick:()=>{const k=o.getValues("timelineData")||{};o.setValue("timelineData",{...k,[`${w.id}_confidence`]:"estimated"})},children:[C==="estimated"?"🟡":"☐"," Estimated"]})]})})()})]}),w.hasOptionalExplanation&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Optional explanation or context:"}),r.jsx(ze,{placeholder:"Additional details, operator memory, DCS limitations...",className:"w-full text-sm",rows:2,onChange:b=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[`${w.id}_explanation`]:b.target.value})}})]})]}),r.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[w.equipmentContext," - ",w.purpose]})]},w.id))})]}),r.jsxs("div",{className:"bg-slate-100 rounded-lg p-4 mt-6",children:[r.jsxs("p",{className:"text-sm text-slate-600",children:[r.jsx("strong",{children:"Enhanced Timeline Analysis:"})," The AI will use this structured data to:"]}),r.jsxs("ul",{className:"text-xs text-slate-500 mt-2 space-y-1",children:[r.jsx("li",{children:"• Reconstruct the sequence of events with confidence scoring"}),r.jsx("li",{children:"• Detect lead-lag relationships between symptoms and failures"}),r.jsx("li",{children:'• Calculate timeline data quality and flag "Low Evidence Certainty"'}),r.jsx("li",{children:"• Disqualify failure modes that occurred after the primary event"}),r.jsx("li",{children:"• Track evidence quality: ✔️ Evidence-backed, 🟡 Estimated, ❌ Unknown"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mt-3",children:r.jsxs("p",{className:"text-xs text-blue-700",children:[r.jsx("strong",{children:"Data Confidence Impact:"}),' Questions marked as "Not known" or "Estimated" will reduce AI confidence scores and flag investigation gaps that may require additional evidence collection.']})})]})]}),r.jsx("div",{className:"flex justify-end pt-6",children:r.jsx(W,{type:"submit",disabled:g.isPending,className:"min-w-48",children:g.isPending?"Creating Incident...":r.jsxs(r.Fragment,{children:["Proceed to Equipment Selection",r.jsx(Tr,{className:"ml-2 h-4 w-4"})]})})})]})})})]})]})})}const xwe=Ee.object({specificPart:Ee.string().min(1,"Specific part/component is required"),symptomDescription:Ee.string().min(10,"Detailed symptom description is required"),operatingConditions:Ee.string().min(10,"Operating conditions are required"),whenObserved:Ee.string().min(1,"When symptoms were observed is required"),frequency:Ee.enum(["Continuous","Intermittent","One-time","Increasing"]),severity:Ee.enum(["Minor","Moderate","Significant","Severe"]),contextualFactors:Ee.string().optional()});function vwe(){const{toast:e}=Ft(),[,t]=ii(),n=new URLSearchParams(window.location.search),i=new URLSearchParams(window.location.hash.replace("#","")),s=window.location.pathname.split("/").pop();let a=null;n.get("incident")?(a=parseInt(n.get("incident")),console.log("Found incident ID in URL params:",a)):i.get("incident")?(a=parseInt(i.get("incident")),console.log("Found incident ID in hash params:",a)):s&&!isNaN(parseInt(s))&&(a=parseInt(s),console.log("Found incident ID in path:",a)),console.log("DEBUG: Full URL:",window.location.href),console.log("DEBUG: Search params:",window.location.search),console.log("DEBUG: Hash:",window.location.hash),console.log("DEBUG: Final incident ID:",a);const[o,l]=N.useState(null),c=rS({resolver:iS(xwe),defaultValues:{specificPart:"",symptomDescription:"",operatingConditions:"",whenObserved:"",frequency:"Continuous",severity:"Moderate",contextualFactors:""}}),{data:d,isLoading:u,error:f}=Pe({queryKey:[`/api/incidents/${a}`],queryFn:async()=>{console.log("Fetching incident:",a);const x=await fetch(`/api/incidents/${a}`);if(console.log("Response status:",x.status,x.statusText),!x.ok){const b=await x.text();throw console.error("API Error:",b),new Error(`Failed to fetch incident: ${x.status} ${b}`)}const w=await x.json();return console.log("Incident data:",w),console.log("Is incident valid?",!!w,"Has equipment group?",!!(w!=null&&w.equipmentGroup)),w},enabled:!!a,retry:1,retryDelay:1e3}),{data:p,isLoading:h}=Pe({queryKey:["/api/evidence-library/search-with-elimination",d==null?void 0:d.equipmentGroup,d==null?void 0:d.equipmentType,d==null?void 0:d.equipmentSubtype,d==null?void 0:d.description],queryFn:async()=>{var C,k;if(!(d!=null&&d.equipmentGroup)||!(d!=null&&d.equipmentType)||!(d!=null&&d.equipmentSubtype)||!(d!=null&&d.description))return console.log("Missing data for elimination analysis - Group:",d==null?void 0:d.equipmentGroup,"Type:",d==null?void 0:d.equipmentType,"Subtype:",d==null?void 0:d.equipmentSubtype,"Description:",!!(d!=null&&d.description)),null;const x=`/api/evidence-library/search-with-elimination?equipmentGroup=${encodeURIComponent(d.equipmentGroup)}&equipmentType=${encodeURIComponent(d.equipmentType)}&equipmentSubtype=${encodeURIComponent(d.equipmentSubtype)}&symptoms=${encodeURIComponent(d.description)}`;console.log("Searching evidence library with elimination logic:",x);const w=await fetch(x);if(!w.ok)return console.error("Elimination search failed:",w.status,w.statusText),null;const b=await w.json();return console.log(`Elimination results: ${((C=b.remainingFailureModes)==null?void 0:C.length)||0} remaining, ${((k=b.eliminatedFailureModes)==null?void 0:k.length)||0} eliminated`),b},enabled:!!(d!=null&&d.equipmentGroup)&&!!(d!=null&&d.equipmentType)&&!!(d!=null&&d.equipmentSubtype)&&!!(d!=null&&d.description)}),v=(p==null?void 0:p.remainingFailureModes)||[],m=(p==null?void 0:p.eliminatedFailureModes)||[],y=p==null?void 0:p.eliminationSummary,j=Qe({mutationFn:async x=>{var b;const w={...x,workflowStatus:"universal_rca_ready",currentStep:2};return console.log(`[UNIVERSAL RCA INTEGRATION] Updating incident ${a} with symptom description length: ${((b=x.symptomDescription)==null?void 0:b.length)||0}`),console.log("[UNIVERSAL RCA INTEGRATION] Will trigger Universal RCA analysis with AI hypothesis generation"),await ot(`/api/incidents/${a}/equipment-symptoms`,{method:"PUT",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}})},onSuccess:()=>{e({title:"Equipment & Symptoms Updated",description:"Proceeding to Universal RCA Analysis - AI will analyze your incident description"}),t(`/evidence-checklist?incident=${a}`)},onError:x=>{e({title:"Error",description:x.message||"Failed to update equipment details",variant:"destructive"})}}),g=x=>{if(!x.symptomDescription||x.symptomDescription.trim().length<20){e({title:"More Details Needed",description:"Please provide a detailed symptom description (at least 20 characters) for Universal RCA AI analysis",variant:"destructive"});return}console.log(`[UNIVERSAL RCA] Submitting incident with ${x.symptomDescription.length} character symptom description - sufficient for Universal RCA Engine`);const w={...x,equipmentLibraryId:o==null?void 0:o.id};j.mutate(w)};return a?f?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error loading incident"}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",a]}),r.jsx("div",{className:"text-sm text-red-500 mt-1",children:f.message})]})}):u?(console.log("Loading incident data..."),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading incident data..."}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",a]}),r.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"Fetching from server..."})]})})):!d&&!u?(console.log("No incident found after loading complete"),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Incident Not Found"}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",a]})]})})):(console.log("RENDERING MAIN CONTENT - incident:",d==null?void 0:d.title,"ID:",a),console.log("Current location:",window.location.pathname,window.location.search),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Equipment Selection & Symptom Input"}),r.jsx("p",{className:"text-slate-600",children:"Step 2: Select specific equipment part and describe symptoms"})]})]}),r.jsx(J,{variant:"secondary",className:"text-sm",children:"Step 2 of 8"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("span",{className:"ml-2 text-sm text-green-600",children:"Incident Reported"})]}),r.jsx(Tr,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Equipment Selection"})]}),r.jsx(Tr,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Checklist"})]}),r.jsx("span",{className:"text-slate-400",children:"..."})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(_i,{className:"h-5 w-5 text-blue-500"}),"Equipment Library Selection"]}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Select from evidence library for ",d==null?void 0:d.equipmentGroup," - ",d==null?void 0:d.equipmentType]})]}),r.jsxs(Q,{children:[y&&r.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-semibold text-green-800",children:"Intelligent Elimination Applied"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-slate-700",children:y.totalAnalyzed}),r.jsx("div",{className:"text-slate-600",children:"Total Analyzed"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-red-600",children:y.eliminated}),r.jsx("div",{className:"text-red-600",children:"Eliminated"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-green-600",children:y.remaining}),r.jsx("div",{className:"text-green-600",children:"Remaining"})]})]}),r.jsx("div",{className:"mt-2 text-center",children:r.jsxs(J,{variant:"secondary",className:"bg-green-100 text-green-800",children:["+",y.confidenceBoost,"% Confidence Boost"]})})]}),v.length>0?r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsx("div",{className:"mb-3",children:r.jsx("h4",{className:"font-medium text-green-700 mb-2",children:"🎯 Remaining Failure Modes (Focus Here)"})}),v.map(x=>r.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${(o==null?void 0:o.id)===x.id?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,onClick:()=>l(x),children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-medium text-slate-900",children:x.equipmentType}),r.jsx(J,{variant:x.riskRanking==="Critical"?"destructive":"secondary",children:x.riskRanking})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:x.componentFailureMode}),r.jsx("p",{className:"text-xs text-green-600",children:"✅ Active for investigation"})]},x.id)),m.length>0&&r.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200",children:r.jsxs("details",{className:"cursor-pointer",children:[r.jsxs("summary",{className:"font-medium text-red-700 mb-2",children:["❌ Eliminated Failure Modes (",m.length,") - Click to view"]}),r.jsx("div",{className:"space-y-2 mt-3",children:m.map(x=>r.jsxs("div",{className:"p-3 border border-red-200 rounded-lg bg-red-50 opacity-75",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-medium text-red-800",children:x.equipmentType}),r.jsx(J,{variant:"destructive",className:"opacity-75",children:"Eliminated"})]}),r.jsx("p",{className:"text-sm text-red-700 mb-1",children:x.componentFailureMode}),r.jsxs("p",{className:"text-xs text-red-600 italic",children:["Reason: ",x.eliminationReason]})]},x.id))})]})})]}):r.jsxs("div",{className:"text-center py-8 text-blue-500",children:[r.jsx(rn,{className:"h-12 w-12 mx-auto mb-3 text-blue-300"}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[r.jsx("p",{className:"font-semibold text-blue-900 mb-2",children:"🤖 Universal RCA Ready"}),r.jsx("p",{className:"text-sm text-blue-700",children:"No equipment-specific templates needed. Our AI will analyze your incident description directly using Universal RCA Engine."}),r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"→ Fill in symptom details to activate AI analysis"})]})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(uh,{className:"h-5 w-5 text-orange-500"}),"Symptom Details"]})}),r.jsx(Q,{children:r.jsx(aS,{...c,children:r.jsxs("form",{onSubmit:c.handleSubmit(g),className:"space-y-6",children:[r.jsx(qe,{control:c.control,name:"specificPart",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Specific Part/Component"}),r.jsx($e,{children:r.jsx(ue,{...x,placeholder:"e.g., Mechanical seal, Bearing, Impeller"})}),r.jsx(De,{})]})}),r.jsx(qe,{control:c.control,name:"symptomDescription",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Detailed Symptom Description"}),r.jsx($e,{children:r.jsx(ze,{...x,placeholder:"Describe exactly what you observed: leaks, noises, vibrations, performance issues...",rows:4})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(qe,{control:c.control,name:"frequency",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Frequency"}),r.jsx($e,{children:r.jsxs(We,{onValueChange:x.onChange,value:x.value,children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"Continuous",children:"Continuous"}),r.jsx(ne,{value:"Intermittent",children:"Intermittent"}),r.jsx(ne,{value:"One-time",children:"One-time"}),r.jsx(ne,{value:"Increasing",children:"Increasing"})]})]})}),r.jsx(De,{})]})}),r.jsx(qe,{control:c.control,name:"severity",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Severity"}),r.jsx($e,{children:r.jsxs(We,{onValueChange:x.onChange,value:x.value,children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"Minor",children:"Minor"}),r.jsx(ne,{value:"Moderate",children:"Moderate"}),r.jsx(ne,{value:"Significant",children:"Significant"}),r.jsx(ne,{value:"Severe",children:"Severe"})]})]})}),r.jsx(De,{})]})})]}),r.jsx(qe,{control:c.control,name:"operatingConditions",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Operating Conditions"}),r.jsx($e,{children:r.jsx(ze,{...x,placeholder:"Temperature, pressure, flow rate, load conditions when issue occurred...",rows:3})}),r.jsx(De,{})]})}),r.jsx(qe,{control:c.control,name:"whenObserved",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"When First Observed"}),r.jsx($e,{children:r.jsx(ue,{...x,placeholder:"During startup, at high load, after maintenance..."})}),r.jsx(De,{})]})}),r.jsx(qe,{control:c.control,name:"contextualFactors",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Re,{children:"Additional Context (Optional)"}),r.jsx($e,{children:r.jsx(ze,{...x,placeholder:"Recent maintenance, weather conditions, process changes...",rows:2})}),r.jsx(De,{})]})}),o&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(jr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-900",children:"Selected from Library:"})]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[o.equipmentType," - ",o.componentFailureMode]})]}),r.jsx("div",{className:"flex justify-end pt-6",children:r.jsx(W,{type:"submit",disabled:j.isPending,className:"min-w-48",children:j.isPending?"Processing...":r.jsxs(r.Fragment,{children:["Generate Evidence Checklist",r.jsx(Tr,{className:"ml-2 h-4 w-4"})]})})})]})})})]})]})]})})):(console.log("SHOWING NO INCIDENT ID ERROR - URL:",window.location.href),console.log("URL Search:",window.location.search),console.log("Incident ID parsed as:",a),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error: No Incident ID"}),r.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Please access this page from the incident reporting workflow."}),r.jsxs("div",{className:"text-xs text-slate-400 mt-4",children:["Debug: URL = ",window.location.href]})]})}))}function gwe({incidentId:e,aiHypotheses:t,instructions:n,onHypothesesConfirmed:i}){const{toast:s}=Ft(),[a,o]=N.useState({}),[l,c]=N.useState([""]),[d,u]=N.useState(""),[f,p]=N.useState(!1),h=(x,w)=>{console.log(`[HYPOTHESIS REVIEW] ${w} hypothesis ${x}`),o(b=>({...b,[x]:w}))},v=()=>{c(x=>[...x,""])},m=(x,w)=>{c(b=>b.map((C,k)=>k===x?w:C))},y=x=>{c(w=>w.filter((b,C)=>C!==x))},j=async()=>{const x=Object.values(a).filter(b=>b==="accept").length,w=l.filter(b=>b.trim().length>0);if(x===0&&w.length===0){s({title:"Selection Required",description:"Please accept at least one AI hypothesis or add a custom failure mode",variant:"destructive"});return}p(!0);try{console.log("[HYPOTHESIS REVIEW] Submitting feedback:",{hypothesesFeedback:a,customFailureModes:w,userReasoning:d});const b=await fetch(`/api/incidents/${e}/hypothesis-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hypothesesFeedback:a,customFailureModes:w,userReasoning:d})});if(!b.ok)throw new Error(`HTTP ${b.status}: ${b.statusText}`);const C=await b.json();s({title:"Hypotheses Confirmed",description:C.message||`${C.confirmedHypotheses} hypotheses confirmed for evidence collection`}),i(C.evidenceItems||[])}catch(b){console.error("[HYPOTHESIS REVIEW] Feedback submission failed:",b),s({title:"Submission Failed",description:b instanceof Error?b.message:"Failed to process hypothesis feedback",variant:"destructive"})}finally{p(!1)}},g=x=>x>=70?"bg-green-100 text-green-800":x>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Y,{children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(jr,{className:"h-5 w-5 text-blue-500"}),"Human-AI Collaborative Analysis"]}),r.jsx(ve,{children:n})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"AI-Generated Failure Hypotheses"}),t.map(x=>{const w=a[x.id];return r.jsxs(Y,{className:`border-2 ${w==="accept"?"border-green-200 bg-green-50":w==="reject"?"border-red-200 bg-red-50":"border-gray-200"}`,children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Z,{className:"text-base",children:x.hypothesis}),r.jsx(ve,{className:"mt-2",children:x.reasoning})]}),r.jsxs(J,{className:g(x.aiConfidence),children:[x.aiConfidence,"% AI Confidence"]})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[x.suggestedEvidence.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Suggested Evidence:"}),r.jsx("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:x.suggestedEvidence.map((b,C)=>r.jsx("li",{children:b},C))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>h(x.id,"accept"),variant:w==="accept"?"default":"outline",size:"sm",className:w==="accept"?"bg-green-600 hover:bg-green-700":"",children:[r.jsx(Ct,{className:"h-4 w-4 mr-1"}),"Accept ✅"]}),r.jsxs(W,{onClick:()=>h(x.id,"reject"),variant:w==="reject"?"default":"outline",size:"sm",className:w==="reject"?"bg-red-600 hover:bg-red-700":"",children:[r.jsx(Jo,{className:"h-4 w-4 mr-1"}),"Reject ❌"]})]})]})})]},x.id)})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(On,{className:"h-5 w-5"}),"Add Custom Failure Modes"]}),r.jsx(ve,{children:"Add your own failure hypotheses based on engineering experience"})]}),r.jsxs(Q,{className:"space-y-4",children:[l.map((x,w)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ue,{value:x,onChange:b=>m(w,b.target.value),placeholder:"Enter custom failure mode...",className:"flex-1"}),l.length>1&&r.jsx(W,{onClick:()=>y(w),variant:"outline",size:"sm",children:"Remove"})]},w)),r.jsxs(W,{onClick:v,variant:"outline",size:"sm",children:[r.jsx(On,{className:"h-4 w-4 mr-1"}),"Add Another"]})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Engineering Rationale"}),r.jsx(ve,{children:"Provide your reasoning for the selected hypotheses (optional)"})]}),r.jsx(Q,{children:r.jsx(ze,{value:d,onChange:x=>u(x.target.value),placeholder:"Explain your engineering reasoning for the selected failure modes...",rows:4})})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(W,{onClick:j,disabled:f,size:"lg",className:"px-8",children:f?"Processing...":"Confirm Hypotheses & Generate Evidence Requirements"})})]})}function ywe({incidentId:e,aiHypotheses:t,onConfirmationComplete:n}){const[i,s]=N.useState(Object.fromEntries(t.map(x=>[x.id,"pending"]))),[a,o]=N.useState([]),[l,c]=N.useState(""),[d,u]=N.useState(!1),{toast:f}=Ft(),p=(x,w)=>{s(b=>({...b,[x]:w}))},h=()=>{l.trim()&&(o(x=>[...x,l.trim()]),c(""),f({title:"Custom Hypothesis Added",description:"Your additional failure mode hypothesis has been recorded."}))},v=x=>{o(w=>w.filter((b,C)=>C!==x))},m=()=>{const x=t.filter(C=>i[C.id]==="agreed"),w=x.length>0,b=a.length>0;if(!w&&!b){f({title:"No Hypotheses Selected",description:"Please agree with at least one AI hypothesis or add a custom hypothesis to proceed.",variant:"destructive"});return}u(!0),console.log(`[HUMAN CONFIRMATION FLOW] Investigator confirmed ${x.length} AI hypotheses`),console.log(`[HUMAN CONFIRMATION FLOW] Investigator added ${a.length} custom hypotheses`),console.log("[HUMAN CONFIRMATION FLOW] Proceeding to Step 5: Evidence Collection Interface"),n(x,a)},y=Object.values(i).filter(x=>x==="pending").length,j=Object.values(i).filter(x=>x==="agreed").length,g=Object.values(i).filter(x=>x==="disagreed").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Step 4: Human Confirmation Flow"})]}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Review AI-generated POTENTIAL causes before evidence collection. Agree, disagree, or add your own hypotheses."}),r.jsxs("div",{className:"flex gap-4 mt-3",children:[r.jsxs(J,{variant:"outline",className:"text-green-700 border-green-300",children:["✅ Agreed: ",j]}),r.jsxs(J,{variant:"outline",className:"text-red-700 border-red-300",children:["❌ Disagreed: ",g]}),r.jsxs(J,{variant:"outline",className:"text-gray-700 border-gray-300",children:["⏳ Pending: ",y]}),a.length>0&&r.jsxs(J,{variant:"outline",className:"text-purple-700 border-purple-300",children:["➕ Custom: ",a.length]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-md font-medium flex items-center gap-2",children:[r.jsx(Tt,{className:"h-4 w-4"}),"AI-Generated POTENTIAL Causes (",t.length,")"]}),t.map((x,w)=>r.jsxs(Y,{className:`border-2 ${i[x.id]==="agreed"?"border-green-200 bg-green-50 dark:bg-green-950":i[x.id]==="disagreed"?"border-red-200 bg-red-50 dark:bg-red-950":"border-gray-200"}`,children:[r.jsx(X,{children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"text-lg flex items-center gap-2",children:[r.jsx(J,{variant:"outline",className:"text-xs",children:"AI Generated"}),x.failureMode]}),r.jsxs(ve,{className:"mt-1",children:["Confidence: ",x.confidence,"% | ",x.faultSignature]})]}),r.jsxs(J,{variant:"secondary",children:[x.confidence,"%"]})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:x.description.split(" | AI Reasoning: ")[0]})}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded border",children:[r.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-200 mb-1",children:"AI Reasoning:"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:x.aiReasoning})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Required Evidence:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:x.requiredEvidence.map((b,C)=>r.jsx(J,{variant:"outline",className:"text-xs",children:b},C))})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(W,{size:"sm",variant:i[x.id]==="agreed"?"default":"outline",onClick:()=>p(x.id,"agreed"),className:"flex items-center gap-1",children:[r.jsx(Ct,{className:"h-4 w-4"}),"Agree"]}),r.jsxs(W,{size:"sm",variant:i[x.id]==="disagreed"?"destructive":"outline",onClick:()=>p(x.id,"disagreed"),className:"flex items-center gap-1",children:[r.jsx(Jo,{className:"h-4 w-4"}),"Disagree"]})]})]})})]},x.id))]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"text-md flex items-center gap-2",children:[r.jsx(On,{className:"h-4 w-4"}),"Add Custom Hypothesis"]}),r.jsx(ve,{children:"Add your own failure mode hypothesis based on your engineering expertise"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(ze,{placeholder:"Describe your additional failure mode hypothesis...",value:l,onChange:x=>c(x.target.value),rows:3}),r.jsxs(W,{onClick:h,disabled:!l.trim(),className:"flex items-center gap-1",children:[r.jsx(On,{className:"h-4 w-4"}),"Add Hypothesis"]})]}),a.length>0&&r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:"Your Custom Hypotheses:"}),a.map((x,w)=>r.jsxs("div",{className:"flex items-center justify-between bg-purple-50 dark:bg-purple-950 p-2 rounded border",children:[r.jsx("span",{className:"text-sm",children:x}),r.jsx(W,{size:"sm",variant:"ghost",onClick:()=>v(w),children:r.jsx(Jo,{className:"h-4 w-4"})})]},w))]})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(W,{onClick:m,disabled:d,size:"lg",className:"flex items-center gap-2",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):r.jsxs(r.Fragment,{children:["Proceed to Evidence Collection",r.jsx(mt,{className:"h-4 w-4"})]})})})]})}function bwe(){var kn;const[,e]=ii(),[t,n]=N.useState(null),[i,s]=N.useState([]),[a,o]=N.useState([]),[l,c]=N.useState(null),[d,u]=N.useState(!1),[f,p]=N.useState(0),[h,v]=N.useState(!1),[m,y]=N.useState(null),[j,g]=N.useState(!1);N.useState([]);const[x,w]=N.useState({}),[b,C]=N.useState([]),[k,S]=N.useState(""),[E,$]=N.useState(!1),[O,A]=N.useState("initial"),[P,_]=N.useState([]),[F,M]=N.useState([]),[G,z]=N.useState([]),{toast:H}=Ft();N.useEffect(()=>{const V=new URLSearchParams(window.location.search).get("incident");V&&n(parseInt(V))},[]);const{data:D,isLoading:U}=Pe({queryKey:["/api/incidents",t],enabled:!!t}),I=Qe({mutationFn:async T=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Generating AI hypotheses for human confirmation"),console.log(`[AI HYPOTHESIS GENERATOR] Incident: "${T.symptomDescription||T.title}"`);const V=await fetch(`/api/incidents/${T.id}/generate-ai-hypotheses`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!V.ok)throw new Error(`Failed to generate AI hypotheses: ${V.status}`);return await V.json()},onSuccess:T=>{var V,q;console.log(`[AI HYPOTHESIS GENERATOR] Generated ${((V=T.aiHypotheses)==null?void 0:V.length)||0} hypotheses for human confirmation`),_(T.aiHypotheses||[]),A("human-confirmation"),H({title:"AI Analysis Complete",description:`Generated ${((q=T.aiHypotheses)==null?void 0:q.length)||0} potential causes for your review`})},onError:T=>{console.error("[AI HYPOTHESIS GENERATOR] Error:",T),H({title:"AI Analysis Failed",description:"Failed to generate AI hypotheses. Please try again.",variant:"destructive"})}}),se=Qe({mutationFn:async({confirmedHypotheses:T,customHypotheses:V})=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 5: Generating evidence checklist from confirmed hypotheses");const q=await fetch(`/api/incidents/${t}/generate-evidence-checklist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmedHypotheses:T,customHypotheses:V})});if(!q.ok)throw new Error(`Failed to generate evidence checklist: ${q.status}`);return await q.json()},onSuccess:T=>{var V,q;console.log(`[EVIDENCE COLLECTION] Generated ${((V=T.evidenceItems)==null?void 0:V.length)||0} evidence items from confirmed hypotheses`),s(T.evidenceItems||[]),A("evidence-collection"),H({title:"Evidence Collection Ready",description:`Generated ${((q=T.evidenceItems)==null?void 0:q.length)||0} evidence requirements based on your confirmed hypotheses`})},onError:T=>{console.error("[EVIDENCE COLLECTION] Error:",T),H({title:"Evidence Generation Failed",description:"Failed to generate evidence checklist. Please try again.",variant:"destructive"})}}),ge=(T,V)=>{console.log("[HUMAN CONFIRMATION FLOW] Human confirmation completed"),console.log(`[HUMAN CONFIRMATION FLOW] Confirmed: ${T.length}, Custom: ${V.length}`),M(T),z(V),A("ai-generating"),se.mutate({confirmedHypotheses:T,customHypotheses:V})},ee=Qe({mutationFn:async T=>{const V=await fetch(`/api/incidents/${T.id}/generate-evidence-checklist-legacy`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!V.ok)throw new Error(`Failed to generate legacy checklist: ${V.status}`);return await V.json()},onSuccess:T=>{var V;if(console.log("Incident-only evidence checklist generated:",T),T&&T.evidenceItems)if(s(T.evidenceItems),console.log(`[INCIDENT-ONLY EVIDENCE] Generated ${T.evidenceItems.length} symptom-based evidence items`),T.fallbackAnalysis&&T.fallbackAnalysis.inferredFailureModes)console.log("[FALLBACK LOGIC] Evidence Library confidence LOW - showing AI-inferred failure modes"),y({extractedSymptoms:T.fallbackAnalysis.inferredFailureModes.map(q=>({keyword:q.failureMode,confidence:q.confidence,context:q.reasoning})),aiHypotheses:T.fallbackAnalysis.inferredFailureModes.map(q=>({id:q.id||(()=>{const te=new Date().getTime(),re=te%1e4;return`fallback-${te}-${re}`})(),hypothesis:q.failureMode,reasoning:q.reasoning,aiConfidence:q.confidence,confidenceSource:q.confidenceSource||"AI-Inferred"})),fallbackMode:!0,generationMethod:T.generationMethod}),g(!0);else if(T.backwardCompatible||T.generationMethod==="legacy-compatibility")console.log("[BACKWARD COMPATIBILITY] Legacy evidence generation completed"),s(T.evidenceItems),g(!1),$(!1);else if(T.universalRCAFlow&&((V=T.aiAnalysis)!=null&&V.aiHypotheses))console.log("[Universal RCA] Showing hypothesis review interface"),y(T.aiAnalysis),$(!0);else if(T.aiAnalysis){let q=[];T.aiAnalysis.aiHypotheses&&Array.isArray(T.aiAnalysis.aiHypotheses)&&(q=T.aiAnalysis.aiHypotheses.map((te,re)=>({...te,id:te.id||`hypothesis-${new Date().getTime()}-${re}`}))),y({...T.aiAnalysis,aiHypotheses:q}),g(T.requiresHumanVerification||!1),console.log("[INCIDENT-ONLY EVIDENCE] AI analysis ready for human verification"),console.log("Hypotheses with IDs:",q),console.log("Full AI analysis:",T.aiAnalysis)}else s(T.evidenceItems);else console.error("Invalid incident-only evidence format:",T),s([]);u(!1)},onError:T=>{console.error("Failed to generate evidence checklist:",T),u(!1)}}),we=Qe({mutationFn:async T=>ot(`/api/incidents/${T.incidentId}/evidence-progress`,{method:"PUT",body:JSON.stringify({currentStep:3,workflowStatus:"evidence_checklist_complete",evidenceChecklist:T.evidenceItems})})});N.useEffect(()=>{D&&typeof D=="object"&&"id"in D&&O==="initial"&&(console.log(`[UNIVERSAL RCA INSTRUCTION] Starting Universal RCA workflow for incident ${D.id}`),!D.symptomDescription||D.symptomDescription.trim().length<20||D.workflowStatus==="equipment_selected"?(console.log(`[BACKWARD COMPATIBILITY] Using legacy workflow for incident ${D.id}`),u(!0),ee.mutate(D)):(console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Starting AI hypothesis generation"),A("ai-generating"),I.mutate(D)))},[D,O]),N.useEffect(()=>{if(i&&Array.isArray(i)&&i.length>0){const T=i.filter(q=>{var te;return q.completed||q.isUnavailable&&((te=q.unavailableReason)==null?void 0:te.trim())}).length,V=Math.round(T/i.length*100);p(V)}},[i]);const me=(T,V)=>{s(q=>q.map(te=>te.id===T?{...te,completed:V}:te))},Se=(T,V)=>{s(q=>q.map(te=>te.id===T?{...te,notes:V}:te))},le=(T,V)=>{s(q=>q.map(te=>te.id===T?{...te,files:[...te.files||[],...V],completed:!0}:te))},xe=(T,V)=>{s(q=>q.map(te=>te.id===T?{...te,files:(te.files||[]).filter((re,oe)=>oe!==V)}:te))},ye=(T,V,q)=>{s(te=>te.map(re=>re.id===T?{...re,isUnavailable:V,unavailableReason:q||"",completed:V&&(q!=null&&q.trim())?!0:re.completed,files:V?[]:re.files}:re))},B=()=>{t&&i.length>0&&we.mutate({incidentId:t,evidenceItems:i},{onSuccess:()=>{e(`/evidence-collection?incident=${t}`)}})},ce=(i==null?void 0:i.filter(T=>T.priority==="Critical"))||[],de=(i==null?void 0:i.filter(T=>T.priority==="High"))||[],Ie=(i==null?void 0:i.filter(T=>T.priority==="Medium"))||[],Oe=(i==null?void 0:i.filter(T=>T.priority==="Low"))||[],et=ce.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())||T.files&&T.files.length>0}),dt=de.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())||T.files&&T.files.length>0}),Nt=Math.floor(de.length*.8)+(de.length*.8%1>0?1:0),mn=et.length===ce.length&&dt.length>=Nt;if(console.log(`[EVIDENCE PROGRESS] Critical: ${et.length}/${ce.length}, High: ${dt.length}/${de.length} (need ${Nt}), Can Proceed: ${mn}`),!mn&&i.length>0){console.log("[EVIDENCE PROGRESS] Blocking items:"),ce.forEach(V=>{var q;!V.completed&&!(V.isUnavailable&&((q=V.unavailableReason)!=null&&q.trim()))&&console.log(`- Critical item "${V.title}" not completed`)});const T=Nt-dt.length;T>0&&console.log(`- Need ${T} more high priority items completed`)}return U||!D?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Tt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading incident details..."})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(W,{variant:"ghost",onClick:()=>e("/"),children:"← Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),r.jsx("h1",{className:"text-xl font-bold",children:"Step 3: AI Evidence Checklist"})]})]}),r.jsxs(J,{variant:"outline",className:"text-sm",children:["Incident #",D==null?void 0:D.id]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(Y,{className:"mb-8",children:r.jsxs(X,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-5 w-5"}),D==null?void 0:D.title]}),r.jsxs(ve,{children:["Equipment: ",D==null?void 0:D.equipmentGroup," → ",D==null?void 0:D.equipmentType," (",D==null?void 0:D.equipmentId,")"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[f,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Complete"})]})]}),r.jsx(_r,{value:f,className:"mt-4"})]})}),O==="ai-generating"&&r.jsxs(Y,{className:"mb-8",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"h-5 w-5 animate-spin"}),"Step 2: AI Hypothesis Generation"]}),r.jsx(ve,{children:"AI is analyzing the incident and generating potential causes using GPT..."})]}),r.jsx(Q,{children:r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Generating AI-driven POTENTIAL causes"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"STRICT RULE: NO HARD CODING"})]})})})]}),O==="human-confirmation"&&P.length>0&&r.jsx("div",{className:"mb-8",children:r.jsx(ywe,{incidentId:t,aiHypotheses:P,onConfirmationComplete:ge})}),O==="evidence-collection"&&i.length>0&&r.jsx("div",{className:"mb-8",children:r.jsx(Y,{children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),"Step 5: Evidence Collection Interface"]}),r.jsx(ve,{children:"Collect evidence for confirmed hypotheses based on human verification"})]})})}),E&&(m==null?void 0:m.aiHypotheses)&&r.jsx(gwe,{incidentId:t,aiHypotheses:m.aiHypotheses,instructions:m.instructions||"Review AI-generated failure hypotheses and select which ones to investigate further",onHypothesesConfirmed:T=>{console.log("[Universal RCA] Hypotheses confirmed, received evidence:",T),s(T),$(!1),H({title:"Hypotheses Confirmed",description:"Evidence collection requirements generated for confirmed failure modes"})}}),j&&m&&!E&&r.jsxs(Y,{className:"mb-6 border-orange-200 bg-orange-50",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"h-5 w-5 text-orange-600"}),m!=null&&m.fallbackMode?"AI-Inferred Analysis (Low Confidence)":"Human Verification Required"]}),r.jsx(ve,{children:m!=null&&m.fallbackMode?"Evidence Library confidence LOW. AI has inferred potential failure modes using engineering knowledge. INVESTIGATOR VERIFICATION REQUIRED.":"AI has analyzed the incident description and generated hypotheses. Please review and approve before proceeding."}),(m==null?void 0:m.fallbackMode)&&r.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800 text-sm",children:[r.jsx("strong",{children:"FALLBACK LOGIC ACTIVE:"})," No high-confidence Evidence Library matches found. Analysis based on AI engineering inference only."]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Extracted Symptoms:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(kn=m.extractedSymptoms)==null?void 0:kn.map((T,V)=>r.jsxs(J,{variant:"outline",className:m.fallbackMode?"bg-yellow-50":"bg-blue-50",children:[T.keyword," (",T.confidence,"% ",m.fallbackMode?"AI-inferred":"confidence",")"]},V))})]}),m.aiHypotheses&&Array.isArray(m.aiHypotheses)&&m.aiHypotheses.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:m!=null&&m.fallbackMode?"AI-Inferred Failure Modes (Review Required):":"AI Failure Hypotheses (Review Required):"}),r.jsx("div",{className:"space-y-3",children:m.aiHypotheses.map((T,V)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-white",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h5",{className:"font-medium",children:T.hypothesis}),r.jsxs(J,{variant:T.aiConfidence>80?"default":"secondary",children:[T.aiConfidence,"% ",T.confidenceSource||"AI Confidence"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T.reasoning}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{size:"sm",variant:x[T.id]==="accept"?"default":"outline",className:"text-green-600 hover:bg-green-50",onClick:q=>{q.preventDefault(),console.log("Accept clicked for hypothesis:",T.id,T),w(te=>{const re={...te,[T.id]:"accept"};return console.log("Updated feedback state:",re),re})},children:"✅ Accept"}),r.jsx(W,{size:"sm",variant:x[T.id]==="reject"?"default":"outline",className:"text-red-600 hover:bg-red-50",onClick:q=>{q.preventDefault(),console.log("Reject clicked for hypothesis:",T.id,T),w(te=>{const re={...te,[T.id]:"reject"};return console.log("Updated feedback state:",re),re})},children:"❌ Reject"}),r.jsx(W,{size:"sm",variant:x[T.id]==="modify"?"default":"outline",className:"text-blue-600 hover:bg-blue-50",onClick:q=>{q.preventDefault(),console.log("Modify clicked for hypothesis:",T.id,T),w(te=>{const re={...te,[T.id]:"modify"};return console.log("Updated feedback state:",re),re})},children:"✏️ Modify"})]})]},T.id||V))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Add Custom Failure Modes (Optional):"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:k,onChange:T=>S(T.target.value),placeholder:"Enter custom failure mode based on your experience",className:"flex-1 px-3 py-2 border rounded-md text-sm"}),r.jsx(W,{size:"sm",onClick:()=>{k.trim()&&(C(T=>[...T,k.trim()]),S(""))},disabled:!k.trim(),children:"Add"})]}),b.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((T,V)=>r.jsxs(J,{variant:"secondary",className:"bg-green-50",children:[T,r.jsx("button",{className:"ml-1 text-red-500 hover:text-red-700",onClick:()=>C(q=>q.filter((te,re)=>re!==V)),children:"×"})]},V))})]})]}),r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx(W,{onClick:async()=>{var q,te;const T=((q=m==null?void 0:m.aiHypotheses)==null?void 0:q.filter(re=>x[re.id]==="accept").map(re=>re.hypothesis))||[],V=((te=m==null?void 0:m.aiHypotheses)==null?void 0:te.filter(re=>x[re.id]==="reject").map(re=>re.hypothesis))||[];if(m!=null&&m.fallbackMode)try{const re=await fetch(`/api/incidents/${t}/fallback-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmedCauses:T,disagreedCauses:V,alternativeCauses:[],customFailureModes:b,userReasoning:"User feedback on AI-inferred failure modes"})});if(re.ok){const oe=await re.json();console.log("[FALLBACK LOGIC] Feedback submitted successfully:",oe),g(!1)}}catch(re){console.error("[FALLBACK LOGIC] Failed to submit feedback:",re)}else g(!1),console.log("[HUMAN VERIFICATION] User proceeding with incident-only analysis")},className:"w-full",disabled:(m==null?void 0:m.aiHypotheses)&&m.aiHypotheses.length>0&&Object.keys(x).length===0&&b.length===0,children:m!=null&&m.fallbackMode?"Submit Investigator Feedback":"Proceed with Verified Hypotheses"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:m!=null&&m.fallbackMode?"Your feedback helps improve future analysis and may be reviewed for Evidence Library enhancement":"Please provide feedback on at least one hypothesis to continue"})]})]})})]}),d&&r.jsxs(Qt,{className:"mb-6",children:[r.jsx(Tt,{className:"h-4 w-4 animate-spin"}),r.jsxs(Xt,{children:[r.jsx("strong",{children:"Incident-Only AI Analysis:"})," Extracting symptoms from incident description (no equipment assumptions)..."]})]}),i.length>0&&r.jsxs(Qt,{className:"mb-6 border-blue-200 bg-blue-50",children:[r.jsx($I,{className:"h-4 w-4"}),r.jsxs(Xt,{children:[r.jsx("strong",{children:"AI Incident Analysis:"})," Based on the incident description, our AI has identified ",(i==null?void 0:i.length)||0," evidence items. Focus on completing all Critical items and at least 80% of High priority items.",l&&r.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-green-800",children:[r.jsx("strong",{children:"Elimination Analysis:"})," Professional engineering logic eliminated ",l.totalEliminated," failure modes, providing +",l.confidenceBoost,"% confidence boost to focus investigation on primary causes."]})]})]}),a.length>0&&r.jsxs(Y,{className:"mb-6 border-orange-200 bg-orange-50",children:[r.jsxs(X,{className:"pb-3",children:[r.jsxs(Z,{className:"flex items-center justify-between text-orange-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"h-5 w-5"}),"Eliminated Failure Modes (",a.length,")"]}),r.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>v(!h),className:"text-orange-700 hover:text-orange-900",children:[h?"Hide":"Show"," Details"]})]}),r.jsx(ve,{className:"text-orange-700",children:"These failure modes were automatically eliminated by engineering logic and do not require evidence collection."})]}),h&&r.jsx(Q,{className:"pt-0",children:r.jsx("div",{className:"space-y-3",children:a.map(T=>r.jsx("div",{className:"p-3 bg-white rounded border border-orange-200 opacity-75",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-600 line-through",children:T.title}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.description}),T.eliminationReason&&r.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600",children:[r.jsx("strong",{children:"Eliminated:"})," ",T.eliminationReason]})]}),r.jsx(J,{variant:"secondary",className:"ml-2 bg-orange-100 text-orange-800",children:"Eliminated"})]})},T.id))})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ce.length>0&&r.jsxs(Y,{className:"border-red-200",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2 text-red-700",children:[r.jsx(mt,{className:"h-5 w-5"}),"Critical Evidence (",ce.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())}).length,"/",ce.length,")"]}),r.jsx(ve,{children:"Required for accurate analysis"})]}),r.jsx(Q,{className:"space-y-4",children:ce.map(T=>r.jsx(gm,{item:T,onToggle:me,onNotesUpdate:Se,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:ye},T.id))})]}),de.length>0&&r.jsxs(Y,{className:"border-orange-200",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2 text-orange-700",children:[r.jsx(mt,{className:"h-5 w-5"}),"High Priority Evidence (",de.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())}).length,"/",de.length,")"]}),r.jsx(ve,{children:"Complete at least 80% for optimal analysis"})]}),r.jsx(Q,{className:"space-y-4",children:de.map(T=>r.jsx(gm,{item:T,onToggle:me,onNotesUpdate:Se,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:ye},T.id))})]}),Ie.length>0&&r.jsxs(Y,{className:"border-yellow-200",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2 text-yellow-700",children:[r.jsx(rn,{className:"h-5 w-5"}),"Medium Priority Evidence (",Ie.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())}).length,"/",Ie.length,")"]}),r.jsx(ve,{children:"Helpful for comprehensive analysis"})]}),r.jsx(Q,{className:"space-y-4",children:Ie.map(T=>r.jsx(gm,{item:T,onToggle:me,onNotesUpdate:Se,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:ye},T.id))})]}),Oe.length>0&&r.jsxs(Y,{className:"border-green-200",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2 text-green-700",children:[r.jsx(rn,{className:"h-5 w-5"}),"Additional Evidence (",Oe.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())}).length,"/",Oe.length,")"]}),r.jsx(ve,{children:"Optional but valuable context"})]}),r.jsx(Q,{className:"space-y-4",children:Oe.map(T=>r.jsx(gm,{item:T,onToggle:me,onNotesUpdate:Se,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:ye},T.id))})]})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/equipment-selection?incident=${t}`),children:"← Back to Equipment Selection"}),r.jsx(W,{onClick:B,disabled:!mn||we.isPending,className:"flex items-center gap-2",children:we.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Saving Progress..."]}):r.jsxs(r.Fragment,{children:["Proceed to Evidence Collection",r.jsx(pp,{className:"h-4 w-4"})]})})]}),!mn&&i.length>0&&r.jsxs(Qt,{className:"mt-4 border-amber-200 bg-amber-50",children:[r.jsx(mt,{className:"h-4 w-4"}),r.jsxs(Xt,{children:[r.jsx("strong",{children:"Requirements to Proceed:"}),r.jsx("br",{}),"• Critical Items: ",et.length,"/",ce.length," completed ",ce.length>0&&et.length<ce.length?"(Missing items need to be completed or marked unavailable)":"✓",r.jsx("br",{}),"• High Priority Items: ",dt.length,"/",de.length," completed (need ",Nt,") ",dt.length>=Nt?"✓":`(Need ${Nt-dt.length} more)`,r.jsx("br",{}),r.jsx("em",{children:"Tip: After uploading files, make sure to check the completion checkbox for each evidence item."})]})]})]})]})}function gm({item:e,onToggle:t,onNotesUpdate:n,onFileUpload:i,onFileRemove:s,onUnavailabilityChange:a}){const[o,l]=N.useState(e.unavailableReason||""),{getRootProps:c,getInputProps:d,isDragActive:u}=Z1({onDrop:f=>{f.length>0&&i(e.id,f)},accept:{"application/pdf":[".pdf"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/csv":[".csv"],"image/*":[".png",".jpg",".jpeg"],"text/plain":[".txt"]},maxFiles:5,disabled:e.isUnavailable});return r.jsx("div",{className:`p-4 border rounded-lg ${e.isUnavailable?"bg-orange-50 border-orange-200":e.completed?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Yn,{checked:e.completed,onCheckedChange:f=>t(e.id,!!f),className:"mt-1",disabled:e.isUnavailable}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h4",{className:"font-medium",children:e.title}),r.jsx(J,{variant:e.priority==="Critical"?"destructive":e.priority==="High"?"default":e.priority==="Medium"?"secondary":"outline",children:e.priority}),e.aiGenerated&&r.jsxs(J,{variant:"outline",className:"text-xs",children:[r.jsx(Tt,{className:"h-3 w-3 mr-1"}),"AI Generated"]}),e.isUnavailable&&r.jsx(J,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800 text-xs",children:"Not Available"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),e.examples&&e.examples.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx(ie,{className:"text-xs font-medium text-muted-foreground",children:"Examples:"}),r.jsx("ul",{className:"text-xs text-muted-foreground mt-1 ml-4",children:e.examples.map((f,p)=>r.jsx("li",{className:"list-disc",children:f},p))})]}),r.jsx("div",{className:"mb-3 border rounded-lg p-3 bg-orange-50 border-orange-200",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yn,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:f=>{a(e.id,f,o)}}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(ie,{htmlFor:`unavailable-${e.id}`,className:"text-xs font-medium cursor-pointer flex items-center gap-2",children:[r.jsx(jr,{className:"h-3 w-3 text-orange-600"}),"This evidence is not available or accessible"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&r.jsxs("div",{className:"mt-2",children:[r.jsx(ie,{htmlFor:`reason-${e.id}`,className:"text-xs font-medium",children:"Why is this evidence unavailable? *"}),r.jsx(ze,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:o,onChange:f=>{l(f.target.value),a(e.id,!0,f.target.value)},className:"mt-1 text-xs",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&r.jsxs("div",{className:"mb-3",children:[r.jsx(ie,{className:"text-xs font-medium",children:"Upload Evidence Files"}),r.jsxs("div",{...c(),className:`mt-1 border-2 border-dashed rounded-lg p-3 text-center transition-colors cursor-pointer ${u?"border-primary bg-primary/5":"border-gray-300 hover:border-primary/50"}`,children:[r.jsx("input",{...d()}),r.jsx(Va,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-600",children:u?"Drop files here":"Drag files or click to browse"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, Excel, CSV, Images, Text files"})]})]}),!e.isUnavailable&&e.files&&e.files.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsxs(ie,{className:"text-xs font-medium",children:["Uploaded Files (",e.files.length,")"]}),r.jsx("div",{className:"mt-1 space-y-1",children:e.files.map((f,p)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 rounded text-xs",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-3 w-3"}),f.name," (",(f.size/1024).toFixed(1)," KB)"]}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>s(e.id,p),className:"h-6 w-6 p-0 text-gray-500 hover:text-red-500",children:r.jsx(Ws,{className:"h-3 w-3"})})]},p))})]}),r.jsxs("div",{children:[r.jsx(ie,{className:"text-xs font-medium",children:"Notes (optional)"}),r.jsx(ze,{placeholder:"Add notes about this evidence item...",value:e.notes||"",onChange:f=>n(e.id,f.target.value),className:"mt-1 text-sm",rows:2})]})]})]})})}function rO(){const[,e]=ii(),{toast:t}=Ft();N.useState(null);const[n,i]=N.useState({}),[s,a]=N.useState({}),l=new URLSearchParams(window.location.search).get("incident"),{data:c,isLoading:d}=Pe({queryKey:["/api/incidents",l],enabled:!!l}),{data:u=[],isLoading:f,refetch:p}=Pe({queryKey:["/api/incidents",l,"evidence-files"],enabled:!!l,refetchOnWindowFocus:!0,refetchInterval:parseInt("3000")}),h=Qe({mutationFn:async g=>(console.log("[REVIEW ACTION] Submitting:",g),await ot(`/api/incidents/${l}/review-evidence`,{method:"POST",body:JSON.stringify(g)})),onSuccess:g=>{console.log("[REVIEW ACTION] Success:",g),p(),Mt.invalidateQueries({queryKey:["/api/incidents",l,"evidence-files"]}),t({title:"Review Submitted",description:"Evidence file review status updated successfully"});const x=g,{fileId:w,action:b}=(x==null?void 0:x.data)||{};w&&b&&a(C=>({...C,[w]:b}))},onError:g=>{console.error("[REVIEW ACTION] Error:",g),t({title:"Error",description:g.message||"Failed to submit review",variant:"destructive"})}}),v=Array.isArray(u)&&u.length>0&&u.every(g=>{const x=s[g.id]||g.reviewStatus;return x==="ACCEPTED"||x==="REPLACED"}),m=Array.isArray(u)?u.filter(g=>{const x=s[g.id]||g.reviewStatus;return x==="ACCEPTED"||x==="REPLACED"}).length:0,y=(g,x,w)=>{if(console.log("[CHECKBOX REVIEW] Checkbox changed:",{fileId:g,action:x,checked:w}),w){if(h.isPending){console.log("[CHECKBOX REVIEW] Already pending, ignoring click"),t({title:"Please Wait",description:"Review submission in progress...",variant:"default"});return}a(C=>({...C,[g]:x}));const b=n[g]||"";console.log("[CHECKBOX REVIEW] Submitting with comments:",b),h.mutate({fileId:g,action:x,comments:b})}else a(b=>({...b,[g]:"UNREVIEWED"}))},j=()=>{v?e(`/ai-analysis?incident=${l}`):t({title:"Review Required",description:`Please review all evidence files (${m}/${Array.isArray(u)?u.length:0} completed) before proceeding to AI analysis`,variant:"destructive"})};return l?d||f?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading evidence files..."}),r.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Preparing human review panel..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(vn,{href:"/",children:r.jsx(W,{variant:"outline",size:"sm",children:"← Back to Home"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Stage 3B & 4B: Human Review Panel"}),r.jsx("p",{className:"text-slate-600",children:"Review and confirm all uploaded evidence files before AI analysis"})]})]}),r.jsxs(J,{variant:"secondary",className:"text-sm",children:["Incident #",l]})]}),r.jsxs(Y,{className:"mb-8",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Fr,{className:"h-5 w-5 text-blue-600"}),"Review Progress"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[m,r.jsxs("span",{className:"text-slate-500",children:["/",Array.isArray(u)?u.length:0]})]}),r.jsx("div",{className:"text-sm text-slate-600",children:"Files Reviewed"})]}),v?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-green-600 font-medium",children:"All Files Reviewed"}),r.jsx(W,{onClick:j,className:"ml-4",children:"Proceed to AI Analysis →"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"h-5 w-5 text-amber-600"}),r.jsx("span",{className:"text-amber-600 font-medium",children:"Review Required"})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Array.isArray(u)&&u.map(g=>r.jsxs(Y,{className:`transition-all ${g.reviewStatus==="ACCEPTED"?"border-green-300 bg-green-50":g.reviewStatus==="REPLACED"?"border-blue-300 bg-blue-50":g.reviewStatus==="NEEDS_MORE_INFO"?"border-amber-300 bg-amber-50":"border-slate-300"}`,children:[r.jsxs(X,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Z,{className:"flex items-center gap-2 text-sm",children:[r.jsx(rn,{className:"h-4 w-4"}),g.fileName]}),r.jsx(J,{variant:g.reviewStatus==="ACCEPTED"?"default":g.reviewStatus==="REPLACED"?"secondary":g.reviewStatus==="NEEDS_MORE_INFO"?"destructive":"outline",className:g.reviewStatus==="ACCEPTED"?"bg-green-600 text-white":g.reviewStatus==="REPLACED"?"bg-blue-600 text-white":g.reviewStatus==="NEEDS_MORE_INFO"?"bg-amber-600 text-white":"bg-gray-200 text-gray-700",children:g.reviewStatus})]}),r.jsxs("div",{className:"text-xs text-slate-500",children:[g.category||g.evidenceCategory||"General Evidence"," • ",g.mimeType||g.fileType||"Unknown"," • ",new Date(g.uploadedAt).toLocaleString()]})]}),r.jsxs(Q,{className:"space-y-4",children:[g.parsedSummary&&r.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm",children:[r.jsxs("div",{className:"font-medium text-blue-700 mb-1 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Python Backend Analysis:"]}),r.jsx("div",{className:"text-slate-600",children:g.parsedSummary})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-purple-700 mb-1 flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"LLM/AI Diagnostic Interpretation:"]}),g.llmInterpretation?r.jsxs("div",{className:"bg-purple-50 p-3 rounded space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Most Likely Root Causes:"}),r.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(g.llmInterpretation.mostLikelyRootCauses||[]).map((x,w)=>r.jsx("li",{children:x},w))})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Recommendations:"}),r.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(g.llmInterpretation.pinnpointedRecommendations||[]).map((x,w)=>r.jsx("li",{children:x},w))})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("span",{children:["LLM Confidence: ",r.jsxs(J,{variant:"outline",className:"text-xs",children:[g.llmInterpretation.confidence||0,"%"]})]}),r.jsxs("span",{children:["Missing Evidence: ",(g.llmInterpretation.missingEvidence||[]).length," items"]})]}),r.jsx("div",{className:"text-xs text-purple-600 bg-purple-100 p-2 rounded",children:g.llmInterpretation.diagnosticSummary||"LLM diagnostic analysis completed"})]}):r.jsxs("div",{className:"bg-red-50 p-3 rounded text-sm",children:[r.jsx("div",{className:"text-red-700 font-medium flex items-center gap-2",children:"⚠️ Protocol Violation: Missing LLM Analysis"}),r.jsx("div",{className:"text-red-600 text-xs mt-1",children:"Universal Protocol Standard requires BOTH Python parsing AND LLM diagnostic interpretation. This file cannot be reviewed until LLM analysis is completed."})]})]}),g.adequacyScore!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-slate-600",children:"Adequacy Score:"}),r.jsxs(J,{variant:g.adequacyScore>=80?"default":g.adequacyScore>=60?"secondary":"destructive",children:[g.adequacyScore,"%"]})]}),g.analysisFeatures&&r.jsxs("div",{className:"text-xs text-slate-500",children:["Features: ",Object.keys(g.analysisFeatures).join(", ")]}),r.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[r.jsx(ze,{placeholder:"Add review comments (optional)...",value:n[g.id]||"",onChange:x=>i(w=>({...w,[g.id]:x.target.value})),rows:2,className:"text-sm"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:`accept-${g.id}`,checked:s[g.id]==="ACCEPTED"||g.reviewStatus==="ACCEPTED",onCheckedChange:x=>y(g.id,"ACCEPTED",!!x),disabled:h.isPending,className:"data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),r.jsx(ie,{htmlFor:`accept-${g.id}`,className:"text-sm font-medium text-green-700 cursor-pointer",children:"✓ Accept Evidence File - Ready for AI Analysis"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:`need-info-${g.id}`,checked:s[g.id]==="NEEDS_MORE_INFO"||g.reviewStatus==="NEEDS_MORE_INFO",onCheckedChange:x=>y(g.id,"NEEDS_MORE_INFO",!!x),disabled:h.isPending,className:"data-[state=checked]:bg-amber-600 data-[state=checked]:border-amber-600"}),r.jsx(ie,{htmlFor:`need-info-${g.id}`,className:"text-sm font-medium text-amber-700 cursor-pointer",children:"? Needs More Information - Additional Data Required"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:`replace-${g.id}`,checked:s[g.id]==="REPLACED"||g.reviewStatus==="REPLACED",onCheckedChange:x=>y(g.id,"REPLACED",!!x),disabled:h.isPending,className:"data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"}),r.jsx(ie,{htmlFor:`replace-${g.id}`,className:"text-sm font-medium text-red-700 cursor-pointer",children:"↻ Replace File - Upload Different Evidence"})]})]}),(s[g.id]||g.reviewStatus!=="UNREVIEWED")&&r.jsxs("div",{className:`p-3 rounded text-sm font-medium ${(s[g.id]||g.reviewStatus)==="ACCEPTED"?"bg-green-100 text-green-800":(s[g.id]||g.reviewStatus)==="REPLACED"?"bg-red-100 text-red-800":(s[g.id]||g.reviewStatus)==="NEEDS_MORE_INFO"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:["Status: ",s[g.id]||g.reviewStatus,h.isPending&&" (Updating...)"]})]}),g.userComments&&r.jsxs("div",{className:"bg-slate-100 p-2 rounded text-xs",children:[r.jsx("div",{className:"font-medium text-slate-600",children:"Review Comments:"}),r.jsx("div",{className:"text-slate-700",children:g.userComments})]})]})]},g.id))}),(!Array.isArray(u)||u.length===0)&&r.jsx(Y,{children:r.jsxs(Q,{className:"text-center py-12",children:[r.jsx(Va,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),r.jsx("div",{className:"text-lg font-medium text-slate-600 mb-2",children:"No Evidence Files Found"}),r.jsx("div",{className:"text-sm text-slate-500 mb-4",children:"Please upload evidence files in the previous steps before proceeding to human review."}),r.jsx(W,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${l}`),children:"← Back to Evidence Collection"})]})}),r.jsxs(Y,{className:"mt-8",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(wz,{className:"h-5 w-5 text-blue-600"}),"Review Instructions"]})}),r.jsxs(Q,{className:"text-sm text-slate-600 space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ACCEPT:"})," File analysis is correct and adequate for RCA"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"NEEDS MORE INFO:"})," File is parsed but requires additional context or clarification"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"REPLACE:"})," File should be replaced with a better version or different file type"]}),r.jsx("div",{className:"text-amber-600 font-medium mt-4",children:"⚠️ All files must be reviewed before AI analysis can proceed (Universal RCA Requirement)"})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error: No Incident ID"}),r.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Please access this page from the evidence collection workflow."})]})})}function iO(){var x,w,b,C,k,S,E,$,O,A;const[,e]=ii(),[,t]=Xx("/incidents/:id/analysis"),n=new URLSearchParams(window.location.search),i=t!=null&&t.id?parseInt(t.id):n.get("incident")?parseInt(n.get("incident")):null,[s,a]=N.useState("initializing"),[o,l]=N.useState(0),[c,d]=N.useState(null),[u,f]=N.useState(!1),{data:p,isLoading:h}=Pe({queryKey:[`/api/incidents/${i}`],enabled:!!i}),v=Qe({mutationFn:async P=>{const _=await fetch(`/api/incidents/${P}/rca-synthesis`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!_.ok)throw new Error(`RCA synthesis failed: ${_.status}`);return await _.json()},onSuccess:P=>{var _,F,M,G,z;if(console.log("RCA Synthesis completed:",P),P.data&&P.data.recommendations){const H=P.data,D={overallConfidence:H.overallConfidence||0,analysisDate:new Date(H.analysisDate)||new Date,rootCauses:((_=H.recommendations)==null?void 0:_.map((U,I)=>({id:U.faultId||`fault-${I}`,description:U.specificFault||"Unknown fault",confidence:U.confidence||0,category:"Deterministic AI",evidence:U.evidenceSupport||[],likelihood:U.confidence>=80?"Very High":U.confidence>=60?"High":"Medium",impact:"Critical",priority:I+1})))||[],recommendations:((F=H.recommendations)==null?void 0:F.flatMap((U,I)=>{var se;return((se=U.recommendedActions)==null?void 0:se.map((ge,ee)=>({id:`${U.faultId}-action-${ee}`,title:`${U.specificFault} - Action ${ee+1}`,description:ge,priority:U.confidence>=80?"Immediate":"Short-term",category:"Deterministic",estimatedCost:"TBD",timeframe:U.confidence>=80?"Immediate":"1-2 weeks",responsible:"Engineering Team",preventsProbability:U.confidence})))||[]}))||[],crossMatchResults:{libraryMatches:((M=H.recommendations)==null?void 0:M.length)||0,patternSimilarity:H.overallConfidence||0,historicalData:[`Analysis Method: ${H.analysisMethod}`,`Determinism Check: ${H.determinismCheck}`]},evidenceGaps:((G=H.recommendations)==null?void 0:G.filter(U=>{var I;return((I=U.requiredEvidence)==null?void 0:I.length)>0}).flatMap(U=>U.requiredEvidence))||[],additionalInvestigation:((z=H.recommendations)==null?void 0:z.map(U=>U.analysisRationale).filter(Boolean))||[]};d(D)}a("completed"),l(100),f(!1)},onError:P=>{console.error("Universal RCA Analysis failed:",P),a("error"),f(!1),P.message.includes("No reviewed evidence files")&&a("no_reviewed_evidence")}}),{data:m,isLoading:y}=Pe({queryKey:[`/api/incidents/${i}/analysis`],enabled:!!i});N.useEffect(()=>{p&&m&&!y&&(m&&Object.keys(m).length>0?(console.log("Loading existing analysis results:",m),d(m),a("completed"),l(100),f(!1)):!c&&!u&&i&&(console.log("Starting Universal RCA analysis for incident:",i),f(!0),j(),v.mutate(i)))},[p,m,y]);const j=()=>{const P=[{name:"Steps 1-3: AI Hypothesis Generation",duration:parseInt("2000")},{name:"Step 4: Evidence Status Validation",duration:parseInt("2000")},{name:"Step 5: Data Analysis with Confidence Assessment",duration:parseInt("3000")},{name:"Step 6: Low-Confidence Fallback (if needed)",duration:parseInt("2000")},{name:"Steps 7-9: Enhanced RCA with PSM Integration",duration:parseInt("3000")}];let _=0;P.forEach((F,M)=>{setTimeout(()=>{a(F.name),l((M+1)*20)},_),_+=F.duration})},g=()=>{i&&e(`/analysis-details/${i}`)};return h||y||!p?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Tt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading incident details..."})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(W,{variant:"ghost",onClick:()=>e("/"),children:"← Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),r.jsx("h1",{className:"text-xl font-bold",children:"Steps 5-6: AI Analysis & Draft RCA"})]})]}),r.jsxs(J,{variant:"outline",className:"text-sm",children:["Incident #",(p==null?void 0:p.id)||i]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u&&r.jsxs(Y,{className:"mb-8",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"h-5 w-5 animate-spin"}),"AI Analysis in Progress"]}),r.jsx(ve,{children:"Advanced root cause analysis using evidence library cross-matching and pattern recognition"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:s}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"%"]})]}),r.jsx(_r,{value:o,className:"h-2"})]})})]}),c&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(Y,{children:r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ls,{className:"h-5 w-5"}),"Analysis Complete"]}),r.jsxs(ve,{children:[p==null?void 0:p.title," - ",p==null?void 0:p.equipmentGroup," → ",p==null?void 0:p.equipmentType]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-3xl font-bold text-primary",children:[c.overallConfidence,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"})]})]})})}),r.jsxs(Zn,{defaultValue:"root-causes",className:"w-full",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-4",children:[r.jsx(Ae,{value:"root-causes",children:"Root Causes"}),r.jsx(Ae,{value:"recommendations",children:"Recommendations"}),r.jsx(Ae,{value:"cross-match",children:"Library Match"}),r.jsx(Ae,{value:"gaps",children:"Evidence Gaps"})]}),r.jsx(ke,{value:"root-causes",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Identified Root Causes"}),r.jsx(ve,{children:"Ranked by confidence and impact assessment"})]}),r.jsx(Q,{className:"space-y-4",children:c.rootCauses&&c.rootCauses.length>0?c.rootCauses.map((P,_)=>r.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(J,{variant:"outline",className:"font-mono",children:["#",_+1]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:P.description}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.category})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[P.confidence,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Likelihood"}),r.jsx(J,{variant:P.likelihood==="Very High"?"destructive":P.likelihood==="High"?"default":P.likelihood==="Medium"?"secondary":"outline",className:"ml-2",children:P.likelihood})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Impact"}),r.jsx(J,{variant:P.impact==="Critical"?"destructive":P.impact==="High"?"default":P.impact==="Medium"?"secondary":"outline",className:"ml-2",children:P.impact})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Supporting Evidence"}),r.jsx("ul",{className:"mt-1 text-sm text-muted-foreground",children:P.evidence&&P.evidence.length>0?P.evidence.map((F,M)=>r.jsxs("li",{className:"list-disc list-inside",children:["• ",F]},M)):r.jsx("li",{className:"text-amber-600",children:"• No direct evidence available - analysis based on symptoms and patterns"})})]}),P.aiRemarks&&r.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Tt,{className:"h-4 w-4 text-amber-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-amber-800",children:"AI Analysis Note"}),r.jsx("p",{className:"text-sm text-amber-700 mt-1",children:P.aiRemarks})]})]})})]})]},P.id)):r.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[r.jsx(ls,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"Analysis Results Available"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["RCA synthesis completed with ",c.overallConfidence,"% confidence. Check other tabs for recommendations and detailed analysis."]})]})})]})}),r.jsx(ke,{value:"recommendations",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Corrective Recommendations"}),r.jsx(ve,{children:"Prioritized action items to prevent recurrence"})]}),r.jsx(Q,{className:"space-y-4",children:c.recommendations&&c.recommendations.length>0?c.recommendations.map((P,_)=>r.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(J,{variant:P.priority==="Immediate"?"destructive":P.priority==="Short-term"?"default":"secondary",children:P.priority}),r.jsx("h4",{className:"font-semibold",children:P.title})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:P.description})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsx("div",{className:"font-medium",children:P.estimatedCost}),r.jsx("div",{className:"text-muted-foreground",children:P.timeframe})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Category:"})," ",P.category]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Responsible:"})," ",P.responsible]})]}),r.jsx("div",{className:"mt-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs font-medium",children:"Prevention Effectiveness:"}),r.jsx(_r,{value:P.preventsProbability,className:"flex-1 h-2"}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[P.preventsProbability,"%"]})]})})]},P.id)):r.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[r.jsx(Tt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"No Specific Recommendations Generated"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Due to limited evidence, AI could not generate specific corrective actions. Consider uploading additional technical data for more detailed recommendations."})]})})]})}),r.jsx(ke,{value:"cross-match",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(hp,{className:"h-5 w-5"}),"Evidence Library Cross-Match Results"]}),r.jsx(ve,{children:"Comparison with historical equipment failures and patterns"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary",children:((x=c.crossMatchResults)==null?void 0:x.libraryMatches)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Similar Cases Found"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("div",{className:"text-3xl font-bold text-primary",children:[((w=c.crossMatchResults)==null?void 0:w.patternSimilarity)||0,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pattern Similarity"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary",children:((C=(b=c.crossMatchResults)==null?void 0:b.historicalData)==null?void 0:C.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Historical References"})]})]}),(((S=(k=c.crossMatchResults)==null?void 0:k.historicalData)==null?void 0:S.length)||0)>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Historical Data References"}),r.jsx("ul",{className:"space-y-2",children:(((E=c.crossMatchResults)==null?void 0:E.historicalData)||[]).map((P,_)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Ct,{className:"h-4 w-4 text-green-600"}),P]},_))})]})]})]})}),r.jsx(ke,{value:"gaps",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"h-5 w-5"}),"Evidence Gaps & Additional Investigation"]}),r.jsx(ve,{children:"Areas requiring further investigation for complete analysis"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Tt,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"AI Evidence Analysis Summary"}),r.jsx("p",{className:"text-sm text-blue-700",children:c.overallConfidence>=80?"Analysis completed with adequate evidence. High confidence in root cause identification.":c.overallConfidence>=50?"Analysis completed with moderate evidence. Some assumptions required for root cause analysis.":"Analysis based primarily on hypothesis due to limited evidence. Results should be validated with additional data."}),r.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Evidence Adequacy: ",c.overallConfidence,"% | Files Analyzed: ",(($=c.crossMatchResults)==null?void 0:$.libraryMatches)||0," | Confidence Level: ",c.overallConfidence>=80?"High":c.overallConfidence>=50?"Medium":"Low"]})]})]})}),(((O=c.evidenceGaps)==null?void 0:O.length)||0)>0?r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-orange-700",children:"Evidence Gaps Identified"}),r.jsx("ul",{className:"space-y-2",children:(c.evidenceGaps||[]).map((P,_)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(mt,{className:"h-4 w-4 text-orange-500 mt-0.5"}),P]},_))})]}):r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-green-700",children:"Evidence Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[r.jsx(Ct,{className:"h-4 w-4"}),"No critical evidence gaps identified based on available data"]})]}),(((A=c.additionalInvestigation)==null?void 0:A.length)||0)>0?r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Additional Investigation Recommended"}),r.jsx("ul",{className:"space-y-2",children:(c.additionalInvestigation||[]).map((P,_)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Ci,{className:"h-4 w-4 text-blue-500 mt-0.5"}),P]},_))})]}):r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Investigation Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[r.jsx(Ct,{className:"h-4 w-4"}),"Current analysis appears complete based on available evidence"]})]})]})]})})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${i}`),children:"← Back to Evidence Collection"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/summary-report/${i}`),children:"📋 Generate Summary Report"}),r.jsxs(W,{onClick:g,className:"flex items-center gap-2",children:["Proceed to Engineer Review",r.jsx(pp,{className:"h-4 w-4"})]})]})]})]})]})]})}function jwe(){var c,d,u,f,p,h;const[,e]=Xx("/incidents/:id/fallback-analysis"),t=e==null?void 0:e.id,[n,i]=N.useState(null),[s,a]=N.useState(!1),{data:o}=Pe({queryKey:[`/api/incidents/${t}`],enabled:!!t}),l=Qe({mutationFn:async()=>{a(!0);const v={},m=(o==null?void 0:o.evidenceResponses)||[],y=await fetch(`/api/incidents/${t}/fallback-analysis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({evidenceAvailability:v,uploadedFiles:m})});if(!y.ok)throw new Error(`Fallback analysis failed: ${y.status}`);return y.json()},onSuccess:v=>{console.log("Fallback analysis completed:",v),i(v),a(!1)},onError:v=>{console.error("Fallback analysis failed:",v),a(!1)}});return N.useEffect(()=>{o&&!n&&!s&&l.mutate()},[o]),o?r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx(vn,{href:`/incidents/${t}/evidence-collection`,children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(Tt,{className:"h-6 w-6 text-purple-600"}),"AI Fallback Analysis"]}),r.jsx("p",{className:"text-muted-foreground",children:"Universal RCA Fallback and Hybrid Inference Logic"})]})]}),r.jsxs(Qt,{className:"border-purple-200 bg-purple-50",children:[r.jsx(Tt,{className:"h-4 w-4"}),r.jsxs(Xt,{children:[r.jsx("strong",{children:"AI Fallback Mode:"})," When Evidence Library matching fails (<80% confidence), this system uses GPT to generate plausible failure hypotheses and engineering assumptions. Analysis proceeds with documented limitations and confidence flags."]})]})]}),s&&r.jsx(Y,{className:"mb-6",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Running AI Fallback Analysis..."}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Extracting symptoms → Checking Evidence Library → Generating AI hypotheses → Assessing evidence → Creating analysis"})]})]})})}),n&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),"Fallback Analysis Complete"]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((c=n.fallbackAnalysis)==null?void 0:c.confidence)||"N/A","%"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Confidence"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((d=n.hypotheses)==null?void 0:d.length)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Hypotheses"})]}),r.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-amber-600",children:((f=(u=n.fallbackAnalysis)==null?void 0:u.confidenceFlags)==null?void 0:f.length)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Flags"})]})]}),((p=n.fallbackAnalysis)==null?void 0:p.primaryRootCause)&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Primary Root Cause (AI Inferred)"}),r.jsx("p",{className:"text-green-700 font-medium",children:n.fallbackAnalysis.primaryRootCause}),n.fallbackAnalysis.aiReasoning&&r.jsx("p",{className:"text-sm text-green-600 mt-2",children:n.fallbackAnalysis.aiReasoning})]}),((h=n.fallbackAnalysis)==null?void 0:h.confidenceFlags)&&n.fallbackAnalysis.confidenceFlags.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[r.jsx(mt,{className:"h-4 w-4 text-amber-600"}),"Analysis Limitations"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.fallbackAnalysis.confidenceFlags.map((v,m)=>r.jsx(J,{variant:"outline",className:"text-amber-700 border-amber-300 bg-amber-50",children:v.replace(/_/g," ")},m))})]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(vn,{href:`/incidents/${t}/evidence-collection`,children:r.jsxs(W,{variant:"outline",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),r.jsx(vn,{href:`/incidents/${t}/analysis`,children:r.jsx(W,{children:"View Standard Analysis →"})})]})]})]}):r.jsx("div",{className:"max-w-4xl mx-auto p-6",children:r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading incident..."})})})}function wwe(){var j,g,x;const[,e]=ii(),[t,n]=N.useState(null),[i,s]=N.useState(!1),[a,o]=N.useState({reviewerId:"ENG001",reviewerName:"Senior RCA Engineer",reviewDate:new Date,approved:!1,comments:"",modifications:{rootCauses:[],recommendations:[]},additionalFindings:"",followUpActions:[],signoffRequired:!0});N.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("incident");b&&n(parseInt(b))},[]);const{data:l,isLoading:c}=Pe({queryKey:["/api/incidents",t],enabled:!!t}),{data:d}=Pe({queryKey:["/api/incidents",t,"analysis"],enabled:!!t}),{data:u,refetch:f}=Pe({queryKey:["/api/incidents",t,"completeness-check"],enabled:!!t}),p=Qe({mutationFn:async w=>ot(`/api/incidents/${t}/engineer-review`,{method:"POST",body:JSON.stringify({...w,currentStep:8,workflowStatus:w.approved?"approved":"under_review"})}),onSuccess:w=>{a.approved&&e(`/final-rca?incident=${t}`)},onError:w=>{var b;(b=w==null?void 0:w.message)!=null&&b.includes("minimum evidence")&&console.error("Investigation completeness validation failed:",w)}}),h=Qe({mutationFn:async()=>ot(`/api/incidents/${t}/generate-final-report`,{method:"POST",body:JSON.stringify({engineerReview:a})}),onSuccess:w=>{window.open(w.reportUrl,"_blank")}}),v=w=>{o(b=>({...b,approved:w}))},m=()=>{p.mutate(a)},y=()=>{h.mutate()};return c||!l?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Lc,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading engineer review..."})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(W,{variant:"ghost",onClick:()=>e("/"),children:"← Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Lc,{className:"h-5 w-5 text-primary"}),r.jsx("h1",{className:"text-xl font-bold",children:"Step 8: Engineer Review & Finalization"})]})]}),r.jsxs(J,{variant:"outline",className:"text-sm",children:["Incident #",l.id]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(Y,{className:"mb-8",children:r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-5 w-5"}),"Final RCA Review"]}),r.jsxs(ve,{children:[l.title," - ",l.equipmentGroup," → ",l.equipmentType]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(W,{variant:"outline",onClick:()=>s(!i),className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"h-4 w-4"}),i?"View Mode":"Edit Mode"]}),a.approved&&r.jsxs(J,{variant:"default",className:"bg-green-600",children:[r.jsx(Ct,{className:"h-3 w-3 mr-1"}),"Approved"]})]})]})})}),r.jsxs(Zn,{defaultValue:"review",className:"w-full",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-4",children:[r.jsx(Ae,{value:"review",children:"Review Summary"}),r.jsx(Ae,{value:"findings",children:"AI Findings"}),r.jsx(Ae,{value:"modifications",children:"Modifications"}),r.jsx(Ae,{value:"approval",children:"Final Approval"})]}),r.jsx(ke,{value:"review",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Review Summary"}),r.jsx(ve,{children:"Engineer assessment of AI analysis and findings"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Reviewer Name"}),r.jsx(ue,{value:a.reviewerName,onChange:w=>o(b=>({...b,reviewerName:w.target.value})),disabled:!i})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Reviewer ID"}),r.jsx(ue,{value:a.reviewerId,onChange:w=>o(b=>({...b,reviewerId:w.target.value})),disabled:!i})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Review Comments"}),r.jsx(ze,{placeholder:"Provide detailed comments on the AI analysis, evidence quality, and findings...",value:a.comments,onChange:w=>o(b=>({...b,comments:w.target.value})),disabled:!i,rows:4})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Additional Engineering Findings"}),r.jsx(ze,{placeholder:"Any additional findings or observations not captured by the AI analysis...",value:a.additionalFindings,onChange:w=>o(b=>({...b,additionalFindings:w.target.value})),disabled:!i,rows:3})]})]})]})}),r.jsx(ke,{value:"findings",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"AI Analysis Review"}),r.jsx(ve,{children:"Review and validate AI-generated findings"})]}),r.jsx(Q,{children:d?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Root Causes Identified"}),(j=d.rootCauses)==null?void 0:j.map((w,b)=>r.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:w.description}),r.jsxs(J,{variant:"outline",children:[w.confidence,"% confidence"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.category})]},b))]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Recommendations Generated"}),(g=d.recommendations)==null?void 0:g.map((w,b)=>r.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:w.title}),r.jsx(J,{variant:w.priority==="Immediate"?"destructive":"default",children:w.priority})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.description})]},b))]})]}):r.jsxs(Qt,{children:[r.jsx(mt,{className:"h-4 w-4"}),r.jsx(Xt,{children:"AI analysis results are not available. Please complete the AI analysis step first."})]})})]})}),r.jsx(ke,{value:"modifications",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Engineering Modifications"}),r.jsx(ve,{children:"Modify or add to AI findings based on engineering judgment"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs(Qt,{children:[r.jsx(Xr,{className:"h-4 w-4"}),r.jsx(Xt,{children:"Use this section to document any modifications to the AI analysis based on engineering expertise."})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Modified Root Causes"}),r.jsx(ze,{placeholder:"Document any changes to root cause analysis...",disabled:!i,rows:3})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Modified Recommendations"}),r.jsx(ze,{placeholder:"Document any changes to recommendations...",disabled:!i,rows:3})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Additional Preventive Measures"}),r.jsx(ze,{placeholder:"Additional preventive measures recommended by engineering...",disabled:!i,rows:3})]})]})]})}),r.jsxs(ke,{value:"approval",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"h-5 w-5"}),"Investigation Completeness Assessment"]}),r.jsx(ve,{children:"Review completeness before finalizing investigation"})]}),r.jsx(Q,{children:u?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${u.canBeClosed?"bg-green-500":"bg-amber-500"}`}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:u.canBeClosed?"Ready for Closure":"Closure Available with Theoretical Analysis"}),r.jsx("p",{className:"text-sm text-gray-600",children:u.closureReason})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[u.overallCompleteness,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Complete"})]})]}),u.issues.length>0&&r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-amber-700 mb-2",children:"Outstanding Issues"}),r.jsx("ul",{className:"space-y-1",children:u.issues.map((w,b)=>r.jsxs("li",{className:"text-sm text-amber-600 flex items-start gap-2",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full mt-2 flex-shrink-0"}),w]},b))})]}),u.theoreticalAnalysisRecommended&&r.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[r.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"Theoretical Analysis Available"}),u.theoreticalAnalysis&&r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-blue-600",children:"Approach:"}),r.jsx("p",{className:"text-blue-700 mt-1",children:u.theoreticalAnalysis.approach})]}),((x=u.theoreticalAnalysis.theoreticalConclusions)==null?void 0:x.length)>0&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-blue-600",children:"Engineering Conclusions:"}),r.jsx("ul",{className:"mt-1 space-y-1",children:u.theoreticalAnalysis.theoreticalConclusions.slice(0,2).map((w,b)=>r.jsx("li",{className:"text-blue-700 pl-2",children:w},b))})]})]})]}),u.inconclusiveFindings&&u.unansweredCriticalQuestions.length>0&&r.jsxs("div",{className:"border rounded-lg p-4 bg-orange-50",children:[r.jsx("h4",{className:"font-medium text-orange-700 mb-3",children:"Inconclusive Findings Documentation"}),r.jsxs("div",{className:"text-sm space-y-2",children:[r.jsx("p",{className:"text-orange-700",children:u.inconclusiveFindings.summary}),u.inconclusiveFindings.confidenceImpact&&r.jsx("p",{className:"text-orange-600 font-medium",children:u.inconclusiveFindings.confidenceImpact})]})]}),u.potentialFailureModes.length>0&&r.jsxs("details",{className:"border rounded-lg p-4",children:[r.jsxs("summary",{className:"font-medium cursor-pointer text-gray-700",children:["Alternative Failure Modes Considered (",u.potentialFailureModes.length,")"]}),r.jsx("div",{className:"mt-3 space-y-2",children:u.potentialFailureModes.slice(0,3).map((w,b)=>r.jsxs("div",{className:"text-sm p-2 bg-gray-50 rounded",children:[r.jsx("div",{className:"font-medium",children:w.mode}),w.causes&&r.jsxs("div",{className:"text-gray-600 mt-1",children:["Potential causes: ",w.causes.slice(0,2).join(", ")]})]},b))})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(mt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"Loading completeness assessment..."})]})})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Final Approval"}),r.jsx(ve,{children:"Complete the review and approve the RCA for publication"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"approve",checked:a.approved,onCheckedChange:v}),r.jsx(ie,{htmlFor:"approve",className:"font-medium",children:"I approve this RCA analysis for publication"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"signoff",checked:a.signoffRequired,onCheckedChange:w=>o(b=>({...b,signoffRequired:!!w}))}),r.jsx(ie,{htmlFor:"signoff",children:"Additional management signoff required"})]}),!a.approved&&r.jsxs(Qt,{className:"border-amber-200 bg-amber-50",children:[r.jsx(mt,{className:"h-4 w-4"}),r.jsx(Xt,{children:"Please review all findings and provide approval to proceed with RCA publication."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(W,{onClick:m,disabled:p.isPending,className:"flex items-center gap-2",children:[r.jsx(Fo,{className:"h-4 w-4"}),p.isPending?"Saving...":"Submit Review"]}),a.approved&&r.jsxs(W,{onClick:y,disabled:h.isPending,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),h.isPending?"Generating...":"Generate Final Report"]})]})]})]})]})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/ai-analysis?incident=${t}`),children:"← Back to AI Analysis"}),a.approved&&r.jsxs(W,{onClick:()=>e("/"),className:"flex items-center gap-2",children:["Complete Investigation",r.jsx(Ct,{className:"h-4 w-4"})]})]})]})]})}function Nwe(){const[e,t]=N.useState({equipmentType:"",failureMode:"",existingEvidence:[]}),{data:n,isLoading:i}=Pe({queryKey:["/api/nlp/analyze-questions"]}),{data:s,isLoading:a}=Pe({queryKey:["/api/nlp/analyze-root-cause-logic"]}),o=async()=>{if(!(!e.equipmentType||!e.failureMode))try{const l=await fetch("/api/nlp/generate-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(l.ok){const c=await l.json();console.log("Generated suggestions:",c)}}catch(l){console.error("Error generating questions:",l)}};return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(as,{className:"h-4 w-4"}),"Back to Home"]})}),r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[r.jsx(mp,{className:"h-4 w-4"}),"Home"]})})]}),r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[r.jsx(Tt,{className:"h-8 w-8 text-blue-600"}),"NLP Analysis Dashboard"]}),r.jsx("p",{className:"text-gray-600",children:"Natural Language Processing analysis of Evidence Library patterns for intelligent question generation"})]}),r.jsxs(Zn,{defaultValue:"question-patterns",className:"space-y-6",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-3",children:[r.jsx(Ae,{value:"question-patterns",children:"Question Patterns"}),r.jsx(Ae,{value:"logic-analysis",children:"Root Cause Logic"}),r.jsx(Ae,{value:"question-generator",children:"Question Generator"})]}),r.jsxs(ke,{value:"question-patterns",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(FI,{className:"h-5 w-5"}),"Question Type Classification"]})}),r.jsx(Q,{children:i?r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}):n!=null&&n.questionTypes?r.jsx("div",{className:"space-y-4",children:n.questionTypes.slice(0,8).map((l,c)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold capitalize",children:l.type.replace("-"," ")}),r.jsxs(J,{variant:"secondary",children:[l.frequency," questions"]})]}),r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:l.examples.slice(0,3).map((d,u)=>r.jsxs("div",{className:"bg-gray-50 p-2 rounded italic",children:['"',d,'"']},u))})]},c))}):r.jsx(Qt,{children:r.jsx(Xt,{children:"No question patterns found. Make sure Evidence Library has AI/Investigator Questions data."})})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Ci,{className:"h-5 w-5"}),"Technical Terms Frequency"]})}),r.jsx(Q,{children:n!=null&&n.keyTerms?r.jsx("div",{className:"flex flex-wrap gap-2",children:n.keyTerms.slice(0,20).map((l,c)=>r.jsxs(J,{variant:"outline",className:"text-xs",children:[l.term," (",l.frequency,")"]},c))}):r.jsx("p",{className:"text-gray-500",children:"No technical terms identified"})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Equipment-Specific Question Patterns"})}),r.jsx(Q,{children:n!=null&&n.equipmentSpecificPatterns?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.equipmentSpecificPatterns.slice(0,6).map((l,c)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:l.equipment}),r.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:l.commonQuestions.slice(0,3).map((d,u)=>r.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:["• ",d]},u))})]},c))}):r.jsx("p",{className:"text-gray-500",children:"No equipment-specific patterns identified"})})]})]}),r.jsxs(ke,{value:"logic-analysis",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(_i,{className:"h-5 w-5"}),"Logic Structure Patterns"]})}),r.jsx(Q,{children:a?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):s!=null&&s.logicStructures?r.jsx("div",{className:"space-y-4",children:s.logicStructures.map((l,c)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold capitalize",children:l.structure.replace("-"," ")}),r.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}),r.jsxs(J,{className:"bg-green-100 text-green-800",children:[l.frequency," cases"]})]},c))}):r.jsx(Qt,{children:r.jsx(Xt,{children:"No logic structure patterns found. Check Root Cause Logic data in Evidence Library."})})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Common Reasoning Patterns"})}),r.jsx(Q,{children:s!=null&&s.commonPatterns?r.jsx("div",{className:"space-y-3",children:s.commonPatterns.slice(0,6).map((l,c)=>r.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("p",{className:"font-medium",children:l.pattern}),r.jsxs(J,{variant:"secondary",children:[l.frequency,"x"]})]}),r.jsx("div",{className:"text-sm text-gray-600",children:l.examples.slice(0,2).map((d,u)=>r.jsxs("div",{className:"mt-1 italic",children:['"',d,'"']},u))})]},c))}):r.jsx("p",{className:"text-gray-500",children:"No common patterns identified"})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Causal Language Analysis"})}),r.jsx(Q,{children:s!=null&&s.causalWords?r.jsx("div",{className:"flex flex-wrap gap-2",children:s.causalWords.map((l,c)=>r.jsxs(J,{variant:"outline",className:"bg-orange-50",children:[l.word," (",l.frequency,")"]},c))}):r.jsx("p",{className:"text-gray-500",children:"No causal words identified"})})]})]}),r.jsx(ke,{value:"question-generator",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx($I,{className:"h-5 w-5"}),"Intelligent Question Generator"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"equipment-type",children:"Equipment Type"}),r.jsx(ue,{id:"equipment-type",placeholder:"e.g., Pumps, Motors, Valves",value:e.equipmentType,onChange:l=>t(c=>({...c,equipmentType:l.target.value}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"failure-mode",children:"Failure Mode"}),r.jsx(ue,{id:"failure-mode",placeholder:"e.g., Seal Leak, Bearing Failure",value:e.failureMode,onChange:l=>t(c=>({...c,failureMode:l.target.value}))})]})]}),r.jsx(W,{onClick:o,disabled:!e.equipmentType||!e.failureMode,className:"w-full",children:"Generate Contextual Questions"}),r.jsx(Qt,{children:r.jsx(Xt,{children:"Enter equipment type and failure mode to generate contextual follow-up questions based on Evidence Library patterns. The NLP engine will analyze similar cases and suggest relevant questions to gather missing evidence."})})]})]})})]})]})}function Swe(){const{incidentId:e}=nN(),{data:t,isLoading:n}=Pe({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Generating comprehensive summary report..."})]})})});if(!(t!=null&&t.report))return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx(Y,{className:"border-red-200",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-red-600",children:[r.jsx(mt,{className:"h-5 w-5"}),r.jsx("span",{children:"Failed to generate summary report. Please try again."})]})})})});const i=t.report;return r.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(rn,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Incident Summary Report"}),r.jsxs("p",{className:"text-gray-600",children:["Investigation ID: ",i.metadata.investigationId]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",asChild:!0,children:r.jsx(vn,{href:"/",children:"← Back to Home"})}),r.jsxs(W,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Export PDF"]})]})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-medium",children:"1"}),"Incident Overview"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Incident Title"}),r.jsx("p",{className:"text-gray-900",children:i.incidentOverview.incidentTitle})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Date of Incident"}),r.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[r.jsx(cz,{className:"h-4 w-4"}),i.incidentOverview.dateOfIncident]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Reported By"}),r.jsx("p",{className:"text-gray-900",children:i.incidentOverview.reportedBy})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Equipment Tag"}),r.jsx("p",{className:"text-gray-900 font-mono",children:i.incidentOverview.equipmentTag})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Location"}),r.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[r.jsx(DI,{className:"h-4 w-4"}),i.incidentOverview.location]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"System/Process"}),r.jsx(J,{variant:"outline",className:"text-sm",children:i.incidentOverview.systemProcess})]})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:"2"}),"Incident Description"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"What Failed?"}),r.jsx("p",{className:"text-gray-900 mb-3",children:i.incidentDescription.whatFailed}),r.jsx("label",{className:"font-semibold text-gray-700",children:"When did it happen?"}),r.jsx("p",{className:"text-gray-900",children:i.incidentDescription.whenHappened})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"How was it discovered?"}),r.jsx("p",{className:"text-gray-900 mb-3",children:i.incidentDescription.howDiscovered}),r.jsx("label",{className:"font-semibold text-gray-700",children:"Initial Consequence"}),r.jsx("p",{className:"text-gray-900",children:i.incidentDescription.initialConsequence})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm font-medium",children:"3"}),"Impact Summary"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-red-600 mb-2",children:"Safety"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.safety})]}),r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-green-600 mb-2",children:"Environment"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.environment})]}),r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"Production"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.production})]}),r.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2 lg:col-span-1",children:[r.jsx("h4",{className:"font-semibold text-purple-600 mb-2",children:"Cost Estimate"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.costEstimate})]}),r.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2",children:[r.jsx("h4",{className:"font-semibold text-orange-600 mb-2",children:"Regulatory/Compliance"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.regulatory})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-sm font-medium",children:"4"}),"Timeline of Events"]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:i.timeline.map((s,a)=>r.jsxs("div",{className:"flex gap-4 p-3 border-l-4 border-blue-200 bg-gray-50 rounded-r-lg",children:[r.jsx("div",{className:"font-mono text-sm font-semibold text-blue-600 min-w-[60px]",children:s.time}),r.jsx("div",{className:"text-gray-900",children:s.event})]},a))})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-sm font-medium",children:"5"}),"Evidence Collected"]})}),r.jsx(Q,{children:i.evidenceCollected.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Source / File"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Observations"})]})}),r.jsx("tbody",{children:i.evidenceCollected.map((s,a)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.jsx(J,{variant:"outline",className:"text-xs",children:s.type})}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 font-mono text-sm",children:s.source}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.observations})]},a))})]})}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(rn,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),r.jsx("p",{children:"No evidence files collected yet"})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-sm font-medium",children:"6"}),"Root Cause Summary"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Primary Root Cause"}),r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-900",children:i.rootCauseSummary.primaryRootCause})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Contributing Factors"}),r.jsx("div",{className:"space-y-2",children:i.rootCauseSummary.contributingFactors.length>0?i.rootCauseSummary.contributingFactors.map((s,a)=>r.jsx("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded text-sm",children:r.jsx("p",{className:"text-orange-900",children:s})},a)):r.jsx("p",{className:"text-gray-500 text-sm",children:"No contributing factors identified"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Latent/Systemic Cause"}),r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsx("p",{className:"text-yellow-900",children:i.rootCauseSummary.latentCause})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Detection Gaps"}),r.jsx("div",{className:"space-y-2",children:i.rootCauseSummary.detectionGaps.length>0?i.rootCauseSummary.detectionGaps.map((s,a)=>r.jsx("div",{className:"p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:r.jsx("p",{className:"text-blue-900",children:s})},a)):r.jsx("p",{className:"text-gray-500 text-sm",children:"No detection gaps identified"})})]})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-cyan-100 text-cyan-800 px-2 py-1 rounded text-sm font-medium",children:"7"}),"Root Cause Analysis Methodology"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Method Used"}),r.jsx(J,{className:"mb-3",children:i.rcaMethodology.method}),r.jsx("p",{className:"text-sm text-gray-600",children:i.rcaMethodology.description})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-semibold",children:"Confidence Level"}),r.jsxs(J,{variant:i.rcaMethodology.confidenceLevel>80?"default":"secondary",children:[i.rcaMethodology.confidenceLevel,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-semibold",children:"Evidence Library Used"}),r.jsx(Ct,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-semibold block mb-1",children:"ISO Compliance"}),r.jsx("span",{className:"text-xs text-gray-600",children:i.rcaMethodology.isoCompliance})]})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-emerald-100 text-emerald-800 px-2 py-1 rounded text-sm font-medium",children:"8"}),"Corrective and Preventive Actions (CAPA)"]})}),r.jsx(Q,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Action"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Owner"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Due Date"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Status"})]})}),r.jsx("tbody",{children:i.correctiveActions.map((s,a)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.action}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.jsx(J,{variant:s.type==="Corrective"?"destructive":"default",className:"text-xs",children:s.type})}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.owner}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm font-mono",children:s.dueDate}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.jsx(J,{variant:"outline",className:"text-xs",children:s.status})})]},a))})]})})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-teal-100 text-teal-800 px-2 py-1 rounded text-sm font-medium",children:"9"}),"Lessons Learned"]})}),r.jsx(Q,{children:r.jsx("ul",{className:"space-y-3",children:i.lessonsLearned.map((s,a)=>r.jsxs("li",{className:"flex items-start gap-3 p-3 border-l-4 border-teal-200 bg-teal-50 rounded-r-lg",children:[r.jsx(Ct,{className:"h-5 w-5 text-teal-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-900",children:s})]},a))})})]}),r.jsx(Y,{className:"border-gray-200",children:r.jsx(Q,{className:"pt-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:["Report Generated: ",new Date(i.metadata.reportGeneratedDate).toLocaleString()]}),r.jsx(Ds,{orientation:"vertical",className:"h-4"}),r.jsxs("span",{children:["Generated by: ",i.metadata.reportGeneratedBy]}),r.jsx(Ds,{orientation:"vertical",className:"h-4"}),r.jsxs("span",{children:["Evidence Files: ",i.metadata.totalEvidenceFiles]}),r.jsx(Ds,{orientation:"vertical",className:"h-4"}),r.jsxs("span",{children:["Overall Confidence: ",i.metadata.overallConfidence,"%"]})]})})})]})}function Cwe(){var u;const{incidentId:e}=nN(),{data:t,isLoading:n}=Pe({queryKey:[`/api/incidents/${e}`],enabled:!!e}),{data:i,isLoading:s}=Pe({queryKey:[`/api/incidents/${e}/analysis`],enabled:!!e}),{data:a,isLoading:o}=Pe({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n||s)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading analysis details..."})]})})});if(!t||!i)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx(Y,{className:"border-yellow-200",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[r.jsx(mt,{className:"h-5 w-5"}),r.jsx("span",{children:"Incident or analysis not found."})]})})})});if(!i||Object.keys(i).length===0)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx(Y,{className:"border-yellow-200",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[r.jsx(mt,{className:"h-5 w-5"}),r.jsx("span",{children:"Analysis data not available. Please complete the analysis first."})]})})})});const l=((i==null?void 0:i.overallConfidence)||0)>=80?"text-green-600":((i==null?void 0:i.overallConfidence)||0)>=60?"text-yellow-600":"text-red-600",c=f=>new Date(f).toLocaleString(),d=f=>{switch(f){case"finalized":case"completed":return r.jsx(J,{className:"bg-green-100 text-green-800",children:"Completed"});case"analysis_complete":return r.jsx(J,{className:"bg-blue-100 text-blue-800",children:"Analysis Complete"});case"under_review":return r.jsx(J,{className:"bg-yellow-100 text-yellow-800",children:"Under Review"});default:return r.jsx(J,{className:"bg-gray-100 text-gray-800",children:"In Progress"})}};return r.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(W,{variant:"ghost",size:"sm",asChild:!0,children:r.jsxs(vn,{href:"/",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analysis Details"}),r.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.equipmentId)||"N/A"," • ",(t==null?void 0:t.equipmentGroup)||"N/A"," → ",(t==null?void 0:t.equipmentType)||"N/A",t!=null&&t.equipmentSubtype?` → ${t.equipmentSubtype}`:""]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right mr-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Confidence:"}),r.jsxs("span",{className:`text-2xl font-bold ${l}`,children:[(i==null?void 0:i.overallConfidence)||0,"%"]})]}),d((t==null?void 0:t.workflowStatus)||"in_progress")]}),r.jsxs(W,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Export"]})]})]}),r.jsxs(Zn,{defaultValue:"overview",className:"w-full",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-8",children:[r.jsx(Ae,{value:"overview",children:"Overview"}),r.jsx(Ae,{value:"diagrams",children:"Diagrams"}),r.jsx(Ae,{value:"rca-tree",children:"RCA Tree"}),r.jsx(Ae,{value:"evidence",children:"Evidence"}),r.jsx(Ae,{value:"reasoning",children:"AI Reasoning"}),r.jsx(Ae,{value:"engineer-review",children:"Engineer Review"}),r.jsx(Ae,{value:"export",children:"Export"}),r.jsx(Ae,{value:"history",children:"History"})]}),r.jsxs(ke,{value:"overview",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-5 w-5"}),"Issue Description"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.title)||"No title"}),r.jsx("p",{className:"text-gray-600 mt-2",children:(t==null?void 0:t.description)||"No description"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Reported:"}),r.jsx("p",{className:"font-medium",children:t!=null&&t.incidentDateTime?c(t.incidentDateTime):"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Priority:"}),r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.priority)||"Medium"})]})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-5 w-5"}),"Equipment Details"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Type:"}),r.jsxs("p",{className:"font-medium",children:[t.equipmentGroup," → ",t.equipmentType,t.equipmentSubtype?` → ${t.equipmentSubtype}`:""]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"ID:"}),r.jsx("p",{className:"font-medium",children:t.equipmentId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Location:"}),r.jsx("p",{className:"font-medium",children:t.location})]})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ls,{className:"h-5 w-5"}),"Root Cause Analysis"]})}),r.jsx(Q,{children:i.rootCauses&&i.rootCauses.length>0?r.jsx("div",{className:"space-y-4",children:i.rootCauses.map((f,p)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:f.description}),r.jsxs(J,{variant:"outline",className:"ml-2",children:[f.confidence,"% confidence"]})]}),r.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[r.jsx("span",{className:"font-medium",children:"Category:"})," ",f.category," •",r.jsx("span",{className:"font-medium ml-2",children:"Impact:"})," ",f.impact," •",r.jsx("span",{className:"font-medium ml-2",children:"Likelihood:"})," ",f.likelihood]}),f.evidence&&f.evidence.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Evidence:"}),r.jsx("ul",{className:"text-sm text-gray-600 ml-4 mt-1",children:f.evidence.map((h,v)=>r.jsx("li",{className:"list-disc",children:h},v))})]})]},f.id||p))}):r.jsx("p",{className:"text-gray-500 italic",children:"No root causes identified yet."})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(hp,{className:"h-5 w-5"}),"Recommendations"]})}),r.jsx(Q,{children:i.recommendations&&i.recommendations.length>0?r.jsx("div",{className:"space-y-4",children:i.recommendations.map((f,p)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:f.title}),r.jsx(J,{variant:f.priority==="Immediate"?"destructive":f.priority==="Short-term"?"default":"secondary",children:f.priority})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:f.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Cost:"}),r.jsx("p",{className:"font-medium",children:f.estimatedCost})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Timeframe:"}),r.jsx("p",{className:"font-medium",children:f.timeframe})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Responsible:"}),r.jsx("p",{className:"font-medium",children:f.responsible})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Prevention:"}),r.jsxs("p",{className:"font-medium",children:[f.preventsProbability,"%"]})]})]})]},f.id||p))}):r.jsx("p",{className:"text-gray-500 italic",children:"No recommendations available."})})]})]}),r.jsx(ke,{value:"evidence",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Evidence Collection Summary"})}),r.jsx(Q,{children:t.evidenceChecklist&&t.evidenceChecklist.length>0?r.jsx("div",{className:"space-y-4",children:t.evidenceChecklist.map((f,p)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[r.jsx("div",{className:"mt-0.5",children:f.completed?r.jsx(Ct,{className:"h-5 w-5 text-green-600"}):r.jsx(mt,{className:"h-5 w-5 text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:f.title}),r.jsx("p",{className:"text-sm text-gray-600",children:f.description}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsxs(J,{variant:"outline",className:"text-xs",children:[f.priority," Priority"]}),r.jsx(J,{variant:"outline",className:"text-xs",children:f.category})]}),f.files&&f.files.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Files: "}),r.jsxs("span",{className:"text-xs",children:[f.files.length," uploaded"]})]})]})]},f.id||p))}):r.jsx("p",{className:"text-gray-500 italic",children:"No evidence checklist available."})})]})}),r.jsxs(ke,{value:"reasoning",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(sc,{className:"h-5 w-5"}),"Analysis Metrics"]})}),r.jsx(Q,{children:i.crossMatchResults&&r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.crossMatchResults.libraryMatches||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Library Matches"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[i.crossMatchResults.patternSimilarity||0,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Pattern Similarity"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[i.overallConfidence,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Overall Confidence"})]})]})})]}),i.evidenceGaps&&i.evidenceGaps.length>0&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"h-5 w-5 text-yellow-500"}),"Evidence Gaps"]})}),r.jsx(Q,{children:r.jsx("ul",{className:"space-y-2",children:i.evidenceGaps.map((f,p)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),r.jsx("span",{className:"text-gray-700",children:f})]},p))})})]}),((u=i.crossMatchResults)==null?void 0:u.historicalData)&&i.crossMatchResults.historicalData.length>0&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Is,{className:"h-5 w-5"}),"Historical References"]})}),r.jsx(Q,{children:r.jsx("ul",{className:"space-y-2",children:i.crossMatchResults.historicalData.map((f,p)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsx("span",{className:"text-gray-700",children:f})]},p))})})]})]}),r.jsx(ke,{value:"rca-tree",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Fc,{className:"h-5 w-5"}),"RCA Tree Visualization"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Interactive root cause analysis tree with cause-and-effect relationships"})]}),r.jsx(Q,{children:i?r.jsx(_F,{analysis:i,incident:t}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Fc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No analysis data available for RCA Tree visualization"})]})})]})}),r.jsx(ke,{value:"diagrams",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(sc,{className:"h-5 w-5"}),"Interactive RCA Diagrams"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Multiple diagram views: Fault Tree, Fishbone, Timeline, and Bowtie analysis"})]}),r.jsx(Q,{children:i?r.jsx(t3,{analysisData:i,investigationType:"equipment_failure",onNodeUpdate:(f,p)=>console.log("Node updated:",f,p),onNodeAdd:(f,p)=>console.log("Node added:",f,p),onNodeDelete:f=>console.log("Node deleted:",f)}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(sc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No analysis data available for diagram visualization"})]})})]})}),r.jsx(ke,{value:"engineer-review",className:"space-y-6",children:r.jsx(kwe,{incident:t,analysis:i})}),r.jsx(ke,{value:"export",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Export Options"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive reports in various formats"})]}),r.jsx(Q,{children:!o&&a?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(W,{className:"h-12 flex items-center gap-3",variant:"outline",children:[r.jsx(rn,{className:"h-5 w-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Summary Report"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Comprehensive 9-section report"})]})]}),r.jsxs(W,{className:"h-12 flex items-center gap-3",variant:"outline",children:[r.jsx(cr,{className:"h-5 w-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Export PDF"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Professional format"})]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Preparing export options..."})]})})]})}),r.jsx(ke,{value:"history",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Is,{className:"h-5 w-5"}),"Investigation Timeline"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:"Analysis Completed"}),r.jsx("div",{className:"text-sm text-gray-600",children:c(i.analysisDate)})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Ct,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:"Investigation Started"}),r.jsx("div",{className:"text-sm text-gray-600",children:c(t.createdAt)})]})]})]})})]})})]})]})}function kwe({incident:e,analysis:t}){var d,u,f,p,h,v,m;const{toast:n}=Ft(),[i,s]=N.useState(!1),[a,o]=N.useState({reviewerId:"",reviewerName:"",reviewDate:new Date().toISOString(),approved:!1,comments:"",additionalFindings:"",signoffRequired:!1}),l=Qe({mutationFn:async y=>ot(`/api/incidents/${e.id}/engineer-review`,{method:"POST",body:JSON.stringify({...y,workflowStatus:y.approved?"finalized":"under_review"})}),onSuccess:()=>{n({title:"Review Submitted",description:a.approved?"Investigation approved and finalized.":"Review comments saved."}),s(!1)},onError:y=>{n({title:"Error",description:"Failed to submit review: "+y.message,variant:"destructive"})}}),c=()=>{if(!a.reviewerName||!a.reviewerId){n({title:"Required Fields",description:"Please provide reviewer name and ID.",variant:"destructive"});return}l.mutate(a)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Y,{children:r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(os,{className:"h-5 w-5"}),"Engineer Review & Approval"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Investigation Status: ",(e==null?void 0:e.workflowStatus)==="finalized"?"Approved":"Pending Review"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(J,{variant:(e==null?void 0:e.workflowStatus)==="finalized"?"default":"secondary",children:(e==null?void 0:e.workflowStatus)==="finalized"?"Finalized":"Needs Review"}),r.jsxs(W,{variant:"outline",onClick:()=>s(!i),className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"h-4 w-4"}),i?"View Mode":"Review Mode"]})]})]})})}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Investigation Review"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide professional engineering review and approval for this RCA investigation"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Reviewer Name"}),r.jsx(ue,{value:a.reviewerName,onChange:y=>o(j=>({...j,reviewerName:y.target.value})),disabled:!i,placeholder:"Enter your full name"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Reviewer ID / License"}),r.jsx(ue,{value:a.reviewerId,onChange:y=>o(j=>({...j,reviewerId:y.target.value})),disabled:!i,placeholder:"Engineer ID or License #"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-3",children:"AI Analysis Summary"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Confidence:"}),r.jsxs("p",{className:"font-medium",children:[(t==null?void 0:t.overallConfidence)||0,"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Failure Mode:"}),r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.failureMode)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Severity:"}),r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.severity)||"N/A"})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("span",{className:"text-gray-600",children:"Root Causes:"}),r.jsx("ul",{className:"list-disc list-inside mt-1",children:((d=t==null?void 0:t.rootCauses)==null?void 0:d.slice(0,3).map((y,j)=>r.jsxs("li",{className:"text-sm",children:[(y==null?void 0:y.description)||"N/A"," (",(y==null?void 0:y.confidence)||0,"%)"]},j)))||r.jsx("li",{className:"text-sm",children:"No root causes available"})})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Review Comments & Professional Assessment"}),r.jsx(ze,{placeholder:"Provide detailed engineering review of the AI analysis, evidence quality, methodology, and conclusions...",value:a.comments,onChange:y=>o(j=>({...j,comments:y.target.value})),disabled:!i,rows:4,className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Additional Engineering Findings"}),r.jsx(ze,{placeholder:"Any additional findings, observations, or recommendations not captured by the AI analysis...",value:a.additionalFindings,onChange:y=>o(j=>({...j,additionalFindings:y.target.value})),disabled:!i,rows:3,className:"mt-2"})]}),i&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Final Approval"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"approved",checked:a.approved,onCheckedChange:y=>o(j=>({...j,approved:!!y}))}),r.jsx(ie,{htmlFor:"approved",className:"font-medium",children:"I approve this RCA investigation and findings"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"signoff",checked:a.signoffRequired,onCheckedChange:y=>o(j=>({...j,signoffRequired:!!y}))}),r.jsx(ie,{htmlFor:"signoff",children:"Additional management signoff required"})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsxs(W,{onClick:c,disabled:l.isPending,className:"flex items-center gap-2",children:[r.jsx(Fo,{className:"h-4 w-4"}),l.isPending?"Submitting...":"Submit Review"]}),r.jsx(W,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]}),(e==null?void 0:e.engineerReview)&&!i&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Current Review Status"}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Lc,{className:"h-4 w-4"}),r.jsxs("span",{className:"font-medium",children:["Reviewed by: ",((u=e==null?void 0:e.engineerReview)==null?void 0:u.reviewerName)||"N/A"]})]}),r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:((f=e==null?void 0:e.engineerReview)==null?void 0:f.comments)||"No comments"}),((p=e==null?void 0:e.engineerReview)==null?void 0:p.additionalFindings)&&r.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("strong",{children:"Additional findings:"})," ",e.engineerReview.additionalFindings]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsx(J,{variant:(h=e==null?void 0:e.engineerReview)!=null&&h.approved?"default":"secondary",children:(v=e==null?void 0:e.engineerReview)!=null&&v.approved?"Approved":"Under Review"}),r.jsxs("span",{className:"text-gray-600",children:["Reviewed: ",(m=e==null?void 0:e.engineerReview)!=null&&m.reviewDate?new Date(e.engineerReview.reviewDate).toLocaleString():"N/A"]})]})]})]})]})]})]})}function Ewe(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(Y,{className:"w-full max-w-md mx-4",children:r.jsxs(Q,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(jr,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Awe(){return r.jsx("div",{className:"min-h-screen p-6",children:r.jsxs(Y,{className:"max-w-4xl mx-auto",children:[r.jsx(X,{children:r.jsx(Z,{children:"Debug Routes Page"})}),r.jsxs(Q,{children:[r.jsx("p",{children:"This page loads to test if routing is working."}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(vn,{href:"/",className:"block text-blue-600 hover:underline",children:"Go to Home"}),r.jsx(vn,{href:"/incident-reporting",className:"block text-blue-600 hover:underline",children:"Go to Incident Reporting"}),r.jsx(vn,{href:"/equipment-selection",className:"block text-blue-600 hover:underline",children:"Go to Equipment Selection"})]})]})]})})}function Pwe(){const[e,t]=N.useState(""),[n,i]=N.useState(""),[s,a]=N.useState(!1),[o,l]=N.useState(null),[c,d]=N.useState(!1),[u,f]=N.useState(null),{toast:p}=Ft(),h=si(),{data:v=[],isLoading:m}=Pe({queryKey:["/api/admin/fault-reference-library"],retry:!1}),{data:y=[]}=Pe({queryKey:["/api/admin/fault-reference-library/search",{q:e,evidenceType:n}],enabled:e.length>0||n.length>0,retry:!1}),j=e||n?y:v,g=Qe({mutationFn:async E=>await ot("/api/admin/fault-reference-library","POST"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),a(!1),p({title:"Success",description:"Fault reference entry created successfully"})},onError:E=>{p({title:"Error",description:E.message||"Failed to create entry",variant:"destructive"})}}),x=Qe({mutationFn:async({id:E,data:$})=>await ot(`/api/admin/fault-reference-library/${E}`,"PUT"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),l(null),p({title:"Success",description:"Fault reference entry updated successfully"})},onError:E=>{p({title:"Error",description:E.message||"Failed to update entry",variant:"destructive"})}}),w=Qe({mutationFn:async E=>await ot(`/api/admin/fault-reference-library/${E}`,"DELETE"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),p({title:"Success",description:"Fault reference entry deleted successfully"})},onError:E=>{p({title:"Error",description:E.message||"Failed to delete entry",variant:"destructive"})}}),b=Qe({mutationFn:async E=>{const $=new FormData;$.append("file",E);const O=await fetch("/api/admin/fault-reference-library/import",{method:"POST",body:$});if(!O.ok){const A=await O.json();throw new Error(A.message||"Import failed")}return O.json()},onSuccess:E=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),d(!1),f(null),p({title:"Import Complete",description:`Successfully imported ${E.imported} entries. ${E.errors>0?`${E.errors} errors encountered.`:""}`})},onError:E=>{p({title:"Import Failed",description:E.message||"Failed to import entries",variant:"destructive"})}}),C=async E=>{try{const $=await fetch(`/api/admin/fault-reference-library/export/${E}`);if(!$.ok)throw new Error("Export failed");const O=await $.blob(),A=window.URL.createObjectURL(O),P=document.createElement("a");P.style.display="none",P.href=A,P.download=`fault-reference-library.${E==="csv"?"csv":"xlsx"}`,document.body.appendChild(P),P.click(),window.URL.revokeObjectURL(A),p({title:"Success",description:`Library exported as ${E.toUpperCase()}`})}catch{p({title:"Export Failed",description:"Failed to export library",variant:"destructive"})}},k=()=>{u&&b.mutate(u)},S=({entry:E,onSubmit:$,onCancel:O})=>{const[A,P]=N.useState({evidenceType:(E==null?void 0:E.evidenceType)||"",pattern:(E==null?void 0:E.pattern)||"",matchingCriteria:(E==null?void 0:E.matchingCriteria)||"",probableFault:(E==null?void 0:E.probableFault)||"",confidence:(E==null?void 0:E.confidence)||0,recommendations:(E==null?void 0:E.recommendations)||"",referenceStandard:(E==null?void 0:E.referenceStandard)||"",notes:(E==null?void 0:E.notes)||""}),_=F=>{F.preventDefault(),$(A)};return r.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"evidenceType",children:"Evidence Type *"}),r.jsxs(We,{value:A.evidenceType,onValueChange:F=>P({...A,evidenceType:F}),children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select evidence type"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"vibration",children:"Vibration"}),r.jsx(ne,{value:"temperature",children:"Temperature"}),r.jsx(ne,{value:"pressure",children:"Pressure"}),r.jsx(ne,{value:"acoustic",children:"Acoustic"}),r.jsx(ne,{value:"visual",children:"Visual"}),r.jsx(ne,{value:"electrical",children:"Electrical"}),r.jsx(ne,{value:"chemical",children:"Chemical"}),r.jsx(ne,{value:"process",children:"Process"}),r.jsx(ne,{value:"operational",children:"Operational"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"confidence",children:"Confidence (%) *"}),r.jsx(ue,{type:"number",min:"0",max:"100",value:A.confidence,onChange:F=>P({...A,confidence:parseInt(F.target.value)||0}),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"pattern",children:"Pattern *"}),r.jsx(ue,{value:A.pattern,onChange:F=>P({...A,pattern:F.target.value}),placeholder:"e.g., High frequency vibration at 2x RPM",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"probableFault",children:"Probable Fault *"}),r.jsx(ue,{value:A.probableFault,onChange:F=>P({...A,probableFault:F.target.value}),placeholder:"e.g., Bearing misalignment",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"matchingCriteria",children:"Matching Criteria *"}),r.jsx(ze,{value:A.matchingCriteria,onChange:F=>P({...A,matchingCriteria:F.target.value}),placeholder:"Describe the conditions that must be met for this pattern to match...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"recommendations",children:"Recommendations"}),r.jsx(ze,{value:A.recommendations,onChange:F=>P({...A,recommendations:F.target.value}),placeholder:"Recommended actions and next steps..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"referenceStandard",children:"Reference Standard"}),r.jsx(ue,{value:A.referenceStandard,onChange:F=>P({...A,referenceStandard:F.target.value}),placeholder:"e.g., ISO 14224, API 610"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"notes",children:"Notes"}),r.jsx(ue,{value:A.notes,onChange:F=>P({...A,notes:F.target.value}),placeholder:"Additional notes..."})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(W,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),r.jsxs(W,{type:"submit",disabled:g.isPending||x.isPending,children:[E?"Update":"Create"," Entry"]})]})]})};return r.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(os,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Fault Reference Library"}),r.jsx("p",{className:"text-muted-foreground",children:"Admin-only Feature-to-Fault mapping knowledge base"})]})]}),r.jsxs(J,{variant:"secondary",className:"flex items-center space-x-1",children:[r.jsx(Hn,{className:"h-4 w-4"}),r.jsxs("span",{children:[v.length," entries"]})]})]}),r.jsx(Y,{children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 flex gap-3",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(_i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{placeholder:"Search patterns, faults, criteria...",value:e,onChange:E=>t(E.target.value),className:"pl-10"})]}),r.jsxs(We,{value:n,onValueChange:i,children:[r.jsx(Ue,{className:"w-40",children:r.jsx(He,{placeholder:"Evidence Type"})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"",children:"All Types"}),r.jsx(ne,{value:"vibration",children:"Vibration"}),r.jsx(ne,{value:"temperature",children:"Temperature"}),r.jsx(ne,{value:"pressure",children:"Pressure"}),r.jsx(ne,{value:"acoustic",children:"Acoustic"}),r.jsx(ne,{value:"visual",children:"Visual"}),r.jsx(ne,{value:"electrical",children:"Electrical"}),r.jsx(ne,{value:"chemical",children:"Chemical"}),r.jsx(ne,{value:"process",children:"Process"}),r.jsx(ne,{value:"operational",children:"Operational"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(pc,{open:s,onOpenChange:a,children:[r.jsx(Gj,{asChild:!0,children:r.jsxs(W,{className:"flex items-center space-x-2",children:[r.jsx(On,{className:"h-4 w-4"}),r.jsx("span",{children:"Add Entry"})]})}),r.jsxs(Bo,{className:"max-w-2xl",children:[r.jsx(Uo,{children:r.jsx(Vo,{children:"Create New Fault Reference Entry"})}),r.jsx(S,{onSubmit:E=>g.mutate(E),onCancel:()=>a(!1)})]})]}),r.jsxs(pc,{open:c,onOpenChange:d,children:[r.jsx(Gj,{asChild:!0,children:r.jsxs(W,{variant:"outline",className:"flex items-center space-x-2",children:[r.jsx(Va,{className:"h-4 w-4"}),r.jsx("span",{children:"Import"})]})}),r.jsxs(Bo,{children:[r.jsx(Uo,{children:r.jsx(Vo,{children:"Import Fault Reference Library"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:E=>{var $;return f((($=E.target.files)==null?void 0:$[0])||null)},className:"hidden",id:"import-file"}),r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(Va,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload CSV or Excel file"})]}),u&&r.jsxs("p",{className:"mt-2 text-sm text-green-600",children:["Selected: ",u.name]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(W,{variant:"outline",onClick:()=>{d(!1),f(null)},children:"Cancel"}),r.jsx(W,{onClick:k,disabled:!u||b.isPending,children:"Import"})]})]})]})]}),r.jsxs(W,{variant:"outline",onClick:()=>C("csv"),className:"flex items-center space-x-2",children:[r.jsx(rn,{className:"h-4 w-4"}),r.jsx("span",{children:"CSV"})]}),r.jsxs(W,{variant:"outline",onClick:()=>C("excel"),className:"flex items-center space-x-2",children:[r.jsx(RI,{className:"h-4 w-4"}),r.jsx("span",{children:"Excel"})]})]})]})})}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Knowledge Base Entries"}),r.jsx(ve,{children:"Dynamic fault pattern mapping for evidence analysis"})]}),r.jsx(Q,{children:m?r.jsx("div",{className:"text-center py-8",children:"Loading fault reference library..."}):j.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e||n?"No entries match your search criteria":"No fault reference entries found. Create your first entry to get started."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(Jt,{children:[r.jsx(rt,{children:"Evidence Type"}),r.jsx(rt,{children:"Pattern"}),r.jsx(rt,{children:"Probable Fault"}),r.jsx(rt,{children:"Confidence"}),r.jsx(rt,{children:"Reference"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:j.map(E=>r.jsxs(Jt,{children:[r.jsx(Ze,{children:r.jsx(J,{variant:"outline",children:E.evidenceType})}),r.jsx(Ze,{className:"max-w-xs truncate",title:E.pattern,children:E.pattern}),r.jsx(Ze,{className:"max-w-xs truncate",title:E.probableFault,children:E.probableFault}),r.jsx(Ze,{children:r.jsxs(J,{variant:E.confidence>=80?"default":E.confidence>=60?"secondary":"outline",children:[E.confidence,"%"]})}),r.jsx(Ze,{children:E.referenceStandard||"N/A"}),r.jsx(Ze,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>l(E),children:r.jsx(rv,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this entry?")&&w.mutate(E.id)},children:r.jsx(Lo,{className:"h-4 w-4"})})]})})]},E.id))})]})})})]}),o&&r.jsx(pc,{open:!!o,onOpenChange:()=>l(null),children:r.jsxs(Bo,{className:"max-w-2xl",children:[r.jsx(Uo,{children:r.jsx(Vo,{children:"Edit Fault Reference Entry"})}),r.jsx(S,{entry:o,onSubmit:E=>x.mutate({id:o.id,data:E}),onCancel:()=>l(null)})]})})]})}function Owe(){var v;Ft(),si();const[e,t]=N.useState(null),[n,i]=N.useState(null),{data:s,isLoading:a}=Pe({queryKey:["/api/taxonomy/groups"],queryFn:()=>fetch("/api/taxonomy/groups").then(m=>m.json())}),{data:o,isLoading:l}=Pe({queryKey:["/api/taxonomy/types",e],queryFn:()=>e?fetch(`/api/taxonomy/types?groupId=${e}`).then(m=>m.json()):Promise.resolve([]),enabled:!!e}),{data:c,isLoading:d}=Pe({queryKey:["/api/taxonomy/subtypes",n],queryFn:()=>n?fetch(`/api/taxonomy/subtypes?typeId=${n}`).then(m=>m.json()):Promise.resolve([]),enabled:!!n}),{data:u,isLoading:f}=Pe({queryKey:["/api/taxonomy/risks"],queryFn:()=>fetch("/api/taxonomy/risks").then(m=>m.json())}),{data:p,isLoading:h}=Pe({queryKey:["/api/test-direct"],queryFn:()=>fetch("/api/test-direct").then(m=>m.json())});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsx(vn,{href:"/admin",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(mp,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((v=ji.find(m=>m.id==="taxonomy"))==null?void 0:v.label)||"Taxonomy Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage equipment classification and risk ranking lookup tables"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hn,{className:"h-5 w-5"}),r.jsx(J,{variant:p!=null&&p.success?"default":"destructive",children:h?"Testing...":p!=null&&p.success?"API Connected":"API Error"})]})]}),r.jsx(Y,{className:"border-l-4 border-l-blue-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Universal Protocol Standard - Zero Hardcoding Compliance"})]}),r.jsx(ve,{children:"All taxonomy data is loaded dynamically from database lookup tables. No hardcoded business vocabulary allowed."})]})}),r.jsxs(Zn,{defaultValue:"groups",className:"space-y-4",children:[r.jsx(Fn,{className:"grid w-full grid-cols-4",children:_l.map(m=>r.jsxs(Ae,{value:m.id,"data-testid":`tab-${m.id}`,children:[m.label," (",m.id==="groups"?(s==null?void 0:s.length)||0:m.id==="types"?(o==null?void 0:o.length)||0:m.id==="subtypes"?(c==null?void 0:c.length)||0:m.id==="risks"&&(u==null?void 0:u.length)||0,")"]},m.id))}),r.jsx(ke,{value:"groups",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Equipment Groups"}),r.jsx(ve,{children:"Top-level equipment classifications (e.g., Rotating, Static, Electrical)"})]}),r.jsx(Q,{children:a?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Gn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading equipment groups..."})]}):r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s==null?void 0:s.map(m=>r.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Z,{className:"text-lg",children:m.name}),r.jsx(J,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(m.id),"data-testid":`select-group-${m.id}`,children:"View Types"})]})})]},m.id))})})})]})}),r.jsx(ke,{value:"types",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Equipment Types"}),r.jsxs(ve,{children:["Equipment types within selected group",e&&r.jsxs(J,{variant:"outline",className:"ml-2",children:["Group ID: ",e]})]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ie,{htmlFor:"group-select",children:"Select Equipment Group:"}),r.jsxs(We,{value:(e==null?void 0:e.toString())||"",onValueChange:m=>t(parseInt(m)),children:[r.jsx(Ue,{className:"w-[200px]","data-testid":"select-group-dropdown",children:r.jsx(He,{placeholder:"Choose group..."})}),r.jsx(Ge,{children:s==null?void 0:s.map(m=>r.jsx(ne,{value:m.id.toString(),children:m.name},m.id))})]})]}),e&&r.jsx(r.Fragment,{children:l?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Gn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading equipment types..."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o==null?void 0:o.map(m=>r.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Z,{className:"text-lg",children:m.name}),r.jsx(J,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>i(m.id),"data-testid":`select-type-${m.id}`,children:"View Subtypes"})]})})]},m.id))})})]})})]})}),r.jsx(ke,{value:"subtypes",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Equipment Subtypes"}),r.jsxs(ve,{children:["Equipment subtypes within selected type",n&&r.jsxs(J,{variant:"outline",className:"ml-2",children:["Type ID: ",n]})]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ie,{htmlFor:"group-select",children:"Equipment Group:"}),r.jsxs(We,{value:(e==null?void 0:e.toString())||"",onValueChange:m=>t(parseInt(m)),children:[r.jsx(Ue,{className:"w-[200px]",children:r.jsx(He,{placeholder:"Choose group..."})}),r.jsx(Ge,{children:s==null?void 0:s.map(m=>r.jsx(ne,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ie,{htmlFor:"type-select",children:"Equipment Type:"}),r.jsxs(We,{value:(n==null?void 0:n.toString())||"",onValueChange:m=>i(parseInt(m)),disabled:!e,children:[r.jsx(Ue,{className:"w-[200px]","data-testid":"select-type-dropdown",children:r.jsx(He,{placeholder:"Choose type..."})}),r.jsx(Ge,{children:o==null?void 0:o.map(m=>r.jsx(ne,{value:m.id.toString(),children:m.name},m.id))})]})]})]}),n&&r.jsx(r.Fragment,{children:d?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Gn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading equipment subtypes..."})]}):(c==null?void 0:c.length)===0?r.jsx(Y,{className:"border-dashed",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(jr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Subtypes Found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No equipment subtypes exist for the selected type."}),r.jsxs(W,{"data-testid":"add-subtype-button",children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add First Subtype"]})]})})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c==null?void 0:c.map(m=>r.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Z,{className:"text-lg",children:m.name}),r.jsx(J,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),r.jsxs("div",{className:"text-sm",children:["Type: ",m.equipmentTypeName]}),r.jsxs("div",{className:"text-sm",children:["Group: ",m.equipmentGroupName]})]})})]},m.id))})})]})})]})}),r.jsx(ke,{value:"risks",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Risk Rankings"}),r.jsx(ve,{children:"Risk classification levels for incident assessment"})]}),r.jsx(Q,{children:f?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Gn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading risk rankings..."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u==null?void 0:u.map(m=>r.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Z,{className:"text-lg",children:m.label}),r.jsx(J,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]})})]},m.id))})})]})})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Taxonomy Overview"}),r.jsx(ve,{children:"Current database statistics and API connectivity status"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Groups"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:(o==null?void 0:o.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Types"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(c==null?void 0:c.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Subtypes"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(u==null?void 0:u.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Risk Rankings"})]})]})})]})]})}function sO(){var x,w,b,C,k;const{toast:e}=Ft();si();const[t,n]=N.useState({incidentId:`DEMO_${Date.now()}`,symptoms:[],incidentDescription:""}),[i,s]=N.useState(""),[a,o]=N.useState(null),{data:l,isLoading:c}=Pe({queryKey:["/api/taxonomy/groups"],queryFn:()=>fetch("/api/taxonomy/groups").then(S=>S.json())}),{data:d,isLoading:u}=Pe({queryKey:["/api/taxonomy/types",t.equipmentGroupId],queryFn:()=>t.equipmentGroupId?fetch(`/api/taxonomy/types?groupId=${t.equipmentGroupId}`).then(S=>S.json()):Promise.resolve([]),enabled:!!t.equipmentGroupId});Pe({queryKey:["/api/taxonomy/subtypes",t.equipmentTypeId],queryFn:()=>t.equipmentTypeId?fetch(`/api/taxonomy/subtypes?typeId=${t.equipmentTypeId}`).then(S=>S.json()):Promise.resolve([]),enabled:!!t.equipmentTypeId});const{data:f,isLoading:p}=Pe({queryKey:["/api/taxonomy/risks"],queryFn:()=>fetch("/api/taxonomy/risks").then(S=>S.json())}),h=Qe({mutationFn:async S=>ot("/api/evidence-analysis",{method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json"}}),onSuccess:S=>{S.success?(o(S.analysis),e({title:"Analysis Complete",description:`Found ${S.analysis.primaryFailureModes.length} primary failure modes with ${S.analysis.confidence}% confidence`})):e({title:"Analysis Failed",description:S.message||"Unknown error occurred",variant:"destructive"})},onError:S=>{e({title:"Analysis Error",description:S.message||"Failed to perform analysis",variant:"destructive"})}}),v=()=>{i.trim()&&!t.symptoms.includes(i.trim())&&(n(S=>({...S,symptoms:[...S.symptoms,i.trim()]})),s(""))},m=S=>{n(E=>({...E,symptoms:E.symptoms.filter($=>$!==S)}))},y=()=>{if(!t.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}h.mutate(t)},j=S=>{switch(S){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},g=S=>S>=80?"text-green-600":S>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((x=ji.find(S=>S.id==="analysis"))==null?void 0:x.label)||"Analysis Engine"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 6: Taxonomy-driven evidence analysis with dynamic failure mode identification"})]}),r.jsxs(J,{variant:"outline",className:"text-blue-600",children:[r.jsx(Tt,{className:"h-4 w-4 mr-2"}),"AI-Powered Analysis"]})]}),r.jsx(Y,{className:"border-l-4 border-l-purple-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-purple-500"}),r.jsxs("span",{children:["Step 6: ",((w=ji.find(S=>S.id==="analysis"))==null?void 0:w.label)||"Analysis Engine"," - Zero Hardcoding Intelligence"]})]}),r.jsx(ve,{children:"Dynamic analysis based on equipment taxonomy and evidence library patterns. All failure modes and logic loaded from database - no hardcoded rules."})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Analysis Configuration"}),r.jsx(ve,{children:"Configure the analysis parameters and incident details"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentId",children:"Incident ID"}),r.jsx(ue,{id:"incidentId",value:t.incidentId,onChange:S=>n(E=>({...E,incidentId:S.target.value})),placeholder:"Enter incident ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentDescription",children:"Incident Description *"}),r.jsx(ze,{id:"incidentDescription",value:t.incidentDescription,onChange:S=>n(E=>({...E,incidentDescription:S.target.value})),placeholder:"Describe the incident, observed problems, and initial findings...",rows:4})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Equipment Classification"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Group"}),r.jsxs(We,{value:((b=t.equipmentGroupId)==null?void 0:b.toString())||"",onValueChange:S=>{n(E=>({...E,equipmentGroupId:S?parseInt(S):void 0,equipmentTypeId:void 0,equipmentSubtypeId:void 0}))},children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select equipment group"})}),r.jsx(Ge,{children:l==null?void 0:l.map(S=>r.jsx(ne,{value:S.id.toString(),children:S.name},S.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Type"}),r.jsxs(We,{value:((C=t.equipmentTypeId)==null?void 0:C.toString())||"",onValueChange:S=>{n(E=>({...E,equipmentTypeId:S?parseInt(S):void 0,equipmentSubtypeId:void 0}))},disabled:!t.equipmentGroupId,children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select equipment type"})}),r.jsx(Ge,{children:d==null?void 0:d.map(S=>r.jsx(ne,{value:S.id.toString(),children:S.name},S.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Risk Ranking"}),r.jsxs(We,{value:((k=t.riskRankingId)==null?void 0:k.toString())||"",onValueChange:S=>{n(E=>({...E,riskRankingId:S?parseInt(S):void 0}))},children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select risk ranking"})}),r.jsx(Ge,{children:f==null?void 0:f.map(S=>r.jsx(ne,{value:S.id.toString(),children:S.label},S.id))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Observed Symptoms"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:i,onChange:S=>s(S.target.value),placeholder:"Enter symptom (e.g., 'vibration', 'overheating')",onKeyPress:S=>S.key==="Enter"&&v()}),r.jsx(W,{onClick:v,variant:"outline",children:"Add"})]}),t.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.symptoms.map((S,E)=>r.jsxs(J,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>m(S),children:[S," ✕"]},E))})]}),r.jsx(W,{onClick:y,disabled:h.isPending||!t.incidentDescription.trim(),className:"w-full","data-testid":"run-analysis-button",children:h.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Kn,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(hp,{className:"h-4 w-4 mr-2"}),"Run Evidence Analysis"]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Analysis Results"}),r.jsx(ve,{children:"Real-time evidence analysis with failure mode identification"})]}),r.jsx(Q,{children:h.isPending?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(Kn,{className:"h-8 w-8 animate-spin text-blue-500"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium",children:"Processing Analysis..."}),r.jsx(_r,{value:75,className:"w-full"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Applying taxonomy filters and evidence correlation..."})]})]}):a?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsxs("div",{className:`text-3xl font-bold ${g(a.confidence)}`,children:[a.confidence,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Confidence"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-green-600",children:a.primaryFailureModes.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Primary Modes"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-gray-500",children:a.eliminatedFailureModes.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Eliminated"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-orange-600",children:a.evidenceGaps.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Evidence Gaps"})]})]}),a.taxonomyContext&&r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",children:"Taxonomy Context:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[a.taxonomyContext.equipmentGroup&&r.jsxs("div",{children:["Group: ",a.taxonomyContext.equipmentGroup]}),a.taxonomyContext.equipmentType&&r.jsxs("div",{children:["Type: ",a.taxonomyContext.equipmentType]}),a.taxonomyContext.riskRanking&&r.jsxs("div",{children:["Risk: ",a.taxonomyContext.riskRanking]})]})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Tt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:'Configure analysis parameters and click "Run Evidence Analysis" to start'})]})})]})]}),a&&r.jsxs(Zn,{defaultValue:"failure-modes",className:"space-y-4",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-4",children:[r.jsxs(Ae,{value:"failure-modes",children:["Failure Modes (",a.primaryFailureModes.length,")"]}),r.jsxs(Ae,{value:"eliminated",children:["Eliminated (",a.eliminatedFailureModes.length,")"]}),r.jsxs(Ae,{value:"actions",children:["Actions (",a.recommendedActions.length,")"]}),r.jsxs(Ae,{value:"evidence-gaps",children:["Evidence Gaps (",a.evidenceGaps.length,")"]})]}),r.jsx(ke,{value:"failure-modes",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Primary Failure Modes"}),r.jsx(ve,{children:"High-confidence failure modes identified by the analysis engine"})]}),r.jsx(Q,{children:a.primaryFailureModes.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(mt,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"No primary failure modes identified. Consider expanding the analysis criteria."})]}):r.jsx("div",{className:"space-y-4",children:a.primaryFailureModes.map((S,E)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:S.componentFailureMode}),r.jsxs(J,{variant:S.confidence>=75?"default":"secondary",children:[S.confidence,"% confidence"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Failure Code: ",S.failureCode]}),r.jsx("div",{className:"text-sm mb-3",children:S.reasoning}),S.requiredEvidence.length>0&&r.jsxs("div",{className:"text-xs",children:[r.jsx("strong",{children:"Required Evidence:"}),r.jsx("ul",{className:"list-disc list-inside mt-1",children:S.requiredEvidence.map(($,O)=>r.jsx("li",{children:$},O))})]})]},E))})})]})}),r.jsx(ke,{value:"eliminated",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Eliminated Failure Modes"}),r.jsx(ve,{children:"Failure modes ruled out by the analysis engine"})]}),r.jsx(Q,{children:a.eliminatedFailureModes.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"No failure modes eliminated. All possibilities remain under consideration."})]}):r.jsx("div",{className:"space-y-3",children:a.eliminatedFailureModes.map((S,E)=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-gray-700",children:S.componentFailureMode}),r.jsxs(J,{variant:"outline",children:[S.confidence,"% confidence"]})]}),r.jsx("div",{className:"text-sm text-gray-600",children:S.reasoning})]},E))})})]})}),r.jsx(ke,{value:"actions",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Recommended Actions"}),r.jsx(ve,{children:"AI-generated action plan based on analysis results"})]}),r.jsx(Q,{children:a.recommendedActions.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(rn,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"No specific actions recommended at this time."})]}):r.jsx("div",{className:"space-y-4",children:a.recommendedActions.map((S,E)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs(J,{variant:j(S.priority),children:[S.priority," Priority"]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Fr,{className:"h-4 w-4 mr-1"}),S.timeframe]})]}),r.jsx("div",{className:"font-medium mb-2",children:S.action}),S.cost&&r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(HC,{className:"h-4 w-4 mr-1"}),S.cost]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Resources:"})," ",S.resources.join(", ")]})]},E))})})]})}),r.jsx(ke,{value:"evidence-gaps",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Evidence Gaps"}),r.jsx(ve,{children:"Missing evidence that could improve analysis confidence"})]}),r.jsx(Q,{children:a.evidenceGaps.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),r.jsx("p",{children:"No significant evidence gaps identified. Analysis is well-supported."})]}):r.jsx("div",{className:"space-y-4",children:a.evidenceGaps.map((S,E)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(J,{variant:j(S.priority),children:S.priority}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Fr,{className:"h-4 w-4 mr-1"}),S.collectionTime]})]}),r.jsx("div",{className:"font-medium mb-2",children:S.evidenceType}),r.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:S.description}),S.cost&&r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(HC,{className:"h-4 w-4 mr-1"}),"Estimated cost: ",S.cost]})]},E))})})]})})]})]})}var uS="Switch",[Twe,Jwe]=zr(uS),[_we,Iwe]=Twe(uS),SL=N.forwardRef((e,t)=>{const{__scopeSwitch:n,name:i,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[p,h]=N.useState(null),v=yt(t,x=>h(x)),m=N.useRef(!1),y=p?u||!!p.closest("form"):!0,[j=!1,g]=Us({prop:s,defaultProp:a,onChange:d});return r.jsxs(_we,{scope:n,checked:j,disabled:l,children:[r.jsx(nt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":EL(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:Be(e.onClick,x=>{g(w=>!w),y&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),y&&r.jsx(Rwe,{control:p,bubbles:!m.current,name:i,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});SL.displayName=uS;var CL="SwitchThumb",kL=N.forwardRef((e,t)=>{const{__scopeSwitch:n,...i}=e,s=Iwe(CL,n);return r.jsx(nt.span,{"data-state":EL(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})});kL.displayName=CL;var Rwe=e=>{const{control:t,checked:n,bubbles:i=!0,...s}=e,a=N.useRef(null),o=M1(n),l=jN(t);return N.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const p=new Event("click",{bubbles:i});f.call(c,n),c.dispatchEvent(p)}},[o,n,i]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function EL(e){return e?"checked":"unchecked"}var AL=SL,Mwe=kL;const Si=N.forwardRef(({className:e,...t},n)=>r.jsx(AL,{className:Ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(Mwe,{className:Ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Si.displayName=AL.displayName;function aO(){var w,b,C,k,S,E,$,O;const{toast:e}=Ft();si();const[t,n]=N.useState({incidentId:`RCA_${Date.now()}`,symptoms:[],incidentDescription:"",analysisDepth:"comprehensive",priorityLevel:"high",timeConstraint:"standard",includeRecommendations:!0,generateReport:!0}),[i,s]=N.useState(""),[a,o]=N.useState(null),{data:l,isLoading:c}=Pe({queryKey:["/api/taxonomy/groups"],queryFn:()=>fetch("/api/taxonomy/groups").then(A=>A.json())}),{data:d,isLoading:u}=Pe({queryKey:["/api/taxonomy/types",t.equipmentGroupId],queryFn:()=>t.equipmentGroupId?fetch(`/api/taxonomy/types?groupId=${t.equipmentGroupId}`).then(A=>A.json()):Promise.resolve([]),enabled:!!t.equipmentGroupId}),{data:f,isLoading:p}=Pe({queryKey:["/api/taxonomy/risks"],queryFn:()=>fetch("/api/taxonomy/risks").then(A=>A.json())}),h=Qe({mutationFn:async A=>ot("/api/rca-analysis",{method:"POST",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}),onSuccess:A=>{A.success?(o(A.rca),e({title:"RCA Analysis Complete",description:`Generated ${A.rca.rootCauseHypotheses.length} root cause hypotheses with ${A.rca.qualityMetrics.overallScore}% quality score`})):e({title:"RCA Analysis Failed",description:A.message||"Unknown error occurred",variant:"destructive"})},onError:A=>{e({title:"RCA Analysis Error",description:A.message||"Failed to perform RCA analysis",variant:"destructive"})}}),v=()=>{i.trim()&&!t.symptoms.includes(i.trim())&&(n(A=>({...A,symptoms:[...A.symptoms,i.trim()]})),s(""))},m=A=>{n(P=>({...P,symptoms:P.symptoms.filter(_=>_!==A)}))},y=()=>{if(!t.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}h.mutate(t)},j=A=>{switch(A){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},g=A=>A>=80?"text-green-600":A>=60?"text-yellow-600":"text-red-600",x=A=>{switch(A){case"pattern_recognition":return r.jsx(sc,{className:"h-4 w-4"});case"historical_correlation":return r.jsx(Vs,{className:"h-4 w-4"});case"risk_assessment":return r.jsx(os,{className:"h-4 w-4"});case"failure_progression":return r.jsx(Ci,{className:"h-4 w-4"});default:return r.jsx(Tt,{className:"h-4 w-4"})}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((w=ji.find(A=>A.id==="ai"))==null?void 0:w.label)||"AI-Powered RCA"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 7: Comprehensive root cause analysis with AI insights and preventive recommendations"})]}),r.jsxs(J,{variant:"outline",className:"text-purple-600",children:[r.jsx(Tt,{className:"h-4 w-4 mr-2"}),((b=ji.find(A=>A.id==="ai"))==null?void 0:b.label)||"AI-Powered RCA"," Engine"]})]}),r.jsx(Y,{className:"border-l-4 border-l-purple-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-purple-500"}),r.jsxs("span",{children:["Step 7: ",((C=ji.find(A=>A.id==="ai"))==null?void 0:C.label)||"AI-Powered RCA"," - Complete Investigation Suite"]})]}),r.jsx(ve,{children:"Advanced analysis combining evidence analysis, AI insights, root cause hypotheses, and comprehensive preventive action recommendations with quality validation."})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"RCA Configuration"}),r.jsx(ve,{children:"Configure comprehensive root cause analysis parameters"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentId",children:"Incident ID"}),r.jsx(ue,{id:"incidentId",value:t.incidentId,onChange:A=>n(P=>({...P,incidentId:A.target.value})),placeholder:"Enter incident ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentDescription",children:"Incident Description *"}),r.jsx(ze,{id:"incidentDescription",value:t.incidentDescription,onChange:A=>n(P=>({...P,incidentDescription:A.target.value})),placeholder:"Provide detailed incident description including symptoms, timeline, and initial observations...",rows:4})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Equipment Classification"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Group"}),r.jsxs(We,{value:((k=t.equipmentGroupId)==null?void 0:k.toString())||"",onValueChange:A=>{n(P=>({...P,equipmentGroupId:A?parseInt(A):void 0,equipmentTypeId:void 0}))},children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select equipment group"})}),r.jsx(Ge,{children:l==null?void 0:l.map(A=>r.jsx(ne,{value:A.id.toString(),children:A.name},A.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Type"}),r.jsxs(We,{value:((S=t.equipmentTypeId)==null?void 0:S.toString())||"",onValueChange:A=>{n(P=>({...P,equipmentTypeId:A?parseInt(A):void 0}))},disabled:!t.equipmentGroupId,children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select equipment type"})}),r.jsx(Ge,{children:d==null?void 0:d.map(A=>r.jsx(ne,{value:A.id.toString(),children:A.name},A.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Risk Ranking"}),r.jsxs(We,{value:((E=t.riskRankingId)==null?void 0:E.toString())||"",onValueChange:A=>{n(P=>({...P,riskRankingId:A?parseInt(A):void 0}))},children:[r.jsx(Ue,{children:r.jsx(He,{placeholder:"Select risk ranking"})}),r.jsx(Ge,{children:f==null?void 0:f.map(A=>r.jsx(ne,{value:A.id.toString(),children:A.label},A.id))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Analysis Parameters"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Analysis Depth"}),r.jsxs(We,{value:t.analysisDepth,onValueChange:A=>n(P=>({...P,analysisDepth:A})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"basic",children:"Basic"}),r.jsx(ne,{value:"comprehensive",children:"Comprehensive"}),r.jsx(ne,{value:"expert",children:"Expert"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Priority Level"}),r.jsxs(We,{value:t.priorityLevel,onValueChange:A=>n(P=>({...P,priorityLevel:A})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"low",children:"Low"}),r.jsx(ne,{value:"medium",children:"Medium"}),r.jsx(ne,{value:"high",children:"High"}),r.jsx(ne,{value:"critical",children:"Critical"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Include Recommendations"}),r.jsx(Si,{checked:t.includeRecommendations,onCheckedChange:A=>n(P=>({...P,includeRecommendations:A}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Generate Report"}),r.jsx(Si,{checked:t.generateReport,onCheckedChange:A=>n(P=>({...P,generateReport:A}))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Observed Symptoms"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:i,onChange:A=>s(A.target.value),placeholder:"Enter symptom (e.g., 'high vibration', 'bearing noise')",onKeyPress:A=>A.key==="Enter"&&v()}),r.jsx(W,{onClick:v,variant:"outline",children:"Add"})]}),t.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.symptoms.map((A,P)=>r.jsxs(J,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>m(A),children:[A," ✕"]},P))})]}),r.jsx(W,{onClick:y,disabled:h.isPending||!t.incidentDescription.trim(),className:"w-full","data-testid":"run-rca-analysis-button",children:h.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Kn,{className:"h-4 w-4 mr-2 animate-spin"}),"Performing RCA Analysis..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Run ",(($=ji.find(A=>A.id==="ai"))==null?void 0:$.label)||"AI-Powered RCA"," Analysis"]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"RCA Results Overview"}),r.jsx(ve,{children:"Comprehensive analysis results with quality metrics"})]}),r.jsx(Q,{children:h.isPending?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(Tt,{className:"h-8 w-8 animate-pulse text-purple-500"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium",children:"Processing Comprehensive RCA..."}),r.jsx(_r,{value:85,className:"w-full"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Generating AI insights and root cause hypotheses..."})]})]}):a?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[r.jsx("div",{className:`text-2xl font-bold ${g(a.qualityMetrics.overallScore)}`,children:a.qualityMetrics.overallScore}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Quality"})]}),r.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[r.jsxs("div",{className:`text-2xl font-bold ${g(a.confidence)}`,children:[a.confidence,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Analysis Confidence"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.rootCauseHypotheses.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Hypotheses"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:a.aiInsights.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"AI Insights"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:a.preventiveActions.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Actions"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-orange-600",children:a.evidenceGaps.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Evidence Gaps"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-semibold",children:"Quality Metrics:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Data Completeness:"}),r.jsxs("span",{className:g(a.qualityMetrics.dataCompleteness),children:[a.qualityMetrics.dataCompleteness,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Evidence Quality:"}),r.jsxs("span",{className:g(a.qualityMetrics.evidenceQuality),children:[a.qualityMetrics.evidenceQuality,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Recommendation Reliability:"}),r.jsxs("span",{className:g(a.qualityMetrics.recommendationReliability),children:[a.qualityMetrics.recommendationReliability,"%"]})]})]})]}),a.validationStatus.validationRequired&&r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(jr,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-sm font-semibold text-yellow-800",children:"Validation Required"})]}),r.jsxs("div",{className:"text-sm text-yellow-700",children:["Estimated time: ",a.validationStatus.estimatedValidationTime," | Cost: ",a.validationStatus.validationCost]})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Tt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsxs("p",{children:['Configure RCA parameters and click "Run ',((O=ji.find(A=>A.id==="ai"))==null?void 0:O.label)||"AI-Powered RCA",' Analysis" to start']})]})})]})]}),a&&r.jsxs(Zn,{defaultValue:"hypotheses",className:"space-y-4",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-6",children:[r.jsxs(Ae,{value:"hypotheses",children:["Root Causes (",a.rootCauseHypotheses.length,")"]}),r.jsxs(Ae,{value:"insights",children:["AI Insights (",a.aiInsights.length,")"]}),r.jsxs(Ae,{value:"actions",children:["Preventive Actions (",a.preventiveActions.length,")"]}),r.jsxs(Ae,{value:"failure-modes",children:["Failure Modes (",a.primaryFailureModes.length,")"]}),r.jsx(Ae,{value:"report",children:"Executive Report"}),r.jsx(Ae,{value:"validation",children:"Validation"})]}),r.jsx(ke,{value:"hypotheses",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Root Cause Hypotheses"}),r.jsx(ve,{children:"AI-generated root cause hypotheses ranked by probability"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:a.rootCauseHypotheses.map((A,P)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:j(A.priority),children:A.priority}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[A.probability,"% probability"]})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Fr,{className:"h-4 w-4 mr-1"}),A.timeToConfirm]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:A.hypothesis}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Supporting Evidence:"})," ",A.supportingFailureModes.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Required Validation:"})," ",A.requiredValidation.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Estimated Cost:"})," ",A.cost]})]})]})]},P))})})]})}),r.jsx(ke,{value:"insights",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"AI Analysis Insights"}),r.jsx(ve,{children:"Advanced AI insights from pattern recognition and historical analysis"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:a.aiInsights.map((A,P)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[x(A.category),r.jsx("span",{className:"font-semibold capitalize",children:A.category.replace("_"," ")})]}),r.jsxs(J,{variant:"secondary",children:[A.confidence,"% confidence"]})]}),r.jsx("p",{className:"mb-3",children:A.insight}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Supporting Evidence:"})," ",A.supportingEvidence.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Data Source:"})," ",A.dataSource]})]})]},P))})})]})}),r.jsx(ke,{value:"actions",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Preventive Actions"}),r.jsx(ve,{children:"Comprehensive preventive action plan with implementation details"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:a.preventiveActions.map((A,P)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs(J,{variant:j(A.priority),children:[A.priority," Priority"]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.effectiveness,"% effectiveness"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:A.action}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Implementation Time:"})," ",A.implementationTime]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cost:"})," ",A.cost]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Target Modes:"})," ",A.targetFailureModes.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Dependencies:"})," ",A.dependencies.join(", ")]})]})]})]},P))})})]})}),r.jsx(ke,{value:"failure-modes",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Failure Mode Analysis"}),r.jsx(ve,{children:"Detailed failure mode analysis results"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:a.primaryFailureModes.map((A,P)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:A.componentFailureMode}),r.jsxs(J,{variant:A.confidence>=75?"default":"secondary",children:[A.confidence,"% confidence"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Failure Code: ",A.failureCode]}),r.jsx("div",{className:"text-sm mb-3",children:A.reasoning}),A.requiredEvidence&&A.requiredEvidence.length>0&&r.jsxs("div",{className:"text-xs",children:[r.jsx("strong",{children:"Required Evidence:"}),r.jsx("ul",{className:"list-disc list-inside mt-1",children:A.requiredEvidence.map((_,F)=>r.jsx("li",{children:_},F))})]})]},P))})})]})}),r.jsx(ke,{value:"report",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Executive Summary Report"}),r.jsx(ve,{children:"Comprehensive analysis summary for management review"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Executive Summary"}),r.jsx("p",{className:"text-sm",children:a.reportSummary.executiveSummary})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Key Findings"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.keyFindings.map((A,P)=>r.jsx("li",{children:A},P))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Immediate Actions"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.immediateActions.map((A,P)=>r.jsx("li",{children:A},P))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Long-Term Recommendations"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.longTermRecommendations.map((A,P)=>r.jsx("li",{children:A},P))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Risk Mitigation"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.riskMitigation.map((A,P)=>r.jsx("li",{children:A},P))})]})]})]})}),r.jsx(ke,{value:"validation",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Validation Requirements"}),r.jsx(ve,{children:"Analysis validation status and required actions"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center space-x-2",children:a.validationStatus.validationRequired?r.jsxs(r.Fragment,{children:[r.jsx(jr,{className:"h-5 w-5 text-yellow-500"}),r.jsx("span",{className:"font-semibold text-yellow-700",children:"Validation Required"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ct,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"font-semibold text-green-700",children:"Analysis Validated"})]})}),a.validationStatus.validationRequired&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Estimated Time:"})," ",a.validationStatus.estimatedValidationTime]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Estimated Cost:"})," ",a.validationStatus.validationCost]})]})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Validation Steps"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.validationStatus.validationSteps.map((A,P)=>r.jsx("li",{children:A},P))})]}),a.validationStatus.criticalGaps.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Critical Gaps"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-600",children:a.validationStatus.criticalGaps.map((A,P)=>r.jsx("li",{children:A},P))})]})]})]})]})})]})]})}function oO(){var C,k;const{toast:e}=Ft();si();const[t,n]=N.useState({workflowId:`WF_${Date.now()}`,initiatorUserId:"current_user",incidentData:{incidentId:`INC_${Date.now()}`,symptoms:[],incidentDescription:"",analysisDepth:"comprehensive",priorityLevel:"high",timeConstraint:"standard",includeRecommendations:!0,generateReport:!0},workflowType:"standard",approvalRequired:!0,stakeholders:[],notifications:{emailNotifications:!0,smsAlerts:!1,dashboardUpdates:!0,stakeholderUpdates:!0,escalationThreshold:24},scheduleConfig:{startImmediately:!0,milestoneReminders:!0,businessHoursOnly:!1},documentationLevel:"comprehensive"}),[i,s]=N.useState(""),[a,o]=N.useState(""),[l,c]=N.useState(null),d=Qe({mutationFn:async S=>ot("/api/workflows",{method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json"}}),onSuccess:S=>{S.success?(c(S.workflow),e({title:"Workflow Initiated",description:`Workflow ${S.workflow.workflowId} started successfully`})):e({title:"Workflow Initiation Failed",description:S.message||"Unknown error occurred",variant:"destructive"})},onError:S=>{e({title:"Workflow Error",description:S.message||"Failed to initiate workflow",variant:"destructive"})}}),u=Qe({mutationFn:async({workflowId:S,stageId:E})=>ot(`/api/workflows/${S}/execute/${E}`,{method:"POST",headers:{"Content-Type":"application/json"}}),onSuccess:S=>{S.success&&(c(S.workflow),e({title:"Stage Executed",description:"Stage completed successfully"}))},onError:S=>{e({title:"Stage Execution Error",description:S.message||"Failed to execute stage",variant:"destructive"})}}),{data:f,refetch:p}=Pe({queryKey:["/api/workflows",l==null?void 0:l.workflowId],queryFn:()=>l?fetch(`/api/workflows/${l.workflowId}`).then(S=>S.json()):Promise.resolve(null),enabled:!!l,refetchInterval:5e3});N.useEffect(()=>{f!=null&&f.success&&f.workflow&&c(f.workflow)},[f]);const h=()=>{i.trim()&&!t.incidentData.symptoms.includes(i.trim())&&(n(S=>({...S,incidentData:{...S.incidentData,symptoms:[...S.incidentData.symptoms,i.trim()]}})),s(""))},v=S=>{n(E=>({...E,incidentData:{...E.incidentData,symptoms:E.incidentData.symptoms.filter($=>$!==S)}}))},m=()=>{a.trim()&&!t.stakeholders.includes(a.trim())&&(n(S=>({...S,stakeholders:[...S.stakeholders,a.trim()]})),o(""))},y=S=>{n(E=>({...E,stakeholders:E.stakeholders.filter($=>$!==S)}))},j=()=>{if(!t.incidentData.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}d.mutate(t)},g=S=>{l&&u.mutate({workflowId:l.workflowId,stageId:S})},x=S=>{switch(S){case"active":return"text-blue-600";case"completed":return"text-green-600";case"failed":return"text-red-600";case"pending":return"text-yellow-600";case"cancelled":return"text-gray-600";default:return"text-gray-600"}},w=S=>{switch(S){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},b=S=>{switch(S){case"initiation":return r.jsx(KC,{className:"h-4 w-4"});case"analysis":return r.jsx(Vs,{className:"h-4 w-4"});case"review":return r.jsx(Dc,{className:"h-4 w-4"});case"approval":return r.jsx(Ct,{className:"h-4 w-4"});case"implementation":return r.jsx(Kn,{className:"h-4 w-4"});case"closure":return r.jsx(oz,{className:"h-4 w-4"});default:return r.jsx(Fc,{className:"h-4 w-4"})}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((C=ji.find(S=>S.id==="integrations"))==null?void 0:C.label)||"Workflow Integration"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 8: Complete workflow management with automated process orchestration and progress tracking"})]}),r.jsxs(J,{variant:"outline",className:"text-indigo-600",children:[r.jsx(QC,{className:"h-4 w-4 mr-2"}),"Workflow Engine v2.0"]})]}),r.jsx(Y,{className:"border-l-4 border-l-indigo-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-indigo-500"}),r.jsxs("span",{children:["Step 8: ",((k=ji.find(S=>S.id==="integrations"))==null?void 0:k.label)||"Workflow Integration"," - Complete Process Automation Suite"]})]}),r.jsx(ve,{children:"Advanced workflow management integrating RCA analysis with automated process orchestration, stakeholder management, approval workflows, and comprehensive documentation generation."})]})}),l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[b(l.status.phase),r.jsxs("span",{children:["Workflow: ",l.workflowId]})]}),r.jsx(J,{variant:"outline",className:x(l.status.state),children:l.status.state.toUpperCase()})]}),r.jsxs(ve,{children:["Current Phase: ",l.status.phase," | Processing Time: ",l.status.processingTime," | Completion: ",l.completionPercentage,"%"]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.completionPercentage,"%"]})]}),r.jsx(_r,{value:l.completionPercentage,className:"w-full"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:l.nextActions.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending Actions"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:l.generatedDocuments.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Documents"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:l.approvals.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Approvals"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-orange-600",children:l.notifications.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Notifications"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Estimated Completion"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(l.estimatedCompletion).toLocaleString()})]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>c(null),children:[r.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Close Workflow"]})]})]})})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{children:["Current Stage: ",l.currentStage.stageName]}),r.jsx(ve,{children:l.currentStage.description})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{variant:l.currentStage.status==="active"?"default":"secondary",children:l.currentStage.status}),l.currentStage.status==="pending"&&r.jsxs(W,{onClick:()=>g(l.currentStage.stageId),disabled:u.isPending,size:"sm",children:[u.isPending?r.jsx(Kn,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(KC,{className:"h-4 w-4 mr-1"}),"Execute Stage"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold mb-2",children:"Requirements:"}),r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.currentStage.requirements.map((S,E)=>r.jsx("li",{children:S},E))})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold mb-2",children:"Deliverables:"}),r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.currentStage.deliverables.map((S,E)=>r.jsx("li",{children:S},E))})]})]})]})]}),r.jsxs(Zn,{defaultValue:"actions",className:"space-y-4",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-6",children:[r.jsxs(Ae,{value:"actions",children:["Actions (",l.nextActions.length,")"]}),r.jsxs(Ae,{value:"approvals",children:["Approvals (",l.approvals.length,")"]}),r.jsxs(Ae,{value:"documents",children:["Documents (",l.generatedDocuments.length,")"]}),r.jsxs(Ae,{value:"notifications",children:["Notifications (",l.notifications.length,")"]}),r.jsx(Ae,{value:"quality",children:"Quality Checks"}),r.jsx(Ae,{value:"timeline",children:"Timeline"})]}),r.jsx(ke,{value:"actions",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Pending Actions"}),r.jsx(ve,{children:"Actions requiring attention or completion"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[l.nextActions.map((S,E)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(J,{variant:w(S.priority),children:S.priority}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Pz,{className:"h-3 w-3 mr-1"}),"Due: ",new Date(S.dueDate).toLocaleDateString()]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:S.description}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Assigned to:"})," ",S.assignedTo]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",S.actionType]}),S.dependencies.length>0&&r.jsxs("div",{children:[r.jsx("strong",{children:"Dependencies:"})," ",S.dependencies.join(", ")]})]})]})]},E)),l.nextActions.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No pending actions at this time"})]})]})})]})}),r.jsx(ke,{value:"approvals",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Approval Status"}),r.jsx(ve,{children:"Required approvals and their current status"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[l.approvals.map((S,E)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:S.status==="approved"?"default":"secondary",children:S.status.replace("_"," ")}),r.jsx("span",{className:"text-sm font-medium capitalize",children:S.approvalType.replace("_"," ")})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:S.approver})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Requirements:"})," ",S.requirements.join(", ")]}),S.submittedDate&&r.jsxs("div",{children:[r.jsx("strong",{children:"Submitted:"})," ",new Date(S.submittedDate).toLocaleString()]}),S.comments&&r.jsxs("div",{children:[r.jsx("strong",{children:"Comments:"})," ",S.comments]})]})]},E)),l.approvals.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(os,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No approvals required for this workflow"})]})]})})]})}),r.jsx(ke,{value:"documents",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Generated Documents"}),r.jsx(ve,{children:"Documents created during the workflow process"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[l.generatedDocuments.map((S,E)=>r.jsx("div",{className:"p-3 border rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:S.title}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Type: ",S.documentType.replace("_"," ")," | Format: ",S.format.toUpperCase()]}),r.jsxs("div",{children:["Size: ",S.size," | Generated: ",new Date(S.generatedAt).toLocaleString()]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:S.status==="ready"?"default":"secondary",children:S.status}),S.status==="ready"&&r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(cr,{className:"h-3 w-3 mr-1"}),"Download"]})]})]})},E)),l.generatedDocuments.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(rn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No documents generated yet"})]})]})})]})}),r.jsx(ke,{value:"notifications",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Notification Log"}),r.jsx(ve,{children:"Communication history and status updates"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[l.notifications.map((S,E)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(UC,{className:"h-3 w-3"}),r.jsx("span",{className:"text-sm font-medium",children:S.subject})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:S.status==="sent"?"default":"secondary",children:S.status}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(S.sentAt).toLocaleTimeString()})]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["To: ",S.recipient," | Type: ",S.type]}),r.jsx("div",{className:"mt-1",children:S.message})]})]},E)),l.notifications.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(UC,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No notifications sent yet"})]})]})})]})}),r.jsx(ke,{value:"quality",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Quality Checks"}),r.jsx(ve,{children:"Automated quality validation and compliance checks"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:l.qualityChecks.map((S,E)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium capitalize",children:S.checkType.replace("_"," ")}),r.jsx(J,{variant:S.status==="passed"?"default":S.status==="failed"?"destructive":S.status==="warning"?"secondary":"outline",children:S.status})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("div",{children:S.description}),r.jsxs("div",{children:[r.jsx("strong",{children:"Details:"})," ",S.details]}),S.checkedAt&&r.jsxs("div",{children:[r.jsx("strong",{children:"Checked:"})," ",new Date(S.checkedAt).toLocaleString()]}),S.checkedBy&&r.jsxs("div",{children:[r.jsx("strong",{children:"By:"})," ",S.checkedBy]})]})]},E))})})]})}),r.jsx(ke,{value:"timeline",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Workflow Timeline"}),r.jsx(ve,{children:"Process execution timeline and milestones"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-muted rounded-lg",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Workflow Initiated"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.status.lastUpdated).toLocaleString()})]})]}),l.currentStage.startTime&&r.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Vs,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium",children:["Current Stage Started: ",l.currentStage.stageName]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.currentStage.startTime).toLocaleString()})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 p-3 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx(Fr,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Estimated Completion"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.estimatedCompletion).toLocaleString()})]})]})]})})]})})]})]}):r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Workflow Configuration"}),r.jsx(ve,{children:"Configure comprehensive workflow automation parameters"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Workflow Settings"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"workflowId",children:"Workflow ID"}),r.jsx(ue,{id:"workflowId",value:t.workflowId,onChange:S=>n(E=>({...E,workflowId:S.target.value})),placeholder:"Enter workflow ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Workflow Type"}),r.jsxs(We,{value:t.workflowType,onValueChange:S=>n(E=>({...E,workflowType:S})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"standard",children:"Standard (24h)"}),r.jsx(ne,{value:"expedited",children:"Expedited (8h)"}),r.jsx(ne,{value:"comprehensive",children:"Comprehensive (72h)"}),r.jsx(ne,{value:"emergency",children:"Emergency (4h)"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Documentation Level"}),r.jsxs(We,{value:t.documentationLevel,onValueChange:S=>n(E=>({...E,documentationLevel:S})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"basic",children:"Basic"}),r.jsx(ne,{value:"detailed",children:"Detailed"}),r.jsx(ne,{value:"comprehensive",children:"Comprehensive"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Si,{id:"approvalRequired",checked:t.approvalRequired,onCheckedChange:S=>n(E=>({...E,approvalRequired:S}))}),r.jsx(ie,{htmlFor:"approvalRequired",children:"Approval Required"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Incident Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentId",children:"Incident ID"}),r.jsx(ue,{id:"incidentId",value:t.incidentData.incidentId,onChange:S=>n(E=>({...E,incidentData:{...E.incidentData,incidentId:S.target.value}})),placeholder:"Enter incident ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentDescription",children:"Incident Description *"}),r.jsx(ze,{id:"incidentDescription",value:t.incidentData.incidentDescription,onChange:S=>n(E=>({...E,incidentData:{...E.incidentData,incidentDescription:S.target.value}})),placeholder:"Provide detailed incident description including symptoms, timeline, and initial observations...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Analysis Depth"}),r.jsxs(We,{value:t.incidentData.analysisDepth,onValueChange:S=>n(E=>({...E,incidentData:{...E.incidentData,analysisDepth:S}})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"basic",children:"Basic"}),r.jsx(ne,{value:"comprehensive",children:"Comprehensive"}),r.jsx(ne,{value:"expert",children:"Expert"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Priority Level"}),r.jsxs(We,{value:t.incidentData.priorityLevel,onValueChange:S=>n(E=>({...E,incidentData:{...E.incidentData,priorityLevel:S}})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"low",children:"Low"}),r.jsx(ne,{value:"medium",children:"Medium"}),r.jsx(ne,{value:"high",children:"High"}),r.jsx(ne,{value:"critical",children:"Critical"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Time Constraint"}),r.jsxs(We,{value:t.incidentData.timeConstraint,onValueChange:S=>n(E=>({...E,incidentData:{...E.incidentData,timeConstraint:S}})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"immediate",children:"Immediate"}),r.jsx(ne,{value:"standard",children:"Standard"}),r.jsx(ne,{value:"thorough",children:"Thorough"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ie,{children:"Observed Symptoms"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:i,onChange:S=>s(S.target.value),placeholder:"Enter symptom (e.g., 'high vibration', 'bearing noise')",onKeyPress:S=>S.key==="Enter"&&h()}),r.jsx(W,{onClick:h,variant:"outline",children:"Add"})]}),t.incidentData.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.incidentData.symptoms.map((S,E)=>r.jsxs(J,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>v(S),children:[S," ✕"]},E))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Stakeholders & Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:a,onChange:S=>o(S.target.value),placeholder:"Add stakeholder (e.g., 'Engineering Manager', 'Safety Officer')",onKeyPress:S=>S.key==="Enter"&&m()}),r.jsx(W,{onClick:m,variant:"outline",children:"Add"})]}),t.stakeholders.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.stakeholders.map((S,E)=>r.jsxs(J,{variant:"outline",className:"cursor-pointer hover:bg-red-100",onClick:()=>y(S),children:[r.jsx(LI,{className:"h-3 w-3 mr-1"}),S," ✕"]},E))}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Email Notifications"}),r.jsx(Si,{checked:t.notifications.emailNotifications,onCheckedChange:S=>n(E=>({...E,notifications:{...E.notifications,emailNotifications:S}}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Dashboard Updates"}),r.jsx(Si,{checked:t.notifications.dashboardUpdates,onCheckedChange:S=>n(E=>({...E,notifications:{...E.notifications,dashboardUpdates:S}}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Stakeholder Updates"}),r.jsx(Si,{checked:t.notifications.stakeholderUpdates,onCheckedChange:S=>n(E=>({...E,notifications:{...E.notifications,stakeholderUpdates:S}}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Milestone Reminders"}),r.jsx(Si,{checked:t.scheduleConfig.milestoneReminders,onCheckedChange:S=>n(E=>({...E,scheduleConfig:{...E.scheduleConfig,milestoneReminders:S}}))})]})]})]})]}),r.jsx(W,{onClick:j,disabled:d.isPending||!t.incidentData.incidentDescription.trim(),className:"w-full",size:"lg","data-testid":"initiate-workflow-button",children:d.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Kn,{className:"h-4 w-4 mr-2 animate-spin"}),"Initiating Workflow..."]}):r.jsxs(r.Fragment,{children:[r.jsx(QC,{className:"h-4 w-4 mr-2"}),"Initiate Workflow Process"]})})]})]})]})}function $we(){var S,E,$,O,A,P,_,F,M,G,z,H;const{toast:e}=Ft();si();const[t,n]=N.useState({sourceId:`DS_${Date.now()}`,sourceName:"",sourceType:"api",connectionConfig:{timeout:3e4,retryAttempts:3},dataMapping:{sourceFields:[],transformationRules:[],validationRules:[],targetSchema:"incidents"},syncSchedule:{frequency:"manual",isEnabled:!1},isActive:!1,syncStatus:"idle"}),[i,s]=N.useState(null),[a,o]=N.useState([]),{data:l,isLoading:c,refetch:d}=Pe({queryKey:["/api/data-sources"],queryFn:()=>fetch("/api/data-sources").then(D=>D.json())}),{data:u,isLoading:f}=Pe({queryKey:["/api/integrations"],queryFn:()=>fetch("/api/integrations").then(D=>D.json())}),p=Qe({mutationFn:async D=>ot("/api/data-sources",{method:"POST",body:JSON.stringify(D),headers:{"Content-Type":"application/json"}}),onSuccess:D=>{D!=null&&D.success?(e({title:"Data Source Registered",description:(D==null?void 0:D.message)||"Data source registered successfully"}),d(),n({sourceId:`DS_${Date.now()}`,sourceName:"",sourceType:"api",connectionConfig:{timeout:3e4,retryAttempts:3},dataMapping:{sourceFields:[],transformationRules:[],validationRules:[],targetSchema:"incidents"},syncSchedule:{frequency:"manual",isEnabled:!1},isActive:!1,syncStatus:"idle"})):e({title:"Registration Failed",description:(D==null?void 0:D.message)||"Unknown error occurred",variant:"destructive"})},onError:D=>{e({title:"Registration Error",description:D.message||"Failed to register data source",variant:"destructive"})}}),h=Qe({mutationFn:async({sourceId:D,options:U})=>ot(`/api/data-sources/${D}/sync`,{method:"POST",body:JSON.stringify(U||{}),headers:{"Content-Type":"application/json"}}),onSuccess:D=>{var U;D!=null&&D.success&&(e({title:"Sync Completed",description:((U=D==null?void 0:D.syncResult)==null?void 0:U.summary)||"Sync completed successfully"}),d(),i&&v(i.sourceId))},onError:D=>{e({title:"Sync Failed",description:D.message||"Failed to execute sync",variant:"destructive"})}}),v=async D=>{try{const I=await(await fetch(`/api/data-sources/${D}/history`)).json();I!=null&&I.success&&o((I==null?void 0:I.syncHistory)||[])}catch(U){console.error("Failed to fetch sync history:",U)}},m=()=>{var D,U,I;if(!((D=t.sourceName)!=null&&D.trim())){e({title:"Missing Information",description:"Please provide a data source name",variant:"destructive"});return}if(!((I=(U=t.connectionConfig)==null?void 0:U.endpoint)!=null&&I.trim())&&t.sourceType!=="file_system"){e({title:"Missing Information",description:"Please provide connection endpoint",variant:"destructive"});return}p.mutate(t)},y=D=>{h.mutate({sourceId:D})},j=()=>{t.dataMapping&&n(D=>({...D,dataMapping:{...D.dataMapping,sourceFields:[...D.dataMapping.sourceFields,{sourceField:"",targetField:"",dataType:"string",isRequired:!1}]}}))},g=D=>{t.dataMapping&&n(U=>({...U,dataMapping:{...U.dataMapping,sourceFields:U.dataMapping.sourceFields.filter((I,se)=>se!==D)}}))},x=(D,U)=>{t.dataMapping&&n(I=>({...I,dataMapping:{...I.dataMapping,sourceFields:I.dataMapping.sourceFields.map((se,ge)=>ge===D?{...se,...U}:se)}}))},w=D=>{switch(D){case"active":case"completed":case"success":return"text-green-600";case"syncing":return"text-blue-600";case"error":case"failed":return"text-red-600";case"idle":case"inactive":return"text-gray-600";default:return"text-gray-600"}},b=D=>{switch(D){case"cmms":return r.jsx(Kn,{className:"h-4 w-4"});case"historian":return r.jsx(sc,{className:"h-4 w-4"});case"scada":return r.jsx(Vs,{className:"h-4 w-4"});case"api":return r.jsx(bz,{className:"h-4 w-4"});case"database":return r.jsx(Hn,{className:"h-4 w-4"});case"file_system":return r.jsx(xz,{className:"h-4 w-4"});case"sensor_network":return r.jsx(Oz,{className:"h-4 w-4"});default:return r.jsx(YC,{className:"h-4 w-4"})}},C=(l==null?void 0:l.dataSources)||[],k=(u==null?void 0:u.integrations)||[];return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Data Integration & External Connectivity"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 9: Connect external systems and automate data synchronization for comprehensive RCA analysis"})]}),r.jsxs(J,{variant:"outline",className:"text-cyan-600",children:[r.jsx(fz,{className:"h-4 w-4 mr-2"}),"Integration Pipeline v1.0"]})]}),r.jsx(Y,{className:"border-l-4 border-l-cyan-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-cyan-500"}),r.jsx("span",{children:"Step 9: Data Integration - External System Connectivity Suite"})]}),r.jsx(ve,{children:"Advanced data integration pipeline connecting CMMS, process historians, SCADA systems, and external APIs with automated synchronization, transformation, and validation capabilities."})]})}),r.jsxs(Zn,{defaultValue:"sources",className:"space-y-4",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-5",children:[r.jsxs(Ae,{value:"sources",children:["Data Sources (",C.length,")"]}),r.jsx(Ae,{value:"new-source",children:"New Source"}),r.jsxs(Ae,{value:"integrations",children:["Available Integrations (",k.length,")"]}),r.jsx(Ae,{value:"sync-history",children:"Sync History"}),r.jsx(Ae,{value:"monitoring",children:"Monitoring"})]}),r.jsx(ke,{value:"sources",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Registered Data Sources"}),r.jsx(ve,{children:"Manage external data sources and their synchronization status"})]}),r.jsx(Q,{children:c?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(Gn,{className:"h-8 w-8 animate-spin text-cyan-500"})}):C.length>0?r.jsx("div",{className:"space-y-4",children:C.map((D,U)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[b(D.sourceType),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:D.sourceName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Type: ",D.sourceType.toUpperCase()," | Target: ",D.dataMapping.targetSchema]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:D.isActive?"default":"secondary",children:D.isActive?"Active":"Inactive"}),r.jsx(J,{variant:"outline",className:w(D.syncStatus),children:D.syncStatus})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Endpoint:"})," ",D.connectionConfig.endpoint||"Not configured"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Sync Schedule:"})," ",D.syncSchedule.frequency]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Last Sync:"})," ",D.lastSync?new Date(D.lastSync).toLocaleString():"Never"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>y(D.sourceId),disabled:h.isPending,children:[h.isPending?r.jsx(Gn,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(kz,{className:"h-3 w-3 mr-1"}),"Sync Now"]}),r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>{s(D),v(D.sourceId)},children:[r.jsx(Is,{className:"h-3 w-3 mr-1"}),"View History"]}),r.jsxs(W,{size:"sm",variant:"outline",children:[r.jsx(Kn,{className:"h-3 w-3 mr-1"}),"Configure"]})]})]},U))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Hn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No data sources configured yet"}),r.jsx("p",{className:"text-sm",children:"Add a new data source to get started"})]})})]})}),r.jsx(ke,{value:"new-source",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Register New Data Source"}),r.jsx(ve,{children:"Configure a new external data source for integration"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Basic Configuration"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"sourceName",children:"Source Name *"}),r.jsx(ue,{id:"sourceName",value:t.sourceName||"",onChange:D=>n(U=>({...U,sourceName:D.target.value})),placeholder:"Enter descriptive name (e.g., 'Production CMMS')"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Source Type"}),r.jsxs(We,{value:t.sourceType,onValueChange:D=>n(U=>({...U,sourceType:D})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"cmms",children:"CMMS (Maintenance Management)"}),r.jsx(ne,{value:"historian",children:"Process Historian"}),r.jsx(ne,{value:"scada",children:"SCADA System"}),r.jsx(ne,{value:"api",children:"REST API"}),r.jsx(ne,{value:"database",children:"Database"}),r.jsx(ne,{value:"file_system",children:"File System"}),r.jsx(ne,{value:"sensor_network",children:"Sensor Network"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"endpoint",children:"Connection Endpoint"}),r.jsx(ue,{id:"endpoint",value:((S=t.connectionConfig)==null?void 0:S.endpoint)||"",onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,endpoint:D.target.value}})),placeholder:"https://api.system.com or server:port"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"targetSchema",children:"Target Schema"}),r.jsxs(We,{value:((E=t.dataMapping)==null?void 0:E.targetSchema)||"incidents",onValueChange:D=>n(U=>({...U,dataMapping:{...U.dataMapping,targetSchema:D}})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"incidents",children:"Incident Reports"}),r.jsx(ne,{value:"sensor_data",children:"Sensor Data"}),r.jsx(ne,{value:"maintenance_records",children:"Maintenance Records"}),r.jsx(ne,{value:"asset_data",children:"Asset Information"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"timeout",children:"Timeout (ms)"}),r.jsx(ue,{id:"timeout",type:"number",value:(($=t.connectionConfig)==null?void 0:$.timeout)||3e4,onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,timeout:parseInt(D.target.value)}}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"retryAttempts",children:"Retry Attempts"}),r.jsx(ue,{id:"retryAttempts",type:"number",value:((O=t.connectionConfig)==null?void 0:O.retryAttempts)||3,onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,retryAttempts:parseInt(D.target.value)}}))})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[r.jsx(Si,{id:"isActive",checked:t.isActive||!1,onCheckedChange:D=>n(U=>({...U,isActive:D}))}),r.jsx(ie,{htmlFor:"isActive",children:"Active"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Authentication"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"apiKey",children:"API Key"}),r.jsx(ue,{id:"apiKey",type:"password",value:((A=t.connectionConfig)==null?void 0:A.apiKey)||"",onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,apiKey:D.target.value}})),placeholder:"Enter API key if required"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"username",children:"Username"}),r.jsx(ue,{id:"username",value:((P=t.connectionConfig)==null?void 0:P.username)||"",onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,username:D.target.value}})),placeholder:"Enter username if required"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-semibold",children:"Field Mapping"}),r.jsxs(W,{onClick:j,size:"sm",variant:"outline",children:[r.jsx(On,{className:"h-3 w-3 mr-1"}),"Add Field"]})]}),r.jsxs("div",{className:"space-y-3",children:[(_=t.dataMapping)==null?void 0:_.sourceFields.map((D,U)=>r.jsxs("div",{className:"grid grid-cols-6 gap-2 items-end",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(ie,{className:"text-xs",children:"Source Field"}),r.jsx(ue,{value:D.sourceField,onChange:I=>x(U,{sourceField:I.target.value}),placeholder:"source_field",className:"h-8"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ie,{className:"text-xs",children:"Target Field"}),r.jsx(ue,{value:D.targetField,onChange:I=>x(U,{targetField:I.target.value}),placeholder:"targetField",className:"h-8"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ie,{className:"text-xs",children:"Data Type"}),r.jsxs(We,{value:D.dataType,onValueChange:I=>x(U,{dataType:I}),children:[r.jsx(Ue,{className:"h-8",children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"string",children:"String"}),r.jsx(ne,{value:"number",children:"Number"}),r.jsx(ne,{value:"date",children:"Date"}),r.jsx(ne,{value:"boolean",children:"Boolean"}),r.jsx(ne,{value:"json",children:"JSON"})]})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ie,{className:"text-xs",children:"Default Value"}),r.jsx(ue,{value:D.defaultValue||"",onChange:I=>x(U,{defaultValue:I.target.value}),placeholder:"default",className:"h-8"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Si,{checked:D.isRequired,onCheckedChange:I=>x(U,{isRequired:I})}),r.jsx(ie,{className:"text-xs",children:"Required"})]}),r.jsx("div",{children:r.jsx(W,{onClick:()=>g(U),size:"sm",variant:"outline",className:"h-8",children:r.jsx(Ws,{className:"h-3 w-3"})})})]},U)),(!((F=t.dataMapping)!=null&&F.sourceFields)||t.dataMapping.sourceFields.length===0)&&r.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:'No field mappings configured yet. Click "Add Field" to start.'})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Sync Schedule"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Frequency"}),r.jsxs(We,{value:((M=t.syncSchedule)==null?void 0:M.frequency)||"manual",onValueChange:D=>n(U=>({...U,syncSchedule:{...U.syncSchedule,frequency:D}})),children:[r.jsx(Ue,{children:r.jsx(He,{})}),r.jsxs(Ge,{children:[r.jsx(ne,{value:"realtime",children:"Real-time"}),r.jsx(ne,{value:"hourly",children:"Hourly"}),r.jsx(ne,{value:"daily",children:"Daily"}),r.jsx(ne,{value:"weekly",children:"Weekly"}),r.jsx(ne,{value:"manual",children:"Manual"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"interval",children:"Interval (minutes)"}),r.jsx(ue,{id:"interval",type:"number",value:((G=t.syncSchedule)==null?void 0:G.interval)||"",onChange:D=>n(U=>({...U,syncSchedule:{...U.syncSchedule,interval:parseInt(D.target.value)}})),placeholder:"60",disabled:((z=t.syncSchedule)==null?void 0:z.frequency)==="manual"})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[r.jsx(Si,{checked:((H=t.syncSchedule)==null?void 0:H.isEnabled)||!1,onCheckedChange:D=>n(U=>({...U,syncSchedule:{...U.syncSchedule,isEnabled:D}}))}),r.jsx(ie,{children:"Enable Schedule"})]})]})]}),r.jsx(W,{onClick:m,disabled:p.isPending,className:"w-full",size:"lg",children:p.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Kn,{className:"h-4 w-4 mr-2 animate-spin"}),"Registering Data Source..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ib,{className:"h-4 w-4 mr-2"}),"Register Data Source"]})})]})]})}),r.jsx(ke,{value:"integrations",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Available System Integrations"}),r.jsx(ve,{children:"Pre-configured integration templates for common external systems"})]}),r.jsx(Q,{children:f?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(Gn,{className:"h-8 w-8 animate-spin text-cyan-500"})}):k.length>0?r.jsx("div",{className:"space-y-4",children:k.map((D,U)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(YC,{className:"h-6 w-6 text-blue-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:D.systemName}),r.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:D.systemType.replace("_"," ")})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:D.isConfigured?"default":"secondary",children:D.isConfigured?"Configured":"Not Configured"}),r.jsx(J,{variant:"outline",className:w(D.status),children:D.status})]})]}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium mb-2",children:"Capabilities:"}),r.jsx("div",{className:"space-y-2",children:D.capabilities.map((I,se)=>r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:I.name}),r.jsx("div",{className:"text-muted-foreground",children:I.description}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx("span",{className:"text-xs",children:"Data Types:"}),I.dataTypes.map((ge,ee)=>r.jsx(J,{variant:"outline",className:"text-xs",children:ge},ee))]})]},se))})]})}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[r.jsxs(W,{size:"sm",variant:"outline",children:[r.jsx(Kn,{className:"h-3 w-3 mr-1"}),"Configure"]}),r.jsxs(W,{size:"sm",variant:"outline",children:[r.jsx(rn,{className:"h-3 w-3 mr-1"}),"Documentation"]}),r.jsxs(W,{size:"sm",variant:"outline",children:[r.jsx(hp,{className:"h-3 w-3 mr-1"}),"Test Connection"]})]})]},U))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(ib,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No integrations available"})]})})]})}),r.jsx(ke,{value:"sync-history",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Synchronization History"}),r.jsx(ve,{children:"Review past synchronization results and performance metrics"})]}),r.jsx(Q,{children:i?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-semibold",children:["History for: ",i.sourceName]}),r.jsxs(W,{onClick:()=>v(i.sourceId),size:"sm",variant:"outline",children:[r.jsx(Gn,{className:"h-3 w-3 mr-1"}),"Refresh"]})]}),a.length>0?r.jsx("div",{className:"space-y-3",children:a.map((D,U)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:D.status==="success"?"default":D.status==="error"?"destructive":"secondary",children:D.status}),r.jsxs("span",{className:"text-sm font-medium",children:["Sync ID: ",D.syncId]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(D.startTime).toLocaleString()})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Processed:"})," ",D.recordsProcessed]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Created:"})," ",D.recordsCreated]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Updated:"})," ",D.recordsUpdated]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Skipped:"})," ",D.recordsSkipped]})]}),r.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:D.summary}),D.errors.length>0&&r.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-700",children:[r.jsx("strong",{children:"Errors:"})," ",D.errors.length," errors occurred during sync"]})]},U))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Is,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No sync history available for this data source"})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Is,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Select a data source from the Sources tab to view its sync history"})]})})]})}),r.jsx(ke,{value:"monitoring",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Integration Monitoring"}),r.jsx(ve,{children:"Real-time monitoring of data integration pipeline performance"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.filter(D=>D.isActive).length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Sources"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.filter(D=>D.syncStatus==="completed").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Recent Syncs"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:C.filter(D=>D.syncStatus==="syncing").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Syncs"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:C.filter(D=>D.syncStatus==="error").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed Syncs"})]})]}),r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Vs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Real-time monitoring dashboard"}),r.jsx("p",{className:"text-sm",children:"Integration metrics and performance data will appear here"})]})]})]})})]})]})}function lO(){Ft();const{data:e,isLoading:t,refetch:n,error:i}=Pe({queryKey:["/api/deployment/status"],queryFn:()=>fetch("/api/deployment/status").then(p=>p.json()),refetchInterval:3e4}),s=(e==null?void 0:e.deploymentStatus)||null,a=p=>{switch(p){case"passed":return r.jsx(Ct,{className:"h-4 w-4 text-green-600"});case"warning":return r.jsx(mt,{className:"h-4 w-4 text-yellow-600"});case"failed":return r.jsx(Jo,{className:"h-4 w-4 text-red-600"});case"pending":return r.jsx(Fr,{className:"h-4 w-4 text-gray-600"});default:return r.jsx(Fr,{className:"h-4 w-4 text-gray-600"})}},o=p=>{switch(p){case"production":return"text-green-600 bg-green-50";case"staging":return"text-blue-600 bg-blue-50";case"testing":return"text-yellow-600 bg-yellow-50";case"development":return"text-gray-600 bg-gray-50";case"maintenance":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},l=p=>{switch(p){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},c=p=>{switch(p){case"compliant":return"text-green-600";case"partial":return"text-yellow-600";case"non-compliant":return"text-red-600";default:return"text-gray-600"}},d=p=>p>=95?{level:"Production Ready",color:"text-green-600",icon:ey}:p>=85?{level:"Staging Ready",color:"text-blue-600",icon:Az}:p>=70?{level:"Testing Ready",color:"text-yellow-600",icon:Vs}:{level:"In Development",color:"text-gray-600",icon:Kn};if(t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Gn,{className:"h-8 w-8 animate-spin text-blue-500"}),r.jsx("span",{className:"text-lg",children:"Assessing deployment readiness..."})]})});if(i||!s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs(Y,{className:"max-w-md",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2 text-red-600",children:[r.jsx(jr,{className:"h-5 w-5"}),r.jsx("span",{children:"Assessment Failed"})]}),r.jsx(ve,{children:"Unable to retrieve deployment status. Please check system connectivity."})]}),r.jsx(Q,{children:r.jsxs(W,{onClick:()=>n(),className:"w-full",children:[r.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Retry Assessment"]})})]})});const u=d(s.readinessScore),f=u.icon;return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Deployment Readiness Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 10: Complete system assessment and production deployment optimization"})]}),r.jsxs(W,{onClick:()=>n(),variant:"outline",children:[r.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Refresh Assessment"]})]}),r.jsx(Y,{className:"border-l-4 border-l-green-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Step 10: Final Deployment Optimization - System Integration Complete"})]}),r.jsx(ve,{children:"Comprehensive deployment readiness assessment with performance optimization, security validation, and compliance verification across all system components."})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(Y,{className:"col-span-1 md:col-span-2",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Overall Readiness"}),r.jsx(f,{className:`h-6 w-6 ${u.color}`})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-3xl font-bold",children:[s.readinessScore,"%"]}),r.jsx(J,{className:o(s.deploymentStage),children:s.deploymentStage.toUpperCase()})]}),r.jsx(_r,{value:s.readinessScore,className:"w-full"}),r.jsx("div",{className:`text-lg font-semibold ${u.color}`,children:u.level})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{children:"System Checks"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Passed"}),r.jsx("span",{className:"font-bold text-green-600",children:s.completedChecks.filter(p=>p.status==="passed").length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Warnings"}),r.jsx("span",{className:"font-bold text-yellow-600",children:s.completedChecks.filter(p=>p.status==="warning").length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed"}),r.jsx("span",{className:"font-bold text-red-600",children:s.completedChecks.filter(p=>p.status==="failed").length})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(os,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Security Score"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[s.securityStatus.overallScore,"%"]}),r.jsx(_r,{value:s.securityStatus.overallScore,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.securityStatus.vulnerabilities.length," vulnerabilities"]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(Y,{children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Vs,{className:"h-4 w-4"}),r.jsx("span",{children:"API Response"})]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.apiResponseTimes.averageResponseTime,"ms"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Average response time"})]})]}),r.jsxs(Y,{children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Hn,{className:"h-4 w-4"}),r.jsx("span",{children:"DB Efficiency"})]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.databasePerformance.indexEfficiency,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Index efficiency"})]})]}),r.jsxs(Y,{children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Nz,{className:"h-4 w-4"}),r.jsx("span",{children:"Memory Usage"})]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.systemResources.memoryUsage,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"System memory"})]})]}),r.jsxs(Y,{children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Ci,{className:"h-4 w-4"}),r.jsx("span",{children:"Throughput"})]})}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.performanceMetrics.apiResponseTimes.throughput}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests/second"})]})]})]}),r.jsxs(Zn,{defaultValue:"checks",className:"space-y-4",children:[r.jsxs(Fn,{className:"grid w-full grid-cols-5",children:[r.jsxs(Ae,{value:"checks",children:["System Checks (",s.completedChecks.length,")"]}),r.jsx(Ae,{value:"performance",children:"Performance"}),r.jsx(Ae,{value:"security",children:"Security"}),r.jsx(Ae,{value:"compliance",children:"Compliance"}),r.jsxs(Ae,{value:"optimizations",children:["Optimizations (",s.optimizations.length,")"]})]}),r.jsx(ke,{value:"checks",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Deployment Checks"}),r.jsx(ve,{children:"Comprehensive system validation across all functional areas"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:s.completedChecks.map((p,h)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[a(p.status),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:p.checkName}),r.jsxs("div",{className:"text-sm text-muted-foreground capitalize",children:[p.checkType," • Priority: ",p.priority]})]})]}),r.jsx(J,{variant:l(p.priority),children:p.status.toUpperCase()})]}),r.jsx("p",{className:"text-sm mb-2",children:p.description}),p.result&&r.jsxs("div",{className:"text-sm bg-muted p-2 rounded mb-2",children:[r.jsx("strong",{children:"Result:"})," ",p.result]}),p.recommendations&&p.recommendations.length>0&&r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Recommendations:"}),r.jsx("ul",{className:"list-disc list-inside ml-2 mt-1",children:p.recommendations.map((v,m)=>r.jsx("li",{children:v},m))})]}),p.timestamp&&r.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Checked: ",new Date(p.timestamp).toLocaleString()]})]},h))})})]})}),r.jsx(ke,{value:"performance",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"API Performance"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Average Response Time:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.averageResponseTime,"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"95th Percentile:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.p95ResponseTime,"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"99th Percentile:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.p99ResponseTime,"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Throughput:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.throughput," req/s"]})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Database Performance"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Connection Pool Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.connectionPoolUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Index Efficiency:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.indexEfficiency,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Storage Utilization:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.storageUtilization,"%"]})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Frontend Performance"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Bundle Size:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.bundleSize,"MB"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Render Performance:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.renderPerformance,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Interactivity Score:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.interactivityScore,"%"]})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"System Resources"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Memory Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.memoryUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"CPU Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.cpuUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Disk Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.diskUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Network Latency:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.networkLatency,"ms"]})]})]})})]})]})}),r.jsx(ke,{value:"security",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(os,{className:"h-5 w-5"}),r.jsx("span",{children:"Security Assessment"})]}),r.jsxs(ve,{children:["Overall security score: ",s.securityStatus.overallScore,"%"]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Security Score"}),r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[s.securityStatus.overallScore,"%"]})]}),r.jsx(_r,{value:s.securityStatus.overallScore,className:"w-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Vulnerabilities"}),r.jsx("div",{className:"text-sm",children:s.securityStatus.vulnerabilities.length===0?r.jsx("div",{className:"text-green-600",children:"No critical vulnerabilities detected"}):r.jsxs("div",{children:[s.securityStatus.vulnerabilities.length," issues found"]})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Last Assessment"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.securityStatus.lastAssessmentDate).toLocaleString()})]})]})]})})]})}),r.jsx(ke,{value:"compliance",children:r.jsx("div",{className:"space-y-4",children:Object.entries(s.complianceStatus).map(([p,h])=>r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsx("span",{className:"capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),r.jsx(J,{variant:"outline",className:c(h.status),children:h.status.toUpperCase()})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Compliance Score:"}),r.jsxs("span",{className:"font-bold",children:[h.score,"%"]})]}),r.jsx(_r,{value:h.score,className:"w-full"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-sm mb-1",children:["Checked Items (",h.checkedItems.length,")"]}),r.jsxs("ul",{className:"text-sm space-y-1",children:[h.checkedItems.slice(0,3).map((v,m)=>r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-3 w-3 text-green-600"}),r.jsx("span",{children:v})]},m)),h.checkedItems.length>3&&r.jsxs("li",{className:"text-muted-foreground",children:["+",h.checkedItems.length-3," more"]})]})]}),h.failedItems.length>0&&r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-sm mb-1 text-red-600",children:["Failed Items (",h.failedItems.length,")"]}),r.jsx("ul",{className:"text-sm space-y-1",children:h.failedItems.map((v,m)=>r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Jo,{className:"h-3 w-3 text-red-600"}),r.jsx("span",{children:v})]},m))})]})]}),h.recommendations.length>0&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-sm mb-1",children:"Recommendations"}),r.jsx("ul",{className:"text-sm space-y-1",children:h.recommendations.map((v,m)=>r.jsxs("li",{className:"flex items-start space-x-2",children:[r.jsx(mt,{className:"h-3 w-3 text-yellow-600 mt-0.5"}),r.jsx("span",{children:v})]},m))})]})]})})]},p))})}),r.jsx(ke,{value:"optimizations",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"System Optimizations"}),r.jsx(ve,{children:"Performance improvements and resource optimizations"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:s.optimizations.map((p,h)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(hp,{className:"h-4 w-4 text-blue-500"}),r.jsxs("span",{className:"font-semibold capitalize",children:[p.optimizationType.replace("_"," ")," Optimization"]})]}),r.jsx(J,{variant:p.implementationStatus==="deployed"?"default":p.implementationStatus==="implemented"?"secondary":"outline",children:p.implementationStatus.replace("_"," ")})]}),r.jsx("p",{className:"text-sm mb-3",children:p.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Impact: "}),r.jsx(J,{variant:p.impact==="high"?"default":p.impact==="medium"?"secondary":"outline",children:p.impact})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Performance Gain:"})," ",p.performanceGain]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Resource Savings:"})," ",p.resourceSavings]})]})]},h))})})]})})]}),s.readinessScore>=95&&r.jsxs(Y,{className:"border-green-200 bg-green-50",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2 text-green-700",children:[r.jsx(ey,{className:"h-5 w-5"}),r.jsx("span",{children:"Ready for Production Deployment"})]}),r.jsx(ve,{children:"System has passed all critical checks and is ready for production deployment."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(W,{className:"bg-green-600 hover:bg-green-700",children:[r.jsx(ey,{className:"h-4 w-4 mr-2"}),"Deploy to Production"]}),r.jsxs(W,{variant:"outline",children:[r.jsx(II,{className:"h-4 w-4 mr-2"}),"Generate Deployment Report"]})]})})]})]})}function Dwe(){return console.log("Current route:",window.location.pathname+window.location.search),console.log("Full URL:",window.location.href),r.jsxs(T6,{children:[r.jsx(ct,{path:"/",component:Jve}),r.jsx(ct,{path:"/new",component:wye}),r.jsx(ct,{path:"/investigation/:id/type",component:Nye}),r.jsx(ct,{path:"/investigation/:id/evidence",component:_P}),r.jsx(ct,{path:"/investigation/:id",component:xye}),r.jsx(ct,{path:"/admin",component:bP}),r.jsx(ct,{path:"/admin-settings",component:bP}),r.jsx(ct,{path:"/admin/evidence",component:nO}),r.jsx(ct,{path:"/admin/integrations",component:oO}),r.jsx(ct,{path:"/admin/taxonomy",component:Owe}),r.jsx(ct,{path:"/incident-reporting",component:hwe}),r.jsx(ct,{path:"/analysis-engine",component:sO}),r.jsx(ct,{path:"/ai-powered-rca",component:aO}),r.jsx(ct,{path:"/analysis-history",component:lO}),r.jsx(ct,{path:"/admin/evidence-library",component:g0e}),r.jsx(ct,{path:"/admin/evidence-management",component:Wy}),r.jsx(ct,{path:"/admin/evidence-library-management",component:nO}),r.jsx(ct,{path:"/admin/fault-reference-library",component:Pwe}),r.jsx(ct,{path:"/evidence-analysis-demo",component:sO}),r.jsx(ct,{path:"/rca-analysis-demo",component:aO}),r.jsx(ct,{path:"/workflow-integration-demo",component:oO}),r.jsx(ct,{path:"/data-integration-demo",component:$we}),r.jsx(ct,{path:"/deployment-ready",component:lO}),r.jsx(ct,{path:"/evidence-library-management",component:Wy}),r.jsx(ct,{path:"/evidence-library",component:Wy}),r.jsx(ct,{path:"/debug",component:Awe}),r.jsx(ct,{path:"/admin/analysis-engine",component:()=>(window.location.href="/analysis-engine",null)}),r.jsx(ct,{path:"/admin/ai-powered-rca",component:()=>(window.location.href="/ai-powered-rca",null)}),r.jsx(ct,{path:"/admin/analysis",component:()=>(window.location.href="/analysis-engine",null)}),r.jsx(ct,{path:"/admin/ai",component:()=>(window.location.href="/ai-powered-rca",null)}),r.jsx(ct,{path:"/equipment-selection",component:vwe}),r.jsx(ct,{path:"/evidence-checklist",component:bwe}),r.jsx(ct,{path:"/evidence-collection",component:_P}),r.jsx(ct,{path:"/human-review",component:rO}),r.jsx(ct,{path:"/incidents/:id/human-review",component:rO}),r.jsx(ct,{path:"/incidents/:id/analysis",component:iO}),r.jsx(ct,{path:"/ai-analysis",component:iO}),r.jsx(ct,{path:"/engineer-review",component:wwe}),r.jsx(ct,{path:"/nlp-analysis",component:Nwe}),r.jsx(ct,{path:"/incidents/:id/fallback-analysis",component:jwe}),r.jsx(ct,{path:"/summary-report/:incidentId",component:Swe}),r.jsx(ct,{path:"/analysis-details/:incidentId",component:Cwe}),r.jsx(ct,{component:Ewe})]})}function Fwe(){return r.jsx(WU,{children:r.jsx(X6,{client:Mt,children:r.jsxs(OR,{children:[r.jsx(fB,{}),r.jsx(Dwe,{})]})})})}let du=null;async function Hy(){try{const e=await fetch("/version.json",{cache:"no-store"});if(!e.ok)return null;const t=await e.json();return String((t==null?void 0:t.version)??"")}catch{return null}}async function Lwe(e=3e4){du=await Hy(),setInterval(async()=>{const t=await Hy();t&&du&&t!==du&&(console.log("[VERSION-WATCH] Version changed, reloading..."),window.location.reload())},e),window.addEventListener("focus",async()=>{const t=await Hy();t&&du&&t!==du&&(console.log("[VERSION-WATCH] Version changed on focus, reloading..."),window.location.reload())}),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>t.forEach(n=>n.unregister()))}Lwe();T_(document.getElementById("root")).render(r.jsx(Fwe,{}));
