var xS=e=>{throw TypeError(e)};var kg=(e,t,n)=>t.has(e)||xS("Cannot "+n);var K=(e,t,n)=>(kg(e,t,"read from private field"),n?n.call(e):t.get(e)),et=(e,t,n)=>t.has(e)?xS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_e=(e,t,n,i)=>(kg(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),ht=(e,t,n)=>(kg(e,t,"access private method"),n);var Tp=(e,t,n,i)=>({set _(s){_e(e,t,s,n)},get _(){return K(e,t,i)}});function $3(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var SO={exports:{}},Fx={},CO={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=Symbol.for("react.element"),D3=Symbol.for("react.portal"),F3=Symbol.for("react.fragment"),L3=Symbol.for("react.strict_mode"),q3=Symbol.for("react.profiler"),z3=Symbol.for("react.provider"),B3=Symbol.for("react.context"),U3=Symbol.for("react.forward_ref"),V3=Symbol.for("react.suspense"),W3=Symbol.for("react.memo"),H3=Symbol.for("react.lazy"),vS=Symbol.iterator;function G3(e){return e===null||typeof e!="object"?null:(e=vS&&e[vS]||e["@@iterator"],typeof e=="function"?e:null)}var kO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EO=Object.assign,AO={};function yd(e,t,n){this.props=e,this.context=t,this.refs=AO,this.updater=n||kO}yd.prototype.isReactComponent={};yd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PO(){}PO.prototype=yd.prototype;function lw(e,t,n){this.props=e,this.context=t,this.refs=AO,this.updater=n||kO}var cw=lw.prototype=new PO;cw.constructor=lw;EO(cw,yd.prototype);cw.isPureReactComponent=!0;var gS=Array.isArray,OO=Object.prototype.hasOwnProperty,dw={current:null},TO={key:!0,ref:!0,__self:!0,__source:!0};function _O(e,t,n){var i,s={},a=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)OO.call(t,i)&&!TO.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:op,type:e,key:a,ref:o,props:s,_owner:dw.current}}function K3(e,t){return{$$typeof:op,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uw(e){return typeof e=="object"&&e!==null&&e.$$typeof===op}function Y3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yS=/\/+/g;function Eg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y3(""+e.key):t.toString(36)}function wm(e,t,n,i,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case op:case D3:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+Eg(o,0):i,gS(s)?(n="",e!=null&&(n=e.replace(yS,"$&/")+"/"),wm(s,t,n,"",function(d){return d})):s!=null&&(uw(s)&&(s=K3(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yS,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",gS(e))for(var l=0;l<e.length;l++){a=e[l];var c=i+Eg(a,l);o+=wm(a,t,n,c,s)}else if(c=G3(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=i+Eg(a,l++),o+=wm(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ip(e,t,n){if(e==null)return e;var i=[],s=0;return wm(e,i,"","",function(a){return t.call(n,a,s++)}),i}function Q3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ur={current:null},Nm={transition:null},X3={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Nm,ReactCurrentOwner:dw};function IO(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:Ip,forEach:function(e,t,n){Ip(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ip(e,function(){t++}),t},toArray:function(e){return Ip(e,function(t){return t})||[]},only:function(e){if(!uw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bt.Component=yd;bt.Fragment=F3;bt.Profiler=q3;bt.PureComponent=lw;bt.StrictMode=L3;bt.Suspense=V3;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X3;bt.act=IO;bt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=EO({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=dw.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)OO.call(t,c)&&!TO.hasOwnProperty(c)&&(i[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:op,type:e.type,key:s,ref:a,props:i,_owner:o}};bt.createContext=function(e){return e={$$typeof:B3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:z3,_context:e},e.Consumer=e};bt.createElement=_O;bt.createFactory=function(e){var t=_O.bind(null,e);return t.type=e,t};bt.createRef=function(){return{current:null}};bt.forwardRef=function(e){return{$$typeof:U3,render:e}};bt.isValidElement=uw;bt.lazy=function(e){return{$$typeof:H3,_payload:{_status:-1,_result:e},_init:Q3}};bt.memo=function(e,t){return{$$typeof:W3,type:e,compare:t===void 0?null:t}};bt.startTransition=function(e){var t=Nm.transition;Nm.transition={};try{e()}finally{Nm.transition=t}};bt.unstable_act=IO;bt.useCallback=function(e,t){return ur.current.useCallback(e,t)};bt.useContext=function(e){return ur.current.useContext(e)};bt.useDebugValue=function(){};bt.useDeferredValue=function(e){return ur.current.useDeferredValue(e)};bt.useEffect=function(e,t){return ur.current.useEffect(e,t)};bt.useId=function(){return ur.current.useId()};bt.useImperativeHandle=function(e,t,n){return ur.current.useImperativeHandle(e,t,n)};bt.useInsertionEffect=function(e,t){return ur.current.useInsertionEffect(e,t)};bt.useLayoutEffect=function(e,t){return ur.current.useLayoutEffect(e,t)};bt.useMemo=function(e,t){return ur.current.useMemo(e,t)};bt.useReducer=function(e,t,n){return ur.current.useReducer(e,t,n)};bt.useRef=function(e){return ur.current.useRef(e)};bt.useState=function(e){return ur.current.useState(e)};bt.useSyncExternalStore=function(e,t,n){return ur.current.useSyncExternalStore(e,t,n)};bt.useTransition=function(){return ur.current.useTransition()};bt.version="18.3.1";CO.exports=bt;var j=CO.exports;const L=Pt(j),fw=$3({__proto__:null,default:L},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3=j,J3=Symbol.for("react.element"),e5=Symbol.for("react.fragment"),t5=Object.prototype.hasOwnProperty,n5=Z3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r5={key:!0,ref:!0,__self:!0,__source:!0};function RO(e,t,n){var i,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)t5.call(t,i)&&!r5.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:J3,type:e,key:a,ref:o,props:s,_owner:n5.current}}Fx.Fragment=e5;Fx.jsx=RO;Fx.jsxs=RO;SO.exports=Fx;var r=SO.exports,MO={exports:{}},qr={},$O={exports:{}},DO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,H){var D=z.length;z.push(H);e:for(;0<D;){var U=D-1>>>1,R=z[U];if(0<s(R,H))z[U]=H,z[D]=R,D=U;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var H=z[0],D=z.pop();if(D!==H){z[0]=D;e:for(var U=0,R=z.length,se=R>>>1;U<se;){var ge=2*(U+1)-1,te=z[ge],we=ge+1,me=z[we];if(0>s(te,D))we<R&&0>s(me,te)?(z[U]=me,z[we]=D,U=we):(z[U]=te,z[ge]=D,U=ge);else if(we<R&&0>s(me,D))z[U]=me,z[we]=D,U=we;else break e}}return H}function s(z,H){var D=z.sortIndex-H.sortIndex;return D!==0?D:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,p=3,h=!1,v=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var H=n(d);H!==null;){if(H.callback===null)i(d);else if(H.startTime<=z)i(d),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(d)}}function N(z){if(m=!1,x(z),!v)if(n(c)!==null)v=!0,$(w);else{var H=n(d);H!==null&&G(N,H.startTime-z)}}function w(z,H){v=!1,m&&(m=!1,b(S),S=-1),h=!0;var D=p;try{for(x(H),f=n(c);f!==null&&(!(f.expirationTime>H)||z&&!P());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var R=U(f.expirationTime<=H);H=e.unstable_now(),typeof R=="function"?f.callback=R:f===n(c)&&i(c),x(H)}else i(c);f=n(c)}if(f!==null)var se=!0;else{var ge=n(d);ge!==null&&G(N,ge.startTime-H),se=!1}return se}finally{f=null,p=D,h=!1}}var k=!1,E=null,S=-1,C=5,_=-1;function P(){return!(e.unstable_now()-_<C)}function A(){if(E!==null){var z=e.unstable_now();_=z;var H=!0;try{H=E(!0,z)}finally{H?O():(k=!1,E=null)}}else k=!1}var O;if(typeof g=="function")O=function(){g(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=A,O=function(){F.postMessage(null)}}else O=function(){y(A,0)};function $(z){E=z,k||(k=!0,O())}function G(z,H){S=y(function(){z(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,$(w))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var D=p;p=H;try{return z()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var D=p;p=z;try{return H()}finally{p=D}},e.unstable_scheduleCallback=function(z,H,D){var U=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=D+R,z={id:u++,callback:H,priorityLevel:z,startTime:D,expirationTime:R,sortIndex:-1},D>U?(z.sortIndex=D,t(d,z),n(c)===null&&z===n(d)&&(m?(b(S),S=-1):m=!0,G(N,D-U))):(z.sortIndex=R,t(c,z),v||h||(v=!0,$(w))),z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(z){var H=p;return function(){var D=p;p=H;try{return z.apply(this,arguments)}finally{p=D}}}})(DO);$O.exports=DO;var i5=$O.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s5=j,Lr=i5;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FO=new Set,Lu={};function fl(e,t){Oc(e,t),Oc(e+"Capture",t)}function Oc(e,t){for(Lu[e]=t,e=0;e<t.length;e++)FO.add(t[e])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xy=Object.prototype.hasOwnProperty,a5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bS={},jS={};function o5(e){return Xy.call(jS,e)?!0:Xy.call(bS,e)?!1:a5.test(e)?jS[e]=!0:(bS[e]=!0,!1)}function l5(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function c5(e,t,n,i){if(t===null||typeof t>"u"||l5(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,n,i,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fn[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fn[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fn[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fn[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fn[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fn[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fn[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fn[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fn[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var pw=/[\-:]([a-z])/g;function mw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pw,mw);Fn[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pw,mw);Fn[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pw,mw);Fn[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fn[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fn[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function hw(e,t,n,i){var s=Fn.hasOwnProperty(t)?Fn[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(c5(t,n,s,i)&&(n=null),i||s===null?o5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Js=s5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rp=Symbol.for("react.element"),$l=Symbol.for("react.portal"),Dl=Symbol.for("react.fragment"),xw=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),LO=Symbol.for("react.provider"),qO=Symbol.for("react.context"),vw=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),e0=Symbol.for("react.suspense_list"),gw=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),zO=Symbol.for("react.offscreen"),wS=Symbol.iterator;function Bd(e){return e===null||typeof e!="object"?null:(e=wS&&e[wS]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Object.assign,Ag;function fu(e){if(Ag===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ag=t&&t[1]||""}return`
`+Ag+e}var Pg=!1;function Og(e,t){if(!e||Pg)return"";Pg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=i.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Pg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fu(e):""}function d5(e){switch(e.tag){case 5:return fu(e.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return e=Og(e.type,!1),e;case 11:return e=Og(e.type.render,!1),e;case 1:return e=Og(e.type,!0),e;default:return""}}function t0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dl:return"Fragment";case $l:return"Portal";case Zy:return"Profiler";case xw:return"StrictMode";case Jy:return"Suspense";case e0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qO:return(e.displayName||"Context")+".Consumer";case LO:return(e._context.displayName||"Context")+".Provider";case vw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gw:return t=e.displayName||null,t!==null?t:t0(e.type)||"Memo";case ua:t=e._payload,e=e._init;try{return t0(e(t))}catch{}}return null}function u5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t0(t);case 8:return t===xw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ba(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function BO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f5(e){var t=BO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mp(e){e._valueTracker||(e._valueTracker=f5(e))}function UO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=BO(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Um(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function n0(e,t){var n=t.checked;return sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function NS(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ba(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VO(e,t){t=t.checked,t!=null&&hw(e,"checked",t,!1)}function r0(e,t){VO(e,t);var n=Ba(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?i0(e,t.type,n):t.hasOwnProperty("defaultValue")&&i0(e,t.type,Ba(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function SS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function i0(e,t,n){(t!=="number"||Um(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pu=Array.isArray;function ec(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ba(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function s0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function CS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(pu(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ba(n)}}function WO(e,t){var n=Ba(t.value),i=Ba(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function kS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function HO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?HO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $p,GO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($p=$p||document.createElement("div"),$p.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$p.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p5=["Webkit","ms","Moz","O"];Object.keys(ju).forEach(function(e){p5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ju[t]=ju[e]})});function KO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ju.hasOwnProperty(e)&&ju[e]?(""+t).trim():t+"px"}function YO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=KO(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var m5=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function o0(e,t){if(t){if(m5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function l0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=null;function yw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var d0=null,tc=null,nc=null;function ES(e){if(e=dp(e)){if(typeof d0!="function")throw Error(he(280));var t=e.stateNode;t&&(t=Ux(t),d0(e.stateNode,e.type,t))}}function QO(e){tc?nc?nc.push(e):nc=[e]:tc=e}function XO(){if(tc){var e=tc,t=nc;if(nc=tc=null,ES(e),t)for(e=0;e<t.length;e++)ES(t[e])}}function ZO(e,t){return e(t)}function JO(){}var Tg=!1;function eT(e,t,n){if(Tg)return e(t,n);Tg=!0;try{return ZO(e,t,n)}finally{Tg=!1,(tc!==null||nc!==null)&&(JO(),XO())}}function zu(e,t){var n=e.stateNode;if(n===null)return null;var i=Ux(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var u0=!1;if(Ls)try{var Ud={};Object.defineProperty(Ud,"passive",{get:function(){u0=!0}}),window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{u0=!1}function h5(e,t,n,i,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var wu=!1,Vm=null,Wm=!1,f0=null,x5={onError:function(e){wu=!0,Vm=e}};function v5(e,t,n,i,s,a,o,l,c){wu=!1,Vm=null,h5.apply(x5,arguments)}function g5(e,t,n,i,s,a,o,l,c){if(v5.apply(this,arguments),wu){if(wu){var d=Vm;wu=!1,Vm=null}else throw Error(he(198));Wm||(Wm=!0,f0=d)}}function pl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function AS(e){if(pl(e)!==e)throw Error(he(188))}function y5(e){var t=e.alternate;if(!t){if(t=pl(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return AS(s),e;if(a===i)return AS(s),t;a=a.sibling}throw Error(he(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==i)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function nT(e){return e=y5(e),e!==null?rT(e):null}function rT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rT(e);if(t!==null)return t;e=e.sibling}return null}var iT=Lr.unstable_scheduleCallback,PS=Lr.unstable_cancelCallback,b5=Lr.unstable_shouldYield,j5=Lr.unstable_requestPaint,dn=Lr.unstable_now,w5=Lr.unstable_getCurrentPriorityLevel,bw=Lr.unstable_ImmediatePriority,sT=Lr.unstable_UserBlockingPriority,Hm=Lr.unstable_NormalPriority,N5=Lr.unstable_LowPriority,aT=Lr.unstable_IdlePriority,Lx=null,Ji=null;function S5(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(Lx,e,void 0,(e.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:E5,C5=Math.log,k5=Math.LN2;function E5(e){return e>>>=0,e===0?32:31-(C5(e)/k5|0)|0}var Dp=64,Fp=4194304;function mu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gm(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=mu(l):(a&=o,a!==0&&(i=mu(a)))}else o=n&~s,o!==0?i=mu(o):a!==0&&(i=mu(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ei(t),s=1<<n,i|=e[n],t&=~s;return i}function A5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P5(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ei(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&i)&&(s[o]=A5(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function p0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oT(){var e=Dp;return Dp<<=1,!(Dp&4194240)&&(Dp=64),e}function _g(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ei(t),e[t]=n}function O5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ei(n),a=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~a}}function jw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ei(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Rt=0;function lT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cT,ww,dT,uT,fT,m0=!1,Lp=[],Ta=null,_a=null,Ia=null,Bu=new Map,Uu=new Map,ha=[],T5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OS(e,t){switch(e){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Bu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(t.pointerId)}}function Vd(e,t,n,i,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=dp(t),t!==null&&ww(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _5(e,t,n,i,s){switch(t){case"focusin":return Ta=Vd(Ta,e,t,n,i,s),!0;case"dragenter":return _a=Vd(_a,e,t,n,i,s),!0;case"mouseover":return Ia=Vd(Ia,e,t,n,i,s),!0;case"pointerover":var a=s.pointerId;return Bu.set(a,Vd(Bu.get(a)||null,e,t,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Uu.set(a,Vd(Uu.get(a)||null,e,t,n,i,s)),!0}return!1}function pT(e){var t=jo(e.target);if(t!==null){var n=pl(t);if(n!==null){if(t=n.tag,t===13){if(t=tT(n),t!==null){e.blockedOn=t,fT(e.priority,function(){dT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=h0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);c0=i,n.target.dispatchEvent(i),c0=null}else return t=dp(n),t!==null&&ww(t),e.blockedOn=n,!1;t.shift()}return!0}function TS(e,t,n){Sm(e)&&n.delete(t)}function I5(){m0=!1,Ta!==null&&Sm(Ta)&&(Ta=null),_a!==null&&Sm(_a)&&(_a=null),Ia!==null&&Sm(Ia)&&(Ia=null),Bu.forEach(TS),Uu.forEach(TS)}function Wd(e,t){e.blockedOn===t&&(e.blockedOn=null,m0||(m0=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,I5)))}function Vu(e){function t(s){return Wd(s,e)}if(0<Lp.length){Wd(Lp[0],e);for(var n=1;n<Lp.length;n++){var i=Lp[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ta!==null&&Wd(Ta,e),_a!==null&&Wd(_a,e),Ia!==null&&Wd(Ia,e),Bu.forEach(t),Uu.forEach(t),n=0;n<ha.length;n++)i=ha[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<ha.length&&(n=ha[0],n.blockedOn===null);)pT(n),n.blockedOn===null&&ha.shift()}var rc=Js.ReactCurrentBatchConfig,Km=!0;function R5(e,t,n,i){var s=Rt,a=rc.transition;rc.transition=null;try{Rt=1,Nw(e,t,n,i)}finally{Rt=s,rc.transition=a}}function M5(e,t,n,i){var s=Rt,a=rc.transition;rc.transition=null;try{Rt=4,Nw(e,t,n,i)}finally{Rt=s,rc.transition=a}}function Nw(e,t,n,i){if(Km){var s=h0(e,t,n,i);if(s===null)Bg(e,t,i,Ym,n),OS(e,i);else if(_5(s,e,t,n,i))i.stopPropagation();else if(OS(e,i),t&4&&-1<T5.indexOf(e)){for(;s!==null;){var a=dp(s);if(a!==null&&cT(a),a=h0(e,t,n,i),a===null&&Bg(e,t,i,Ym,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Bg(e,t,i,null,n)}}var Ym=null;function h0(e,t,n,i){if(Ym=null,e=yw(i),e=jo(e),e!==null)if(t=pl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ym=e,null}function mT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w5()){case bw:return 1;case sT:return 4;case Hm:case N5:return 16;case aT:return 536870912;default:return 16}default:return 16}}var Aa=null,Sw=null,Cm=null;function hT(){if(Cm)return Cm;var e,t=Sw,n=t.length,i,s="value"in Aa?Aa.value:Aa.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===s[a-i];i++);return Cm=s.slice(e,1<i?1-i:void 0)}function km(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qp(){return!0}function _S(){return!1}function zr(e){function t(n,i,s,a,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?qp:_S,this.isPropagationStopped=_S,this}return sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qp)},persist:function(){},isPersistent:qp}),t}var bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cw=zr(bd),cp=sn({},bd,{view:0,detail:0}),$5=zr(cp),Ig,Rg,Hd,qx=sn({},cp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hd&&(Hd&&e.type==="mousemove"?(Ig=e.screenX-Hd.screenX,Rg=e.screenY-Hd.screenY):Rg=Ig=0,Hd=e),Ig)},movementY:function(e){return"movementY"in e?e.movementY:Rg}}),IS=zr(qx),D5=sn({},qx,{dataTransfer:0}),F5=zr(D5),L5=sn({},cp,{relatedTarget:0}),Mg=zr(L5),q5=sn({},bd,{animationName:0,elapsedTime:0,pseudoElement:0}),z5=zr(q5),B5=sn({},bd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U5=zr(B5),V5=sn({},bd,{data:0}),RS=zr(V5),W5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G5[e])?!!t[e]:!1}function kw(){return K5}var Y5=sn({},cp,{key:function(e){if(e.key){var t=W5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=km(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kw,charCode:function(e){return e.type==="keypress"?km(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?km(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q5=zr(Y5),X5=sn({},qx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MS=zr(X5),Z5=sn({},cp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kw}),J5=zr(Z5),eq=sn({},bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),tq=zr(eq),nq=sn({},qx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rq=zr(nq),iq=[9,13,27,32],Ew=Ls&&"CompositionEvent"in window,Nu=null;Ls&&"documentMode"in document&&(Nu=document.documentMode);var sq=Ls&&"TextEvent"in window&&!Nu,xT=Ls&&(!Ew||Nu&&8<Nu&&11>=Nu),$S=" ",DS=!1;function vT(e,t){switch(e){case"keyup":return iq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fl=!1;function aq(e,t){switch(e){case"compositionend":return gT(t);case"keypress":return t.which!==32?null:(DS=!0,$S);case"textInput":return e=t.data,e===$S&&DS?null:e;default:return null}}function oq(e,t){if(Fl)return e==="compositionend"||!Ew&&vT(e,t)?(e=hT(),Cm=Sw=Aa=null,Fl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xT&&t.locale!=="ko"?null:t.data;default:return null}}var lq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lq[e.type]:t==="textarea"}function yT(e,t,n,i){QO(i),t=Qm(t,"onChange"),0<t.length&&(n=new Cw("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Su=null,Wu=null;function cq(e){OT(e,0)}function zx(e){var t=zl(e);if(UO(t))return e}function dq(e,t){if(e==="change")return t}var bT=!1;if(Ls){var $g;if(Ls){var Dg="oninput"in document;if(!Dg){var LS=document.createElement("div");LS.setAttribute("oninput","return;"),Dg=typeof LS.oninput=="function"}$g=Dg}else $g=!1;bT=$g&&(!document.documentMode||9<document.documentMode)}function qS(){Su&&(Su.detachEvent("onpropertychange",jT),Wu=Su=null)}function jT(e){if(e.propertyName==="value"&&zx(Wu)){var t=[];yT(t,Wu,e,yw(e)),eT(cq,t)}}function uq(e,t,n){e==="focusin"?(qS(),Su=t,Wu=n,Su.attachEvent("onpropertychange",jT)):e==="focusout"&&qS()}function fq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zx(Wu)}function pq(e,t){if(e==="click")return zx(t)}function mq(e,t){if(e==="input"||e==="change")return zx(t)}function hq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ti=typeof Object.is=="function"?Object.is:hq;function Hu(e,t){if(Ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Xy.call(t,s)||!Ti(e[s],t[s]))return!1}return!0}function zS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function BS(e,t){var n=zS(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zS(n)}}function wT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NT(){for(var e=window,t=Um();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Um(e.document)}return t}function Aw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xq(e){var t=NT(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wT(n.ownerDocument.documentElement,n)){if(i!==null&&Aw(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=BS(n,a);var o=BS(n,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vq=Ls&&"documentMode"in document&&11>=document.documentMode,Ll=null,x0=null,Cu=null,v0=!1;function US(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;v0||Ll==null||Ll!==Um(i)||(i=Ll,"selectionStart"in i&&Aw(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Cu&&Hu(Cu,i)||(Cu=i,i=Qm(x0,"onSelect"),0<i.length&&(t=new Cw("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ll)))}function zp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ql={animationend:zp("Animation","AnimationEnd"),animationiteration:zp("Animation","AnimationIteration"),animationstart:zp("Animation","AnimationStart"),transitionend:zp("Transition","TransitionEnd")},Fg={},ST={};Ls&&(ST=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Bx(e){if(Fg[e])return Fg[e];if(!ql[e])return e;var t=ql[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ST)return Fg[e]=t[n];return e}var CT=Bx("animationend"),kT=Bx("animationiteration"),ET=Bx("animationstart"),AT=Bx("transitionend"),PT=new Map,VS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(e,t){PT.set(e,t),fl(t,[e])}for(var Lg=0;Lg<VS.length;Lg++){var qg=VS[Lg],gq=qg.toLowerCase(),yq=qg[0].toUpperCase()+qg.slice(1);Za(gq,"on"+yq)}Za(CT,"onAnimationEnd");Za(kT,"onAnimationIteration");Za(ET,"onAnimationStart");Za("dblclick","onDoubleClick");Za("focusin","onFocus");Za("focusout","onBlur");Za(AT,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bq=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function WS(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,g5(i,t,void 0,e),e.currentTarget=null}function OT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;WS(s,l,d),a=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;WS(s,l,d),a=c}}}if(Wm)throw e=f0,Wm=!1,f0=null,e}function Vt(e,t){var n=t[w0];n===void 0&&(n=t[w0]=new Set);var i=e+"__bubble";n.has(i)||(TT(t,e,2,!1),n.add(i))}function zg(e,t,n){var i=0;t&&(i|=4),TT(n,e,i,t)}var Bp="_reactListening"+Math.random().toString(36).slice(2);function Gu(e){if(!e[Bp]){e[Bp]=!0,FO.forEach(function(n){n!=="selectionchange"&&(bq.has(n)||zg(n,!1,e),zg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bp]||(t[Bp]=!0,zg("selectionchange",!1,t))}}function TT(e,t,n,i){switch(mT(t)){case 1:var s=R5;break;case 4:s=M5;break;default:s=Nw}n=s.bind(null,t,n,e),s=void 0,!u0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bg(e,t,n,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=jo(l),o===null)return;if(c=o.tag,c===5||c===6){i=a=o;continue e}l=l.parentNode}}i=i.return}eT(function(){var d=a,u=yw(n),f=[];e:{var p=PT.get(e);if(p!==void 0){var h=Cw,v=e;switch(e){case"keypress":if(km(n)===0)break e;case"keydown":case"keyup":h=Q5;break;case"focusin":v="focus",h=Mg;break;case"focusout":v="blur",h=Mg;break;case"beforeblur":case"afterblur":h=Mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=IS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=F5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=J5;break;case CT:case kT:case ET:h=z5;break;case AT:h=tq;break;case"scroll":h=$5;break;case"wheel":h=rq;break;case"copy":case"cut":case"paste":h=U5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=MS}var m=(t&4)!==0,y=!m&&e==="scroll",b=m?p!==null?p+"Capture":null:p;m=[];for(var g=d,x;g!==null;){x=g;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,b!==null&&(N=zu(g,b),N!=null&&m.push(Ku(g,N,x)))),y)break;g=g.return}0<m.length&&(p=new h(p,v,null,n,u),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==c0&&(v=n.relatedTarget||n.fromElement)&&(jo(v)||v[qs]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=d,v=v?jo(v):null,v!==null&&(y=pl(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=d),h!==v)){if(m=IS,N="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=MS,N="onPointerLeave",b="onPointerEnter",g="pointer"),y=h==null?p:zl(h),x=v==null?p:zl(v),p=new m(N,g+"leave",h,n,u),p.target=y,p.relatedTarget=x,N=null,jo(u)===d&&(m=new m(b,g+"enter",v,n,u),m.target=x,m.relatedTarget=y,N=m),y=N,h&&v)t:{for(m=h,b=v,g=0,x=m;x;x=Nl(x))g++;for(x=0,N=b;N;N=Nl(N))x++;for(;0<g-x;)m=Nl(m),g--;for(;0<x-g;)b=Nl(b),x--;for(;g--;){if(m===b||b!==null&&m===b.alternate)break t;m=Nl(m),b=Nl(b)}m=null}else m=null;h!==null&&HS(f,p,h,m,!1),v!==null&&y!==null&&HS(f,y,v,m,!0)}}e:{if(p=d?zl(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var w=dq;else if(FS(p))if(bT)w=mq;else{w=fq;var k=uq}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=pq);if(w&&(w=w(e,d))){yT(f,w,n,u);break e}k&&k(e,p,d),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&i0(p,"number",p.value)}switch(k=d?zl(d):window,e){case"focusin":(FS(k)||k.contentEditable==="true")&&(Ll=k,x0=d,Cu=null);break;case"focusout":Cu=x0=Ll=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,US(f,n,u);break;case"selectionchange":if(vq)break;case"keydown":case"keyup":US(f,n,u)}var E;if(Ew)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Fl?vT(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(xT&&n.locale!=="ko"&&(Fl||S!=="onCompositionStart"?S==="onCompositionEnd"&&Fl&&(E=hT()):(Aa=u,Sw="value"in Aa?Aa.value:Aa.textContent,Fl=!0)),k=Qm(d,S),0<k.length&&(S=new RS(S,e,null,n,u),f.push({event:S,listeners:k}),E?S.data=E:(E=gT(n),E!==null&&(S.data=E)))),(E=sq?aq(e,n):oq(e,n))&&(d=Qm(d,"onBeforeInput"),0<d.length&&(u=new RS("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=E))}OT(f,t)})}function Ku(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qm(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=zu(e,n),a!=null&&i.unshift(Ku(e,a,s)),a=zu(e,t),a!=null&&i.push(Ku(e,a,s))),e=e.return}return i}function Nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function HS(e,t,n,i,s){for(var a=t._reactName,o=[];n!==null&&n!==i;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&d!==null&&(l=d,s?(c=zu(n,a),c!=null&&o.unshift(Ku(n,c,l))):s||(c=zu(n,a),c!=null&&o.push(Ku(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jq=/\r\n?/g,wq=/\u0000|\uFFFD/g;function GS(e){return(typeof e=="string"?e:""+e).replace(jq,`
`).replace(wq,"")}function Up(e,t,n){if(t=GS(t),GS(e)!==t&&n)throw Error(he(425))}function Xm(){}var g0=null,y0=null;function b0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var j0=typeof setTimeout=="function"?setTimeout:void 0,Nq=typeof clearTimeout=="function"?clearTimeout:void 0,KS=typeof Promise=="function"?Promise:void 0,Sq=typeof queueMicrotask=="function"?queueMicrotask:typeof KS<"u"?function(e){return KS.resolve(null).then(e).catch(Cq)}:j0;function Cq(e){setTimeout(function(){throw e})}function Ug(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Vu(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Vu(t)}function Ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function YS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jd=Math.random().toString(36).slice(2),Hi="__reactFiber$"+jd,Yu="__reactProps$"+jd,qs="__reactContainer$"+jd,w0="__reactEvents$"+jd,kq="__reactListeners$"+jd,Eq="__reactHandles$"+jd;function jo(e){var t=e[Hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qs]||n[Hi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=YS(e);e!==null;){if(n=e[Hi])return n;e=YS(e)}return t}e=n,n=e.parentNode}return null}function dp(e){return e=e[Hi]||e[qs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Ux(e){return e[Yu]||null}var N0=[],Bl=-1;function Ja(e){return{current:e}}function Gt(e){0>Bl||(e.current=N0[Bl],N0[Bl]=null,Bl--)}function zt(e,t){Bl++,N0[Bl]=e.current,e.current=t}var Ua={},Qn=Ja(Ua),yr=Ja(!1),Ho=Ua;function Tc(e,t){var n=e.type.contextTypes;if(!n)return Ua;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function br(e){return e=e.childContextTypes,e!=null}function Zm(){Gt(yr),Gt(Qn)}function QS(e,t,n){if(Qn.current!==Ua)throw Error(he(168));zt(Qn,t),zt(yr,n)}function _T(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(he(108,u5(e)||"Unknown",s));return sn({},n,i)}function Jm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ua,Ho=Qn.current,zt(Qn,e),zt(yr,yr.current),!0}function XS(e,t,n){var i=e.stateNode;if(!i)throw Error(he(169));n?(e=_T(e,t,Ho),i.__reactInternalMemoizedMergedChildContext=e,Gt(yr),Gt(Qn),zt(Qn,e)):Gt(yr),zt(yr,n)}var Ss=null,Vx=!1,Vg=!1;function IT(e){Ss===null?Ss=[e]:Ss.push(e)}function Aq(e){Vx=!0,IT(e)}function eo(){if(!Vg&&Ss!==null){Vg=!0;var e=0,t=Rt;try{var n=Ss;for(Rt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Ss=null,Vx=!1}catch(s){throw Ss!==null&&(Ss=Ss.slice(e+1)),iT(bw,eo),s}finally{Rt=t,Vg=!1}}return null}var Ul=[],Vl=0,eh=null,th=0,Yr=[],Qr=0,Go=null,Es=1,As="";function po(e,t){Ul[Vl++]=th,Ul[Vl++]=eh,eh=e,th=t}function RT(e,t,n){Yr[Qr++]=Es,Yr[Qr++]=As,Yr[Qr++]=Go,Go=e;var i=Es;e=As;var s=32-Ei(i)-1;i&=~(1<<s),n+=1;var a=32-Ei(t)+s;if(30<a){var o=s-s%5;a=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Es=1<<32-Ei(t)+s|n<<s|i,As=a+e}else Es=1<<a|n<<s|i,As=e}function Pw(e){e.return!==null&&(po(e,1),RT(e,1,0))}function Ow(e){for(;e===eh;)eh=Ul[--Vl],Ul[Vl]=null,th=Ul[--Vl],Ul[Vl]=null;for(;e===Go;)Go=Yr[--Qr],Yr[Qr]=null,As=Yr[--Qr],Yr[Qr]=null,Es=Yr[--Qr],Yr[Qr]=null}var Mr=null,_r=null,Qt=!1,yi=null;function MT(e,t){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ZS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,_r=Ra(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,_r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Go!==null?{id:Es,overflow:As}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mr=e,_r=null,!0):!1;default:return!1}}function S0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function C0(e){if(Qt){var t=_r;if(t){var n=t;if(!ZS(e,t)){if(S0(e))throw Error(he(418));t=Ra(n.nextSibling);var i=Mr;t&&ZS(e,t)?MT(i,n):(e.flags=e.flags&-4097|2,Qt=!1,Mr=e)}}else{if(S0(e))throw Error(he(418));e.flags=e.flags&-4097|2,Qt=!1,Mr=e}}}function JS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function Vp(e){if(e!==Mr)return!1;if(!Qt)return JS(e),Qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!b0(e.type,e.memoizedProps)),t&&(t=_r)){if(S0(e))throw $T(),Error(he(418));for(;t;)MT(e,t),t=Ra(t.nextSibling)}if(JS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_r=Ra(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_r=null}}else _r=Mr?Ra(e.stateNode.nextSibling):null;return!0}function $T(){for(var e=_r;e;)e=Ra(e.nextSibling)}function _c(){_r=Mr=null,Qt=!1}function Tw(e){yi===null?yi=[e]:yi.push(e)}var Pq=Js.ReactCurrentBatchConfig;function Gd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var i=n.stateNode}if(!i)throw Error(he(147,e));var s=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function Wp(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eC(e){var t=e._init;return t(e._payload)}function DT(e){function t(b,g){if(e){var x=b.deletions;x===null?(b.deletions=[g],b.flags|=16):x.push(g)}}function n(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function i(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function s(b,g){return b=Fa(b,g),b.index=0,b.sibling=null,b}function a(b,g,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<g?(b.flags|=2,g):x):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,g,x,N){return g===null||g.tag!==6?(g=Xg(x,b.mode,N),g.return=b,g):(g=s(g,x),g.return=b,g)}function c(b,g,x,N){var w=x.type;return w===Dl?u(b,g,x.props.children,N,x.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ua&&eC(w)===g.type)?(N=s(g,x.props),N.ref=Gd(b,g,x),N.return=b,N):(N=Im(x.type,x.key,x.props,null,b.mode,N),N.ref=Gd(b,g,x),N.return=b,N)}function d(b,g,x,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Zg(x,b.mode,N),g.return=b,g):(g=s(g,x.children||[]),g.return=b,g)}function u(b,g,x,N,w){return g===null||g.tag!==7?(g=Do(x,b.mode,N,w),g.return=b,g):(g=s(g,x),g.return=b,g)}function f(b,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Xg(""+g,b.mode,x),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Rp:return x=Im(g.type,g.key,g.props,null,b.mode,x),x.ref=Gd(b,null,g),x.return=b,x;case $l:return g=Zg(g,b.mode,x),g.return=b,g;case ua:var N=g._init;return f(b,N(g._payload),x)}if(pu(g)||Bd(g))return g=Do(g,b.mode,x,null),g.return=b,g;Wp(b,g)}return null}function p(b,g,x,N){var w=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:l(b,g,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rp:return x.key===w?c(b,g,x,N):null;case $l:return x.key===w?d(b,g,x,N):null;case ua:return w=x._init,p(b,g,w(x._payload),N)}if(pu(x)||Bd(x))return w!==null?null:u(b,g,x,N,null);Wp(b,x)}return null}function h(b,g,x,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(x)||null,l(g,b,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Rp:return b=b.get(N.key===null?x:N.key)||null,c(g,b,N,w);case $l:return b=b.get(N.key===null?x:N.key)||null,d(g,b,N,w);case ua:var k=N._init;return h(b,g,x,k(N._payload),w)}if(pu(N)||Bd(N))return b=b.get(x)||null,u(g,b,N,w,null);Wp(g,N)}return null}function v(b,g,x,N){for(var w=null,k=null,E=g,S=g=0,C=null;E!==null&&S<x.length;S++){E.index>S?(C=E,E=null):C=E.sibling;var _=p(b,E,x[S],N);if(_===null){E===null&&(E=C);break}e&&E&&_.alternate===null&&t(b,E),g=a(_,g,S),k===null?w=_:k.sibling=_,k=_,E=C}if(S===x.length)return n(b,E),Qt&&po(b,S),w;if(E===null){for(;S<x.length;S++)E=f(b,x[S],N),E!==null&&(g=a(E,g,S),k===null?w=E:k.sibling=E,k=E);return Qt&&po(b,S),w}for(E=i(b,E);S<x.length;S++)C=h(E,b,S,x[S],N),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?S:C.key),g=a(C,g,S),k===null?w=C:k.sibling=C,k=C);return e&&E.forEach(function(P){return t(b,P)}),Qt&&po(b,S),w}function m(b,g,x,N){var w=Bd(x);if(typeof w!="function")throw Error(he(150));if(x=w.call(x),x==null)throw Error(he(151));for(var k=w=null,E=g,S=g=0,C=null,_=x.next();E!==null&&!_.done;S++,_=x.next()){E.index>S?(C=E,E=null):C=E.sibling;var P=p(b,E,_.value,N);if(P===null){E===null&&(E=C);break}e&&E&&P.alternate===null&&t(b,E),g=a(P,g,S),k===null?w=P:k.sibling=P,k=P,E=C}if(_.done)return n(b,E),Qt&&po(b,S),w;if(E===null){for(;!_.done;S++,_=x.next())_=f(b,_.value,N),_!==null&&(g=a(_,g,S),k===null?w=_:k.sibling=_,k=_);return Qt&&po(b,S),w}for(E=i(b,E);!_.done;S++,_=x.next())_=h(E,b,S,_.value,N),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?S:_.key),g=a(_,g,S),k===null?w=_:k.sibling=_,k=_);return e&&E.forEach(function(A){return t(b,A)}),Qt&&po(b,S),w}function y(b,g,x,N){if(typeof x=="object"&&x!==null&&x.type===Dl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Rp:e:{for(var w=x.key,k=g;k!==null;){if(k.key===w){if(w=x.type,w===Dl){if(k.tag===7){n(b,k.sibling),g=s(k,x.props.children),g.return=b,b=g;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ua&&eC(w)===k.type){n(b,k.sibling),g=s(k,x.props),g.ref=Gd(b,k,x),g.return=b,b=g;break e}n(b,k);break}else t(b,k);k=k.sibling}x.type===Dl?(g=Do(x.props.children,b.mode,N,x.key),g.return=b,b=g):(N=Im(x.type,x.key,x.props,null,b.mode,N),N.ref=Gd(b,g,x),N.return=b,b=N)}return o(b);case $l:e:{for(k=x.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(b,g.sibling),g=s(g,x.children||[]),g.return=b,b=g;break e}else{n(b,g);break}else t(b,g);g=g.sibling}g=Zg(x,b.mode,N),g.return=b,b=g}return o(b);case ua:return k=x._init,y(b,g,k(x._payload),N)}if(pu(x))return v(b,g,x,N);if(Bd(x))return m(b,g,x,N);Wp(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(b,g.sibling),g=s(g,x),g.return=b,b=g):(n(b,g),g=Xg(x,b.mode,N),g.return=b,b=g),o(b)):n(b,g)}return y}var Ic=DT(!0),FT=DT(!1),nh=Ja(null),rh=null,Wl=null,_w=null;function Iw(){_w=Wl=rh=null}function Rw(e){var t=nh.current;Gt(nh),e._currentValue=t}function k0(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ic(e,t){rh=e,_w=Wl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vr=!0),e.firstContext=null)}function ri(e){var t=e._currentValue;if(_w!==e)if(e={context:e,memoizedValue:t,next:null},Wl===null){if(rh===null)throw Error(he(308));Wl=e,rh.dependencies={lanes:0,firstContext:e}}else Wl=Wl.next=e;return t}var wo=null;function Mw(e){wo===null?wo=[e]:wo.push(e)}function LT(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,Mw(t)):(n.next=s.next,s.next=n),t.interleaved=n,zs(e,i)}function zs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fa=!1;function $w(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,St&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,zs(e,n)}return s=i.interleaved,s===null?(t.next=t,Mw(i)):(t.next=s.next,s.next=t),i.interleaved=t,zs(e,n)}function Em(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,jw(e,n)}}function tC(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ih(e,t,n,i){var s=e.updateQueue;fa=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,u=d=c=null,l=a;do{var p=l.lane,h=l.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(p=t,h=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(h,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,p=typeof v=="function"?v.call(h,f,p):v,p==null)break e;f=sn({},f,p);break e;case 2:fa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Yo|=o,e.lanes=o,e.memoizedState=f}}function nC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(he(191,s));s.call(i)}}}var up={},es=Ja(up),Qu=Ja(up),Xu=Ja(up);function No(e){if(e===up)throw Error(he(174));return e}function Dw(e,t){switch(zt(Xu,t),zt(Qu,e),zt(es,up),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:a0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=a0(t,e)}Gt(es),zt(es,t)}function Rc(){Gt(es),Gt(Qu),Gt(Xu)}function zT(e){No(Xu.current);var t=No(es.current),n=a0(t,e.type);t!==n&&(zt(Qu,e),zt(es,n))}function Fw(e){Qu.current===e&&(Gt(es),Gt(Qu))}var nn=Ja(0);function sh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wg=[];function Lw(){for(var e=0;e<Wg.length;e++)Wg[e]._workInProgressVersionPrimary=null;Wg.length=0}var Am=Js.ReactCurrentDispatcher,Hg=Js.ReactCurrentBatchConfig,Ko=0,rn=null,jn=null,An=null,ah=!1,ku=!1,Zu=0,Oq=0;function qn(){throw Error(he(321))}function qw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ti(e[n],t[n]))return!1;return!0}function zw(e,t,n,i,s,a){if(Ko=a,rn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Am.current=e===null||e.memoizedState===null?Rq:Mq,e=n(i,s),ku){a=0;do{if(ku=!1,Zu=0,25<=a)throw Error(he(301));a+=1,An=jn=null,t.updateQueue=null,Am.current=$q,e=n(i,s)}while(ku)}if(Am.current=oh,t=jn!==null&&jn.next!==null,Ko=0,An=jn=rn=null,ah=!1,t)throw Error(he(300));return e}function Bw(){var e=Zu!==0;return Zu=0,e}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?rn.memoizedState=An=e:An=An.next=e,An}function ii(){if(jn===null){var e=rn.alternate;e=e!==null?e.memoizedState:null}else e=jn.next;var t=An===null?rn.memoizedState:An.next;if(t!==null)An=t,jn=e;else{if(e===null)throw Error(he(310));jn=e,e={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},An===null?rn.memoizedState=An=e:An=An.next=e}return An}function Ju(e,t){return typeof t=="function"?t(e):t}function Gg(e){var t=ii(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var i=jn,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Ko&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=i):c=c.next=f,rn.lanes|=u,Yo|=u}d=d.next}while(d!==null&&d!==a);c===null?o=i:c.next=l,Ti(i,t.memoizedState)||(vr=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do a=s.lane,rn.lanes|=a,Yo|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kg(e){var t=ii(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Ti(a,t.memoizedState)||(vr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function BT(){}function UT(e,t){var n=rn,i=ii(),s=t(),a=!Ti(i.memoizedState,s);if(a&&(i.memoizedState=s,vr=!0),i=i.queue,Uw(HT.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,ef(9,WT.bind(null,n,i,s,t),void 0,null),Tn===null)throw Error(he(349));Ko&30||VT(n,t,s)}return s}function VT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function WT(e,t,n,i){t.value=n,t.getSnapshot=i,GT(t)&&KT(e)}function HT(e,t,n){return n(function(){GT(t)&&KT(e)})}function GT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ti(e,n)}catch{return!0}}function KT(e){var t=zs(e,1);t!==null&&Ai(t,e,1,-1)}function rC(e){var t=zi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:e},t.queue=e,e=e.dispatch=Iq.bind(null,rn,e),[t.memoizedState,e]}function ef(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function YT(){return ii().memoizedState}function Pm(e,t,n,i){var s=zi();rn.flags|=e,s.memoizedState=ef(1|t,n,void 0,i===void 0?null:i)}function Wx(e,t,n,i){var s=ii();i=i===void 0?null:i;var a=void 0;if(jn!==null){var o=jn.memoizedState;if(a=o.destroy,i!==null&&qw(i,o.deps)){s.memoizedState=ef(t,n,a,i);return}}rn.flags|=e,s.memoizedState=ef(1|t,n,a,i)}function iC(e,t){return Pm(8390656,8,e,t)}function Uw(e,t){return Wx(2048,8,e,t)}function QT(e,t){return Wx(4,2,e,t)}function XT(e,t){return Wx(4,4,e,t)}function ZT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JT(e,t,n){return n=n!=null?n.concat([e]):null,Wx(4,4,ZT.bind(null,t,e),n)}function Vw(){}function e_(e,t){var n=ii();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&qw(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function t_(e,t){var n=ii();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&qw(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function n_(e,t,n){return Ko&21?(Ti(n,t)||(n=oT(),rn.lanes|=n,Yo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vr=!0),e.memoizedState=n)}function Tq(e,t){var n=Rt;Rt=n!==0&&4>n?n:4,e(!0);var i=Hg.transition;Hg.transition={};try{e(!1),t()}finally{Rt=n,Hg.transition=i}}function r_(){return ii().memoizedState}function _q(e,t,n){var i=Da(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},i_(e))s_(t,n);else if(n=LT(e,t,n,i),n!==null){var s=lr();Ai(n,e,i,s),a_(n,t,i)}}function Iq(e,t,n){var i=Da(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(i_(e))s_(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ti(l,o)){var c=t.interleaved;c===null?(s.next=s,Mw(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=LT(e,t,s,i),n!==null&&(s=lr(),Ai(n,e,i,s),a_(n,t,i))}}function i_(e){var t=e.alternate;return e===rn||t!==null&&t===rn}function s_(e,t){ku=ah=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function a_(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,jw(e,n)}}var oh={readContext:ri,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},Rq={readContext:ri,useCallback:function(e,t){return zi().memoizedState=[e,t===void 0?null:t],e},useContext:ri,useEffect:iC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pm(4194308,4,ZT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pm(4,2,e,t)},useMemo:function(e,t){var n=zi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=zi();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=_q.bind(null,rn,e),[i.memoizedState,e]},useRef:function(e){var t=zi();return e={current:e},t.memoizedState=e},useState:rC,useDebugValue:Vw,useDeferredValue:function(e){return zi().memoizedState=e},useTransition:function(){var e=rC(!1),t=e[0];return e=Tq.bind(null,e[1]),zi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=rn,s=zi();if(Qt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),Tn===null)throw Error(he(349));Ko&30||VT(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,iC(HT.bind(null,i,a,e),[e]),i.flags|=2048,ef(9,WT.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=zi(),t=Tn.identifierPrefix;if(Qt){var n=As,i=Es;n=(i&~(1<<32-Ei(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Oq++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mq={readContext:ri,useCallback:e_,useContext:ri,useEffect:Uw,useImperativeHandle:JT,useInsertionEffect:QT,useLayoutEffect:XT,useMemo:t_,useReducer:Gg,useRef:YT,useState:function(){return Gg(Ju)},useDebugValue:Vw,useDeferredValue:function(e){var t=ii();return n_(t,jn.memoizedState,e)},useTransition:function(){var e=Gg(Ju)[0],t=ii().memoizedState;return[e,t]},useMutableSource:BT,useSyncExternalStore:UT,useId:r_,unstable_isNewReconciler:!1},$q={readContext:ri,useCallback:e_,useContext:ri,useEffect:Uw,useImperativeHandle:JT,useInsertionEffect:QT,useLayoutEffect:XT,useMemo:t_,useReducer:Kg,useRef:YT,useState:function(){return Kg(Ju)},useDebugValue:Vw,useDeferredValue:function(e){var t=ii();return jn===null?t.memoizedState=e:n_(t,jn.memoizedState,e)},useTransition:function(){var e=Kg(Ju)[0],t=ii().memoizedState;return[e,t]},useMutableSource:BT,useSyncExternalStore:UT,useId:r_,unstable_isNewReconciler:!1};function mi(e,t){if(e&&e.defaultProps){t=sn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function E0(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:sn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hx={isMounted:function(e){return(e=e._reactInternals)?pl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=lr(),s=Da(e),a=_s(i,s);a.payload=t,n!=null&&(a.callback=n),t=Ma(e,a,s),t!==null&&(Ai(t,e,s,i),Em(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=lr(),s=Da(e),a=_s(i,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ma(e,a,s),t!==null&&(Ai(t,e,s,i),Em(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lr(),i=Da(e),s=_s(n,i);s.tag=2,t!=null&&(s.callback=t),t=Ma(e,s,i),t!==null&&(Ai(t,e,i,n),Em(t,e,i))}};function sC(e,t,n,i,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,o):t.prototype&&t.prototype.isPureReactComponent?!Hu(n,i)||!Hu(s,a):!0}function o_(e,t,n){var i=!1,s=Ua,a=t.contextType;return typeof a=="object"&&a!==null?a=ri(a):(s=br(t)?Ho:Qn.current,i=t.contextTypes,a=(i=i!=null)?Tc(e,s):Ua),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hx,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function aC(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Hx.enqueueReplaceState(t,t.state,null)}function A0(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$w(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ri(a):(a=br(t)?Ho:Qn.current,s.context=Tc(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(E0(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hx.enqueueReplaceState(s,s.state,null),ih(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Mc(e,t){try{var n="",i=t;do n+=d5(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Yg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function P0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dq=typeof WeakMap=="function"?WeakMap:Map;function l_(e,t,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ch||(ch=!0,L0=i),P0(e,t)},n}function c_(e,t,n){n=_s(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){P0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){P0(e,t),typeof i!="function"&&($a===null?$a=new Set([this]):$a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function oC(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Dq;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=Xq.bind(null,e,t,n),t.then(e,e))}function lC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cC(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_s(-1,1),t.tag=2,Ma(n,t,1))),n.lanes|=1),e)}var Fq=Js.ReactCurrentOwner,vr=!1;function rr(e,t,n,i){t.child=e===null?FT(t,null,n,i):Ic(t,e.child,n,i)}function dC(e,t,n,i,s){n=n.render;var a=t.ref;return ic(t,s),i=zw(e,t,n,i,a,s),n=Bw(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bs(e,t,s)):(Qt&&n&&Pw(t),t.flags|=1,rr(e,t,i,s),t.child)}function uC(e,t,n,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!Zw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,d_(e,t,a,i,s)):(e=Im(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hu,n(o,i)&&e.ref===t.ref)return Bs(e,t,s)}return t.flags|=1,e=Fa(a,i),e.ref=t.ref,e.return=t,t.child=e}function d_(e,t,n,i,s){if(e!==null){var a=e.memoizedProps;if(Hu(a,i)&&e.ref===t.ref)if(vr=!1,t.pendingProps=i=a,(e.lanes&s)!==0)e.flags&131072&&(vr=!0);else return t.lanes=e.lanes,Bs(e,t,s)}return O0(e,t,n,i,s)}function u_(e,t,n){var i=t.pendingProps,s=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Gl,Er),Er|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(Gl,Er),Er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,zt(Gl,Er),Er|=i}else a!==null?(i=a.baseLanes|n,t.memoizedState=null):i=n,zt(Gl,Er),Er|=i;return rr(e,t,s,n),t.child}function f_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function O0(e,t,n,i,s){var a=br(n)?Ho:Qn.current;return a=Tc(t,a),ic(t,s),n=zw(e,t,n,i,a,s),i=Bw(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bs(e,t,s)):(Qt&&i&&Pw(t),t.flags|=1,rr(e,t,n,s),t.child)}function fC(e,t,n,i,s){if(br(n)){var a=!0;Jm(t)}else a=!1;if(ic(t,s),t.stateNode===null)Om(e,t),o_(t,n,i),A0(t,n,i,s),i=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ri(d):(d=br(n)?Ho:Qn.current,d=Tc(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==d)&&aC(t,o,i,d),fa=!1;var p=t.memoizedState;o.state=p,ih(t,i,o,s),c=t.memoizedState,l!==i||p!==c||yr.current||fa?(typeof u=="function"&&(E0(t,n,u,i),c=t.memoizedState),(l=fa||sC(t,n,l,i,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=d,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,qT(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:mi(t.type,l),o.props=d,f=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ri(c):(c=br(n)?Ho:Qn.current,c=Tc(t,c));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&aC(t,o,i,c),fa=!1,p=t.memoizedState,o.state=p,ih(t,i,o,s);var v=t.memoizedState;l!==f||p!==v||yr.current||fa?(typeof h=="function"&&(E0(t,n,h,i),v=t.memoizedState),(d=fa||sC(t,n,d,i,p,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),o.props=i,o.state=v,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return T0(e,t,n,i,a,s)}function T0(e,t,n,i,s,a){f_(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&XS(t,n,!1),Bs(e,t,a);i=t.stateNode,Fq.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Ic(t,e.child,null,a),t.child=Ic(t,null,l,a)):rr(e,t,l,a),t.memoizedState=i.state,s&&XS(t,n,!0),t.child}function p_(e){var t=e.stateNode;t.pendingContext?QS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&QS(e,t.context,!1),Dw(e,t.containerInfo)}function pC(e,t,n,i,s){return _c(),Tw(s),t.flags|=256,rr(e,t,n,i),t.child}var _0={dehydrated:null,treeContext:null,retryLane:0};function I0(e){return{baseLanes:e,cachePool:null,transitions:null}}function m_(e,t,n){var i=t.pendingProps,s=nn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),zt(nn,s&1),e===null)return C0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Yx(o,i,0,null),e=Do(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=I0(n),t.memoizedState=_0,e):Ww(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Lq(e,t,o,i,l,s,n);if(a){a=i.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=c,t.deletions=null):(i=Fa(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Fa(l,a):(a=Do(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=e.child.memoizedState,o=o===null?I0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=_0,i}return a=e.child,e=a.sibling,i=Fa(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ww(e,t){return t=Yx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hp(e,t,n,i){return i!==null&&Tw(i),Ic(t,e.child,null,n),e=Ww(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lq(e,t,n,i,s,a,o){if(n)return t.flags&256?(t.flags&=-257,i=Yg(Error(he(422))),Hp(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=Yx({mode:"visible",children:i.children},s,0,null),a=Do(a,s,o,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&Ic(t,e.child,null,o),t.child.memoizedState=I0(o),t.memoizedState=_0,a);if(!(t.mode&1))return Hp(e,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,a=Error(he(419)),i=Yg(a,i,void 0),Hp(e,t,o,i)}if(l=(o&e.childLanes)!==0,vr||l){if(i=Tn,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,zs(e,s),Ai(i,e,s,-1))}return Xw(),i=Yg(Error(he(421))),Hp(e,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zq.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,_r=Ra(s.nextSibling),Mr=t,Qt=!0,yi=null,e!==null&&(Yr[Qr++]=Es,Yr[Qr++]=As,Yr[Qr++]=Go,Es=e.id,As=e.overflow,Go=t),t=Ww(t,i.children),t.flags|=4096,t)}function mC(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),k0(e.return,t,n)}function Qg(e,t,n,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function h_(e,t,n){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(rr(e,t,i.children,n),i=nn.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mC(e,n,t);else if(e.tag===19)mC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(zt(nn,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&sh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qg(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qg(t,!0,n,null,a);break;case"together":Qg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Om(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Fa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qq(e,t,n){switch(t.tag){case 3:p_(t),_c();break;case 5:zT(t);break;case 1:br(t.type)&&Jm(t);break;case 4:Dw(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;zt(nh,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(zt(nn,nn.current&1),t.flags|=128,null):n&t.child.childLanes?m_(e,t,n):(zt(nn,nn.current&1),e=Bs(e,t,n),e!==null?e.sibling:null);zt(nn,nn.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return h_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),zt(nn,nn.current),i)break;return null;case 22:case 23:return t.lanes=0,u_(e,t,n)}return Bs(e,t,n)}var x_,R0,v_,g_;x_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};R0=function(){};v_=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,No(es.current);var a=null;switch(n){case"input":s=n0(e,s),i=n0(e,i),a=[];break;case"select":s=sn({},s,{value:void 0}),i=sn({},i,{value:void 0}),a=[];break;case"textarea":s=s0(e,s),i=s0(e,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Xm)}o0(n,i);var o;n=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Lu.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in i){var c=i[d];if(l=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Lu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Vt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};g_=function(e,t,n,i){n!==i&&(t.flags|=4)};function Kd(e,t){if(!Qt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function zn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function zq(e,t,n){var i=t.pendingProps;switch(Ow(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(t),null;case 1:return br(t.type)&&Zm(),zn(t),null;case 3:return i=t.stateNode,Rc(),Gt(yr),Gt(Qn),Lw(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Vp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yi!==null&&(B0(yi),yi=null))),R0(e,t),zn(t),null;case 5:Fw(t);var s=No(Xu.current);if(n=t.type,e!==null&&t.stateNode!=null)v_(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(he(166));return zn(t),null}if(e=No(es.current),Vp(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[Hi]=t,i[Yu]=a,e=(t.mode&1)!==0,n){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(s=0;s<hu.length;s++)Vt(hu[s],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":NS(i,a),Vt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Vt("invalid",i);break;case"textarea":CS(i,a),Vt("invalid",i)}o0(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?i.textContent!==l&&(a.suppressHydrationWarning!==!0&&Up(i.textContent,l,e),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Up(i.textContent,l,e),s=["children",""+l]):Lu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Vt("scroll",i)}switch(n){case"input":Mp(i),SS(i,a,!0);break;case"textarea":Mp(i),kS(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Xm)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=HO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Hi]=t,e[Yu]=i,x_(e,t,!1,!1),t.stateNode=e;e:{switch(o=l0(n,i),n){case"dialog":Vt("cancel",e),Vt("close",e),s=i;break;case"iframe":case"object":case"embed":Vt("load",e),s=i;break;case"video":case"audio":for(s=0;s<hu.length;s++)Vt(hu[s],e);s=i;break;case"source":Vt("error",e),s=i;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),s=i;break;case"details":Vt("toggle",e),s=i;break;case"input":NS(e,i),s=n0(e,i),Vt("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=sn({},i,{value:void 0}),Vt("invalid",e);break;case"textarea":CS(e,i),s=s0(e,i),Vt("invalid",e);break;default:s=i}o0(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?YO(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&GO(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qu(e,c):typeof c=="number"&&qu(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Lu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Vt("scroll",e):c!=null&&hw(e,a,c,o))}switch(n){case"input":Mp(e),SS(e,i,!1);break;case"textarea":Mp(e),kS(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ba(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?ec(e,!!i.multiple,a,!1):i.defaultValue!=null&&ec(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xm)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zn(t),null;case 6:if(e&&t.stateNode!=null)g_(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(he(166));if(n=No(Xu.current),No(es.current),Vp(t)){if(i=t.stateNode,n=t.memoizedProps,i[Hi]=t,(a=i.nodeValue!==n)&&(e=Mr,e!==null))switch(e.tag){case 3:Up(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Up(i.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Hi]=t,t.stateNode=i}return zn(t),null;case 13:if(Gt(nn),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qt&&_r!==null&&t.mode&1&&!(t.flags&128))$T(),_c(),t.flags|=98560,a=!1;else if(a=Vp(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(he(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[Hi]=t}else _c(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zn(t),a=!1}else yi!==null&&(B0(yi),yi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||nn.current&1?Nn===0&&(Nn=3):Xw())),t.updateQueue!==null&&(t.flags|=4),zn(t),null);case 4:return Rc(),R0(e,t),e===null&&Gu(t.stateNode.containerInfo),zn(t),null;case 10:return Rw(t.type._context),zn(t),null;case 17:return br(t.type)&&Zm(),zn(t),null;case 19:if(Gt(nn),a=t.memoizedState,a===null)return zn(t),null;if(i=(t.flags&128)!==0,o=a.rendering,o===null)if(i)Kd(a,!1);else{if(Nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sh(e),o!==null){for(t.flags|=128,Kd(a,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)a=n,e=i,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zt(nn,nn.current&1|2),t.child}e=e.sibling}a.tail!==null&&dn()>$c&&(t.flags|=128,i=!0,Kd(a,!1),t.lanes=4194304)}else{if(!i)if(e=sh(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Kd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Qt)return zn(t),null}else 2*dn()-a.renderingStartTime>$c&&n!==1073741824&&(t.flags|=128,i=!0,Kd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=dn(),t.sibling=null,n=nn.current,zt(nn,i?n&1|2:n&1),t):(zn(t),null);case 22:case 23:return Qw(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Er&1073741824&&(zn(t),t.subtreeFlags&6&&(t.flags|=8192)):zn(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function Bq(e,t){switch(Ow(t),t.tag){case 1:return br(t.type)&&Zm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rc(),Gt(yr),Gt(Qn),Lw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fw(t),null;case 13:if(Gt(nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));_c()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(nn),null;case 4:return Rc(),null;case 10:return Rw(t.type._context),null;case 22:case 23:return Qw(),null;case 24:return null;default:return null}}var Gp=!1,Vn=!1,Uq=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Hl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){on(e,t,i)}else n.current=null}function M0(e,t,n){try{n()}catch(i){on(e,t,i)}}var hC=!1;function Vq(e,t){if(g0=Km,e=NT(),Aw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||i!==0&&f.nodeType!==3||(c=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++d===s&&(l=o),p===a&&++u===i&&(c=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(y0={focusedElem:e,selectionRange:n},Km=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,y=v.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:mi(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(N){on(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return v=hC,hC=!1,v}function Eu(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&M0(t,n,a)}s=s.next}while(s!==i)}}function Gx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function $0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function y_(e){var t=e.alternate;t!==null&&(e.alternate=null,y_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hi],delete t[Yu],delete t[w0],delete t[kq],delete t[Eq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b_(e){return e.tag===5||e.tag===3||e.tag===4}function xC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xm));else if(i!==4&&(e=e.child,e!==null))for(D0(e,t,n),e=e.sibling;e!==null;)D0(e,t,n),e=e.sibling}function F0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(F0(e,t,n),e=e.sibling;e!==null;)F0(e,t,n),e=e.sibling}var Mn=null,xi=!1;function sa(e,t,n){for(n=n.child;n!==null;)j_(e,t,n),n=n.sibling}function j_(e,t,n){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(Lx,n)}catch{}switch(n.tag){case 5:Vn||Hl(n,t);case 6:var i=Mn,s=xi;Mn=null,sa(e,t,n),Mn=i,xi=s,Mn!==null&&(xi?(e=Mn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(xi?(e=Mn,n=n.stateNode,e.nodeType===8?Ug(e.parentNode,n):e.nodeType===1&&Ug(e,n),Vu(e)):Ug(Mn,n.stateNode));break;case 4:i=Mn,s=xi,Mn=n.stateNode.containerInfo,xi=!0,sa(e,t,n),Mn=i,xi=s;break;case 0:case 11:case 14:case 15:if(!Vn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&M0(n,t,o),s=s.next}while(s!==i)}sa(e,t,n);break;case 1:if(!Vn&&(Hl(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){on(n,t,l)}sa(e,t,n);break;case 21:sa(e,t,n);break;case 22:n.mode&1?(Vn=(i=Vn)||n.memoizedState!==null,sa(e,t,n),Vn=i):sa(e,t,n);break;default:sa(e,t,n)}}function vC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uq),t.forEach(function(i){var s=Jq.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function ui(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Mn=l.stateNode,xi=!1;break e;case 3:Mn=l.stateNode.containerInfo,xi=!0;break e;case 4:Mn=l.stateNode.containerInfo,xi=!0;break e}l=l.return}if(Mn===null)throw Error(he(160));j_(a,o,s),Mn=null,xi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){on(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)w_(t,e),t=t.sibling}function w_(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ui(t,e),Li(e),i&4){try{Eu(3,e,e.return),Gx(3,e)}catch(m){on(e,e.return,m)}try{Eu(5,e,e.return)}catch(m){on(e,e.return,m)}}break;case 1:ui(t,e),Li(e),i&512&&n!==null&&Hl(n,n.return);break;case 5:if(ui(t,e),Li(e),i&512&&n!==null&&Hl(n,n.return),e.flags&32){var s=e.stateNode;try{qu(s,"")}catch(m){on(e,e.return,m)}}if(i&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&VO(s,a),l0(l,o);var d=l0(l,a);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?YO(s,f):u==="dangerouslySetInnerHTML"?GO(s,f):u==="children"?qu(s,f):hw(s,u,f,d)}switch(l){case"input":r0(s,a);break;case"textarea":WO(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?ec(s,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?ec(s,!!a.multiple,a.defaultValue,!0):ec(s,!!a.multiple,a.multiple?[]:"",!1))}s[Yu]=a}catch(m){on(e,e.return,m)}}break;case 6:if(ui(t,e),Li(e),i&4){if(e.stateNode===null)throw Error(he(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){on(e,e.return,m)}}break;case 3:if(ui(t,e),Li(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Vu(t.containerInfo)}catch(m){on(e,e.return,m)}break;case 4:ui(t,e),Li(e);break;case 13:ui(t,e),Li(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Kw=dn())),i&4&&vC(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Vn=(d=Vn)||u,ui(t,e),Vn=d):ui(t,e),Li(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Le=e,u=e.child;u!==null;){for(f=Le=u;Le!==null;){switch(p=Le,h=p.child,p.tag){case 0:case 11:case 14:case 15:Eu(4,p,p.return);break;case 1:Hl(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,n=p.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){on(i,n,m)}}break;case 5:Hl(p,p.return);break;case 22:if(p.memoizedState!==null){yC(f);continue}}h!==null?(h.return=p,Le=h):yC(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=KO("display",o))}catch(m){on(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(m){on(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ui(t,e),Li(e),i&4&&vC(e);break;case 21:break;default:ui(t,e),Li(e)}}function Li(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(b_(n)){var i=n;break e}n=n.return}throw Error(he(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(qu(s,""),i.flags&=-33);var a=xC(e);F0(e,a,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=xC(e);D0(e,l,o);break;default:throw Error(he(161))}}catch(c){on(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wq(e,t,n){Le=e,N_(e)}function N_(e,t,n){for(var i=(e.mode&1)!==0;Le!==null;){var s=Le,a=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Gp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Vn;l=Gp;var d=Vn;if(Gp=o,(Vn=c)&&!d)for(Le=s;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?bC(s):c!==null?(c.return=o,Le=c):bC(s);for(;a!==null;)Le=a,N_(a),a=a.sibling;Le=s,Gp=l,Vn=d}gC(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Le=a):gC(e)}}function gC(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vn||Gx(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Vn)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:mi(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&nC(t,a,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nC(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Vn||t.flags&512&&$0(t)}catch(p){on(t,t.return,p)}}if(t===e){Le=null;break}if(n=t.sibling,n!==null){n.return=t.return,Le=n;break}Le=t.return}}function yC(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Le=n;break}Le=t.return}}function bC(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gx(4,t)}catch(c){on(t,n,c)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(c){on(t,s,c)}}var a=t.return;try{$0(t)}catch(c){on(t,a,c)}break;case 5:var o=t.return;try{$0(t)}catch(c){on(t,o,c)}}}catch(c){on(t,t.return,c)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var Hq=Math.ceil,lh=Js.ReactCurrentDispatcher,Hw=Js.ReactCurrentOwner,ti=Js.ReactCurrentBatchConfig,St=0,Tn=null,xn=null,Dn=0,Er=0,Gl=Ja(0),Nn=0,tf=null,Yo=0,Kx=0,Gw=0,Au=null,hr=null,Kw=0,$c=1/0,ws=null,ch=!1,L0=null,$a=null,Kp=!1,Pa=null,dh=0,Pu=0,q0=null,Tm=-1,_m=0;function lr(){return St&6?dn():Tm!==-1?Tm:Tm=dn()}function Da(e){return e.mode&1?St&2&&Dn!==0?Dn&-Dn:Pq.transition!==null?(_m===0&&(_m=oT()),_m):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:mT(e.type)),e):1}function Ai(e,t,n,i){if(50<Pu)throw Pu=0,q0=null,Error(he(185));lp(e,n,i),(!(St&2)||e!==Tn)&&(e===Tn&&(!(St&2)&&(Kx|=n),Nn===4&&xa(e,Dn)),jr(e,i),n===1&&St===0&&!(t.mode&1)&&($c=dn()+500,Vx&&eo()))}function jr(e,t){var n=e.callbackNode;P5(e,t);var i=Gm(e,e===Tn?Dn:0);if(i===0)n!==null&&PS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&PS(n),t===1)e.tag===0?Aq(jC.bind(null,e)):IT(jC.bind(null,e)),Sq(function(){!(St&6)&&eo()}),n=null;else{switch(lT(i)){case 1:n=bw;break;case 4:n=sT;break;case 16:n=Hm;break;case 536870912:n=aT;break;default:n=Hm}n=T_(n,S_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function S_(e,t){if(Tm=-1,_m=0,St&6)throw Error(he(327));var n=e.callbackNode;if(sc()&&e.callbackNode!==n)return null;var i=Gm(e,e===Tn?Dn:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=uh(e,i);else{t=i;var s=St;St|=2;var a=k_();(Tn!==e||Dn!==t)&&(ws=null,$c=dn()+500,$o(e,t));do try{Yq();break}catch(l){C_(e,l)}while(!0);Iw(),lh.current=a,St=s,xn!==null?t=0:(Tn=null,Dn=0,t=Nn)}if(t!==0){if(t===2&&(s=p0(e),s!==0&&(i=s,t=z0(e,s))),t===1)throw n=tf,$o(e,0),xa(e,i),jr(e,dn()),n;if(t===6)xa(e,i);else{if(s=e.current.alternate,!(i&30)&&!Gq(s)&&(t=uh(e,i),t===2&&(a=p0(e),a!==0&&(i=a,t=z0(e,a))),t===1))throw n=tf,$o(e,0),xa(e,i),jr(e,dn()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(he(345));case 2:mo(e,hr,ws);break;case 3:if(xa(e,i),(i&130023424)===i&&(t=Kw+500-dn(),10<t)){if(Gm(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){lr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=j0(mo.bind(null,e,hr,ws),t);break}mo(e,hr,ws);break;case 4:if(xa(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-Ei(i);a=1<<o,o=t[o],o>s&&(s=o),i&=~a}if(i=s,i=dn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Hq(i/1960))-i,10<i){e.timeoutHandle=j0(mo.bind(null,e,hr,ws),i);break}mo(e,hr,ws);break;case 5:mo(e,hr,ws);break;default:throw Error(he(329))}}}return jr(e,dn()),e.callbackNode===n?S_.bind(null,e):null}function z0(e,t){var n=Au;return e.current.memoizedState.isDehydrated&&($o(e,t).flags|=256),e=uh(e,t),e!==2&&(t=hr,hr=n,t!==null&&B0(t)),e}function B0(e){hr===null?hr=e:hr.push.apply(hr,e)}function Gq(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Ti(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xa(e,t){for(t&=~Gw,t&=~Kx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ei(t),i=1<<n;e[n]=-1,t&=~i}}function jC(e){if(St&6)throw Error(he(327));sc();var t=Gm(e,0);if(!(t&1))return jr(e,dn()),null;var n=uh(e,t);if(e.tag!==0&&n===2){var i=p0(e);i!==0&&(t=i,n=z0(e,i))}if(n===1)throw n=tf,$o(e,0),xa(e,t),jr(e,dn()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,hr,ws),jr(e,dn()),null}function Yw(e,t){var n=St;St|=1;try{return e(t)}finally{St=n,St===0&&($c=dn()+500,Vx&&eo())}}function Qo(e){Pa!==null&&Pa.tag===0&&!(St&6)&&sc();var t=St;St|=1;var n=ti.transition,i=Rt;try{if(ti.transition=null,Rt=1,e)return e()}finally{Rt=i,ti.transition=n,St=t,!(St&6)&&eo()}}function Qw(){Er=Gl.current,Gt(Gl)}function $o(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nq(n)),xn!==null)for(n=xn.return;n!==null;){var i=n;switch(Ow(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Zm();break;case 3:Rc(),Gt(yr),Gt(Qn),Lw();break;case 5:Fw(i);break;case 4:Rc();break;case 13:Gt(nn);break;case 19:Gt(nn);break;case 10:Rw(i.type._context);break;case 22:case 23:Qw()}n=n.return}if(Tn=e,xn=e=Fa(e.current,null),Dn=Er=t,Nn=0,tf=null,Gw=Kx=Yo=0,hr=Au=null,wo!==null){for(t=0;t<wo.length;t++)if(n=wo[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,i.next=o}n.pending=i}wo=null}return e}function C_(e,t){do{var n=xn;try{if(Iw(),Am.current=oh,ah){for(var i=rn.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ah=!1}if(Ko=0,An=jn=rn=null,ku=!1,Zu=0,Hw.current=null,n===null||n.return===null){Nn=1,tf=t,xn=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Dn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=lC(o);if(h!==null){h.flags&=-257,cC(h,o,l,a,t),h.mode&1&&oC(a,d,t),t=h,c=d;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){oC(a,d,t),Xw();break e}c=Error(he(426))}}else if(Qt&&l.mode&1){var y=lC(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),cC(y,o,l,a,t),Tw(Mc(c,l));break e}}a=c=Mc(c,l),Nn!==4&&(Nn=2),Au===null?Au=[a]:Au.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=l_(a,c,t);tC(a,b);break e;case 1:l=c;var g=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($a===null||!$a.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=c_(a,l,t);tC(a,N);break e}}a=a.return}while(a!==null)}A_(n)}catch(w){t=w,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(!0)}function k_(){var e=lh.current;return lh.current=oh,e===null?oh:e}function Xw(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Tn===null||!(Yo&268435455)&&!(Kx&268435455)||xa(Tn,Dn)}function uh(e,t){var n=St;St|=2;var i=k_();(Tn!==e||Dn!==t)&&(ws=null,$o(e,t));do try{Kq();break}catch(s){C_(e,s)}while(!0);if(Iw(),St=n,lh.current=i,xn!==null)throw Error(he(261));return Tn=null,Dn=0,Nn}function Kq(){for(;xn!==null;)E_(xn)}function Yq(){for(;xn!==null&&!b5();)E_(xn)}function E_(e){var t=O_(e.alternate,e,Er);e.memoizedProps=e.pendingProps,t===null?A_(e):xn=t,Hw.current=null}function A_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Bq(n,t),n!==null){n.flags&=32767,xn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nn=6,xn=null;return}}else if(n=zq(n,t,Er),n!==null){xn=n;return}if(t=t.sibling,t!==null){xn=t;return}xn=t=e}while(t!==null);Nn===0&&(Nn=5)}function mo(e,t,n){var i=Rt,s=ti.transition;try{ti.transition=null,Rt=1,Qq(e,t,n,i)}finally{ti.transition=s,Rt=i}return null}function Qq(e,t,n,i){do sc();while(Pa!==null);if(St&6)throw Error(he(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(O5(e,a),e===Tn&&(xn=Tn=null,Dn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kp||(Kp=!0,T_(Hm,function(){return sc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ti.transition,ti.transition=null;var o=Rt;Rt=1;var l=St;St|=4,Hw.current=null,Vq(e,n),w_(n,e),xq(y0),Km=!!g0,y0=g0=null,e.current=n,Wq(n),j5(),St=l,Rt=o,ti.transition=a}else e.current=n;if(Kp&&(Kp=!1,Pa=e,dh=s),a=e.pendingLanes,a===0&&($a=null),S5(n.stateNode),jr(e,dn()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(ch)throw ch=!1,e=L0,L0=null,e;return dh&1&&e.tag!==0&&sc(),a=e.pendingLanes,a&1?e===q0?Pu++:(Pu=0,q0=e):Pu=0,eo(),null}function sc(){if(Pa!==null){var e=lT(dh),t=ti.transition,n=Rt;try{if(ti.transition=null,Rt=16>e?16:e,Pa===null)var i=!1;else{if(e=Pa,Pa=null,dh=0,St&6)throw Error(he(331));var s=St;for(St|=4,Le=e.current;Le!==null;){var a=Le,o=a.child;if(Le.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Le=d;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:Eu(8,u,a)}var f=u.child;if(f!==null)f.return=u,Le=f;else for(;Le!==null;){u=Le;var p=u.sibling,h=u.return;if(y_(u),u===d){Le=null;break}if(p!==null){p.return=h,Le=p;break}Le=h}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Le=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Le=o;else e:for(;Le!==null;){if(a=Le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Eu(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Le=b;break e}Le=a.return}}var g=e.current;for(Le=g;Le!==null;){o=Le;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Le=x;else e:for(o=g;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gx(9,l)}}catch(w){on(l,l.return,w)}if(l===o){Le=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Le=N;break e}Le=l.return}}if(St=s,eo(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(Lx,e)}catch{}i=!0}return i}finally{Rt=n,ti.transition=t}}return!1}function wC(e,t,n){t=Mc(n,t),t=l_(e,t,1),e=Ma(e,t,1),t=lr(),e!==null&&(lp(e,1,t),jr(e,t))}function on(e,t,n){if(e.tag===3)wC(e,e,n);else for(;t!==null;){if(t.tag===3){wC(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($a===null||!$a.has(i))){e=Mc(n,e),e=c_(t,e,1),t=Ma(t,e,1),e=lr(),t!==null&&(lp(t,1,e),jr(t,e));break}}t=t.return}}function Xq(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&n,Tn===e&&(Dn&n)===n&&(Nn===4||Nn===3&&(Dn&130023424)===Dn&&500>dn()-Kw?$o(e,0):Gw|=n),jr(e,t)}function P_(e,t){t===0&&(e.mode&1?(t=Fp,Fp<<=1,!(Fp&130023424)&&(Fp=4194304)):t=1);var n=lr();e=zs(e,t),e!==null&&(lp(e,t,n),jr(e,n))}function Zq(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),P_(e,n)}function Jq(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(he(314))}i!==null&&i.delete(t),P_(e,n)}var O_;O_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yr.current)vr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vr=!1,qq(e,t,n);vr=!!(e.flags&131072)}else vr=!1,Qt&&t.flags&1048576&&RT(t,th,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Om(e,t),e=t.pendingProps;var s=Tc(t,Qn.current);ic(t,n),s=zw(null,t,i,e,s,n);var a=Bw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(i)?(a=!0,Jm(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$w(t),s.updater=Hx,t.stateNode=s,s._reactInternals=t,A0(t,i,e,n),t=T0(null,t,i,!0,a,n)):(t.tag=0,Qt&&a&&Pw(t),rr(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Om(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=t6(i),e=mi(i,e),s){case 0:t=O0(null,t,i,e,n);break e;case 1:t=fC(null,t,i,e,n);break e;case 11:t=dC(null,t,i,e,n);break e;case 14:t=uC(null,t,i,mi(i.type,e),n);break e}throw Error(he(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:mi(i,s),O0(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:mi(i,s),fC(e,t,i,s,n);case 3:e:{if(p_(t),e===null)throw Error(he(387));i=t.pendingProps,a=t.memoizedState,s=a.element,qT(e,t),ih(t,i,null,n);var o=t.memoizedState;if(i=o.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Mc(Error(he(423)),t),t=pC(e,t,i,n,s);break e}else if(i!==s){s=Mc(Error(he(424)),t),t=pC(e,t,i,n,s);break e}else for(_r=Ra(t.stateNode.containerInfo.firstChild),Mr=t,Qt=!0,yi=null,n=FT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_c(),i===s){t=Bs(e,t,n);break e}rr(e,t,i,n)}t=t.child}return t;case 5:return zT(t),e===null&&C0(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,b0(i,s)?o=null:a!==null&&b0(i,a)&&(t.flags|=32),f_(e,t),rr(e,t,o,n),t.child;case 6:return e===null&&C0(t),null;case 13:return m_(e,t,n);case 4:return Dw(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ic(t,null,i,n):rr(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:mi(i,s),dC(e,t,i,s,n);case 7:return rr(e,t,t.pendingProps,n),t.child;case 8:return rr(e,t,t.pendingProps.children,n),t.child;case 12:return rr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,zt(nh,i._currentValue),i._currentValue=o,a!==null)if(Ti(a.value,o)){if(a.children===s.children&&!yr.current){t=Bs(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(a.tag===1){c=_s(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),k0(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(he(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),k0(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}rr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,ic(t,n),s=ri(s),i=i(s),t.flags|=1,rr(e,t,i,n),t.child;case 14:return i=t.type,s=mi(i,t.pendingProps),s=mi(i.type,s),uC(e,t,i,s,n);case 15:return d_(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:mi(i,s),Om(e,t),t.tag=1,br(i)?(e=!0,Jm(t)):e=!1,ic(t,n),o_(t,i,s),A0(t,i,s,n),T0(null,t,i,!0,e,n);case 19:return h_(e,t,n);case 22:return u_(e,t,n)}throw Error(he(156,t.tag))};function T_(e,t){return iT(e,t)}function e6(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,n,i){return new e6(e,t,n,i)}function Zw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function t6(e){if(typeof e=="function")return Zw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vw)return 11;if(e===gw)return 14}return 2}function Fa(e,t){var n=e.alternate;return n===null?(n=Zr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Im(e,t,n,i,s,a){var o=2;if(i=e,typeof e=="function")Zw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dl:return Do(n.children,s,a,t);case xw:o=8,s|=8;break;case Zy:return e=Zr(12,n,t,s|2),e.elementType=Zy,e.lanes=a,e;case Jy:return e=Zr(13,n,t,s),e.elementType=Jy,e.lanes=a,e;case e0:return e=Zr(19,n,t,s),e.elementType=e0,e.lanes=a,e;case zO:return Yx(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LO:o=10;break e;case qO:o=9;break e;case vw:o=11;break e;case gw:o=14;break e;case ua:o=16,i=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=Zr(o,n,t,s),t.elementType=e,t.type=i,t.lanes=a,t}function Do(e,t,n,i){return e=Zr(7,e,i,t),e.lanes=n,e}function Yx(e,t,n,i){return e=Zr(22,e,i,t),e.elementType=zO,e.lanes=n,e.stateNode={isHidden:!1},e}function Xg(e,t,n){return e=Zr(6,e,null,t),e.lanes=n,e}function Zg(e,t,n){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function n6(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_g(0),this.expirationTimes=_g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jw(e,t,n,i,s,a,o,l,c){return e=new n6(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Zr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$w(a),e}function r6(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$l,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function __(e){if(!e)return Ua;e=e._reactInternals;e:{if(pl(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(br(n))return _T(e,n,t)}return t}function I_(e,t,n,i,s,a,o,l,c){return e=Jw(n,i,!0,e,s,a,o,l,c),e.context=__(null),n=e.current,i=lr(),s=Da(n),a=_s(i,s),a.callback=t??null,Ma(n,a,s),e.current.lanes=s,lp(e,s,i),jr(e,i),e}function Qx(e,t,n,i){var s=t.current,a=lr(),o=Da(s);return n=__(n),t.context===null?t.context=n:t.pendingContext=n,t=_s(a,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Ma(s,t,o),e!==null&&(Ai(e,s,o,a),Em(e,s,o)),o}function fh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function NC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eN(e,t){NC(e,t),(e=e.alternate)&&NC(e,t)}function i6(){return null}var R_=typeof reportError=="function"?reportError:function(e){console.error(e)};function tN(e){this._internalRoot=e}Xx.prototype.render=tN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));Qx(e,t,null,null)};Xx.prototype.unmount=tN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qo(function(){Qx(null,e,null,null)}),t[qs]=null}};function Xx(e){this._internalRoot=e}Xx.prototype.unstable_scheduleHydration=function(e){if(e){var t=uT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ha.length&&t!==0&&t<ha[n].priority;n++);ha.splice(n,0,e),n===0&&pT(e)}};function nN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function SC(){}function s6(e,t,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var d=fh(o);a.call(d)}}var o=I_(t,i,e,0,null,!1,!1,"",SC);return e._reactRootContainer=o,e[qs]=o.current,Gu(e.nodeType===8?e.parentNode:e),Qo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var d=fh(c);l.call(d)}}var c=Jw(e,0,!1,null,null,!1,!1,"",SC);return e._reactRootContainer=c,e[qs]=c.current,Gu(e.nodeType===8?e.parentNode:e),Qo(function(){Qx(t,c,n,i)}),c}function Jx(e,t,n,i,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=fh(o);l.call(c)}}Qx(t,o,e,s)}else o=s6(n,t,e,s,i);return fh(o)}cT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mu(t.pendingLanes);n!==0&&(jw(t,n|1),jr(t,dn()),!(St&6)&&($c=dn()+500,eo()))}break;case 13:Qo(function(){var i=zs(e,1);if(i!==null){var s=lr();Ai(i,e,1,s)}}),eN(e,1)}};ww=function(e){if(e.tag===13){var t=zs(e,134217728);if(t!==null){var n=lr();Ai(t,e,134217728,n)}eN(e,134217728)}};dT=function(e){if(e.tag===13){var t=Da(e),n=zs(e,t);if(n!==null){var i=lr();Ai(n,e,t,i)}eN(e,t)}};uT=function(){return Rt};fT=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}};d0=function(e,t,n){switch(t){case"input":if(r0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Ux(i);if(!s)throw Error(he(90));UO(i),r0(i,s)}}}break;case"textarea":WO(e,n);break;case"select":t=n.value,t!=null&&ec(e,!!n.multiple,t,!1)}};ZO=Yw;JO=Qo;var a6={usingClientEntryPoint:!1,Events:[dp,zl,Ux,QO,XO,Yw]},Yd={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o6={bundleType:Yd.bundleType,version:Yd.version,rendererPackageName:Yd.rendererPackageName,rendererConfig:Yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nT(e),e===null?null:e.stateNode},findFiberByHostInstance:Yd.findFiberByHostInstance||i6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{Lx=Yp.inject(o6),Ji=Yp}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a6;qr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nN(t))throw Error(he(200));return r6(e,t,null,n)};qr.createRoot=function(e,t){if(!nN(e))throw Error(he(299));var n=!1,i="",s=R_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Jw(e,1,!1,null,null,n,!1,i,s),e[qs]=t.current,Gu(e.nodeType===8?e.parentNode:e),new tN(t)};qr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=nT(t),e=e===null?null:e.stateNode,e};qr.flushSync=function(e){return Qo(e)};qr.hydrate=function(e,t,n){if(!Zx(t))throw Error(he(200));return Jx(null,e,t,!0,n)};qr.hydrateRoot=function(e,t,n){if(!nN(e))throw Error(he(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",o=R_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=I_(t,null,e,1,n??null,s,!1,a,o),e[qs]=t.current,Gu(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xx(t)};qr.render=function(e,t,n){if(!Zx(t))throw Error(he(200));return Jx(null,e,t,!1,n)};qr.unmountComponentAtNode=function(e){if(!Zx(e))throw Error(he(40));return e._reactRootContainer?(Qo(function(){Jx(null,null,e,!1,function(){e._reactRootContainer=null,e[qs]=null})}),!0):!1};qr.unstable_batchedUpdates=Yw;qr.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zx(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Jx(e,t,n,!1,i)};qr.version="18.3.1-next-f1338f8080-20240426";function M_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M_)}catch(e){console.error(e)}}M_(),MO.exports=qr;var ml=MO.exports;const l6=Pt(ml);var $_,CC=ml;$_=CC.createRoot,CC.hydrateRoot;function c6(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,i,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(i=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~i?i:~a?a:s.length)),l+=~i&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~i?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var D_={exports:{}},F_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=j;function d6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u6=typeof Object.is=="function"?Object.is:d6,f6=Dc.useState,p6=Dc.useEffect,m6=Dc.useLayoutEffect,h6=Dc.useDebugValue;function x6(e,t){var n=t(),i=f6({inst:{value:n,getSnapshot:t}}),s=i[0].inst,a=i[1];return m6(function(){s.value=n,s.getSnapshot=t,Jg(s)&&a({inst:s})},[e,n,t]),p6(function(){return Jg(s)&&a({inst:s}),e(function(){Jg(s)&&a({inst:s})})},[e]),h6(n),n}function Jg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!u6(e,n)}catch{return!0}}function v6(e,t){return t()}var g6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v6:x6;F_.useSyncExternalStore=Dc.useSyncExternalStore!==void 0?Dc.useSyncExternalStore:g6;D_.exports=F_;var y6=D_.exports;const b6=fw.useInsertionEffect,j6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w6=j6?j.useLayoutEffect:j.useEffect,N6=b6||w6,L_=e=>{const t=j.useRef([e,(...n)=>t[0](...n)]).current;return N6(()=>{t[0]=e}),t[1]},S6="popstate",rN="pushState",iN="replaceState",C6="hashchange",kC=[S6,rN,iN,C6],k6=e=>{for(const t of kC)addEventListener(t,e);return()=>{for(const t of kC)removeEventListener(t,e)}},q_=(e,t)=>y6.useSyncExternalStore(k6,e,t),E6=()=>location.search,A6=({ssrSearch:e=""}={})=>q_(E6,()=>e),EC=()=>location.pathname,P6=({ssrPath:e}={})=>q_(EC,e?()=>e:EC),O6=(e,{replace:t=!1,state:n=null}={})=>history[t?iN:rN](n,"",e),T6=(e={})=>[P6(e),O6],AC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[AC]>"u"){for(const e of[rN,iN]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),n}}Object.defineProperty(window,AC,{value:!0})}const _6=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",z_=(e="")=>e==="/"?"":e,I6=(e,t)=>e[0]==="~"?e.slice(1):z_(t)+e,R6=(e="",t)=>_6(PC(z_(e)),PC(t)),PC=e=>{try{return decodeURI(e)}catch{return e}},B_={hook:T6,searchHook:A6,parser:c6,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},U_=j.createContext(B_),wd=()=>j.useContext(U_),V_={},W_=j.createContext(V_),sN=()=>j.useContext(W_),ev=e=>{const[t,n]=e.hook(e);return[R6(e.base,t),L_((i,s)=>n(I6(i,e.base),s))]},ai=()=>ev(wd()),aN=(e,t,n,i)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((f,p)=>[f,c[p]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...i?[l]:[]]:[!1,null]},tv=e=>aN(wd().parser,e,ai()[0]),M6=({children:e,...t})=>{var u,f;const n=wd(),i=t.hook?B_:n;let s=i;const[a,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=j.useRef({}),c=l.current,d=c;for(let p in i){const h=p==="base"?i[p]+(t[p]||""):t[p]||i[p];c===d&&h!==d[p]&&(l.current=d={...d}),d[p]=h,h!==i[p]&&(s=d)}return j.createElement(U_.Provider,{value:s,children:e})},OC=({children:e,component:t},n)=>t?j.createElement(t,{params:n}):typeof e=="function"?e(n):e,$6=e=>{let t=j.useRef(V_),n=t.current;for(const i in e)e[i]!==n[i]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},dt=({path:e,nest:t,match:n,...i})=>{const s=wd(),[a]=ev(s),[o,l,c]=n??aN(s.parser,e,a,t),d=$6({...sN(),...l});if(!o)return null;const u=c?j.createElement(M6,{base:c},OC(i,d)):OC(i,d);return j.createElement(W_.Provider,{value:d,children:u})},vn=j.forwardRef((e,t)=>{const n=wd(),[i,s]=ev(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:f,state:p,...h}=e,v=L_(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),s(o,e)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&j.isValidElement(d)?j.cloneElement(d,{onClick:v,href:m}):j.createElement("a",{...h,onClick:v,href:m,className:u!=null&&u.call?u(i===o):u,children:d,ref:t})}),H_=e=>Array.isArray(e)?e.flatMap(t=>H_(t&&t.type===j.Fragment?t.props.children:t)):[e],D6=({children:e,location:t})=>{const n=wd(),[i]=ev(n);for(const s of H_(e)){let a=0;if(j.isValidElement(s)&&(a=aN(n.parser,s.props.path,t||i,s.props.nest))[0])return j.cloneElement(s,{match:a})}return null};var Nd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xo=typeof window>"u"||"Deno"in globalThis;function Kr(){}function F6(e,t){return typeof e=="function"?e(t):e}function U0(e){return typeof e=="number"&&e>=0&&e!==1/0}function G_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ac(e,t){return typeof e=="function"?e(t):e}function bi(e,t){return typeof e=="function"?e(t):e}function TC(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(i){if(t.queryHash!==oN(o,t.options))return!1}else if(!nf(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function _C(e,t){const{exact:n,status:i,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Zo(t.options.mutationKey)!==Zo(a))return!1}else if(!nf(t.options.mutationKey,a))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function oN(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zo)(e)}function Zo(e){return JSON.stringify(e,(t,n)=>V0(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function nf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!nf(e[n],t[n])):!1}function K_(e,t){if(e===t)return e;const n=IC(e)&&IC(t);if(n||V0(e)&&V0(t)){const i=n?e:Object.keys(e),s=i.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:a[d];(!n&&i.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=K_(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function ph(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function IC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function V0(e){if(!RC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!RC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function RC(e){return Object.prototype.toString.call(e)==="[object Object]"}function L6(e){return new Promise(t=>{setTimeout(t,e)})}function W0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?K_(e,t):t}function q6(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function z6(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var lN=Symbol();function Y_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Po,ya,vc,mO,B6=(mO=class extends Nd{constructor(){super();et(this,Po);et(this,ya);et(this,vc);_e(this,vc,t=>{if(!Xo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,ya)||this.setEventListener(K(this,vc))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,ya))==null||t.call(this),_e(this,ya,void 0))}setEventListener(t){var n;_e(this,vc,t),(n=K(this,ya))==null||n.call(this),_e(this,ya,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){K(this,Po)!==t&&(_e(this,Po,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof K(this,Po)=="boolean"?K(this,Po):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Po=new WeakMap,ya=new WeakMap,vc=new WeakMap,mO),cN=new B6,gc,ba,yc,hO,U6=(hO=class extends Nd{constructor(){super();et(this,gc,!0);et(this,ba);et(this,yc);_e(this,yc,t=>{if(!Xo&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){K(this,ba)||this.setEventListener(K(this,yc))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,ba))==null||t.call(this),_e(this,ba,void 0))}setEventListener(t){var n;_e(this,yc,t),(n=K(this,ba))==null||n.call(this),_e(this,ba,t(this.setOnline.bind(this)))}setOnline(t){K(this,gc)!==t&&(_e(this,gc,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return K(this,gc)}},gc=new WeakMap,ba=new WeakMap,yc=new WeakMap,hO),mh=new U6;function H0(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},n.reject=s=>{i({status:"rejected",reason:s}),t(s)},n}function V6(e){return Math.min(1e3*2**e,3e4)}function Q_(e){return(e??"online")==="online"?mh.isOnline():!0}var X_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ey(e){return e instanceof X_}function Z_(e){let t=!1,n=0,i=!1,s;const a=H0(),o=m=>{var y;i||(p(new X_(m)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>cN.isFocused()&&(e.networkMode==="always"||mh.isOnline())&&e.canRun(),u=()=>Q_(e.networkMode)&&e.canRun(),f=m=>{var y;i||(i=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),a.resolve(m))},p=m=>{var y;i||(i=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),a.reject(m))},h=()=>new Promise(m=>{var y;s=b=>{(i||d())&&m(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,i||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(i)return;let m;const y=n===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var k;if(i)return;const g=e.retry??(Xo?0:3),x=e.retryDelay??V6,N=typeof x=="function"?x(n,b):x,w=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,b);if(t||!w){p(b);return}n++,(k=e.onFail)==null||k.call(e,n,b),L6(N).then(()=>d()?void 0:h()).then(()=>{t?p(b):v()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?v():h().then(v),a)}}function W6(){let e=[],t=0,n=l=>{l()},i=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{i(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{s=l}}}var wn=W6(),Oo,xO,J_=(xO=class{constructor(){et(this,Oo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U0(this.gcTime)&&_e(this,Oo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xo?1/0:5*60*1e3))}clearGcTimeout(){K(this,Oo)&&(clearTimeout(K(this,Oo)),_e(this,Oo,void 0))}},Oo=new WeakMap,xO),bc,jc,Gr,Bn,rp,To,hi,bs,vO,H6=(vO=class extends J_{constructor(t){super();et(this,hi);et(this,bc);et(this,jc);et(this,Gr);et(this,Bn);et(this,rp);et(this,To);_e(this,To,!1),_e(this,rp,t.defaultOptions),this.setOptions(t.options),this.observers=[],_e(this,Gr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_e(this,bc,G6(this.options)),this.state=t.state??K(this,bc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,Bn))==null?void 0:t.promise}setOptions(t){this.options={...K(this,rp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,Gr).remove(this)}setData(t,n){const i=W0(this.state.data,t,this.options);return ht(this,hi,bs).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){ht(this,hi,bs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,s;const n=(i=K(this,Bn))==null?void 0:i.promise;return(s=K(this,Bn))==null||s.cancel(t),n?n.then(Kr).catch(Kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,bc))}isActive(){return this.observers.some(t=>bi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!G_(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,Bn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,Bn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,Gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(K(this,Bn)&&(K(this,To)?K(this,Bn).cancel({revert:!0}):K(this,Bn).cancelRetry()),this.scheduleGc()),K(this,Gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,hi,bs).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(K(this,Bn))return K(this,Bn).continueRetry(),K(this,Bn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(_e(this,To,!0),i.signal)})},a=()=>{const f=Y_(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),_e(this,To,!1),this.options.persister?this.options.persister(f,p,this):f(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),_e(this,jc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ht(this,hi,bs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var p,h,v,m;ey(f)&&f.silent||ht(this,hi,bs).call(this,{type:"error",error:f}),ey(f)||((h=(p=K(this,Gr).config).onError)==null||h.call(p,f,this),(m=(v=K(this,Gr).config).onSettled)==null||m.call(v,this.state.data,f,this)),this.scheduleGc()};return _e(this,Bn,Z_({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var p,h,v,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(h=(p=K(this,Gr).config).onSuccess)==null||h.call(p,f,this),(m=(v=K(this,Gr).config).onSettled)==null||m.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{ht(this,hi,bs).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{ht(this,hi,bs).call(this,{type:"pause"})},onContinue:()=>{ht(this,hi,bs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),K(this,Bn).start()}},bc=new WeakMap,jc=new WeakMap,Gr=new WeakMap,Bn=new WeakMap,rp=new WeakMap,To=new WeakMap,hi=new WeakSet,bs=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...eI(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return ey(s)&&s.revert&&K(this,jc)?{...K(this,jc),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),wn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),K(this,Gr).notify({query:this,type:"updated",action:t})})},vO);function eI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Q_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function G6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Bi,gO,K6=(gO=class extends Nd{constructor(t={}){super();et(this,Bi);this.config=t,_e(this,Bi,new Map)}build(t,n,i){const s=n.queryKey,a=n.queryHash??oN(s,n);let o=this.get(a);return o||(o=new H6({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){K(this,Bi).has(t.queryHash)||(K(this,Bi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=K(this,Bi).get(t.queryHash);n&&(t.destroy(),n===t&&K(this,Bi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,Bi).get(t)}getAll(){return[...K(this,Bi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>TC(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>TC(t,i)):n}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bi=new WeakMap,gO),Ui,er,_o,Vi,ca,yO,Y6=(yO=class extends J_{constructor(t){super();et(this,Vi);et(this,Ui);et(this,er);et(this,_o);this.mutationId=t.mutationId,_e(this,er,t.mutationCache),_e(this,Ui,[]),this.state=t.state||tI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,Ui).includes(t)||(K(this,Ui).push(t),this.clearGcTimeout(),K(this,er).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_e(this,Ui,K(this,Ui).filter(n=>n!==t)),this.scheduleGc(),K(this,er).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,Ui).length||(this.state.status==="pending"?this.scheduleGc():K(this,er).remove(this))}continue(){var t;return((t=K(this,_o))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,d,u,f,p,h,v,m,y,b,g,x,N,w,k,E;_e(this,_o,Z_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,C)=>{ht(this,Vi,ca).call(this,{type:"failed",failureCount:S,error:C})},onPause:()=>{ht(this,Vi,ca).call(this,{type:"pause"})},onContinue:()=>{ht(this,Vi,ca).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,er).canRun(this)}));const n=this.state.status==="pending",i=!K(this,_o).canStart();try{if(!n){ht(this,Vi,ca).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(s=K(this,er).config).onMutate)==null?void 0:a.call(s,t,this));const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));C!==this.state.context&&ht(this,Vi,ca).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const S=await K(this,_o).start();return await((d=(c=K(this,er).config).onSuccess)==null?void 0:d.call(c,S,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,S,t,this.state.context)),await((h=(p=K(this,er).config).onSettled)==null?void 0:h.call(p,S,null,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,S,null,t,this.state.context)),ht(this,Vi,ca).call(this,{type:"success",data:S}),S}catch(S){try{throw await((b=(y=K(this,er).config).onError)==null?void 0:b.call(y,S,t,this.state.context,this)),await((x=(g=this.options).onError)==null?void 0:x.call(g,S,t,this.state.context)),await((w=(N=K(this,er).config).onSettled)==null?void 0:w.call(N,void 0,S,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,S,t,this.state.context)),S}finally{ht(this,Vi,ca).call(this,{type:"error",error:S})}}finally{K(this,er).runNext(this)}}},Ui=new WeakMap,er=new WeakMap,_o=new WeakMap,Vi=new WeakSet,ca=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wn.batch(()=>{K(this,Ui).forEach(i=>{i.onMutationUpdate(t)}),K(this,er).notify({mutation:this,type:"updated",action:t})})},yO);function tI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,ip,bO,Q6=(bO=class extends Nd{constructor(t={}){super();et(this,kr);et(this,ip);this.config=t,_e(this,kr,new Map),_e(this,ip,Date.now())}build(t,n,i){const s=new Y6({mutationCache:this,mutationId:++Tp(this,ip)._,options:t.defaultMutationOptions(n),state:i});return this.add(s),s}add(t){const n=Qp(t),i=K(this,kr).get(n)??[];i.push(t),K(this,kr).set(n,i),this.notify({type:"added",mutation:t})}remove(t){var i;const n=Qp(t);if(K(this,kr).has(n)){const s=(i=K(this,kr).get(n))==null?void 0:i.filter(a=>a!==t);s&&(s.length===0?K(this,kr).delete(n):K(this,kr).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var i;const n=(i=K(this,kr).get(Qp(t)))==null?void 0:i.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var i;const n=(i=K(this,kr).get(Qp(t)))==null?void 0:i.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...K(this,kr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(i=>_C(n,i))}findAll(t={}){return this.getAll().filter(n=>_C(t,n))}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return wn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Kr))))}},kr=new WeakMap,ip=new WeakMap,bO);function Qp(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function MC(e){return{onFetch:(t,n)=>{var u,f,p,h,v;const i=t.options,s=(p=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,a=((h=t.state.data)==null?void 0:h.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=Y_(t.options,t.fetchOptions),g=async(x,N,w)=>{if(m)return Promise.reject();if(N==null&&x.pages.length)return Promise.resolve(x);const k={queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};y(k);const E=await b(k),{maxPages:S}=t.options,C=w?z6:q6;return{pages:C(x.pages,E,S),pageParams:C(x.pageParams,N,S)}};if(s&&a.length){const x=s==="backward",N=x?X6:$C,w={pages:a,pageParams:o},k=N(i,w);l=await g(w,k,x)}else{const x=e??a.length;do{const N=c===0?o[0]??i.initialPageParam:$C(i,l);if(c>0&&N==null)break;l=await g(l,N),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function $C(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function X6(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var an,ja,wa,wc,Nc,Na,Sc,Cc,jO,Z6=(jO=class{constructor(e={}){et(this,an);et(this,ja);et(this,wa);et(this,wc);et(this,Nc);et(this,Na);et(this,Sc);et(this,Cc);_e(this,an,e.queryCache||new K6),_e(this,ja,e.mutationCache||new Q6),_e(this,wa,e.defaultOptions||{}),_e(this,wc,new Map),_e(this,Nc,new Map),_e(this,Na,0)}mount(){Tp(this,Na)._++,K(this,Na)===1&&(_e(this,Sc,cN.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,an).onFocus())})),_e(this,Cc,mh.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,an).onOnline())})))}unmount(){var e,t;Tp(this,Na)._--,K(this,Na)===0&&((e=K(this,Sc))==null||e.call(this),_e(this,Sc,void 0),(t=K(this,Cc))==null||t.call(this),_e(this,Cc,void 0))}isFetching(e){return K(this,an).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,ja).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,an).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),i=K(this,an).build(this,n);return e.revalidateIfStale&&i.isStaleByTime(ac(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return K(this,an).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),s=K(this,an).get(i.queryHash),a=s==null?void 0:s.state.data,o=F6(t,a);if(o!==void 0)return K(this,an).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return wn.batch(()=>K(this,an).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,an).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=K(this,an);wn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=K(this,an),i={type:"active",...e};return wn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},i=wn.batch(()=>K(this,an).findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(Kr).catch(Kr)}invalidateQueries(e={},t={}){return wn.batch(()=>{if(K(this,an).findAll(e).forEach(i=>{i.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},i=wn.batch(()=>K(this,an).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Kr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(Kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=K(this,an).build(this,t);return n.isStaleByTime(ac(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Kr).catch(Kr)}fetchInfiniteQuery(e){return e.behavior=MC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Kr).catch(Kr)}ensureInfiniteQueryData(e){return e.behavior=MC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mh.isOnline()?K(this,ja).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,an)}getMutationCache(){return K(this,ja)}getDefaultOptions(){return K(this,wa)}setDefaultOptions(e){_e(this,wa,e)}setQueryDefaults(e,t){K(this,wc).set(Zo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,wc).values()];let n={};return t.forEach(i=>{nf(e,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}setMutationDefaults(e,t){K(this,Nc).set(Zo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,Nc).values()];let n={};return t.forEach(i=>{nf(e,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,wa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===lN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,wa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,an).clear(),K(this,ja).clear()}},an=new WeakMap,ja=new WeakMap,wa=new WeakMap,wc=new WeakMap,Nc=new WeakMap,Na=new WeakMap,Sc=new WeakMap,Cc=new WeakMap,jO),pr,jt,sp,tr,Io,kc,Sa,Wi,ap,Ec,Ac,Ro,Mo,Ca,Pc,At,xu,G0,K0,Y0,Q0,X0,Z0,J0,nI,wO,J6=(wO=class extends Nd{constructor(t,n){super();et(this,At);et(this,pr);et(this,jt);et(this,sp);et(this,tr);et(this,Io);et(this,kc);et(this,Sa);et(this,Wi);et(this,ap);et(this,Ec);et(this,Ac);et(this,Ro);et(this,Mo);et(this,Ca);et(this,Pc,new Set);this.options=n,_e(this,pr,t),_e(this,Wi,null),_e(this,Sa,H0()),this.options.experimental_prefetchInRender||K(this,Sa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,jt).addObserver(this),DC(K(this,jt),this.options)?ht(this,At,xu).call(this):this.updateResult(),ht(this,At,Q0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eb(K(this,jt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eb(K(this,jt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,At,X0).call(this),ht(this,At,Z0).call(this),K(this,jt).removeObserver(this)}setOptions(t,n){const i=this.options,s=K(this,jt);if(this.options=K(this,pr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bi(this.options.enabled,K(this,jt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,At,J0).call(this),K(this,jt).setOptions(this.options),i._defaulted&&!ph(this.options,i)&&K(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,jt),observer:this});const a=this.hasListeners();a&&FC(K(this,jt),s,this.options,i)&&ht(this,At,xu).call(this),this.updateResult(n),a&&(K(this,jt)!==s||bi(this.options.enabled,K(this,jt))!==bi(i.enabled,K(this,jt))||ac(this.options.staleTime,K(this,jt))!==ac(i.staleTime,K(this,jt)))&&ht(this,At,G0).call(this);const o=ht(this,At,K0).call(this);a&&(K(this,jt)!==s||bi(this.options.enabled,K(this,jt))!==bi(i.enabled,K(this,jt))||o!==K(this,Ca))&&ht(this,At,Y0).call(this,o)}getOptimisticResult(t){const n=K(this,pr).getQueryCache().build(K(this,pr),t),i=this.createResult(n,t);return t8(this,i)&&(_e(this,tr,i),_e(this,kc,this.options),_e(this,Io,K(this,jt).state)),i}getCurrentResult(){return K(this,tr)}trackResult(t,n){const i={};return Object.keys(t).forEach(s=>{Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),i}trackProp(t){K(this,Pc).add(t)}getCurrentQuery(){return K(this,jt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=K(this,pr).defaultQueryOptions(t),i=K(this,pr).getQueryCache().build(K(this,pr),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return ht(this,At,xu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,tr)))}createResult(t,n){var S;const i=K(this,jt),s=this.options,a=K(this,tr),o=K(this,Io),l=K(this,kc),d=t!==i?t.state:K(this,sp),{state:u}=t;let f={...u},p=!1,h;if(n._optimisticResults){const C=this.hasListeners(),_=!C&&DC(t,n),P=C&&FC(t,i,n,s);(_||P)&&(f={...f,...eI(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:y}=f;if(n.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&n.select===K(this,ap))h=K(this,Ec);else try{_e(this,ap,n.select),h=n.select(f.data),h=W0(a==null?void 0:a.data,h,n),_e(this,Ec,h),_e(this,Wi,null)}catch(C){_e(this,Wi,C)}else h=f.data;if(n.placeholderData!==void 0&&h===void 0&&y==="pending"){let C;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))C=a.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((S=K(this,Ac))==null?void 0:S.state.data,K(this,Ac)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),_e(this,Wi,null)}catch(_){_e(this,Wi,_)}C!==void 0&&(y="success",h=W0(a==null?void 0:a.data,C,n),p=!0)}K(this,Wi)&&(v=K(this,Wi),h=K(this,Ec),m=Date.now(),y="error");const b=f.fetchStatus==="fetching",g=y==="pending",x=y==="error",N=g&&b,w=h!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:g,isSuccess:y==="success",isError:x,isInitialLoading:N,isLoading:N,data:h,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!g,isLoadingError:x&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:x&&w,isStale:dN(t,n),refetch:this.refetch,promise:K(this,Sa)};if(this.options.experimental_prefetchInRender){const C=A=>{E.status==="error"?A.reject(E.error):E.data!==void 0&&A.resolve(E.data)},_=()=>{const A=_e(this,Sa,E.promise=H0());C(A)},P=K(this,Sa);switch(P.status){case"pending":t.queryHash===i.queryHash&&C(P);break;case"fulfilled":(E.status==="error"||E.data!==P.value)&&_();break;case"rejected":(E.status!=="error"||E.error!==P.reason)&&_();break}}return E}updateResult(t){const n=K(this,tr),i=this.createResult(K(this,jt),this.options);if(_e(this,Io,K(this,jt).state),_e(this,kc,this.options),K(this,Io).data!==void 0&&_e(this,Ac,K(this,jt)),ph(i,n))return;_e(this,tr,i);const s={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!K(this,Pc).size)return!0;const c=new Set(l??K(this,Pc));return this.options.throwOnError&&c.add("error"),Object.keys(K(this,tr)).some(d=>{const u=d;return K(this,tr)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),ht(this,At,nI).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,At,Q0).call(this)}},pr=new WeakMap,jt=new WeakMap,sp=new WeakMap,tr=new WeakMap,Io=new WeakMap,kc=new WeakMap,Sa=new WeakMap,Wi=new WeakMap,ap=new WeakMap,Ec=new WeakMap,Ac=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,Ca=new WeakMap,Pc=new WeakMap,At=new WeakSet,xu=function(t){ht(this,At,J0).call(this);let n=K(this,jt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Kr)),n},G0=function(){ht(this,At,X0).call(this);const t=ac(this.options.staleTime,K(this,jt));if(Xo||K(this,tr).isStale||!U0(t))return;const i=G_(K(this,tr).dataUpdatedAt,t)+1;_e(this,Ro,setTimeout(()=>{K(this,tr).isStale||this.updateResult()},i))},K0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,jt)):this.options.refetchInterval)??!1},Y0=function(t){ht(this,At,Z0).call(this),_e(this,Ca,t),!(Xo||bi(this.options.enabled,K(this,jt))===!1||!U0(K(this,Ca))||K(this,Ca)===0)&&_e(this,Mo,setInterval(()=>{(this.options.refetchIntervalInBackground||cN.isFocused())&&ht(this,At,xu).call(this)},K(this,Ca)))},Q0=function(){ht(this,At,G0).call(this),ht(this,At,Y0).call(this,ht(this,At,K0).call(this))},X0=function(){K(this,Ro)&&(clearTimeout(K(this,Ro)),_e(this,Ro,void 0))},Z0=function(){K(this,Mo)&&(clearInterval(K(this,Mo)),_e(this,Mo,void 0))},J0=function(){const t=K(this,pr).getQueryCache().build(K(this,pr),this.options);if(t===K(this,jt))return;const n=K(this,jt);_e(this,jt,t),_e(this,sp,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},nI=function(t){wn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(K(this,tr))}),K(this,pr).getQueryCache().notify({query:K(this,jt),type:"observerResultsUpdated"})})},wO);function e8(e,t){return bi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function DC(e,t){return e8(e,t)||e.state.data!==void 0&&eb(e,t,t.refetchOnMount)}function eb(e,t,n){if(bi(t.enabled,e)!==!1){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&dN(e,t)}return!1}function FC(e,t,n,i){return(e!==t||bi(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&dN(e,n)}function dN(e,t){return bi(t.enabled,e)!==!1&&e.isStaleByTime(ac(t.staleTime,e))}function t8(e,t){return!ph(e.getCurrentResult(),t)}var ka,Ea,mr,ks,Fs,Rm,tb,NO,n8=(NO=class extends Nd{constructor(n,i){super();et(this,Fs);et(this,ka);et(this,Ea);et(this,mr);et(this,ks);_e(this,ka,n),this.setOptions(i),this.bindMethods(),ht(this,Fs,Rm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const i=this.options;this.options=K(this,ka).defaultMutationOptions(n),ph(this.options,i)||K(this,ka).getMutationCache().notify({type:"observerOptionsUpdated",mutation:K(this,mr),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Zo(i.mutationKey)!==Zo(this.options.mutationKey)?this.reset():((s=K(this,mr))==null?void 0:s.state.status)==="pending"&&K(this,mr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=K(this,mr))==null||n.removeObserver(this)}onMutationUpdate(n){ht(this,Fs,Rm).call(this),ht(this,Fs,tb).call(this,n)}getCurrentResult(){return K(this,Ea)}reset(){var n;(n=K(this,mr))==null||n.removeObserver(this),_e(this,mr,void 0),ht(this,Fs,Rm).call(this),ht(this,Fs,tb).call(this)}mutate(n,i){var s;return _e(this,ks,i),(s=K(this,mr))==null||s.removeObserver(this),_e(this,mr,K(this,ka).getMutationCache().build(K(this,ka),this.options)),K(this,mr).addObserver(this),K(this,mr).execute(n)}},ka=new WeakMap,Ea=new WeakMap,mr=new WeakMap,ks=new WeakMap,Fs=new WeakSet,Rm=function(){var i;const n=((i=K(this,mr))==null?void 0:i.state)??tI();_e(this,Ea,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},tb=function(n){wn.batch(()=>{var i,s,a,o,l,c,d,u;if(K(this,ks)&&this.hasListeners()){const f=K(this,Ea).variables,p=K(this,Ea).context;(n==null?void 0:n.type)==="success"?((s=(i=K(this,ks)).onSuccess)==null||s.call(i,n.data,f,p),(o=(a=K(this,ks)).onSettled)==null||o.call(a,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((c=(l=K(this,ks)).onError)==null||c.call(l,n.error,f,p),(u=(d=K(this,ks)).onSettled)==null||u.call(d,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(K(this,Ea))})})},NO),rI=j.createContext(void 0),Br=e=>{const t=j.useContext(rI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},r8=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(rI.Provider,{value:e,children:t})),iI=j.createContext(!1),i8=()=>j.useContext(iI);iI.Provider;function s8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var a8=j.createContext(s8()),o8=()=>j.useContext(a8);function sI(e,t){return typeof e=="function"?e(...t):!!e}function nb(){}var l8=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},c8=e=>{j.useEffect(()=>{e.clearReset()},[e])},d8=({result:e,errorResetBoundary:t,throwOnError:n,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&sI(n,[e.error,i]),u8=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},f8=(e,t)=>e.isLoading&&e.isFetching&&!t,p8=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,LC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function m8(e,t,n){var u,f,p,h,v;const i=Br(),s=i8(),a=o8(),o=i.defaultQueryOptions(e);(f=(u=i.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",u8(o),l8(o,a),c8(a);const l=!i.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(i,o)),d=c.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(m=>{const y=s?nb:c.subscribe(wn.batchCalls(m));return c.updateResult(),y},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),p8(o,d))throw LC(o,c,a);if(d8({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash)}))throw d.error;if((h=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||h.call(p,o,d),o.experimental_prefetchInRender&&!Xo&&f8(d,s)){const m=l?LC(o,c,a):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;m==null||m.catch(nb).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Oe(e,t){return m8(e,J6)}function Ye(e,t){const n=Br(),[i]=j.useState(()=>new n8(n,e));j.useEffect(()=>{i.setOptions(e)},[i,e]);const s=j.useSyncExternalStore(j.useCallback(o=>i.subscribe(wn.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),a=j.useCallback((o,l)=>{i.mutate(o,l).catch(nb)},[i]);if(s.error&&sI(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function aI(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function lt(e,t){const{method:n="GET",body:i,headers:s={}}=t||{};console.log(`[API Request] ${n} ${e}`);const a=await fetch(e,{method:n,headers:i?{"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-cache",...s}:{Accept:"application/json",...s},body:i,credentials:"include"});console.log(`[API Response] ${a.status} ${a.statusText}`);const o=a.headers.get("content-type");return o&&o.includes("text/html")&&a.status===200&&(console.warn(`[API Request] Detected Vite HTML interference for ${e}`),e.includes("/api/evidence-library/")&&n==="PUT")?(console.log("[API Request] Evidence Library update appears successful despite HTML response"),new Response(JSON.stringify({success:!0,message:"Update successful"}),{status:200,headers:{"Content-Type":"application/json"}})):(await aI(a),a)}const h8=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await aI(n),await n.json())},Ot=new Z6({defaultOptions:{queries:{queryFn:h8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),x8=1,v8=1e6;let ty=0;function g8(){return ty=(ty+1)%Number.MAX_SAFE_INTEGER,ty.toString()}const ny=new Map,qC=e=>{if(ny.has(e))return;const t=setTimeout(()=>{ny.delete(e),Ou({type:"REMOVE_TOAST",toastId:e})},v8);ny.set(e,t)},y8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,x8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?qC(n):e.toasts.forEach(i=>{qC(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Mm=[];let $m={toasts:[]};function Ou(e){$m=y8($m,e),Mm.forEach(t=>{t($m)})}function oI({...e}){const t=g8(),n=s=>Ou({type:"UPDATE_TOAST",toast:{...s,id:t}}),i=()=>Ou({type:"DISMISS_TOAST",toastId:t});return Ou({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||i()}}}),{id:t,dismiss:i,update:n}}function Dt(){const[e,t]=j.useState($m);return j.useEffect(()=>(Mm.push(t),()=>{const n=Mm.indexOf(t);n>-1&&Mm.splice(n,1)}),[e]),{...e,toast:oI,dismiss:n=>Ou({type:"DISMISS_TOAST",toastId:n})}}function He(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function zC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nv(...e){return t=>{let n=!1;const i=e.map(s=>{const a=zC(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():zC(e[s],null)}}}}function yt(...e){return j.useCallback(nv(...e),e)}function b8(e,t){const n=j.createContext(t),i=a=>{const{children:o,...l}=a,c=j.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};i.displayName=e+"Provider";function s(a){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[i,s]}function Ur(e,t=[]){let n=[];function i(a,o){const l=j.createContext(o),c=n.length;n=[...n,o];const d=f=>{var b;const{scope:p,children:h,...v}=f,m=((b=p==null?void 0:p[e])==null?void 0:b[c])||l,y=j.useMemo(()=>v,Object.values(v));return r.jsx(m.Provider,{value:y,children:h})};d.displayName=a+"Provider";function u(f,p){var m;const h=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,v=j.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,u]}const s=()=>{const a=n.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[i,j8(s,...t)]}function j8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Fc(e){const t=w8(e),n=j.forwardRef((i,s)=>{const{children:a,...o}=i,l=j.Children.toArray(a),c=l.find(S8);if(c){const d=c.props.children,u=l.map(f=>f===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:s,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var lI=Fc("Slot");function w8(e){const t=j.forwardRef((n,i)=>{const{children:s,...a}=n;if(j.isValidElement(s)){const o=k8(s),l=C8(a,s.props);return s.type!==j.Fragment&&(l.ref=i?nv(i,o):o),j.cloneElement(s,l)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cI=Symbol("radix.slottable");function N8(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=cI,t}function S8(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cI}function C8(e,t){const n={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...l)=>{a(...l),s(...l)}:s&&(n[i]=s):i==="style"?n[i]={...s,...a}:i==="className"&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function k8(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function uN(e){const t=e+"CollectionProvider",[n,i]=Ur(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:b}=m,g=L.useRef(null),x=L.useRef(new Map).current;return r.jsx(s,{scope:y,itemMap:x,collectionRef:g,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=Fc(l),d=L.forwardRef((m,y)=>{const{scope:b,children:g}=m,x=a(l,b),N=yt(y,x.collectionRef);return r.jsx(c,{ref:N,children:g})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=Fc(u),h=L.forwardRef((m,y)=>{const{scope:b,children:g,...x}=m,N=L.useRef(null),w=yt(y,N),k=a(u,b);return L.useEffect(()=>(k.itemMap.set(N,{ref:N,...x}),()=>void k.itemMap.delete(N))),r.jsx(p,{[f]:"",ref:w,children:g})});h.displayName=u;function v(m){const y=a(e+"CollectionConsumer",m);return L.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((k,E)=>x.indexOf(k.ref.current)-x.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:h},v,i]}var E8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=E8.reduce((e,t)=>{const n=Fc(`Primitive.${t}`),i=j.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function dI(e,t){e&&ml.flushSync(()=>e.dispatchEvent(t))}function un(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function A8(e,t=globalThis==null?void 0:globalThis.document){const n=un(e);j.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var P8="DismissableLayer",rb="dismissableLayer.update",O8="dismissableLayer.pointerDownOutside",T8="dismissableLayer.focusOutside",BC,uI=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fp=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=j.useContext(uI),[u,f]=j.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=j.useState({}),v=yt(t,E=>f(E)),m=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(y),g=u?m.indexOf(u):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,N=g>=b,w=I8(E=>{const S=E.target,C=[...d.branches].some(_=>_.contains(S));!N||C||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},p),k=R8(E=>{const S=E.target;[...d.branches].some(_=>_.contains(S))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},p);return A8(E=>{g===d.layers.size-1&&(i==null||i(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),j.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(BC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),UC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=BC)}},[u,p,n,d]),j.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),UC())},[u,d]),j.useEffect(()=>{const E=()=>h({});return document.addEventListener(rb,E),()=>document.removeEventListener(rb,E)},[]),r.jsx(nt.div,{...c,ref:v,style:{pointerEvents:x?N?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,k.onFocusCapture),onBlurCapture:He(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,w.onPointerDownCapture)})});fp.displayName=P8;var _8="DismissableLayerBranch",fI=j.forwardRef((e,t)=>{const n=j.useContext(uI),i=j.useRef(null),s=yt(t,i);return j.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(nt.div,{...e,ref:s})});fI.displayName=_8;function I8(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),i=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const a=l=>{if(l.target&&!i.current){let c=function(){pI(O8,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function R8(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),i=j.useRef(!1);return j.useEffect(()=>{const s=a=>{a.target&&!i.current&&pI(T8,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function UC(){const e=new CustomEvent(rb);document.dispatchEvent(e)}function pI(e,t,n,{discrete:i}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?dI(s,a):s.dispatchEvent(a)}var M8=fp,$8=fI,pn=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},D8="Portal",rv=j.forwardRef((e,t)=>{var l;const{container:n,...i}=e,[s,a]=j.useState(!1);pn(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?l6.createPortal(r.jsx(nt.div,{...i,ref:t}),o):null});rv.displayName=D8;function F8(e,t){return j.useReducer((n,i)=>t[n][i]??n,e)}var oi=e=>{const{present:t,children:n}=e,i=L8(t),s=typeof n=="function"?n({present:i.isPresent}):j.Children.only(n),a=yt(i.ref,q8(s));return typeof n=="function"||i.isPresent?j.cloneElement(s,{ref:a}):null};oi.displayName="Presence";function L8(e){const[t,n]=j.useState(),i=j.useRef({}),s=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=F8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=Xp(i.current);a.current=l==="mounted"?d:"none"},[l]),pn(()=>{const d=i.current,u=s.current;if(u!==e){const p=a.current,h=Xp(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),pn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=h=>{const m=Xp(i.current).includes(h.animationName);if(h.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=h=>{h.target===t&&(a.current=Xp(i.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{d&&(i.current=getComputedStyle(d)),n(d)},[])}}function Xp(e){return(e==null?void 0:e.animationName)||"none"}function q8(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Us({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,s]=z8({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:i,l=un(n),c=j.useCallback(d=>{if(a){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else s(d)},[a,e,s,l]);return[o,c]}function z8({defaultProp:e,onChange:t}){const n=j.useState(e),[i]=n,s=j.useRef(i),a=un(t);return j.useEffect(()=>{s.current!==i&&(a(i),s.current=i)},[i,s,a]),n}var B8="VisuallyHidden",pp=j.forwardRef((e,t)=>r.jsx(nt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));pp.displayName=B8;var U8=pp,fN="ToastProvider",[pN,V8,W8]=uN("Toast"),[mI,nNe]=Ur("Toast",[W8]),[H8,iv]=mI(fN),hI=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=j.useState(null),[d,u]=j.useState(0),f=j.useRef(!1),p=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${fN}\`. Expected non-empty \`string\`.`),r.jsx(pN.Provider,{scope:t,children:r.jsx(H8,{scope:t,label:n,duration:i,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>u(h=>h+1),[]),onToastRemove:j.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};hI.displayName=fN;var xI="ToastViewport",G8=["F8"],ib="toast.viewportPause",sb="toast.viewportResume",vI=j.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=G8,label:s="Notifications ({hotkey})",...a}=e,o=iv(xI,n),l=V8(n),c=j.useRef(null),d=j.useRef(null),u=j.useRef(null),f=j.useRef(null),p=yt(t,f,o.onViewportChange),h=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;j.useEffect(()=>{const y=b=>{var x;i.length!==0&&i.every(N=>b[N]||b.code===N)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[i]),j.useEffect(()=>{const y=c.current,b=f.current;if(v&&y&&b){const g=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(ib);b.dispatchEvent(k),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(sb);b.dispatchEvent(k),o.isClosePausedRef.current=!1}},N=k=>{!y.contains(k.relatedTarget)&&x()},w=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",g),y.addEventListener("focusout",N),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",w),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",w),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const m=j.useCallback(({tabbingDirection:y})=>{const g=l().map(x=>{const N=x.ref.current,w=[N,...az(N)];return y==="forwards"?w:w.reverse()});return(y==="forwards"?g.reverse():g).flat()},[l]);return j.useEffect(()=>{const y=f.current;if(y){const b=g=>{var w,k,E;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const S=document.activeElement,C=g.shiftKey;if(g.target===y&&C){(w=d.current)==null||w.focus();return}const A=m({tabbingDirection:C?"backwards":"forwards"}),O=A.findIndex(I=>I===S);ry(A.slice(O+1))?g.preventDefault():C?(k=d.current)==null||k.focus():(E=u.current)==null||E.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[l,m]),r.jsxs($8,{ref:c,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&r.jsx(ab,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});ry(y)}}),r.jsx(pN.Slot,{scope:n,children:r.jsx(nt.ol,{tabIndex:-1,...a,ref:p})}),v&&r.jsx(ab,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});ry(y)}})]})});vI.displayName=xI;var gI="ToastFocusProxy",ab=j.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...s}=e,a=iv(gI,n);return r.jsx(pp,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&i()}})});ab.displayName=gI;var sv="Toast",K8="toast.swipeStart",Y8="toast.swipeMove",Q8="toast.swipeCancel",X8="toast.swipeEnd",yI=j.forwardRef((e,t)=>{const{forceMount:n,open:i,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Us({prop:i,defaultProp:s,onChange:a});return r.jsx(oi,{present:n||l,children:r.jsx(ez,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:un(e.onPause),onResume:un(e.onResume),onSwipeStart:He(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});yI.displayName=sv;var[Z8,J8]=mI(sv,{onClose(){}}),ez=j.forwardRef((e,t)=>{const{__scopeToast:n,type:i="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...v}=e,m=iv(sv,n),[y,b]=j.useState(null),g=yt(t,I=>b(I)),x=j.useRef(null),N=j.useRef(null),w=s||m.duration,k=j.useRef(0),E=j.useRef(w),S=j.useRef(0),{onToastAdd:C,onToastRemove:_}=m,P=un(()=>{var F;(y==null?void 0:y.contains(document.activeElement))&&((F=m.viewport)==null||F.focus()),o()}),A=j.useCallback(I=>{!I||I===1/0||(window.clearTimeout(S.current),k.current=new Date().getTime(),S.current=window.setTimeout(P,I))},[P]);j.useEffect(()=>{const I=m.viewport;if(I){const F=()=>{A(E.current),d==null||d()},$=()=>{const G=new Date().getTime()-k.current;E.current=E.current-G,window.clearTimeout(S.current),c==null||c()};return I.addEventListener(ib,$),I.addEventListener(sb,F),()=>{I.removeEventListener(ib,$),I.removeEventListener(sb,F)}}},[m.viewport,w,c,d,A]),j.useEffect(()=>{a&&!m.isClosePausedRef.current&&A(w)},[a,w,m.isClosePausedRef,A]),j.useEffect(()=>(C(),()=>_()),[C,_]);const O=j.useMemo(()=>y?kI(y):null,[y]);return m.viewport?r.jsxs(r.Fragment,{children:[O&&r.jsx(tz,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),r.jsx(Z8,{scope:n,onClose:P,children:ml.createPortal(r.jsx(pN.ItemSlot,{scope:n,children:r.jsx(M8,{asChild:!0,onEscapeKeyDown:He(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||P(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:He(e.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:He(e.onPointerMove,I=>{if(!x.current)return;const F=I.clientX-x.current.x,$=I.clientY-x.current.y,G=!!N.current,z=["left","right"].includes(m.swipeDirection),H=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,D=z?H(0,F):0,U=z?0:H(0,$),R=I.pointerType==="touch"?10:2,se={x:D,y:U},ge={originalEvent:I,delta:se};G?(N.current=se,Zp(Y8,f,ge,{discrete:!1})):VC(se,m.swipeDirection,R)?(N.current=se,Zp(K8,u,ge,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(F)>R||Math.abs($)>R)&&(x.current=null)}),onPointerUp:He(e.onPointerUp,I=>{const F=N.current,$=I.target;if($.hasPointerCapture(I.pointerId)&&$.releasePointerCapture(I.pointerId),N.current=null,x.current=null,F){const G=I.currentTarget,z={originalEvent:I,delta:F};VC(F,m.swipeDirection,m.swipeThreshold)?Zp(X8,h,z,{discrete:!0}):Zp(Q8,p,z,{discrete:!0}),G.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),tz=e=>{const{__scopeToast:t,children:n,...i}=e,s=iv(sv,t),[a,o]=j.useState(!1),[l,c]=j.useState(!1);return iz(()=>o(!0)),j.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(rv,{asChild:!0,children:r.jsx(pp,{...i,children:a&&r.jsxs(r.Fragment,{children:[s.label," ",n]})})})},nz="ToastTitle",bI=j.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return r.jsx(nt.div,{...i,ref:t})});bI.displayName=nz;var rz="ToastDescription",jI=j.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return r.jsx(nt.div,{...i,ref:t})});jI.displayName=rz;var wI="ToastAction",NI=j.forwardRef((e,t)=>{const{altText:n,...i}=e;return n.trim()?r.jsx(CI,{altText:n,asChild:!0,children:r.jsx(mN,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${wI}\`. Expected non-empty \`string\`.`),null)});NI.displayName=wI;var SI="ToastClose",mN=j.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e,s=J8(SI,n);return r.jsx(CI,{asChild:!0,children:r.jsx(nt.button,{type:"button",...i,ref:t,onClick:He(e.onClick,s.onClose)})})});mN.displayName=SI;var CI=j.forwardRef((e,t)=>{const{__scopeToast:n,altText:i,...s}=e;return r.jsx(nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:t})});function kI(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),sz(i)){const s=i.ariaHidden||i.hidden||i.style.display==="none",a=i.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=i.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...kI(i))}}),t}function Zp(e,t,n,{discrete:i}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?dI(s,a):s.dispatchEvent(a)}var VC=(e,t,n=0)=>{const i=Math.abs(e.x),s=Math.abs(e.y),a=i>s;return t==="left"||t==="right"?a&&i>n:!a&&s>n};function iz(e=()=>{}){const t=un(e);pn(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function sz(e){return e.nodeType===e.ELEMENT_NODE}function az(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ry(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var oz=hI,EI=vI,AI=yI,PI=bI,OI=jI,TI=NI,_I=mN;function II(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=II(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function xt(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=II(e))&&(i&&(i+=" "),i+=t);return i}const WC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,HC=xt,mp=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return HC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],f=a==null?void 0:a[d];if(u===null)return null;const p=WC(u)||WC(f);return s[d][p]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,p]=u;return p===void 0||(d[f]=p),d},{}),c=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((d,u)=>{let{class:f,className:p,...h}=u;return Object.entries(h).every(v=>{let[m,y]=v;return Array.isArray(y)?y.includes({...a,...l}[m]):{...a,...l}[m]===y})?[...d,f,p]:d},[]);return HC(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RI=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...cz,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:RI("lucide",s),...l},[...o.map(([d,u])=>j.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const n=j.forwardRef(({className:i,...s},a)=>j.createElement(dz,{ref:a,iconNode:t,className:RI(`lucide-${lz(e)}`,i),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=be("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=be("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=be("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=be("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=be("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=be("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=be("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=be("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=be("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=be("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=be("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=be("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=be("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=be("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=be("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=be("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=be("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=be("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=be("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=be("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=be("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=be("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=be("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),vN="-",Mz=e=>{const t=Dz(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:o=>{const l=o.split(vN);return l[0]===""&&l.length!==1&&l.shift(),GI(l,t)||$z(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&i[o]?[...c,...i[o]]:c}}},GI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),s=i?GI(e.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(vN);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},tk=/^\[(.+)\]$/,$z=e=>{if(tk.test(e)){const t=tk.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Dz=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return Lz(Object.entries(e.classGroups),n).forEach(([a,o])=>{db(o,i,a,t)}),i},db=(e,t,n,i)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:nk(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(Fz(s)){db(s(i),t,n,i);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{db(o,nk(t,a),n,i)})})},nk=(e,t)=>{let n=e;return t.split(vN).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},Fz=e=>e.isThemeGetter,Lz=(e,t)=>t?e.map(([n,i])=>{const s=i.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,qz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,i=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=i.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},KI="!",zz=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let b=l[y];if(d===0){if(b===s&&(i||l.slice(y,y+a)===t)){c.push(l.slice(u,y)),u=y+a;continue}if(b==="/"){f=y;continue}}b==="["?d++:b==="]"&&d--}const p=c.length===0?l:l.substring(u),h=p.startsWith(KI),v=h?p.substring(1):p,m=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},Bz=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},Uz=e=>({cache:qz(e.cacheSize),parseClassName:zz(e),...Mz(e)}),Vz=/\s+/,Wz=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(Vz);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=n(d);let v=!!h,m=i(v?p.substring(0,h):p);if(!m){if(!v){l=d+(l.length>0?" "+l:l);continue}if(m=i(p),!m){l=d+(l.length>0?" "+l:l);continue}v=!1}const y=Bz(u).join(":"),b=f?y+KI:y,g=b+m;if(a.includes(g))continue;a.push(g);const x=s(m,v);for(let N=0;N<x.length;++N){const w=x[N];a.push(b+w)}l=d+(l.length>0?" "+l:l)}return l};function Hz(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=YI(t))&&(i&&(i+=" "),i+=n);return i}const YI=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=YI(e[i]))&&(n&&(n+=" "),n+=t);return n};function Gz(e,...t){let n,i,s,a=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=Uz(d),i=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const d=i(c);if(d)return d;const u=Wz(c,n);return s(c,u),u}return function(){return a(Hz.apply(null,arguments))}}const Ut=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},QI=/^\[(?:([a-z-]+):)?(.+)\]$/i,Kz=/^\d+\/\d+$/,Yz=new Set(["px","full","screen"]),Qz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Jz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vs=e=>lc(e)||Yz.has(e)||Kz.test(e),aa=e=>Sd(e,"length",lB),lc=e=>!!e&&!Number.isNaN(Number(e)),sy=e=>Sd(e,"number",lc),Qd=e=>!!e&&Number.isInteger(Number(e)),tB=e=>e.endsWith("%")&&lc(e.slice(0,-1)),mt=e=>QI.test(e),oa=e=>Qz.test(e),nB=new Set(["length","size","percentage"]),rB=e=>Sd(e,nB,XI),iB=e=>Sd(e,"position",XI),sB=new Set(["image","url"]),aB=e=>Sd(e,sB,dB),oB=e=>Sd(e,"",cB),Xd=()=>!0,Sd=(e,t,n)=>{const i=QI.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},lB=e=>Xz.test(e)&&!Zz.test(e),XI=()=>!1,cB=e=>Jz.test(e),dB=e=>eB.test(e),uB=()=>{const e=Ut("colors"),t=Ut("spacing"),n=Ut("blur"),i=Ut("brightness"),s=Ut("borderColor"),a=Ut("borderRadius"),o=Ut("borderSpacing"),l=Ut("borderWidth"),c=Ut("contrast"),d=Ut("grayscale"),u=Ut("hueRotate"),f=Ut("invert"),p=Ut("gap"),h=Ut("gradientColorStops"),v=Ut("gradientColorStopPositions"),m=Ut("inset"),y=Ut("margin"),b=Ut("opacity"),g=Ut("padding"),x=Ut("saturate"),N=Ut("scale"),w=Ut("sepia"),k=Ut("skew"),E=Ut("space"),S=Ut("translate"),C=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",mt,t],A=()=>[mt,t],O=()=>["",vs,aa],I=()=>["auto",lc,mt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",mt],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[lc,mt];return{cacheSize:500,separator:":",theme:{colors:[Xd],spacing:[vs,aa],blur:["none","",oa,mt],brightness:U(),borderColor:[e],borderRadius:["none","","full",oa,mt],borderSpacing:A(),borderWidth:O(),contrast:U(),grayscale:H(),hueRotate:U(),invert:H(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[tB,aa],inset:P(),margin:P(),opacity:U(),padding:A(),saturate:U(),scale:U(),sepia:H(),skew:U(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[oa]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),mt]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qd,mt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Qd,mt]}],"grid-cols":[{"grid-cols":[Xd]}],"col-start-end":[{col:["auto",{span:["full",Qd,mt]},mt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Xd]}],"row-start-end":[{row:["auto",{span:[Qd,mt]},mt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,t]}],"min-w":[{"min-w":[mt,t,"min","max","fit"]}],"max-w":[{"max-w":[mt,t,"none","full","min","max","fit","prose",{screen:[oa]},oa]}],h:[{h:[mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",oa,aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sy]}],"font-family":[{font:[Xd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",lc,sy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vs,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vs,aa]}],"underline-offset":[{"underline-offset":["auto",vs,mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),iB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aB]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[vs,mt]}],"outline-w":[{outline:[vs,aa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[vs,aa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",oa,oB]}],"shadow-color":[{shadow:[Xd]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",oa,mt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Qd,mt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vs,aa,sy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fB=Gz(uB);function Qe(...e){return fB(xt(e))}const pB=oz,ZI=j.forwardRef(({className:e,...t},n)=>r.jsx(EI,{ref:n,className:Qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ZI.displayName=EI.displayName;const mB=mp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),JI=j.forwardRef(({className:e,variant:t,...n},i)=>r.jsx(AI,{ref:i,className:Qe(mB({variant:t}),e),...n}));JI.displayName=AI.displayName;const hB=j.forwardRef(({className:e,...t},n)=>r.jsx(TI,{ref:n,className:Qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));hB.displayName=TI.displayName;const eR=j.forwardRef(({className:e,...t},n)=>r.jsx(_I,{ref:n,className:Qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Ws,{className:"h-4 w-4"})}));eR.displayName=_I.displayName;const tR=j.forwardRef(({className:e,...t},n)=>r.jsx(PI,{ref:n,className:Qe("text-sm font-semibold",e),...t}));tR.displayName=PI.displayName;const nR=j.forwardRef(({className:e,...t},n)=>r.jsx(OI,{ref:n,className:Qe("text-sm opacity-90",e),...t}));nR.displayName=OI.displayName;function xB(){const{toasts:e}=Dt();return r.jsxs(pB,{children:[e.map(function({id:t,title:n,description:i,action:s,...a}){return r.jsxs(JI,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(tR,{children:n}),i&&r.jsx(nR,{children:i})]}),s,r.jsx(eR,{})]},t)}),r.jsx(ZI,{})]})}var vB=fw[" useId ".trim().toString()]||(()=>{}),gB=0;function ts(e){const[t,n]=j.useState(vB());return pn(()=>{e||n(i=>i??String(gB++))},[e]),e||(t?`radix-${t}`:"")}const yB=["top","right","bottom","left"],Wa=Math.min,Or=Math.max,xh=Math.round,Jp=Math.floor,ns=e=>({x:e,y:e}),bB={left:"right",right:"left",bottom:"top",top:"bottom"},jB={start:"end",end:"start"};function ub(e,t,n){return Or(e,Wa(t,n))}function Hs(e,t){return typeof e=="function"?e(t):e}function Gs(e){return e.split("-")[0]}function Cd(e){return e.split("-")[1]}function gN(e){return e==="x"?"y":"x"}function yN(e){return e==="y"?"height":"width"}function Ha(e){return["top","bottom"].includes(Gs(e))?"y":"x"}function bN(e){return gN(Ha(e))}function wB(e,t,n){n===void 0&&(n=!1);const i=Cd(e),s=bN(e),a=yN(s);let o=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=vh(o)),[o,vh(o)]}function NB(e){const t=vh(e);return[fb(e),t,fb(t)]}function fb(e){return e.replace(/start|end/g,t=>jB[t])}function SB(e,t,n){const i=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?a:o;default:return[]}}function CB(e,t,n,i){const s=Cd(e);let a=SB(Gs(e),n==="start",i);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(fb)))),a}function vh(e){return e.replace(/left|right|bottom|top/g,t=>bB[t])}function kB(e){return{top:0,right:0,bottom:0,left:0,...e}}function rR(e){return typeof e!="number"?kB(e):{top:e,right:e,bottom:e,left:e}}function gh(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function rk(e,t,n){let{reference:i,floating:s}=e;const a=Ha(t),o=bN(t),l=yN(o),c=Gs(t),d=a==="y",u=i.x+i.width/2-s.width/2,f=i.y+i.height/2-s.height/2,p=i[l]/2-s[l]/2;let h;switch(c){case"top":h={x:u,y:i.y-s.height};break;case"bottom":h={x:u,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:f};break;case"left":h={x:i.x-s.width,y:f};break;default:h={x:i.x,y:i.y}}switch(Cd(t)){case"start":h[o]-=p*(n&&d?-1:1);break;case"end":h[o]+=p*(n&&d?-1:1);break}return h}const EB=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=rk(d,i,c),p=i,h={},v=0;for(let m=0;m<l.length;m++){const{name:y,fn:b}=l[m],{x:g,y:x,data:N,reset:w}=await b({x:u,y:f,initialPlacement:i,placement:p,strategy:s,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});u=g??u,f=x??f,h={...h,[y]:{...h[y],...N}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:u,y:f}=rk(d,p,c)),m=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:h}};async function rf(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Hs(t,e),v=rR(h),y=l[p?f==="floating"?"reference":"floating":f],b=gh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),g=f==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},w=gh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:x,strategy:c}):g);return{top:(b.top-w.top+v.top)/N.y,bottom:(w.bottom-b.bottom+v.bottom)/N.y,left:(b.left-w.left+v.left)/N.x,right:(w.right-b.right+v.right)/N.x}}const AB=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Hs(e,t)||{};if(d==null)return{};const f=rR(u),p={x:n,y:i},h=bN(s),v=yN(h),m=await o.getDimensions(d),y=h==="y",b=y?"top":"left",g=y?"bottom":"right",x=y?"clientHeight":"clientWidth",N=a.reference[v]+a.reference[h]-p[h]-a.floating[v],w=p[h]-a.reference[h],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=k?k[x]:0;(!E||!await(o.isElement==null?void 0:o.isElement(k)))&&(E=l.floating[x]||a.floating[v]);const S=N/2-w/2,C=E/2-m[v]/2-1,_=Wa(f[b],C),P=Wa(f[g],C),A=_,O=E-m[v]-P,I=E/2-m[v]/2+S,F=ub(A,I,O),$=!c.arrow&&Cd(s)!=null&&I!==F&&a.reference[v]/2-(I<A?_:P)-m[v]/2<0,G=$?I<A?I-A:I-O:0;return{[h]:p[h]+G,data:{[h]:F,centerOffset:I-F-G,...$&&{alignmentOffset:G}},reset:$}}}),PB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...y}=Hs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=Gs(s),g=Ha(l),x=Gs(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=p||(x||!m?[vh(l)]:NB(l)),k=v!=="none";!p&&k&&w.push(...CB(l,m,v,N));const E=[l,...w],S=await rf(t,y),C=[];let _=((i=a.flip)==null?void 0:i.overflows)||[];if(u&&C.push(S[b]),f){const I=wB(s,o,N);C.push(S[I[0]],S[I[1]])}if(_=[..._,{placement:s,overflows:C}],!C.every(I=>I<=0)){var P,A;const I=(((P=a.flip)==null?void 0:P.index)||0)+1,F=E[I];if(F)return{data:{index:I,overflows:_},reset:{placement:F}};let $=(A=_.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:A.placement;if(!$)switch(h){case"bestFit":{var O;const G=(O=_.filter(z=>{if(k){const H=Ha(z.placement);return H===g||H==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(H=>H>0).reduce((H,D)=>H+D,0)]).sort((z,H)=>z[1]-H[1])[0])==null?void 0:O[0];G&&($=G);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function ik(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sk(e){return yB.some(t=>e[t]>=0)}const OB=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...s}=Hs(e,t);switch(i){case"referenceHidden":{const a=await rf(t,{...s,elementContext:"reference"}),o=ik(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sk(o)}}}case"escaped":{const a=await rf(t,{...s,altBoundary:!0}),o=ik(a,n.floating);return{data:{escapedOffsets:o,escaped:sk(o)}}}default:return{}}}}};async function TB(e,t){const{placement:n,platform:i,elements:s}=e,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=Gs(n),l=Cd(n),c=Ha(n)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,f=Hs(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(h=l==="end"?v*-1:v),c?{x:h*u,y:p*d}:{x:p*d,y:h*u}}const _B=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await TB(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},IB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:g}=y;return{x:b,y:g}}},...c}=Hs(e,t),d={x:n,y:i},u=await rf(t,c),f=Ha(Gs(s)),p=gN(f);let h=d[p],v=d[f];if(a){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",g=h+u[y],x=h-u[b];h=ub(g,h,x)}if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",g=v+u[y],x=v-u[b];v=ub(g,v,x)}const m=l.fn({...t,[p]:h,[f]:v});return{...m,data:{x:m.x-n,y:m.y-i,enabled:{[p]:a,[f]:o}}}}}},RB=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Hs(e,t),u={x:n,y:i},f=Ha(s),p=gN(f);let h=u[p],v=u[f];const m=Hs(l,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const x=p==="y"?"height":"width",N=a.reference[p]-a.floating[x]+y.mainAxis,w=a.reference[p]+a.reference[x]-y.mainAxis;h<N?h=N:h>w&&(h=w)}if(d){var b,g;const x=p==="y"?"width":"height",N=["top","left"].includes(Gs(s)),w=a.reference[f]-a.floating[x]+(N&&((b=o.offset)==null?void 0:b[f])||0)+(N?0:y.crossAxis),k=a.reference[f]+a.reference[x]+(N?0:((g=o.offset)==null?void 0:g[f])||0)-(N?y.crossAxis:0);v<w?v=w:v>k&&(v=k)}return{[p]:h,[f]:v}}}},MB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Hs(e,t),u=await rf(t,d),f=Gs(s),p=Cd(s),h=Ha(s)==="y",{width:v,height:m}=a.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,y=p==="end"?"top":"bottom");const g=m-u.top-u.bottom,x=v-u.left-u.right,N=Wa(m-u[y],g),w=Wa(v-u[b],x),k=!t.middlewareData.shift;let E=N,S=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(E=g),k&&!p){const _=Or(u.left,0),P=Or(u.right,0),A=Or(u.top,0),O=Or(u.bottom,0);h?S=v-2*(_!==0||P!==0?_+P:Or(u.left,u.right)):E=m-2*(A!==0||O!==0?A+O:Or(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:E});const C=await o.getDimensions(l.floating);return v!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function lv(){return typeof window<"u"}function kd(e){return iR(e)?(e.nodeName||"").toLowerCase():"#document"}function $r(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ps(e){var t;return(t=(iR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iR(e){return lv()?e instanceof Node||e instanceof $r(e).Node:!1}function Ii(e){return lv()?e instanceof Element||e instanceof $r(e).Element:!1}function cs(e){return lv()?e instanceof HTMLElement||e instanceof $r(e).HTMLElement:!1}function ak(e){return!lv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $r(e).ShadowRoot}function gp(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Ri(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function $B(e){return["table","td","th"].includes(kd(e))}function cv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jN(e){const t=wN(),n=Ii(e)?Ri(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function DB(e){let t=Ga(e);for(;cs(t)&&!Bc(t);){if(jN(t))return t;if(cv(t))return null;t=Ga(t)}return null}function wN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bc(e){return["html","body","#document"].includes(kd(e))}function Ri(e){return $r(e).getComputedStyle(e)}function dv(e){return Ii(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ga(e){if(kd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ak(e)&&e.host||ps(e);return ak(t)?t.host:t}function sR(e){const t=Ga(e);return Bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:cs(t)&&gp(t)?t:sR(t)}function sf(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=sR(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),o=$r(s);if(a){const l=pb(o);return t.concat(o,o.visualViewport||[],gp(s)?s:[],l&&n?sf(l):[])}return t.concat(s,sf(s,[],n))}function pb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aR(e){const t=Ri(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=cs(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:i,l=xh(n)!==a||xh(i)!==o;return l&&(n=a,i=o),{width:n,height:i,$:l}}function NN(e){return Ii(e)?e:e.contextElement}function cc(e){const t=NN(e);if(!cs(t))return ns(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:a}=aR(t);let o=(a?xh(n.width):n.width)/i,l=(a?xh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const FB=ns(0);function oR(e){const t=$r(e);return!wN()||!t.visualViewport?FB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LB(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$r(e)?!1:t}function el(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=NN(e);let o=ns(1);t&&(i?Ii(i)&&(o=cc(i)):o=cc(e));const l=LB(a,n,i)?oR(a):ns(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(a){const p=$r(a),h=i&&Ii(i)?$r(i):i;let v=p,m=pb(v);for(;m&&i&&h!==v;){const y=cc(m),b=m.getBoundingClientRect(),g=Ri(m),x=b.left+(m.clientLeft+parseFloat(g.paddingLeft))*y.x,N=b.top+(m.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=x,d+=N,v=$r(m),m=pb(v)}}return gh({width:u,height:f,x:c,y:d})}function SN(e,t){const n=dv(e).scrollLeft;return t?t.left+n:el(ps(e)).left+n}function lR(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i.left+t.scrollLeft-(n?0:SN(e,i)),a=i.top+t.scrollTop;return{x:s,y:a}}function qB(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const a=s==="fixed",o=ps(i),l=t?cv(t.floating):!1;if(i===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=ns(1);const u=ns(0),f=cs(i);if((f||!f&&!a)&&((kd(i)!=="body"||gp(o))&&(c=dv(i)),cs(i))){const h=el(i);d=cc(i),u.x=h.x+i.clientLeft,u.y=h.y+i.clientTop}const p=o&&!f&&!a?lR(o,c,!0):ns(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:n.y*d.y-c.scrollTop*d.y+u.y+p.y}}function zB(e){return Array.from(e.getClientRects())}function BB(e){const t=ps(e),n=dv(e),i=e.ownerDocument.body,s=Or(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Or(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+SN(e);const l=-n.scrollTop;return Ri(i).direction==="rtl"&&(o+=Or(t.clientWidth,i.clientWidth)-s),{width:s,height:a,x:o,y:l}}function UB(e,t){const n=$r(e),i=ps(e),s=n.visualViewport;let a=i.clientWidth,o=i.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=wN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function VB(e,t){const n=el(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,a=cs(e)?cc(e):ns(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=i*a.y;return{width:o,height:l,x:c,y:d}}function ok(e,t,n){let i;if(t==="viewport")i=UB(e,n);else if(t==="document")i=BB(ps(e));else if(Ii(t))i=VB(t,n);else{const s=oR(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return gh(i)}function cR(e,t){const n=Ga(e);return n===t||!Ii(n)||Bc(n)?!1:Ri(n).position==="fixed"||cR(n,t)}function WB(e,t){const n=t.get(e);if(n)return n;let i=sf(e,[],!1).filter(l=>Ii(l)&&kd(l)!=="body"),s=null;const a=Ri(e).position==="fixed";let o=a?Ga(e):e;for(;Ii(o)&&!Bc(o);){const l=Ri(o),c=jN(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||gp(o)&&!c&&cR(e,o))?i=i.filter(u=>u!==o):s=l,o=Ga(o)}return t.set(e,i),i}function HB(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const o=[...n==="clippingAncestors"?cv(t)?[]:WB(t,this._c):[].concat(n),i],l=o[0],c=o.reduce((d,u)=>{const f=ok(t,u,s);return d.top=Or(f.top,d.top),d.right=Wa(f.right,d.right),d.bottom=Wa(f.bottom,d.bottom),d.left=Or(f.left,d.left),d},ok(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function GB(e){const{width:t,height:n}=aR(e);return{width:t,height:n}}function KB(e,t,n){const i=cs(t),s=ps(t),a=n==="fixed",o=el(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ns(0);if(i||!i&&!a)if((kd(t)!=="body"||gp(s))&&(l=dv(t)),i){const p=el(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=SN(s));const d=s&&!i&&!a?lR(s,l):ns(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function ay(e){return Ri(e).position==="static"}function lk(e,t){if(!cs(e)||Ri(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ps(e)===n&&(n=n.ownerDocument.body),n}function dR(e,t){const n=$r(e);if(cv(e))return n;if(!cs(e)){let s=Ga(e);for(;s&&!Bc(s);){if(Ii(s)&&!ay(s))return s;s=Ga(s)}return n}let i=lk(e,t);for(;i&&$B(i)&&ay(i);)i=lk(i,t);return i&&Bc(i)&&ay(i)&&!jN(i)?n:i||DB(e)||n}const YB=async function(e){const t=this.getOffsetParent||dR,n=this.getDimensions,i=await n(e.floating);return{reference:KB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function QB(e){return Ri(e).direction==="rtl"}const XB={convertOffsetParentRelativeRectToViewportRelativeRect:qB,getDocumentElement:ps,getClippingRect:HB,getOffsetParent:dR,getElementRects:YB,getClientRects:zB,getDimensions:GB,getScale:cc,isElement:Ii,isRTL:QB};function uR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ZB(e,t){let n=null,i;const s=ps(e);function a(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:f,width:p,height:h}=d;if(l||t(),!p||!h)return;const v=Jp(f),m=Jp(s.clientWidth-(u+p)),y=Jp(s.clientHeight-(f+h)),b=Jp(u),x={rootMargin:-v+"px "+-m+"px "+-y+"px "+-b+"px",threshold:Or(0,Wa(1,c))||1};let N=!0;function w(k){const E=k[0].intersectionRatio;if(E!==c){if(!N)return o();E?o(!1,E):i=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!uR(d,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(w,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,x)}n.observe(e)}return o(!0),a}function JB(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,d=NN(e),u=s||a?[...d?sf(d):[],...sf(t)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const f=d&&l?ZB(d,n):null;let p=-1,h=null;o&&(h=new ResizeObserver(b=>{let[g]=b;g&&g.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),n()}),d&&!c&&h.observe(d),h.observe(t));let v,m=c?el(e):null;c&&y();function y(){const b=el(e);m&&!uR(m,b)&&n(),m=b,v=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(g=>{s&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(v)}}const eU=_B,tU=IB,nU=PB,rU=MB,iU=OB,ck=AB,sU=RB,aU=(e,t,n)=>{const i=new Map,s={platform:XB,...n},a={...s.platform,_c:i};return EB(e,t,{...s,platform:a})};var Fm=typeof document<"u"?j.useLayoutEffect:j.useEffect;function yh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!yh(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!yh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function fR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dk(e,t){const n=fR(e);return Math.round(t*n)/n}function oy(e){const t=j.useRef(e);return Fm(()=>{t.current=e}),t}function oU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=j.useState(i);yh(p,i)||h(i);const[v,m]=j.useState(null),[y,b]=j.useState(null),g=j.useCallback(z=>{z!==k.current&&(k.current=z,m(z))},[]),x=j.useCallback(z=>{z!==E.current&&(E.current=z,b(z))},[]),N=a||v,w=o||y,k=j.useRef(null),E=j.useRef(null),S=j.useRef(u),C=c!=null,_=oy(c),P=oy(s),A=oy(d),O=j.useCallback(()=>{if(!k.current||!E.current)return;const z={placement:t,strategy:n,middleware:p};P.current&&(z.platform=P.current),aU(k.current,E.current,z).then(H=>{const D={...H,isPositioned:A.current!==!1};I.current&&!yh(S.current,D)&&(S.current=D,ml.flushSync(()=>{f(D)}))})},[p,t,n,P,A]);Fm(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[d]);const I=j.useRef(!1);Fm(()=>(I.current=!0,()=>{I.current=!1}),[]),Fm(()=>{if(N&&(k.current=N),w&&(E.current=w),N&&w){if(_.current)return _.current(N,w,O);O()}},[N,w,O,_,C]);const F=j.useMemo(()=>({reference:k,floating:E,setReference:g,setFloating:x}),[g,x]),$=j.useMemo(()=>({reference:N,floating:w}),[N,w]),G=j.useMemo(()=>{const z={position:n,left:0,top:0};if(!$.floating)return z;const H=dk($.floating,u.x),D=dk($.floating,u.y);return l?{...z,transform:"translate("+H+"px, "+D+"px)",...fR($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:D}},[n,l,$.floating,u.x,u.y]);return j.useMemo(()=>({...u,update:O,refs:F,elements:$,floatingStyles:G}),[u,O,F,$,G])}const lU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?ck({element:i.current,padding:s}).fn(n):{}:i?ck({element:i,padding:s}).fn(n):{}}}},cU=(e,t)=>({...eU(e),options:[e,t]}),dU=(e,t)=>({...tU(e),options:[e,t]}),uU=(e,t)=>({...sU(e),options:[e,t]}),fU=(e,t)=>({...nU(e),options:[e,t]}),pU=(e,t)=>({...rU(e),options:[e,t]}),mU=(e,t)=>({...iU(e),options:[e,t]}),hU=(e,t)=>({...lU(e),options:[e,t]});var xU="Arrow",pR=j.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...a}=e;return r.jsx(nt.svg,{...a,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});pR.displayName=xU;var vU=pR;function CN(e){const[t,n]=j.useState(void 0);return pn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var kN="Popper",[mR,uv]=Ur(kN),[gU,hR]=mR(kN),xR=e=>{const{__scopePopper:t,children:n}=e,[i,s]=j.useState(null);return r.jsx(gU,{scope:t,anchor:i,onAnchorChange:s,children:n})};xR.displayName=kN;var vR="PopperAnchor",gR=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,a=hR(vR,n),o=j.useRef(null),l=yt(t,o);return j.useEffect(()=>{a.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:r.jsx(nt.div,{...s,ref:l})});gR.displayName=vR;var EN="PopperContent",[yU,bU]=mR(EN),yR=j.forwardRef((e,t)=>{var me,Se,le,xe,ye,B;const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:v,...m}=e,y=hR(EN,n),[b,g]=j.useState(null),x=yt(t,ce=>g(ce)),[N,w]=j.useState(null),k=CN(N),E=(k==null?void 0:k.width)??0,S=(k==null?void 0:k.height)??0,C=i+(a!=="center"?"-"+a:""),_=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(d)?d:[d],A=P.length>0,O={padding:_,boundary:P.filter(wU),altBoundary:A},{refs:I,floatingStyles:F,placement:$,isPositioned:G,middlewareData:z}=oU({strategy:"fixed",placement:C,whileElementsMounted:(...ce)=>JB(...ce,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[cU({mainAxis:s+S,alignmentAxis:o}),c&&dU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uU():void 0,...O}),c&&fU({...O}),pU({...O,apply:({elements:ce,rects:de,availableWidth:Pe,availableHeight:Ce})=>{const{width:Xe,height:st}=de.reference,Nt=ce.floating.style;Nt.setProperty("--radix-popper-available-width",`${Pe}px`),Nt.setProperty("--radix-popper-available-height",`${Ce}px`),Nt.setProperty("--radix-popper-anchor-width",`${Xe}px`),Nt.setProperty("--radix-popper-anchor-height",`${st}px`)}}),N&&hU({element:N,padding:l}),NU({arrowWidth:E,arrowHeight:S}),p&&mU({strategy:"referenceHidden",...O})]}),[H,D]=wR($),U=un(v);pn(()=>{G&&(U==null||U())},[G,U]);const R=(me=z.arrow)==null?void 0:me.x,se=(Se=z.arrow)==null?void 0:Se.y,ge=((le=z.arrow)==null?void 0:le.centerOffset)!==0,[te,we]=j.useState();return pn(()=>{b&&we(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:G?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(xe=z.transformOrigin)==null?void 0:xe.x,(ye=z.transformOrigin)==null?void 0:ye.y].join(" "),...((B=z.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(yU,{scope:n,placedSide:H,onArrowChange:w,arrowX:R,arrowY:se,shouldHideArrow:ge,children:r.jsx(nt.div,{"data-side":H,"data-align":D,...m,ref:x,style:{...m.style,animation:G?void 0:"none"}})})})});yR.displayName=EN;var bR="PopperArrow",jU={top:"bottom",right:"left",bottom:"top",left:"right"},jR=j.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,a=bU(bR,i),o=jU[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(vU,{...s,ref:n,style:{...s.style,display:"block"}})})});jR.displayName=bR;function wU(e){return e!==null}var NU=e=>({name:"transformOrigin",options:e,fn(t){var y,b,g;const{placement:n,rects:i,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=wR(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,h=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let v="",m="";return d==="bottom"?(v=o?f:`${p}px`,m=`${-c}px`):d==="top"?(v=o?f:`${p}px`,m=`${i.floating.height+c}px`):d==="right"?(v=`${-c}px`,m=o?f:`${h}px`):d==="left"&&(v=`${i.floating.width+c}px`,m=o?f:`${h}px`),{data:{x:v,y:m}}}});function wR(e){const[t,n="center"]=e.split("-");return[t,n]}var NR=xR,SR=gR,CR=yR,kR=jR,[fv,rNe]=Ur("Tooltip",[uv]),pv=uv(),ER="TooltipProvider",SU=700,mb="tooltip.open",[CU,AN]=fv(ER),AR=e=>{const{__scopeTooltip:t,delayDuration:n=SU,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:a}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(CU,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};AR.displayName=ER;var mv="Tooltip",[kU,hv]=fv(mv),PR=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=AN(mv,e.__scopeTooltip),d=pv(t),[u,f]=j.useState(null),p=ts(),h=j.useRef(0),v=o??c.disableHoverableContent,m=l??c.delayDuration,y=j.useRef(!1),[b=!1,g]=Us({prop:i,defaultProp:s,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(mb))):c.onClose(),a==null||a(E)}}),x=j.useMemo(()=>b?y.current?"delayed-open":"instant-open":"closed",[b]),N=j.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y.current=!1,g(!0)},[g]),w=j.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g(!1)},[g]),k=j.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,g(!0),h.current=0},m)},[m,g]);return j.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),r.jsx(NR,{...d,children:r.jsx(kU,{scope:t,contentId:p,open:b,stateAttribute:x,trigger:u,onTriggerChange:f,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?k():N()},[c.isOpenDelayedRef,k,N]),onTriggerLeave:j.useCallback(()=>{v?w():(window.clearTimeout(h.current),h.current=0)},[w,v]),onOpen:N,onClose:w,disableHoverableContent:v,children:n})})};PR.displayName=mv;var hb="TooltipTrigger",OR=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=hv(hb,n),a=AN(hb,n),o=pv(n),l=j.useRef(null),c=yt(t,l,s.onTriggerChange),d=j.useRef(!1),u=j.useRef(!1),f=j.useCallback(()=>d.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(SR,{asChild:!0,...o,children:r.jsx(nt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:c,onPointerMove:He(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:He(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:He(e.onBlur,s.onClose),onClick:He(e.onClick,s.onClose)})})});OR.displayName=hb;var EU="TooltipPortal",[iNe,AU]=fv(EU,{forceMount:void 0}),Uc="TooltipContent",TR=j.forwardRef((e,t)=>{const n=AU(Uc,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...a}=e,o=hv(Uc,e.__scopeTooltip);return r.jsx(oi,{present:i||o.open,children:o.disableHoverableContent?r.jsx(_R,{side:s,...a,ref:t}):r.jsx(PU,{side:s,...a,ref:t})})}),PU=j.forwardRef((e,t)=>{const n=hv(Uc,e.__scopeTooltip),i=AN(Uc,e.__scopeTooltip),s=j.useRef(null),a=yt(t,s),[o,l]=j.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:f}=i,p=j.useCallback(()=>{l(null),f(!1)},[f]),h=j.useCallback((v,m)=>{const y=v.currentTarget,b={x:v.clientX,y:v.clientY},g=RU(b,y.getBoundingClientRect()),x=MU(b,g),N=$U(m.getBoundingClientRect()),w=FU([...x,...N]);l(w),f(!0)},[f]);return j.useEffect(()=>()=>p(),[p]),j.useEffect(()=>{if(c&&u){const v=y=>h(y,u),m=y=>h(y,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",m)}}},[c,u,h,p]),j.useEffect(()=>{if(o){const v=m=>{const y=m.target,b={x:m.clientX,y:m.clientY},g=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),x=!DU(b,o);g?p():x&&(p(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,o,d,p]),r.jsx(_R,{...e,ref:a})}),[OU,TU]=fv(mv,{isInside:!1}),_U=N8("TooltipContent"),_R=j.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=hv(Uc,n),d=pv(n),{onClose:u}=c;return j.useEffect(()=>(document.addEventListener(mb,u),()=>document.removeEventListener(mb,u)),[u]),j.useEffect(()=>{if(c.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),r.jsx(fp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:r.jsxs(CR,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(_U,{children:i}),r.jsx(OU,{scope:n,isInside:!0,children:r.jsx(U8,{id:c.contentId,role:"tooltip",children:s||i})})]})})});TR.displayName=Uc;var IR="TooltipArrow",IU=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=pv(n);return TU(IR,n).isInside?null:r.jsx(kR,{...s,...i,ref:t})});IU.displayName=IR;function RU(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,i,s,a)){case a:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function MU(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function $U(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function DU(e,t){const{x:n,y:i}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,u=t[o].y;c>i!=u>i&&n<(d-l)*(i-c)/(u-c)+l&&(s=!s)}return s}function FU(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),LU(t)}function LU(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var qU=AR,zU=PR,BU=OR,RR=TR;const MR=qU,UU=zU,VU=BU,$R=j.forwardRef(({className:e,sideOffset:t=4,...n},i)=>r.jsx(RR,{ref:i,sideOffset:t,className:Qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));$R.displayName=RR.displayName;const WU=mp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Kt=j.forwardRef(({className:e,variant:t,...n},i)=>r.jsx("div",{ref:i,role:"alert",className:Qe(WU({variant:t}),e),...n}));Kt.displayName="Alert";const HU=j.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Qe("mb-1 font-medium leading-none tracking-tight",e),...t}));HU.displayName="AlertTitle";const Yt=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Qe("text-sm [&_p]:leading-relaxed",e),...t}));Yt.displayName="AlertDescription";const GU=mp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=j.forwardRef(({className:e,variant:t,size:n,asChild:i=!1,...s},a)=>{const o=i?lI:"button";return r.jsx(o,{className:Qe(GU({variant:t,size:n,className:e})),ref:a,...s})});W.displayName="Button";const Y=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Qe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const X=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Qe("flex flex-col space-y-1.5 p-6",e),...t}));X.displayName="CardHeader";const Z=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Qe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Z.displayName="CardTitle";const ve=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Qe("text-sm text-muted-foreground",e),...t}));ve.displayName="CardDescription";const Q=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Qe("p-6 pt-0",e),...t}));Q.displayName="CardContent";const KU=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Qe("flex items-center p-6 pt-0",e),...t}));KU.displayName="CardFooter";class YU extends j.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.href="/"},this.handleReportError=()=>{var n,i,s;const t={message:(n=this.state.error)==null?void 0:n.message,stack:(i=this.state.error)==null?void 0:i.stack,componentStack:(s=this.state.errorInfo)==null?void 0:s.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.log("Error Report:",t),alert("Error details have been logged. Please contact support if the problem persists.")}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("🚨 CRITICAL ERROR BOUNDARY TRIGGERED:",t),console.error("🚨 ERROR MESSAGE:",t.message),console.error("🚨 ERROR STACK:",t.stack),console.error("🚨 COMPONENT STACK:",n.componentStack),this.setState({error:t,errorInfo:n}),alert(`CRITICAL ERROR: ${t.message}

Check console for full details.`)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:r.jsxs(Y,{className:"w-full max-w-2xl",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(ut,{className:"h-6 w-6"}),"Something went wrong"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs(Kt,{className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[r.jsx(ut,{className:"h-4 w-4"}),r.jsx(Yt,{children:"The application encountered an unexpected error. This has been logged for our development team."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsx("strong",{children:"What you can do:"})}),r.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Try refreshing the page or going back to retry the action"}),r.jsx("li",{children:"Return to the home page to start over"}),r.jsx("li",{children:"Contact support if the problem continues"})]})]}),!1,r.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[r.jsxs(W,{onClick:this.handleRetry,className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"h-4 w-4"}),"Try Again"]}),r.jsxs(W,{variant:"outline",onClick:this.handleGoHome,className:"flex items-center gap-2",children:[r.jsx(xp,{className:"h-4 w-4"}),"Go Home"]}),r.jsxs(W,{variant:"outline",onClick:this.handleReportError,className:"flex items-center gap-2",children:[r.jsx(pz,{className:"h-4 w-4"}),"Report Issue"]})]})]})]})}):this.props.children}}let em=null,ly=null;const QU=async()=>{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();if(await Promise.all(e.map(t=>t.unregister())),window.caches&&caches.keys){const t=await caches.keys();await Promise.all(t.map(n=>caches.delete(n)))}console.log("✅ Service Workers and caches cleared")}},DR=async()=>{try{const t=await(await fetch("/version.json",{cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json();return em===null?(em=t.version,!1):em!==t.version?(console.log(`🔄 Version changed: ${em} → ${t.version}`),!0):!1}catch(e){return console.error("Version check failed:",e),!1}},XU=async()=>{console.log("🔄 Reloading for new version..."),Ot.clear(),window.location.reload()},ZU=(e=3e4)=>{ly&&clearInterval(ly),ly=setInterval(async()=>{await DR()&&await XU()},e)},JU=async()=>{await QU(),await DR(),ZU()},eV=mp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function J({className:e,variant:t,...n}){return r.jsx("div",{className:Qe(eV({variant:t}),e),...n})}var tV=j.createContext(void 0);function xv(e){const t=j.useContext(tV);return e||t||"ltr"}var cy="rovingFocusGroup.onEntryFocus",nV={bubbles:!1,cancelable:!0},vv="RovingFocusGroup",[xb,FR,rV]=uN(vv),[iV,LR]=Ur(vv,[rV]),[sV,aV]=iV(vv),qR=j.forwardRef((e,t)=>r.jsx(xb.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(xb.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(oV,{...e,ref:t})})}));qR.displayName=vv;var oV=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,p=j.useRef(null),h=yt(t,p),v=xv(a),[m=null,y]=Us({prop:o,defaultProp:l,onChange:c}),[b,g]=j.useState(!1),x=un(d),N=FR(n),w=j.useRef(!1),[k,E]=j.useState(0);return j.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(cy,x),()=>S.removeEventListener(cy,x)},[x]),r.jsx(sV,{scope:n,orientation:i,dir:v,loop:s,currentTabStopId:m,onItemFocus:j.useCallback(S=>y(S),[y]),onItemShiftTab:j.useCallback(()=>g(!0),[]),onFocusableItemAdd:j.useCallback(()=>E(S=>S+1),[]),onFocusableItemRemove:j.useCallback(()=>E(S=>S-1),[]),children:r.jsx(nt.div,{tabIndex:b||k===0?-1:0,"data-orientation":i,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{w.current=!0}),onFocus:He(e.onFocus,S=>{const C=!w.current;if(S.target===S.currentTarget&&C&&!b){const _=new CustomEvent(cy,nV);if(S.currentTarget.dispatchEvent(_),!_.defaultPrevented){const P=N().filter($=>$.focusable),A=P.find($=>$.active),O=P.find($=>$.id===m),F=[A,O,...P].filter(Boolean).map($=>$.ref.current);UR(F,u)}}w.current=!1}),onBlur:He(e.onBlur,()=>g(!1))})})}),zR="RovingFocusGroupItem",BR=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:a,...o}=e,l=ts(),c=a||l,d=aV(zR,n),u=d.currentTabStopId===c,f=FR(n),{onFocusableItemAdd:p,onFocusableItemRemove:h}=d;return j.useEffect(()=>{if(i)return p(),()=>h()},[i,p,h]),r.jsx(xb.ItemSlot,{scope:n,id:c,focusable:i,active:s,children:r.jsx(nt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:He(e.onMouseDown,v=>{i?d.onItemFocus(c):v.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:He(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=dV(v,d.orientation,d.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=f().filter(g=>g.focusable).map(g=>g.ref.current);if(m==="last")b.reverse();else if(m==="prev"||m==="next"){m==="prev"&&b.reverse();const g=b.indexOf(v.currentTarget);b=d.loop?uV(b,g+1):b.slice(g+1)}setTimeout(()=>UR(b))}})})})});BR.displayName=zR;var lV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cV(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dV(e,t,n){const i=cV(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return lV[i]}function UR(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function uV(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var fV=qR,pV=BR,PN="Tabs",[mV,sNe]=Ur(PN,[LR]),VR=LR(),[hV,ON]=mV(PN),WR=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=xv(l),[f,p]=Us({prop:i,onChange:s,defaultProp:a});return r.jsx(hV,{scope:n,baseId:ts(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:c,children:r.jsx(nt.div,{dir:u,"data-orientation":o,...d,ref:t})})});WR.displayName=PN;var HR="TabsList",GR=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:i=!0,...s}=e,a=ON(HR,n),o=VR(n);return r.jsx(fV,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:i,children:r.jsx(nt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});GR.displayName=HR;var KR="TabsTrigger",YR=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,disabled:s=!1,...a}=e,o=ON(KR,n),l=VR(n),c=ZR(o.baseId,i),d=JR(o.baseId,i),u=i===o.value;return r.jsx(pV,{asChild:!0,...l,focusable:!s,active:u,children:r.jsx(nt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:He(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(i):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(i)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(i)})})})});YR.displayName=KR;var QR="TabsContent",XR=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,forceMount:s,children:a,...o}=e,l=ON(QR,n),c=ZR(l.baseId,i),d=JR(l.baseId,i),u=i===l.value,f=j.useRef(u);return j.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),r.jsx(oi,{present:s||u,children:({present:p})=>r.jsx(nt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&a})})});XR.displayName=QR;function ZR(e,t){return`${e}-trigger-${t}`}function JR(e,t){return`${e}-content-${t}`}var xV=WR,e4=GR,t4=YR,n4=XR;const Zn=xV,Ln=j.forwardRef(({className:e,...t},n)=>r.jsx(e4,{ref:n,className:Qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ln.displayName=e4.displayName;const Te=j.forwardRef(({className:e,...t},n)=>r.jsx(t4,{ref:n,className:Qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Te.displayName=t4.displayName;const Ee=j.forwardRef(({className:e,...t},n)=>r.jsx(n4,{ref:n,className:Qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ee.displayName=n4.displayName;var vV=Array.isArray,Sr=vV,gV=typeof _p=="object"&&_p&&_p.Object===Object&&_p,r4=gV,yV=r4,bV=typeof self=="object"&&self&&self.Object===Object&&self,jV=yV||bV||Function("return this")(),ms=jV,wV=ms,NV=wV.Symbol,yp=NV,uk=yp,i4=Object.prototype,SV=i4.hasOwnProperty,CV=i4.toString,Zd=uk?uk.toStringTag:void 0;function kV(e){var t=SV.call(e,Zd),n=e[Zd];try{e[Zd]=void 0;var i=!0}catch{}var s=CV.call(e);return i&&(t?e[Zd]=n:delete e[Zd]),s}var EV=kV,AV=Object.prototype,PV=AV.toString;function OV(e){return PV.call(e)}var TV=OV,fk=yp,_V=EV,IV=TV,RV="[object Null]",MV="[object Undefined]",pk=fk?fk.toStringTag:void 0;function $V(e){return e==null?e===void 0?MV:RV:pk&&pk in Object(e)?_V(e):IV(e)}var ea=$V;function DV(e){return e!=null&&typeof e=="object"}var ta=DV,FV=ea,LV=ta,qV="[object Symbol]";function zV(e){return typeof e=="symbol"||LV(e)&&FV(e)==qV}var Ed=zV,BV=Sr,UV=Ed,VV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WV=/^\w*$/;function HV(e,t){if(BV(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||UV(e)?!0:WV.test(e)||!VV.test(e)||t!=null&&e in Object(t)}var TN=HV;function GV(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var to=GV;const Ad=Pt(to);var KV=ea,YV=to,QV="[object AsyncFunction]",XV="[object Function]",ZV="[object GeneratorFunction]",JV="[object Proxy]";function eW(e){if(!YV(e))return!1;var t=KV(e);return t==XV||t==ZV||t==QV||t==JV}var _N=eW;const ct=Pt(_N);var tW=ms,nW=tW["__core-js_shared__"],rW=nW,dy=rW,mk=function(){var e=/[^.]+$/.exec(dy&&dy.keys&&dy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function iW(e){return!!mk&&mk in e}var sW=iW,aW=Function.prototype,oW=aW.toString;function lW(e){if(e!=null){try{return oW.call(e)}catch{}try{return e+""}catch{}}return""}var s4=lW,cW=_N,dW=sW,uW=to,fW=s4,pW=/[\\^$.*+?()[\]{}|]/g,mW=/^\[object .+?Constructor\]$/,hW=Function.prototype,xW=Object.prototype,vW=hW.toString,gW=xW.hasOwnProperty,yW=RegExp("^"+vW.call(gW).replace(pW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bW(e){if(!uW(e)||dW(e))return!1;var t=cW(e)?yW:mW;return t.test(fW(e))}var jW=bW;function wW(e,t){return e==null?void 0:e[t]}var NW=wW,SW=jW,CW=NW;function kW(e,t){var n=CW(e,t);return SW(n)?n:void 0}var hl=kW,EW=hl,AW=EW(Object,"create"),gv=AW,hk=gv;function PW(){this.__data__=hk?hk(null):{},this.size=0}var OW=PW;function TW(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _W=TW,IW=gv,RW="__lodash_hash_undefined__",MW=Object.prototype,$W=MW.hasOwnProperty;function DW(e){var t=this.__data__;if(IW){var n=t[e];return n===RW?void 0:n}return $W.call(t,e)?t[e]:void 0}var FW=DW,LW=gv,qW=Object.prototype,zW=qW.hasOwnProperty;function BW(e){var t=this.__data__;return LW?t[e]!==void 0:zW.call(t,e)}var UW=BW,VW=gv,WW="__lodash_hash_undefined__";function HW(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=VW&&t===void 0?WW:t,this}var GW=HW,KW=OW,YW=_W,QW=FW,XW=UW,ZW=GW;function Pd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Pd.prototype.clear=KW;Pd.prototype.delete=YW;Pd.prototype.get=QW;Pd.prototype.has=XW;Pd.prototype.set=ZW;var JW=Pd;function eH(){this.__data__=[],this.size=0}var tH=eH;function nH(e,t){return e===t||e!==e&&t!==t}var IN=nH,rH=IN;function iH(e,t){for(var n=e.length;n--;)if(rH(e[n][0],t))return n;return-1}var yv=iH,sH=yv,aH=Array.prototype,oH=aH.splice;function lH(e){var t=this.__data__,n=sH(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():oH.call(t,n,1),--this.size,!0}var cH=lH,dH=yv;function uH(e){var t=this.__data__,n=dH(t,e);return n<0?void 0:t[n][1]}var fH=uH,pH=yv;function mH(e){return pH(this.__data__,e)>-1}var hH=mH,xH=yv;function vH(e,t){var n=this.__data__,i=xH(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var gH=vH,yH=tH,bH=cH,jH=fH,wH=hH,NH=gH;function Od(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Od.prototype.clear=yH;Od.prototype.delete=bH;Od.prototype.get=jH;Od.prototype.has=wH;Od.prototype.set=NH;var bv=Od,SH=hl,CH=ms,kH=SH(CH,"Map"),RN=kH,xk=JW,EH=bv,AH=RN;function PH(){this.size=0,this.__data__={hash:new xk,map:new(AH||EH),string:new xk}}var OH=PH;function TH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _H=TH,IH=_H;function RH(e,t){var n=e.__data__;return IH(t)?n[typeof t=="string"?"string":"hash"]:n.map}var jv=RH,MH=jv;function $H(e){var t=MH(this,e).delete(e);return this.size-=t?1:0,t}var DH=$H,FH=jv;function LH(e){return FH(this,e).get(e)}var qH=LH,zH=jv;function BH(e){return zH(this,e).has(e)}var UH=BH,VH=jv;function WH(e,t){var n=VH(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var HH=WH,GH=OH,KH=DH,YH=qH,QH=UH,XH=HH;function Td(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Td.prototype.clear=GH;Td.prototype.delete=KH;Td.prototype.get=YH;Td.prototype.has=QH;Td.prototype.set=XH;var MN=Td,a4=MN,ZH="Expected a function";function $N(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ZH);var n=function(){var i=arguments,s=t?t.apply(this,i):i[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,i);return n.cache=a.set(s,o)||a,o};return n.cache=new($N.Cache||a4),n}$N.Cache=a4;var o4=$N;const JH=Pt(o4);var e9=o4,t9=500;function n9(e){var t=e9(e,function(i){return n.size===t9&&n.clear(),i}),n=t.cache;return t}var r9=n9,i9=r9,s9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a9=/\\(\\)?/g,o9=i9(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(s9,function(n,i,s,a){t.push(s?a.replace(a9,"$1"):i||n)}),t}),l9=o9;function c9(e,t){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=t(e[n],n,e);return s}var DN=c9,vk=yp,d9=DN,u9=Sr,f9=Ed,p9=1/0,gk=vk?vk.prototype:void 0,yk=gk?gk.toString:void 0;function l4(e){if(typeof e=="string")return e;if(u9(e))return d9(e,l4)+"";if(f9(e))return yk?yk.call(e):"";var t=e+"";return t=="0"&&1/e==-p9?"-0":t}var m9=l4,h9=m9;function x9(e){return e==null?"":h9(e)}var c4=x9,v9=Sr,g9=TN,y9=l9,b9=c4;function j9(e,t){return v9(e)?e:g9(e,t)?[e]:y9(b9(e))}var d4=j9,w9=Ed,N9=1/0;function S9(e){if(typeof e=="string"||w9(e))return e;var t=e+"";return t=="0"&&1/e==-N9?"-0":t}var wv=S9,C9=d4,k9=wv;function E9(e,t){t=C9(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[k9(t[n++])];return n&&n==i?e:void 0}var FN=E9,A9=FN;function P9(e,t,n){var i=e==null?void 0:A9(e,t);return i===void 0?n:i}var u4=P9;const Dr=Pt(u4);function O9(e){return e==null}var T9=O9;const gt=Pt(T9);var _9=ea,I9=Sr,R9=ta,M9="[object String]";function $9(e){return typeof e=="string"||!I9(e)&&R9(e)&&_9(e)==M9}var D9=$9;const bp=Pt(D9);var f4={exports:{}},Mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN=Symbol.for("react.element"),qN=Symbol.for("react.portal"),Nv=Symbol.for("react.fragment"),Sv=Symbol.for("react.strict_mode"),Cv=Symbol.for("react.profiler"),kv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),F9=Symbol.for("react.server_context"),Av=Symbol.for("react.forward_ref"),Pv=Symbol.for("react.suspense"),Ov=Symbol.for("react.suspense_list"),Tv=Symbol.for("react.memo"),_v=Symbol.for("react.lazy"),L9=Symbol.for("react.offscreen"),p4;p4=Symbol.for("react.module.reference");function li(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case LN:switch(e=e.type,e){case Nv:case Cv:case Sv:case Pv:case Ov:return e;default:switch(e=e&&e.$$typeof,e){case F9:case Ev:case Av:case _v:case Tv:case kv:return e;default:return t}}case qN:return t}}}Mt.ContextConsumer=Ev;Mt.ContextProvider=kv;Mt.Element=LN;Mt.ForwardRef=Av;Mt.Fragment=Nv;Mt.Lazy=_v;Mt.Memo=Tv;Mt.Portal=qN;Mt.Profiler=Cv;Mt.StrictMode=Sv;Mt.Suspense=Pv;Mt.SuspenseList=Ov;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(e){return li(e)===Ev};Mt.isContextProvider=function(e){return li(e)===kv};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===LN};Mt.isForwardRef=function(e){return li(e)===Av};Mt.isFragment=function(e){return li(e)===Nv};Mt.isLazy=function(e){return li(e)===_v};Mt.isMemo=function(e){return li(e)===Tv};Mt.isPortal=function(e){return li(e)===qN};Mt.isProfiler=function(e){return li(e)===Cv};Mt.isStrictMode=function(e){return li(e)===Sv};Mt.isSuspense=function(e){return li(e)===Pv};Mt.isSuspenseList=function(e){return li(e)===Ov};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Nv||e===Cv||e===Sv||e===Pv||e===Ov||e===L9||typeof e=="object"&&e!==null&&(e.$$typeof===_v||e.$$typeof===Tv||e.$$typeof===kv||e.$$typeof===Ev||e.$$typeof===Av||e.$$typeof===p4||e.getModuleId!==void 0)};Mt.typeOf=li;f4.exports=Mt;var q9=f4.exports,z9=ea,B9=ta,U9="[object Number]";function V9(e){return typeof e=="number"||B9(e)&&z9(e)==U9}var m4=V9;const W9=Pt(m4);var H9=m4;function G9(e){return H9(e)&&e!=+e}var K9=G9;const jp=Pt(K9);var sr=function(t){return t===0?0:t>0?1:-1},So=function(t){return bp(t)&&t.indexOf("%")===t.length-1},je=function(t){return W9(t)&&!jp(t)},Sn=function(t){return je(t)||bp(t)},Y9=0,wp=function(t){var n=++Y9;return"".concat(t||"").concat(n)},ar=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&!bp(t))return i;var a;if(So(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return jp(a)&&(a=i),s&&a>n&&(a=n),a},va=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Q9=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,i={},s=0;s<n;s++)if(!i[t[s]])i[t[s]]=!0;else return!0;return!1},pa=function(t,n){return je(t)&&je(n)?function(i){return t+i*(n-t)}:function(){return n}};function vb(e,t,n){return!e||!e.length?null:e.find(function(i){return i&&(typeof t=="function"?t(i):Dr(i,t))===n})}function dc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function gb(e){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gb(e)}var X9=["viewBox","children"],Z9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bk=["points","pathLength"],uy={svg:X9,polygon:bk,polyline:bk},zN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bh=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(j.isValidElement(t)&&(i=t.props),!Ad(i))return null;var s={};return Object.keys(i).forEach(function(a){zN.includes(a)&&(s[a]=n||function(o){return i[a](i,o)})}),s},J9=function(t,n,i){return function(s){return t(n,i,s),null}},tl=function(t,n,i){if(!Ad(t)||gb(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];zN.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=J9(o,n,i))}),s},e7=["children"],t7=["children"];function jk(e,t){if(e==null)return{};var n=n7(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function n7(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var wk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Rs=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Nk=null,fy=null,BN=function e(t){if(t===Nk&&Array.isArray(fy))return fy;var n=[];return j.Children.forEach(t,function(i){gt(i)||(q9.isFragment(i)?n=n.concat(e(i.props.children)):n.push(i))}),fy=n,Nk=t,n};function ni(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(function(s){return Rs(s)}):i=[Rs(t)],BN(e).forEach(function(s){var a=Dr(s,"type.displayName")||Dr(s,"type.name");i.indexOf(a)!==-1&&n.push(s)}),n}function Ar(e,t){var n=ni(e,t);return n&&n[0]}var Sk=function(t){if(!t||!t.props)return!1;var n=t.props,i=n.width,s=n.height;return!(!je(i)||i<=0||!je(s)||s<=0)},r7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],i7=function(t){return t&&t.type&&bp(t.type)&&r7.indexOf(t.type)>=0},s7=function(t,n,i,s){var a,o=(a=uy==null?void 0:uy[s])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!ct(t)&&(s&&o.includes(n)||Z9.includes(n))||i&&zN.includes(n)},ot=function(t,n,i){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(j.isValidElement(t)&&(s=t.props),!Ad(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;s7((l=s)===null||l===void 0?void 0:l[o],o,n,i)&&(a[o]=s[o])}),a},yb=function e(t,n){if(t===n)return!0;var i=j.Children.count(t);if(i!==j.Children.count(n))return!1;if(i===0)return!0;if(i===1)return Ck(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<i;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!Ck(a,o))return!1}return!0},Ck=function(t,n){if(gt(t)&&gt(n))return!0;if(!gt(t)&&!gt(n)){var i=t.props||{},s=i.children,a=jk(i,e7),o=n.props||{},l=o.children,c=jk(o,t7);return s&&l?dc(a,c)&&yb(s,l):!s&&!l?dc(a,c):!1}return!1},kk=function(t,n){var i=[],s={};return BN(t).forEach(function(a,o){if(i7(a))i.push(a);else if(a){var l=Rs(a.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var f=d(a,l,o);i.push(f),s[l]=!0}}}),i},a7=function(t){var n=t&&t.type;return n&&wk[n]?wk[n]:null},o7=function(t,n){return BN(n).indexOf(t)},l7=["children","width","height","viewBox","className","style","title","desc"];function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bb.apply(this,arguments)}function c7(e,t){if(e==null)return{};var n=d7(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function d7(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function jb(e){var t=e.children,n=e.width,i=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=c7(e,l7),u=s||{width:n,height:i,x:0,y:0},f=xt("recharts-surface",a);return L.createElement("svg",bb({},ot(d,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),t)}var u7=["children","className"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wb.apply(this,arguments)}function f7(e,t){if(e==null)return{};var n=p7(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function p7(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var It=L.forwardRef(function(e,t){var n=e.children,i=e.className,s=f7(e,u7),a=xt("recharts-layer",i);return L.createElement("g",wb({className:a},ot(s,!0),{ref:t}),n)}),Pi=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a]};function m7(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+t];return a}var h7=m7,x7=h7;function v7(e,t,n){var i=e.length;return n=n===void 0?i:n,!t&&n>=i?e:x7(e,t,n)}var g7=v7,y7="\\ud800-\\udfff",b7="\\u0300-\\u036f",j7="\\ufe20-\\ufe2f",w7="\\u20d0-\\u20ff",N7=b7+j7+w7,S7="\\ufe0e\\ufe0f",C7="\\u200d",k7=RegExp("["+C7+y7+N7+S7+"]");function E7(e){return k7.test(e)}var h4=E7;function A7(e){return e.split("")}var P7=A7,x4="\\ud800-\\udfff",O7="\\u0300-\\u036f",T7="\\ufe20-\\ufe2f",_7="\\u20d0-\\u20ff",I7=O7+T7+_7,R7="\\ufe0e\\ufe0f",M7="["+x4+"]",Nb="["+I7+"]",Sb="\\ud83c[\\udffb-\\udfff]",$7="(?:"+Nb+"|"+Sb+")",v4="[^"+x4+"]",g4="(?:\\ud83c[\\udde6-\\uddff]){2}",y4="[\\ud800-\\udbff][\\udc00-\\udfff]",D7="\\u200d",b4=$7+"?",j4="["+R7+"]?",F7="(?:"+D7+"(?:"+[v4,g4,y4].join("|")+")"+j4+b4+")*",L7=j4+b4+F7,q7="(?:"+[v4+Nb+"?",Nb,g4,y4,M7].join("|")+")",z7=RegExp(Sb+"(?="+Sb+")|"+q7+L7,"g");function B7(e){return e.match(z7)||[]}var U7=B7,V7=P7,W7=h4,H7=U7;function G7(e){return W7(e)?H7(e):V7(e)}var K7=G7,Y7=g7,Q7=h4,X7=K7,Z7=c4;function J7(e){return function(t){t=Z7(t);var n=Q7(t)?X7(t):void 0,i=n?n[0]:t.charAt(0),s=n?Y7(n,1).join(""):t.slice(1);return i[e]()+s}}var eG=J7,tG=eG,nG=tG("toUpperCase"),rG=nG;const Iv=Pt(rG);function qt(e){return function(){return e}}const w4=Math.cos,jh=Math.sin,$i=Math.sqrt,wh=Math.PI,Rv=2*wh,Cb=Math.PI,kb=2*Cb,ho=1e-6,iG=kb-ho;function N4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function sG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return N4;const n=10**t;return function(i){this._+=i[0];for(let s=1,a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class aG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?N4:sG(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,a,o){this._append`C${+t},${+n},${+i},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,i,s,a){if(t=+t,n=+n,i=+i,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=i-t,d=s-n,u=o-t,f=l-n,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>ho)if(!(Math.abs(f*c-d*u)>ho)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=i-o,v=s-l,m=c*c+d*d,y=h*h+v*v,b=Math.sqrt(m),g=Math.sqrt(p),x=a*Math.tan((Cb-Math.acos((m+p-y)/(2*b*g)))/2),N=x/g,w=x/b;Math.abs(N-1)>ho&&this._append`L${t+N*u},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*h>u*v)},${this._x1=t+w*c},${this._y1=n+w*d}`}}arc(t,n,i,s,a,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),c=i*Math.sin(s),d=t+l,u=n+c,f=1^o,p=o?s-a:a-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>ho||Math.abs(this._y1-u)>ho)&&this._append`L${d},${u}`,i&&(p<0&&(p=p%kb+kb),p>iG?this._append`A${i},${i},0,1,${f},${t-l},${n-c}A${i},${i},0,1,${f},${this._x1=d},${this._y1=u}`:p>ho&&this._append`A${i},${i},0,${+(p>=Cb)},${f},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function UN(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new aG(t)}function VN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S4(e){this._context=e}S4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mv(e){return new S4(e)}function C4(e){return e[0]}function k4(e){return e[1]}function E4(e,t){var n=qt(!0),i=null,s=Mv,a=null,o=UN(l);e=typeof e=="function"?e:e===void 0?C4:qt(e),t=typeof t=="function"?t:t===void 0?k4:qt(t);function l(c){var d,u=(c=VN(c)).length,f,p=!1,h;for(i==null&&(a=s(h=o())),d=0;d<=u;++d)!(d<u&&n(f=c[d],d,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,d,c),+t(f,d,c));if(h)return a=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:qt(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,i!=null&&(a=s(i)),l):s},l.context=function(c){return arguments.length?(c==null?i=a=null:a=s(i=c),l):i},l}function tm(e,t,n){var i=null,s=qt(!0),a=null,o=Mv,l=null,c=UN(d);e=typeof e=="function"?e:e===void 0?C4:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?k4:qt(+n);function d(f){var p,h,v,m=(f=VN(f)).length,y,b=!1,g,x=new Array(m),N=new Array(m);for(a==null&&(l=o(g=c())),p=0;p<=m;++p){if(!(p<m&&s(y=f[p],p,f))===b)if(b=!b)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=p-1;v>=h;--v)l.point(x[v],N[v]);l.lineEnd(),l.areaEnd()}b&&(x[p]=+e(y,p,f),N[p]=+t(y,p,f),l.point(i?+i(y,p,f):x[p],n?+n(y,p,f):N[p]))}if(g)return l=null,g+""||null}function u(){return E4().defined(s).curve(o).context(a)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),i=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),d):e},d.x1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:qt(+f),d):i},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),n=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),d):t},d.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qt(+f),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(i).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:qt(!!f),d):s},d.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),d):o},d.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),d):a},d}class A4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function oG(e){return new A4(e,!0)}function lG(e){return new A4(e,!1)}const WN={draw(e,t){const n=$i(t/wh);e.moveTo(n,0),e.arc(0,0,n,0,Rv)}},cG={draw(e,t){const n=$i(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},P4=$i(1/3),dG=P4*2,uG={draw(e,t){const n=$i(t/dG),i=n*P4;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},fG={draw(e,t){const n=$i(t),i=-n/2;e.rect(i,i,n,n)}},pG=.8908130915292852,O4=jh(wh/10)/jh(7*wh/10),mG=jh(Rv/10)*O4,hG=-w4(Rv/10)*O4,xG={draw(e,t){const n=$i(t*pG),i=mG*n,s=hG*n;e.moveTo(0,-n),e.lineTo(i,s);for(let a=1;a<5;++a){const o=Rv*a/5,l=w4(o),c=jh(o);e.lineTo(c*n,-l*n),e.lineTo(l*i-c*s,c*i+l*s)}e.closePath()}},py=$i(3),vG={draw(e,t){const n=-$i(t/(py*3));e.moveTo(0,n*2),e.lineTo(-py*n,-n),e.lineTo(py*n,-n),e.closePath()}},Vr=-.5,Wr=$i(3)/2,Eb=1/$i(12),gG=(Eb/2+1)*3,yG={draw(e,t){const n=$i(t/gG),i=n/2,s=n*Eb,a=i,o=n*Eb+n,l=-a,c=o;e.moveTo(i,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Vr*i-Wr*s,Wr*i+Vr*s),e.lineTo(Vr*a-Wr*o,Wr*a+Vr*o),e.lineTo(Vr*l-Wr*c,Wr*l+Vr*c),e.lineTo(Vr*i+Wr*s,Vr*s-Wr*i),e.lineTo(Vr*a+Wr*o,Vr*o-Wr*a),e.lineTo(Vr*l+Wr*c,Vr*c-Wr*l),e.closePath()}};function bG(e,t){let n=null,i=UN(s);e=typeof e=="function"?e:qt(e||WN),t=typeof t=="function"?t:qt(t===void 0?64:+t);function s(){let a;if(n||(n=a=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:qt(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:qt(+a),s):t},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function Nh(){}function Sh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function T4(e){this._context=e}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jG(e){return new T4(e)}function _4(e){this._context=e}_4.prototype={areaStart:Nh,areaEnd:Nh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wG(e){return new _4(e)}function I4(e){this._context=e}I4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NG(e){return new I4(e)}function R4(e){this._context=e}R4.prototype={areaStart:Nh,areaEnd:Nh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SG(e){return new R4(e)}function Ek(e){return e<0?-1:1}function Ak(e,t,n){var i=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(i||s<0&&-0),o=(n-e._y1)/(s||i<0&&-0),l=(a*s+o*i)/(i+s);return(Ek(a)+Ek(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Pk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function my(e,t,n){var i=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-i)/3;e._context.bezierCurveTo(i+l,s+l*t,a-l,o-l*n,a,o)}function Ch(e){this._context=e}Ch.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:my(this,this._t0,Pk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,my(this,Pk(this,n=Ak(this,e,t)),n);break;default:my(this,this._t0,n=Ak(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function M4(e){this._context=new $4(e)}(M4.prototype=Object.create(Ch.prototype)).point=function(e,t){Ch.prototype.point.call(this,t,e)};function $4(e){this._context=e}$4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,s,a){this._context.bezierCurveTo(t,e,i,n,a,s)}};function CG(e){return new Ch(e)}function kG(e){return new M4(e)}function D4(e){this._context=e}D4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=Ok(e),s=Ok(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],s[0][a],i[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ok(e){var t,n=e.length-1,i,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=s[t]/a[t-1],a[t]-=i,o[t]-=i*o[t-1];for(s[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function EG(e){return new D4(e)}function $v(e,t){this._context=e,this._t=t}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function AG(e){return new $v(e,.5)}function PG(e){return new $v(e,0)}function OG(e){return new $v(e,1)}function Vc(e,t){if((o=e.length)>1)for(var n=1,i,s,a=e[t[0]],o,l=a.length;n<o;++n)for(s=a,a=e[t[n]],i=0;i<l;++i)a[i][1]+=a[i][0]=isNaN(s[i][1])?s[i][0]:s[i][1]}function Ab(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function TG(e,t){return e[t]}function _G(e){const t=[];return t.key=e,t}function IG(){var e=qt([]),t=Ab,n=Vc,i=TG;function s(a){var o=Array.from(e.apply(this,arguments),_G),l,c=o.length,d=-1,u;for(const f of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+i(f,o[l].key,d,a)]).data=f;for(l=0,u=VN(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:qt(Array.from(a)),s):e},s.value=function(a){return arguments.length?(i=typeof a=="function"?a:qt(+a),s):i},s.order=function(a){return arguments.length?(t=a==null?Ab:typeof a=="function"?a:qt(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(n=a??Vc,s):n},s}function RG(e,t){if((i=e.length)>0){for(var n,i,s=0,a=e[0].length,o;s<a;++s){for(o=n=0;n<i;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<i;++n)e[n][s][1]/=o}Vc(e,t)}}function MG(e,t){if((s=e.length)>0){for(var n=0,i=e[t[0]],s,a=i.length;n<a;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;i[n][1]+=i[n][0]=-l/2}Vc(e,t)}}function $G(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,i=1,s,a,o;i<a;++i){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[i][1]||0,p=u[i-1][1]||0,h=(f-p)/2,v=0;v<l;++v){var m=e[t[v]],y=m[i][1]||0,b=m[i-1][1]||0;h+=y-b}c+=f,d+=h*f}s[i-1][1]+=s[i-1][0]=n,c&&(n-=d/c)}s[i-1][1]+=s[i-1][0]=n,Vc(e,t)}}function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}var DG=["type","size","sizeType"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pb.apply(this,arguments)}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function _k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(i){FG(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function FG(e,t,n){return t=LG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LG(e){var t=qG(e,"string");return af(t)=="symbol"?t:t+""}function qG(e,t){if(af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(af(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zG(e,t){if(e==null)return{};var n=BG(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function BG(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var F4={symbolCircle:WN,symbolCross:cG,symbolDiamond:uG,symbolSquare:fG,symbolStar:xG,symbolTriangle:vG,symbolWye:yG},UG=Math.PI/180,VG=function(t){var n="symbol".concat(Iv(t));return F4[n]||WN},WG=function(t,n,i){if(n==="area")return t;switch(i){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*UG;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},HG=function(t,n){F4["symbol".concat(Iv(t))]=n},HN=function(t){var n=t.type,i=n===void 0?"circle":n,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=zG(t,DG),d=_k(_k({},c),{},{type:i,size:a,sizeType:l}),u=function(){var y=VG(i),b=bG().type(y).size(WG(a,l,i));return b()},f=d.className,p=d.cx,h=d.cy,v=ot(d,!0);return p===+p&&h===+h&&a===+a?L.createElement("path",Pb({},v,{className:xt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};HN.registerSymbol=HG;function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ob.apply(this,arguments)}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function GG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(i){of(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function KG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YG(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,q4(i.key),i)}}function QG(e,t,n){return t&&YG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XG(e,t,n){return t=kh(t),ZG(e,L4()?Reflect.construct(t,n||[],kh(e).constructor):t.apply(e,n))}function ZG(e,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JG(e)}function JG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L4=function(){return!!e})()}function kh(e){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(e)}function eK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tb(e,t)}function Tb(e,t){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Tb(e,t)}function of(e,t,n){return t=q4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q4(e){var t=tK(e,"string");return Wc(t)=="symbol"?t:t+""}function tK(e,t){if(Wc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Wc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hr=32,GN=function(e){function t(){return KG(this,t),XG(this,t,arguments)}return eK(t,e),QG(t,[{key:"renderIcon",value:function(i){var s=this.props.inactiveColor,a=Hr/2,o=Hr/6,l=Hr/3,c=i.inactive?s:i.color;if(i.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:a,x2:Hr,y2:a,className:"recharts-legend-icon"});if(i.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Hr,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(i.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Hr/8,"h").concat(Hr,"v").concat(Hr*3/4,"h").concat(-Hr,"z"),className:"recharts-legend-icon"});if(L.isValidElement(i.legendIcon)){var d=GG({},i);return delete d.legendIcon,L.cloneElement(i.legendIcon,d)}return L.createElement(HN,{fill:c,cx:a,cy:a,size:Hr,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:Hr,height:Hr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,v){var m=h.formatter||c,y=xt(of(of({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=ct(h.value)?null:h.value;Pi(!ct(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=h.inactive?d:h.color;return L.createElement("li",Ob({className:y,style:f,key:"legend-item-".concat(v)},tl(i.props,h,v)),L.createElement(jb,{width:o,height:o,viewBox:u,style:p},i.renderIcon(h)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m?m(b,h,v):b))})}},{key:"render",value:function(){var i=this.props,s=i.payload,a=i.layout,o=i.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);of(GN,"displayName","Legend");of(GN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var nK=bv;function rK(){this.__data__=new nK,this.size=0}var iK=rK;function sK(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var aK=sK;function oK(e){return this.__data__.get(e)}var lK=oK;function cK(e){return this.__data__.has(e)}var dK=cK,uK=bv,fK=RN,pK=MN,mK=200;function hK(e,t){var n=this.__data__;if(n instanceof uK){var i=n.__data__;if(!fK||i.length<mK-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new pK(i)}return n.set(e,t),this.size=n.size,this}var xK=hK,vK=bv,gK=iK,yK=aK,bK=lK,jK=dK,wK=xK;function _d(e){var t=this.__data__=new vK(e);this.size=t.size}_d.prototype.clear=gK;_d.prototype.delete=yK;_d.prototype.get=bK;_d.prototype.has=jK;_d.prototype.set=wK;var z4=_d,NK="__lodash_hash_undefined__";function SK(e){return this.__data__.set(e,NK),this}var CK=SK;function kK(e){return this.__data__.has(e)}var EK=kK,AK=MN,PK=CK,OK=EK;function Eh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new AK;++t<n;)this.add(e[t])}Eh.prototype.add=Eh.prototype.push=PK;Eh.prototype.has=OK;var B4=Eh;function TK(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var U4=TK;function _K(e,t){return e.has(t)}var V4=_K,IK=B4,RK=U4,MK=V4,$K=1,DK=2;function FK(e,t,n,i,s,a){var o=n&$K,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var f=-1,p=!0,h=n&DK?new IK:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var v=e[f],m=t[f];if(i)var y=o?i(m,v,f,t,e,a):i(v,m,f,e,t,a);if(y!==void 0){if(y)continue;p=!1;break}if(h){if(!RK(t,function(b,g){if(!MK(h,g)&&(v===b||s(v,b,n,i,a)))return h.push(g)})){p=!1;break}}else if(!(v===m||s(v,m,n,i,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var W4=FK,LK=ms,qK=LK.Uint8Array,zK=qK;function BK(e){var t=-1,n=Array(e.size);return e.forEach(function(i,s){n[++t]=[s,i]}),n}var UK=BK;function VK(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var KN=VK,Rk=yp,Mk=zK,WK=IN,HK=W4,GK=UK,KK=KN,YK=1,QK=2,XK="[object Boolean]",ZK="[object Date]",JK="[object Error]",eY="[object Map]",tY="[object Number]",nY="[object RegExp]",rY="[object Set]",iY="[object String]",sY="[object Symbol]",aY="[object ArrayBuffer]",oY="[object DataView]",$k=Rk?Rk.prototype:void 0,hy=$k?$k.valueOf:void 0;function lY(e,t,n,i,s,a,o){switch(n){case oY:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case aY:return!(e.byteLength!=t.byteLength||!a(new Mk(e),new Mk(t)));case XK:case ZK:case tY:return WK(+e,+t);case JK:return e.name==t.name&&e.message==t.message;case nY:case iY:return e==t+"";case eY:var l=GK;case rY:var c=i&YK;if(l||(l=KK),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;i|=QK,o.set(e,t);var u=HK(l(e),l(t),i,s,a,o);return o.delete(e),u;case sY:if(hy)return hy.call(e)==hy.call(t)}return!1}var cY=lY;function dY(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e}var H4=dY,uY=H4,fY=Sr;function pY(e,t,n){var i=t(e);return fY(e)?i:uY(i,n(e))}var mY=pY;function hY(e,t){for(var n=-1,i=e==null?0:e.length,s=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}var xY=hY;function vY(){return[]}var gY=vY,yY=xY,bY=gY,jY=Object.prototype,wY=jY.propertyIsEnumerable,Dk=Object.getOwnPropertySymbols,NY=Dk?function(e){return e==null?[]:(e=Object(e),yY(Dk(e),function(t){return wY.call(e,t)}))}:bY,SY=NY;function CY(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var kY=CY,EY=ea,AY=ta,PY="[object Arguments]";function OY(e){return AY(e)&&EY(e)==PY}var TY=OY,Fk=TY,_Y=ta,G4=Object.prototype,IY=G4.hasOwnProperty,RY=G4.propertyIsEnumerable,MY=Fk(function(){return arguments}())?Fk:function(e){return _Y(e)&&IY.call(e,"callee")&&!RY.call(e,"callee")},YN=MY,Ah={exports:{}};function $Y(){return!1}var DY=$Y;Ah.exports;(function(e,t){var n=ms,i=DY,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||i;e.exports=d})(Ah,Ah.exports);var K4=Ah.exports,FY=9007199254740991,LY=/^(?:0|[1-9]\d*)$/;function qY(e,t){var n=typeof e;return t=t??FY,!!t&&(n=="number"||n!="symbol"&&LY.test(e))&&e>-1&&e%1==0&&e<t}var QN=qY,zY=9007199254740991;function BY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zY}var XN=BY,UY=ea,VY=XN,WY=ta,HY="[object Arguments]",GY="[object Array]",KY="[object Boolean]",YY="[object Date]",QY="[object Error]",XY="[object Function]",ZY="[object Map]",JY="[object Number]",eQ="[object Object]",tQ="[object RegExp]",nQ="[object Set]",rQ="[object String]",iQ="[object WeakMap]",sQ="[object ArrayBuffer]",aQ="[object DataView]",oQ="[object Float32Array]",lQ="[object Float64Array]",cQ="[object Int8Array]",dQ="[object Int16Array]",uQ="[object Int32Array]",fQ="[object Uint8Array]",pQ="[object Uint8ClampedArray]",mQ="[object Uint16Array]",hQ="[object Uint32Array]",Wt={};Wt[oQ]=Wt[lQ]=Wt[cQ]=Wt[dQ]=Wt[uQ]=Wt[fQ]=Wt[pQ]=Wt[mQ]=Wt[hQ]=!0;Wt[HY]=Wt[GY]=Wt[sQ]=Wt[KY]=Wt[aQ]=Wt[YY]=Wt[QY]=Wt[XY]=Wt[ZY]=Wt[JY]=Wt[eQ]=Wt[tQ]=Wt[nQ]=Wt[rQ]=Wt[iQ]=!1;function xQ(e){return WY(e)&&VY(e.length)&&!!Wt[UY(e)]}var vQ=xQ;function gQ(e){return function(t){return e(t)}}var Y4=gQ,Ph={exports:{}};Ph.exports;(function(e,t){var n=r4,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Ph,Ph.exports);var yQ=Ph.exports,bQ=vQ,jQ=Y4,Lk=yQ,qk=Lk&&Lk.isTypedArray,wQ=qk?jQ(qk):bQ,Q4=wQ,NQ=kY,SQ=YN,CQ=Sr,kQ=K4,EQ=QN,AQ=Q4,PQ=Object.prototype,OQ=PQ.hasOwnProperty;function TQ(e,t){var n=CQ(e),i=!n&&SQ(e),s=!n&&!i&&kQ(e),a=!n&&!i&&!s&&AQ(e),o=n||i||s||a,l=o?NQ(e.length,String):[],c=l.length;for(var d in e)(t||OQ.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||EQ(d,c)))&&l.push(d);return l}var _Q=TQ,IQ=Object.prototype;function RQ(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||IQ;return e===n}var MQ=RQ;function $Q(e,t){return function(n){return e(t(n))}}var X4=$Q,DQ=X4,FQ=DQ(Object.keys,Object),LQ=FQ,qQ=MQ,zQ=LQ,BQ=Object.prototype,UQ=BQ.hasOwnProperty;function VQ(e){if(!qQ(e))return zQ(e);var t=[];for(var n in Object(e))UQ.call(e,n)&&n!="constructor"&&t.push(n);return t}var WQ=VQ,HQ=_N,GQ=XN;function KQ(e){return e!=null&&GQ(e.length)&&!HQ(e)}var Np=KQ,YQ=_Q,QQ=WQ,XQ=Np;function ZQ(e){return XQ(e)?YQ(e):QQ(e)}var Dv=ZQ,JQ=mY,eX=SY,tX=Dv;function nX(e){return JQ(e,tX,eX)}var rX=nX,zk=rX,iX=1,sX=Object.prototype,aX=sX.hasOwnProperty;function oX(e,t,n,i,s,a){var o=n&iX,l=zk(e),c=l.length,d=zk(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var p=l[f];if(!(o?p in t:aX.call(t,p)))return!1}var h=a.get(e),v=a.get(t);if(h&&v)return h==t&&v==e;var m=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){p=l[f];var b=e[p],g=t[p];if(i)var x=o?i(g,b,p,t,e,a):i(b,g,p,e,t,a);if(!(x===void 0?b===g||s(b,g,n,i,a):x)){m=!1;break}y||(y=p=="constructor")}if(m&&!y){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(m=!1)}return a.delete(e),a.delete(t),m}var lX=oX,cX=hl,dX=ms,uX=cX(dX,"DataView"),fX=uX,pX=hl,mX=ms,hX=pX(mX,"Promise"),xX=hX,vX=hl,gX=ms,yX=vX(gX,"Set"),Z4=yX,bX=hl,jX=ms,wX=bX(jX,"WeakMap"),NX=wX,_b=fX,Ib=RN,Rb=xX,Mb=Z4,$b=NX,J4=ea,Id=s4,Bk="[object Map]",SX="[object Object]",Uk="[object Promise]",Vk="[object Set]",Wk="[object WeakMap]",Hk="[object DataView]",CX=Id(_b),kX=Id(Ib),EX=Id(Rb),AX=Id(Mb),PX=Id($b),xo=J4;(_b&&xo(new _b(new ArrayBuffer(1)))!=Hk||Ib&&xo(new Ib)!=Bk||Rb&&xo(Rb.resolve())!=Uk||Mb&&xo(new Mb)!=Vk||$b&&xo(new $b)!=Wk)&&(xo=function(e){var t=J4(e),n=t==SX?e.constructor:void 0,i=n?Id(n):"";if(i)switch(i){case CX:return Hk;case kX:return Bk;case EX:return Uk;case AX:return Vk;case PX:return Wk}return t});var OX=xo,xy=z4,TX=W4,_X=cY,IX=lX,Gk=OX,Kk=Sr,Yk=K4,RX=Q4,MX=1,Qk="[object Arguments]",Xk="[object Array]",nm="[object Object]",$X=Object.prototype,Zk=$X.hasOwnProperty;function DX(e,t,n,i,s,a){var o=Kk(e),l=Kk(t),c=o?Xk:Gk(e),d=l?Xk:Gk(t);c=c==Qk?nm:c,d=d==Qk?nm:d;var u=c==nm,f=d==nm,p=c==d;if(p&&Yk(e)){if(!Yk(t))return!1;o=!0,u=!1}if(p&&!u)return a||(a=new xy),o||RX(e)?TX(e,t,n,i,s,a):_X(e,t,c,n,i,s,a);if(!(n&MX)){var h=u&&Zk.call(e,"__wrapped__"),v=f&&Zk.call(t,"__wrapped__");if(h||v){var m=h?e.value():e,y=v?t.value():t;return a||(a=new xy),s(m,y,n,i,a)}}return p?(a||(a=new xy),IX(e,t,n,i,s,a)):!1}var FX=DX,LX=FX,Jk=ta;function eM(e,t,n,i,s){return e===t?!0:e==null||t==null||!Jk(e)&&!Jk(t)?e!==e&&t!==t:LX(e,t,n,i,eM,s)}var ZN=eM,qX=z4,zX=ZN,BX=1,UX=2;function VX(e,t,n,i){var s=n.length,a=s,o=!i;if(e==null)return!a;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=n[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new qX;if(i)var p=i(d,u,c,e,t,f);if(!(p===void 0?zX(u,d,BX|UX,i,f):p))return!1}}return!0}var WX=VX,HX=to;function GX(e){return e===e&&!HX(e)}var tM=GX,KX=tM,YX=Dv;function QX(e){for(var t=YX(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,KX(s)]}return t}var XX=QX;function ZX(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var nM=ZX,JX=WX,eZ=XX,tZ=nM;function nZ(e){var t=eZ(e);return t.length==1&&t[0][2]?tZ(t[0][0],t[0][1]):function(n){return n===e||JX(n,e,t)}}var rZ=nZ;function iZ(e,t){return e!=null&&t in Object(e)}var sZ=iZ,aZ=d4,oZ=YN,lZ=Sr,cZ=QN,dZ=XN,uZ=wv;function fZ(e,t,n){t=aZ(t,e);for(var i=-1,s=t.length,a=!1;++i<s;){var o=uZ(t[i]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++i!=s?a:(s=e==null?0:e.length,!!s&&dZ(s)&&cZ(o,s)&&(lZ(e)||oZ(e)))}var pZ=fZ,mZ=sZ,hZ=pZ;function xZ(e,t){return e!=null&&hZ(e,t,mZ)}var vZ=xZ,gZ=ZN,yZ=u4,bZ=vZ,jZ=TN,wZ=tM,NZ=nM,SZ=wv,CZ=1,kZ=2;function EZ(e,t){return jZ(e)&&wZ(t)?NZ(SZ(e),t):function(n){var i=yZ(n,e);return i===void 0&&i===t?bZ(n,e):gZ(t,i,CZ|kZ)}}var AZ=EZ;function PZ(e){return e}var Rd=PZ;function OZ(e){return function(t){return t==null?void 0:t[e]}}var TZ=OZ,_Z=FN;function IZ(e){return function(t){return _Z(t,e)}}var RZ=IZ,MZ=TZ,$Z=RZ,DZ=TN,FZ=wv;function LZ(e){return DZ(e)?MZ(FZ(e)):$Z(e)}var qZ=LZ,zZ=rZ,BZ=AZ,UZ=Rd,VZ=Sr,WZ=qZ;function HZ(e){return typeof e=="function"?e:e==null?UZ:typeof e=="object"?VZ(e)?BZ(e[0],e[1]):zZ(e):WZ(e)}var hs=HZ;function GZ(e,t,n,i){for(var s=e.length,a=n+(i?1:-1);i?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var rM=GZ;function KZ(e){return e!==e}var YZ=KZ;function QZ(e,t,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}var XZ=QZ,ZZ=rM,JZ=YZ,eJ=XZ;function tJ(e,t,n){return t===t?eJ(e,t,n):ZZ(e,JZ,n)}var nJ=tJ,rJ=nJ;function iJ(e,t){var n=e==null?0:e.length;return!!n&&rJ(e,t,0)>-1}var sJ=iJ;function aJ(e,t,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(t,e[i]))return!0;return!1}var oJ=aJ;function lJ(){}var cJ=lJ,vy=Z4,dJ=cJ,uJ=KN,fJ=1/0,pJ=vy&&1/uJ(new vy([,-0]))[1]==fJ?function(e){return new vy(e)}:dJ,mJ=pJ,hJ=B4,xJ=sJ,vJ=oJ,gJ=V4,yJ=mJ,bJ=KN,jJ=200;function wJ(e,t,n){var i=-1,s=xJ,a=e.length,o=!0,l=[],c=l;if(n)o=!1,s=vJ;else if(a>=jJ){var d=t?null:yJ(e);if(d)return bJ(d);o=!1,s=gJ,c=new hJ}else c=t?[]:l;e:for(;++i<a;){var u=e[i],f=t?t(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),l.push(u)}else s(c,f,n)||(c!==l&&c.push(f),l.push(u))}return l}var NJ=wJ,SJ=hs,CJ=NJ;function kJ(e,t){return e&&e.length?CJ(e,SJ(t)):[]}var EJ=kJ;const eE=Pt(EJ);function iM(e,t,n){return t===!0?eE(e,n):ct(t)?eE(e,t):e}function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}var AJ=["ref"];function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(i){Fv(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function PJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,aM(i.key),i)}}function OJ(e,t,n){return t&&nE(e.prototype,t),n&&nE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TJ(e,t,n){return t=Oh(t),_J(e,sM()?Reflect.construct(t,n||[],Oh(e).constructor):t.apply(e,n))}function _J(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IJ(e)}function IJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sM=function(){return!!e})()}function Oh(e){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(e)}function RJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}function Db(e,t){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Db(e,t)}function Fv(e,t,n){return t=aM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aM(e){var t=MJ(e,"string");return Hc(t)=="symbol"?t:t+""}function MJ(e,t){if(Hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Hc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $J(e,t){if(e==null)return{};var n=DJ(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function DJ(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function FJ(e){return e.value}function LJ(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var n=$J(t,AJ);return L.createElement(GN,n)}var rE=1,uc=function(e){function t(){var n;PJ(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=TJ(this,t,[].concat(s)),Fv(n,"lastBoundingBox",{width:-1,height:-1}),n}return RJ(t,e),OJ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();return i.height=this.wrapperNode.offsetHeight,i.width=this.wrapperNode.offsetWidth,i}return null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>rE||Math.abs(s.height-this.lastBoundingBox.height)>rE)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,i&&i(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,f,p;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((d||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();p={top:((u||0)-v.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gs(gs({},f),p)}},{key:"render",value:function(){var i=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,f=gs(gs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){i.wrapperNode=h}},LJ(a,gs(gs({},this.props),{},{payload:iM(u,d,FJ)})))}}],[{key:"getWithHeight",value:function(i,s){var a=gs(gs({},this.defaultProps),i.props),o=a.layout;return o==="vertical"&&je(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||s}:null}}])}(j.PureComponent);Fv(uc,"displayName","Legend");Fv(uc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iE=yp,qJ=YN,zJ=Sr,sE=iE?iE.isConcatSpreadable:void 0;function BJ(e){return zJ(e)||qJ(e)||!!(sE&&e&&e[sE])}var UJ=BJ,VJ=H4,WJ=UJ;function oM(e,t,n,i,s){var a=-1,o=e.length;for(n||(n=WJ),s||(s=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?oM(l,t-1,n,i,s):VJ(s,l):i||(s[s.length]=l)}return s}var lM=oM;function HJ(e){return function(t,n,i){for(var s=-1,a=Object(t),o=i(t),l=o.length;l--;){var c=o[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}var GJ=HJ,KJ=GJ,YJ=KJ(),QJ=YJ,XJ=QJ,ZJ=Dv;function JJ(e,t){return e&&XJ(e,t,ZJ)}var cM=JJ,eee=Np;function tee(e,t){return function(n,i){if(n==null)return n;if(!eee(n))return e(n,i);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&i(o[a],a,o)!==!1;);return n}}var nee=tee,ree=cM,iee=nee,see=iee(ree),JN=see,aee=JN,oee=Np;function lee(e,t){var n=-1,i=oee(e)?Array(e.length):[];return aee(e,function(s,a,o){i[++n]=t(s,a,o)}),i}var dM=lee;function cee(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var dee=cee,aE=Ed;function uee(e,t){if(e!==t){var n=e!==void 0,i=e===null,s=e===e,a=aE(e),o=t!==void 0,l=t===null,c=t===t,d=aE(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||i&&o&&c||!n&&c||!s)return 1;if(!i&&!a&&!d&&e<t||d&&n&&s&&!i&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}var fee=uee,pee=fee;function mee(e,t,n){for(var i=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++i<o;){var c=pee(s[i],a[i]);if(c){if(i>=l)return c;var d=n[i];return c*(d=="desc"?-1:1)}}return e.index-t.index}var hee=mee,gy=DN,xee=FN,vee=hs,gee=dM,yee=dee,bee=Y4,jee=hee,wee=Rd,Nee=Sr;function See(e,t,n){t.length?t=gy(t,function(a){return Nee(a)?function(o){return xee(o,a.length===1?a[0]:a)}:a}):t=[wee];var i=-1;t=gy(t,bee(vee));var s=gee(e,function(a,o,l){var c=gy(t,function(d){return d(a)});return{criteria:c,index:++i,value:a}});return yee(s,function(a,o){return jee(a,o,n)})}var Cee=See;function kee(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Eee=kee,Aee=Eee,oE=Math.max;function Pee(e,t,n){return t=oE(t===void 0?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=oE(i.length-t,0),o=Array(a);++s<a;)o[s]=i[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=i[s];return l[t]=n(o),Aee(e,this,l)}}var Oee=Pee;function Tee(e){return function(){return e}}var _ee=Tee,Iee=hl,Ree=function(){try{var e=Iee(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uM=Ree,Mee=_ee,lE=uM,$ee=Rd,Dee=lE?function(e,t){return lE(e,"toString",{configurable:!0,enumerable:!1,value:Mee(t),writable:!0})}:$ee,Fee=Dee,Lee=800,qee=16,zee=Date.now;function Bee(e){var t=0,n=0;return function(){var i=zee(),s=qee-(i-n);if(n=i,s>0){if(++t>=Lee)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Uee=Bee,Vee=Fee,Wee=Uee,Hee=Wee(Vee),Gee=Hee,Kee=Rd,Yee=Oee,Qee=Gee;function Xee(e,t){return Qee(Yee(e,t,Kee),e+"")}var Zee=Xee,Jee=IN,ete=Np,tte=QN,nte=to;function rte(e,t,n){if(!nte(n))return!1;var i=typeof t;return(i=="number"?ete(n)&&tte(t,n.length):i=="string"&&t in n)?Jee(n[t],e):!1}var Lv=rte,ite=lM,ste=Cee,ate=Zee,cE=Lv,ote=ate(function(e,t){if(e==null)return[];var n=t.length;return n>1&&cE(e,t[0],t[1])?t=[]:n>2&&cE(t[0],t[1],t[2])&&(t=[t[0]]),ste(e,ite(t,1),[])}),lte=ote;const e1=Pt(lte);function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fb.apply(this,arguments)}function cte(e,t){return pte(e)||fte(e,t)||ute(e,t)||dte()}function dte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(e,t){if(e){if(typeof e=="string")return dE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(e,t)}}function dE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function pte(e){if(Array.isArray(e))return e}function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function yy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(i){mte(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mte(e,t,n){return t=hte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hte(e){var t=xte(e,"string");return lf(t)=="symbol"?t:t+""}function xte(e,t){if(lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(lf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vte(e){return Array.isArray(e)&&Sn(e[0])&&Sn(e[1])?e.join(" ~ "):e}var gte=function(t){var n=t.separator,i=n===void 0?" : ":n,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,v=t.labelClassName,m=t.label,y=t.labelFormatter,b=t.accessibilityLayer,g=b===void 0?!1:b,x=function(){if(u&&u.length){var A={padding:0,margin:0},O=(p?e1(u,p):u).map(function(I,F){if(I.type==="none")return null;var $=yy({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),G=I.formatter||f||vte,z=I.value,H=I.name,D=z,U=H;if(G&&D!=null&&U!=null){var R=G(z,H,I,F,u);if(Array.isArray(R)){var se=cte(R,2);D=se[0],U=se[1]}else D=R}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:$},Sn(U)?L.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Sn(U)?L.createElement("span",{className:"recharts-tooltip-item-separator"},i):null,L.createElement("span",{className:"recharts-tooltip-item-value"},D),L.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:A},O)}return null},N=yy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=yy({margin:0},d),k=!gt(m),E=k?m:"",S=xt("recharts-default-tooltip",h),C=xt("recharts-tooltip-label",v);k&&y&&u!==void 0&&u!==null&&(E=y(m,u));var _=g?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Fb({className:S,style:N},_),L.createElement("p",{className:C,style:w},L.isValidElement(E)?E:"".concat(E)),x())};function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function rm(e,t,n){return t=yte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yte(e){var t=bte(e,"string");return cf(t)=="symbol"?t:t+""}function bte(e,t){if(cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(cf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jd="recharts-tooltip-wrapper",jte={visibility:"hidden"};function wte(e){var t=e.coordinate,n=e.translateX,i=e.translateY;return xt(Jd,rm(rm(rm(rm({},"".concat(Jd,"-right"),je(n)&&t&&je(t.x)&&n>=t.x),"".concat(Jd,"-left"),je(n)&&t&&je(t.x)&&n<t.x),"".concat(Jd,"-bottom"),je(i)&&t&&je(t.y)&&i>=t.y),"".concat(Jd,"-top"),je(i)&&t&&je(t.y)&&i<t.y))}function fE(e){var t=e.allowEscapeViewBox,n=e.coordinate,i=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&je(a[i]))return a[i];var u=n[i]-l-s,f=n[i]+s;if(t[i])return o[i]?u:f;if(o[i]){var p=u,h=c[i];return p<h?Math.max(f,c[i]):Math.max(u,c[i])}var v=f+l,m=c[i]+d;return v>m?Math.max(u,c[i]):Math.max(f,c[i])}function Nte(e){var t=e.translateX,n=e.translateY,i=e.useTranslate3d;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Ste(e){var t=e.allowEscapeViewBox,n=e.coordinate,i=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&n?(u=fE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=fE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Nte({translateX:u,translateY:f,useTranslate3d:l})):d=jte,{cssProperties:d,cssClasses:wte({translateX:u,translateY:f,coordinate:n})}}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function mE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(i){qb(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Cte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kte(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pM(i.key),i)}}function Ete(e,t,n){return t&&kte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ate(e,t,n){return t=Th(t),Pte(e,fM()?Reflect.construct(t,n||[],Th(e).constructor):t.apply(e,n))}function Pte(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ote(e)}function Ote(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fM=function(){return!!e})()}function Th(e){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Th(e)}function Tte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lb(e,t)}function Lb(e,t){return Lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Lb(e,t)}function qb(e,t,n){return t=pM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pM(e){var t=_te(e,"string");return Gc(t)=="symbol"?t:t+""}function _te(e,t){if(Gc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Gc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hE=1,Ite=function(e){function t(){var n;Cte(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Ate(this,t,[].concat(s)),qb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qb(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return Tte(t,e),Ete(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.state.lastBoundingBox.width)>hE||Math.abs(i.height-this.state.lastBoundingBox.height)>hE)&&this.setState({lastBoundingBox:{width:i.width,height:i.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,f=s.hasPayload,p=s.isAnimationActive,h=s.offset,v=s.position,m=s.reverseDirection,y=s.useTranslate3d,b=s.viewBox,g=s.wrapperStyle,x=Ste({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),N=x.cssClasses,w=x.cssProperties,k=mE(mE({transition:p&&a?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return L.createElement("div",{tabIndex:-1,className:N,style:k,ref:function(S){i.wrapperNode=S}},d)}}])}(j.PureComponent),Rte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ms={isSsr:Rte(),get:function(t){return Ms[t]},set:function(t,n){if(typeof t=="string")Ms[t]=n;else{var i=Object.keys(t);i&&i.length&&i.forEach(function(s){Ms[s]=t[s]})}}};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function vE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(i){t1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Mte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,hM(i.key),i)}}function Dte(e,t,n){return t&&$te(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fte(e,t,n){return t=_h(t),Lte(e,mM()?Reflect.construct(t,n||[],_h(e).constructor):t.apply(e,n))}function Lte(e,t){if(t&&(Kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qte(e)}function qte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mM=function(){return!!e})()}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_h(e)}function zte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zb(e,t)}function zb(e,t){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},zb(e,t)}function t1(e,t,n){return t=hM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hM(e){var t=Bte(e,"string");return Kc(t)=="symbol"?t:t+""}function Bte(e,t){if(Kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Kc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ute(e){return e.dataKey}function Vte(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(gte,t)}var vi=function(e){function t(){return Mte(this,t),Fte(this,t,arguments)}return zte(t,e),Dte(t,[{key:"render",value:function(){var i=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,f=s.filterNull,p=s.isAnimationActive,h=s.offset,v=s.payload,m=s.payloadUniqBy,y=s.position,b=s.reverseDirection,g=s.useTranslate3d,x=s.viewBox,N=s.wrapperStyle,w=v??[];f&&w.length&&(w=iM(v.filter(function(E){return E.value!=null&&(E.hide!==!0||i.props.includeHidden)}),m,Ute));var k=w.length>0;return L.createElement(Ite,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:a,coordinate:u,hasPayload:k,offset:h,position:y,reverseDirection:b,useTranslate3d:g,viewBox:x,wrapperStyle:N},Vte(d,vE(vE({},this.props),{},{payload:w})))}}])}(j.PureComponent);t1(vi,"displayName","Tooltip");t1(vi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ms.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Wte=ms,Hte=function(){return Wte.Date.now()},Gte=Hte,Kte=/\s/;function Yte(e){for(var t=e.length;t--&&Kte.test(e.charAt(t)););return t}var Qte=Yte,Xte=Qte,Zte=/^\s+/;function Jte(e){return e&&e.slice(0,Xte(e)+1).replace(Zte,"")}var ene=Jte,tne=ene,gE=to,nne=Ed,yE=NaN,rne=/^[-+]0x[0-9a-f]+$/i,ine=/^0b[01]+$/i,sne=/^0o[0-7]+$/i,ane=parseInt;function one(e){if(typeof e=="number")return e;if(nne(e))return yE;if(gE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=gE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tne(e);var n=ine.test(e);return n||sne.test(e)?ane(e.slice(2),n?2:8):rne.test(e)?yE:+e}var xM=one,lne=to,by=Gte,bE=xM,cne="Expected a function",dne=Math.max,une=Math.min;function fne(e,t,n){var i,s,a,o,l,c,d=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(cne);t=bE(t)||0,lne(n)&&(u=!!n.leading,f="maxWait"in n,a=f?dne(bE(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function h(k){var E=i,S=s;return i=s=void 0,d=k,o=e.apply(S,E),o}function v(k){return d=k,l=setTimeout(b,t),u?h(k):o}function m(k){var E=k-c,S=k-d,C=t-E;return f?une(C,a-S):C}function y(k){var E=k-c,S=k-d;return c===void 0||E>=t||E<0||f&&S>=a}function b(){var k=by();if(y(k))return g(k);l=setTimeout(b,m(k))}function g(k){return l=void 0,p&&i?h(k):(i=s=void 0,o)}function x(){l!==void 0&&clearTimeout(l),d=0,i=c=s=l=void 0}function N(){return l===void 0?o:g(by())}function w(){var k=by(),E=y(k);if(i=arguments,s=this,c=k,E){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(b,t),h(c)}return l===void 0&&(l=setTimeout(b,t)),o}return w.cancel=x,w.flush=N,w}var pne=fne,mne=pne,hne=to,xne="Expected a function";function vne(e,t,n){var i=!0,s=!0;if(typeof e!="function")throw new TypeError(xne);return hne(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),mne(e,t,{leading:i,maxWait:t,trailing:s})}var gne=vne;const vM=Pt(gne);function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function im(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(i){yne(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yne(e,t,n){return t=bne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bne(e){var t=jne(e,"string");return df(t)=="symbol"?t:t+""}function jne(e,t){if(df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(df(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wne(e,t){return kne(e)||Cne(e,t)||Sne(e,t)||Nne()}function Nne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(e,t){if(e){if(typeof e=="string")return wE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(e,t)}}function wE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Cne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function kne(e){if(Array.isArray(e))return e}var NE=j.forwardRef(function(e,t){var n=e.aspect,i=e.initialDimension,s=i===void 0?{width:-1,height:-1}:i,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,p=e.maxHeight,h=e.children,v=e.debounce,m=v===void 0?0:v,y=e.id,b=e.className,g=e.onResize,x=e.style,N=x===void 0?{}:x,w=j.useRef(null),k=j.useRef();k.current=g,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=j.useState({containerWidth:s.width,containerHeight:s.height}),S=wne(E,2),C=S[0],_=S[1],P=j.useCallback(function(O,I){_(function(F){var $=Math.round(O),G=Math.round(I);return F.containerWidth===$&&F.containerHeight===G?F:{containerWidth:$,containerHeight:G}})},[]);j.useEffect(function(){var O=function(H){var D,U=H[0].contentRect,R=U.width,se=U.height;P(R,se),(D=k.current)===null||D===void 0||D.call(k,R,se)};m>0&&(O=vM(O,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(O),F=w.current.getBoundingClientRect(),$=F.width,G=F.height;return P($,G),I.observe(w.current),function(){I.disconnect()}},[P,m]);var A=j.useMemo(function(){var O=C.containerWidth,I=C.containerHeight;if(O<0||I<0)return null;Pi(So(o)||So(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Pi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=So(o)?O:o,$=So(c)?I:c;n&&n>0&&(F?$=F/n:$&&(F=$*n),p&&$>p&&($=p)),Pi(F>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,$,o,c,u,f,n);var G=!Array.isArray(h)&&Rs(h.type).endsWith("Chart");return L.Children.map(h,function(z){return L.isValidElement(z)?j.cloneElement(z,im({width:F,height:$},G?{style:im({height:"100%",width:"100%",maxHeight:$,maxWidth:F},z.props.style)}:{})):z})},[n,h,c,p,f,u,C,o]);return L.createElement("div",{id:y?"".concat(y):void 0,className:xt("recharts-responsive-container",b),style:im(im({},N),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:p}),ref:w},A)}),qv=function(t){return null};qv.displayName="Cell";function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(i){Ene(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ene(e,t,n){return t=Ane(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ane(e){var t=Pne(e,"string");return uf(t)=="symbol"?t:t+""}function Pne(e,t){if(uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(uf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sl={widthCache:{},cacheCount:0},One=2e3,Tne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CE="recharts_measurement_span";function _ne(e){var t=Bb({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Tu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ms.isSsr)return{width:0,height:0};var i=_ne(n),s=JSON.stringify({text:t,copyStyle:i});if(Sl.widthCache[s])return Sl.widthCache[s];try{var a=document.getElementById(CE);a||(a=document.createElement("span"),a.setAttribute("id",CE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Bb(Bb({},Tne),i);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Sl.widthCache[s]=c,++Sl.cacheCount>One&&(Sl.cacheCount=0,Sl.widthCache={}),c}catch{return{width:0,height:0}}},Ine=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function Ih(e,t){return Dne(e)||$ne(e,t)||Mne(e,t)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(e,t){if(e){if(typeof e=="string")return kE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(e,t)}}function kE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $ne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Dne(e){if(Array.isArray(e))return e}function Fne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,qne(i.key),i)}}function Lne(e,t,n){return t&&EE(e.prototype,t),n&&EE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qne(e){var t=zne(e,"string");return ff(t)=="symbol"?t:t+""}function zne(e,t){if(ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(ff(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Une=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vne=Object.keys(gM),Kl="NaN";function Wne(e,t){return e*gM[t]}var sm=function(){function e(t,n){Fne(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Bne.test(n)&&(this.num=NaN,this.unit=""),Vne.includes(n)&&(this.num=Wne(t,n),this.unit="px")}return Lne(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var i,s=(i=Une.exec(n))!==null&&i!==void 0?i:[],a=Ih(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function yM(e){if(e.includes(Kl))return Kl;for(var t=e;t.includes("*")||t.includes("/");){var n,i=(n=AE.exec(t))!==null&&n!==void 0?n:[],s=Ih(i,4),a=s[1],o=s[2],l=s[3],c=sm.parse(a??""),d=sm.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Kl;t=t.replace(AE,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=PE.exec(t))!==null&&f!==void 0?f:[],h=Ih(p,4),v=h[1],m=h[2],y=h[3],b=sm.parse(v??""),g=sm.parse(y??""),x=m==="+"?b.add(g):b.subtract(g);if(x.isNaN())return Kl;t=t.replace(PE,x.toString())}return t}var OE=/\(([^()]*)\)/;function Hne(e){for(var t=e;t.includes("(");){var n=OE.exec(t),i=Ih(n,2),s=i[1];t=t.replace(OE,yM(s))}return t}function Gne(e){var t=e.replace(/\s+/g,"");return t=Hne(t),t=yM(t),t}function Kne(e){try{return Gne(e)}catch{return Kl}}function jy(e){var t=Kne(e.slice(5,-1));return t===Kl?"":t}var Yne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Qne=["dx","dy","angle","className","breakAll"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ub.apply(this,arguments)}function TE(e,t){if(e==null)return{};var n=Xne(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Xne(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function _E(e,t){return tre(e)||ere(e,t)||Jne(e,t)||Zne()}function Zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jne(e,t){if(e){if(typeof e=="string")return IE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(e,t)}}function IE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ere(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function tre(e){if(Array.isArray(e))return e}var bM=/[ \f\n\r\t\v\u2028\u2029]+/,jM=function(t){var n=t.children,i=t.breakAll,s=t.style;try{var a=[];gt(n)||(i?a=n.toString().split(""):a=n.toString().split(bM));var o=a.map(function(c){return{word:c,width:Tu(c,s).width}}),l=i?0:Tu(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},nre=function(t,n,i,s,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=je(o),f=l,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function($,G){var z=G.word,H=G.width,D=$[$.length-1];if(D&&(s==null||a||D.width+H+i<Number(s)))D.words.push(z),D.width+=H+i;else{var U={words:[z],width:H};$.push(U)}return $},[])},h=p(n),v=function(F){return F.reduce(function($,G){return $.width>G.width?$:G})};if(!u)return h;for(var m="…",y=function(F){var $=f.slice(0,F),G=jM({breakAll:d,style:c,children:$+m}).wordsWithComputedWidth,z=p(G),H=z.length>o||v(z).width>Number(s);return[H,z]},b=0,g=f.length-1,x=0,N;b<=g&&x<=f.length-1;){var w=Math.floor((b+g)/2),k=w-1,E=y(k),S=_E(E,2),C=S[0],_=S[1],P=y(w),A=_E(P,1),O=A[0];if(!C&&!O&&(b=w+1),C&&O&&(g=w-1),!C&&O){N=_;break}x++}return N||h},RE=function(t){var n=gt(t)?[]:t.toString().split(bM);return[{words:n}]},rre=function(t){var n=t.width,i=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||i)&&!Ms.isSsr){var c,d,u=jM({breakAll:o,children:s,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;c=f,d=p}else return RE(s);return nre({breakAll:o,children:s,maxLines:l,style:a},c,d,n,i)}return RE(s)},ME="#808080",nl=function(t){var n=t.x,i=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,h=p===void 0?"start":p,v=t.verticalAnchor,m=v===void 0?"end":v,y=t.fill,b=y===void 0?ME:y,g=TE(t,Yne),x=j.useMemo(function(){return rre({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),N=g.dx,w=g.dy,k=g.angle,E=g.className,S=g.breakAll,C=TE(g,Qne);if(!Sn(i)||!Sn(a))return null;var _=i+(je(N)?N:0),P=a+(je(w)?w:0),A;switch(m){case"start":A=jy("calc(".concat(d,")"));break;case"middle":A=jy("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:A=jy("calc(".concat(x.length-1," * -").concat(l,")"));break}var O=[];if(f){var I=x[0].width,F=g.width;O.push("scale(".concat((je(F)?F/I:1)/I,")"))}return k&&O.push("rotate(".concat(k,", ").concat(_,", ").concat(P,")")),O.length&&(C.transform=O.join(" ")),L.createElement("text",Ub({},ot(C,!0),{x:_,y:P,className:xt("recharts-text",E),textAnchor:h,fill:b.includes("url")?ME:b}),x.map(function($,G){var z=$.words.join(S?"":" ");return L.createElement("tspan",{x:_,dy:G===0?A:l,key:"".concat(z,"-").concat(G)},z)}))};function La(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ire(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function n1(e){let t,n,i;e.length!==2?(t=La,n=(l,c)=>La(e(l),c),i=(l,c)=>e(l)-c):(t=e===La||e===ire?e:sre,n=e,i=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=s(l,c,d,u-1);return f>d&&i(l[f-1],c)>-i(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function sre(){return 0}function wM(e){return e===null?NaN:+e}function*are(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ore=n1(La),Sp=ore.right;n1(wM).center;class $E extends Map{constructor(t,n=dre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(DE(this,t))}has(t){return super.has(DE(this,t))}set(t,n){return super.set(lre(this,t),n)}delete(t){return super.delete(cre(this,t))}}function DE({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function lre({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function cre({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function dre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ure(e=La){if(e===La)return NM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function NM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fre=Math.sqrt(50),pre=Math.sqrt(10),mre=Math.sqrt(2);function Rh(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),a=i/Math.pow(10,s),o=a>=fre?10:a>=pre?5:a>=mre?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?Rh(e,t,n*2):[l,c,d]}function Vb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,a,o]=i?Rh(t,e,n):Rh(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(i)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function Wb(e,t,n){return t=+t,e=+e,n=+n,Rh(e,t,n)[2]}function Hb(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?Wb(t,e,n):Wb(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function FE(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function LE(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function SM(e,t,n=0,i=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(s=s===void 0?NM:ure(s);i>n;){if(i-n>600){const c=i-n+1,d=t-n+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(n,Math.floor(t-d*f/c+p)),v=Math.min(i,Math.floor(t+(c-d)*f/c+p));SM(e,t,h,v,s)}const a=e[t];let o=n,l=i;for(eu(e,n,t),s(e[i],a)>0&&eu(e,n,i);o<l;){for(eu(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[n],a)===0?eu(e,n,l):(++l,eu(e,l,i)),l<=t&&(n=l+1),t<=l&&(i=l-1)}return e}function eu(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function hre(e,t,n){if(e=Float64Array.from(are(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return LE(e);if(t>=1)return FE(e);var i,s=(i-1)*t,a=Math.floor(s),o=FE(SM(e,a).subarray(0,a+1)),l=LE(e.subarray(a+1));return o+(l-o)*(s-a)}}function xre(e,t,n=wM){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,s=(i-1)*t,a=Math.floor(s),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function vre(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++i<s;)a[i]=e+i*n;return a}function ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function na(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Gb=Symbol("implicit");function r1(){var e=new $E,t=[],n=[],i=Gb;function s(a){let o=e.get(a);if(o===void 0){if(i!==Gb)return i;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new $E;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return r1(t,n).unknown(i)},ci.apply(s,arguments),s}function pf(){var e=r1().unknown(void 0),t=e.domain,n=e.range,i=0,s=1,a,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,h=s<i,v=h?s:i,m=h?i:s;a=(m-v)/Math.max(1,p-c+d*2),l&&(a=Math.floor(a)),v+=(m-v-a*(p-c))*u,o=a*(1-c),l&&(v=Math.round(v),o=Math.round(o));var y=vre(p).map(function(b){return v+a*b});return n(h?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([i,s]=p,i=+i,s=+s,f()):[i,s]},e.rangeRound=function(p){return[i,s]=p,i=+i,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return pf(t(),[i,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},ci.apply(f(),arguments)}function CM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CM(t())},e}function _u(){return CM(pf.apply(null,arguments).paddingInner(1))}function i1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kM(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Cp(){}var mf=.7,Mh=1/mf,fc="\\s*([+-]?\\d+)\\s*",hf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gre=/^#([0-9a-f]{3,8})$/,yre=new RegExp(`^rgb\\(${fc},${fc},${fc}\\)$`),bre=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),jre=new RegExp(`^rgba\\(${fc},${fc},${fc},${hf}\\)$`),wre=new RegExp(`^rgba\\(${rs},${rs},${rs},${hf}\\)$`),Nre=new RegExp(`^hsl\\(${hf},${rs},${rs}\\)$`),Sre=new RegExp(`^hsla\\(${hf},${rs},${rs},${hf}\\)$`),qE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i1(Cp,xf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zE,formatHex:zE,formatHex8:Cre,formatHsl:kre,formatRgb:BE,toString:BE});function zE(){return this.rgb().formatHex()}function Cre(){return this.rgb().formatHex8()}function kre(){return EM(this).formatHsl()}function BE(){return this.rgb().formatRgb()}function xf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gre.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?UE(t):n===3?new gr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?am(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?am(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yre.exec(e))?new gr(t[1],t[2],t[3],1):(t=bre.exec(e))?new gr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jre.exec(e))?am(t[1],t[2],t[3],t[4]):(t=wre.exec(e))?am(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Nre.exec(e))?HE(t[1],t[2]/100,t[3]/100,1):(t=Sre.exec(e))?HE(t[1],t[2]/100,t[3]/100,t[4]):qE.hasOwnProperty(e)?UE(qE[e]):e==="transparent"?new gr(NaN,NaN,NaN,0):null}function UE(e){return new gr(e>>16&255,e>>8&255,e&255,1)}function am(e,t,n,i){return i<=0&&(e=t=n=NaN),new gr(e,t,n,i)}function Ere(e){return e instanceof Cp||(e=xf(e)),e?(e=e.rgb(),new gr(e.r,e.g,e.b,e.opacity)):new gr}function Kb(e,t,n,i){return arguments.length===1?Ere(e):new gr(e,t,n,i??1)}function gr(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}i1(gr,Kb,kM(Cp,{brighter(e){return e=e==null?Mh:Math.pow(Mh,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mf:Math.pow(mf,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gr(qo(this.r),qo(this.g),qo(this.b),$h(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VE,formatHex:VE,formatHex8:Are,formatRgb:WE,toString:WE}));function VE(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function Are(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function WE(){const e=$h(this.opacity);return`${e===1?"rgb(":"rgba("}${qo(this.r)}, ${qo(this.g)}, ${qo(this.b)}${e===1?")":`, ${e})`}`}function $h(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Co(e){return e=qo(e),(e<16?"0":"")+e.toString(16)}function HE(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ji(e,t,n,i)}function EM(e){if(e instanceof ji)return new ji(e.h,e.s,e.l,e.opacity);if(e instanceof Cp||(e=xf(e)),!e)return new ji;if(e instanceof ji)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new ji(o,l,c,e.opacity)}function Pre(e,t,n,i){return arguments.length===1?EM(e):new ji(e,t,n,i??1)}function ji(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}i1(ji,Pre,kM(Cp,{brighter(e){return e=e==null?Mh:Math.pow(Mh,e),new ji(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mf:Math.pow(mf,e),new ji(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new gr(wy(e>=240?e-240:e+120,s,i),wy(e,s,i),wy(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new ji(GE(this.h),om(this.s),om(this.l),$h(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$h(this.opacity);return`${e===1?"hsl(":"hsla("}${GE(this.h)}, ${om(this.s)*100}%, ${om(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GE(e){return e=(e||0)%360,e<0?e+360:e}function om(e){return Math.max(0,Math.min(1,e||0))}function wy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const s1=e=>()=>e;function Ore(e,t){return function(n){return e+n*t}}function Tre(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function _re(e){return(e=+e)==1?AM:function(t,n){return n-t?Tre(t,n,e):s1(isNaN(t)?n:t)}}function AM(e,t){var n=t-e;return n?Ore(e,n):s1(isNaN(e)?t:e)}const KE=function e(t){var n=_re(t);function i(s,a){var o=n((s=Kb(s)).r,(a=Kb(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),d=AM(s.opacity,a.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return i.gamma=e,i}(1);function Ire(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(a){for(s=0;s<n;++s)i[s]=e[s]*(1-a)+t[s]*a;return i}}function Rre(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Mre(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)s[o]=Md(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=s[o](l);return a}}function $re(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Dh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Dre(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Md(e[s],t[s]):i[s]=t[s];return function(a){for(s in n)i[s]=n[s](a);return i}}var Yb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ny=new RegExp(Yb.source,"g");function Fre(e){return function(){return e}}function Lre(e){return function(t){return e(t)+""}}function qre(e,t){var n=Yb.lastIndex=Ny.lastIndex=0,i,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(i=Yb.exec(e))&&(s=Ny.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Dh(i,s)})),n=Ny.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Lre(c[0].x):Fre(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Md(e,t){var n=typeof t,i;return t==null||n==="boolean"?s1(t):(n==="number"?Dh:n==="string"?(i=xf(t))?(t=i,KE):qre:t instanceof xf?KE:t instanceof Date?$re:Rre(t)?Ire:Array.isArray(t)?Mre:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dre:Dh)(e,t)}function a1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function zre(e,t){t===void 0&&(t=e,e=Md);for(var n=0,i=t.length-1,s=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[l](o-l)}}function Bre(e){return function(){return e}}function Fh(e){return+e}var YE=[0,1];function or(e){return e}function Qb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Bre(isNaN(t)?NaN:.5)}function Ure(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function Vre(e,t,n){var i=e[0],s=e[1],a=t[0],o=t[1];return s<i?(i=Qb(s,i),a=n(o,a)):(i=Qb(i,s),a=n(a,o)),function(l){return a(i(l))}}function Wre(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)s[o]=Qb(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Sp(e,l,1,i)-1;return a[c](s[c](l))}}function kp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zv(){var e=YE,t=YE,n=Md,i,s,a,o=or,l,c,d;function u(){var p=Math.min(e.length,t.length);return o!==or&&(o=Ure(e[0],e[p-1])),l=p>2?Wre:Vre,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?a:(c||(c=l(e.map(i),t,n)))(i(o(p)))}return f.invert=function(p){return o(s((d||(d=l(t,e.map(i),Dh)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Fh),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=a1,u()},f.clamp=function(p){return arguments.length?(o=p?!0:or,u()):o!==or},f.interpolate=function(p){return arguments.length?(n=p,u()):n},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return i=p,s=h,u()}}function o1(){return zv()(or,or)}function Hre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Yc(e){return e=Lh(Math.abs(e)),e?e[1]:NaN}function Gre(e,t){return function(n,i){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>i));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Kre(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Yre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vf(e){if(!(t=Yre.exec(e)))throw new Error("invalid format: "+e);var t;return new l1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vf.prototype=l1.prototype;function l1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}l1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qre(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var PM;function Xre(e,t){var n=Lh(e,t);if(!n)return e+"";var i=n[0],s=n[1],a=s-(PM=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Lh(e,Math.max(0,t+a-1))[0]}function QE(e,t){var n=Lh(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const XE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Hre,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>QE(e*100,t),r:QE,s:Xre,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZE(e){return e}var JE=Array.prototype.map,eA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zre(e){var t=e.grouping===void 0||e.thousands===void 0?ZE:Gre(JE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ZE:Kre(JE.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=vf(f);var p=f.fill,h=f.align,v=f.sign,m=f.symbol,y=f.zero,b=f.width,g=f.comma,x=f.precision,N=f.trim,w=f.type;w==="n"?(g=!0,w="g"):XE[w]||(x===void 0&&(x=12),N=!0,w="g"),(y||p==="0"&&h==="=")&&(y=!0,p="0",h="=");var k=m==="$"?n:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=m==="$"?i:/[%p]/.test(w)?o:"",S=XE[w],C=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function _(P){var A=k,O=E,I,F,$;if(w==="c")O=S(P)+O,P="";else{P=+P;var G=P<0||1/P<0;if(P=isNaN(P)?c:S(Math.abs(P),x),N&&(P=Qre(P)),G&&+P==0&&v!=="+"&&(G=!1),A=(G?v==="("?v:l:v==="-"||v==="("?"":v)+A,O=(w==="s"?eA[8+PM/3]:"")+O+(G&&v==="("?")":""),C){for(I=-1,F=P.length;++I<F;)if($=P.charCodeAt(I),48>$||$>57){O=($===46?s+P.slice(I+1):P.slice(I))+O,P=P.slice(0,I);break}}}g&&!y&&(P=t(P,1/0));var z=A.length+P.length+O.length,H=z<b?new Array(b-z+1).join(p):"";switch(g&&y&&(P=t(H+P,H.length?b-O.length:1/0),H=""),h){case"<":P=A+P+O+H;break;case"=":P=A+H+P+O;break;case"^":P=H.slice(0,z=H.length>>1)+A+P+O+H.slice(z);break;default:P=H+A+P+O;break}return a(P)}return _.toString=function(){return f+""},_}function u(f,p){var h=d((f=vf(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Yc(p)/3)))*3,m=Math.pow(10,-v),y=eA[8+v/3];return function(b){return h(m*b)+y}}return{format:d,formatPrefix:u}}var lm,c1,OM;Jre({thousands:",",grouping:[3],currency:["$",""]});function Jre(e){return lm=Zre(e),c1=lm.format,OM=lm.formatPrefix,lm}function eie(e){return Math.max(0,-Yc(Math.abs(e)))}function tie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yc(t)/3)))*3-Yc(Math.abs(e)))}function nie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yc(t)-Yc(e))+1}function TM(e,t,n,i){var s=Hb(e,t,n),a;switch(i=vf(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=tie(s,o))&&(i.precision=a),OM(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=nie(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=eie(s))&&(i.precision=a-(i.type==="%")*2);break}}return c1(i)}function no(e){var t=e.domain;return e.ticks=function(n){var i=t();return Vb(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var s=t();return TM(s[0],s[s.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,a=i.length-1,o=i[s],l=i[a],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=a,a=d);u-- >0;){if(d=Wb(o,l,n),d===c)return i[s]=o,i[a]=l,t(i);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function qh(){var e=o1();return e.copy=function(){return kp(e,qh())},ci.apply(e,arguments),no(e)}function _M(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,Fh),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return _M(e).unknown(t)},e=arguments.length?Array.from(e,Fh):[0,1],no(n)}function IM(e,t){e=e.slice();var n=0,i=e.length-1,s=e[n],a=e[i],o;return a<s&&(o=n,n=i,i=o,o=s,s=a,a=o),e[n]=t.floor(s),e[i]=t.ceil(a),e}function tA(e){return Math.log(e)}function nA(e){return Math.exp(e)}function rie(e){return-Math.log(-e)}function iie(e){return-Math.exp(-e)}function sie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function aie(e){return e===10?sie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rA(e){return(t,n)=>-e(-t,n)}function d1(e){const t=e(tA,nA),n=t.domain;let i=10,s,a;function o(){return s=oie(i),a=aie(i),n()[0]<0?(s=rA(s),a=rA(a),e(rie,iie)):e(tA,nA),t}return t.base=function(l){return arguments.length?(i=+l,o()):i},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=s(d),h=s(u),v,m;const y=l==null?10:+l;let b=[];if(!(i%1)&&h-p<y){if(p=Math.floor(p),h=Math.ceil(h),d>0){for(;p<=h;++p)for(v=1;v<i;++v)if(m=p<0?v/a(-p):v*a(p),!(m<d)){if(m>u)break;b.push(m)}}else for(;p<=h;++p)for(v=i-1;v>=1;--v)if(m=p>0?v/a(-p):v*a(p),!(m<d)){if(m>u)break;b.push(m)}b.length*2<y&&(b=Vb(d,u,y))}else b=Vb(p,h,Math.min(h-p,y)).map(a);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=vf(c)).precision==null&&(c.trim=!0),c=c1(c)),l===1/0)return c;const d=Math.max(1,i*l/t.ticks().length);return u=>{let f=u/a(Math.round(s(u)));return f*i<i-.5&&(f*=i),f<=d?c(u):""}},t.nice=()=>n(IM(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function RM(){const e=d1(zv()).domain([1,10]);return e.copy=()=>kp(e,RM()).base(e.base()),ci.apply(e,arguments),e}function iA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u1(e){var t=1,n=e(iA(t),sA(t));return n.constant=function(i){return arguments.length?e(iA(t=+i),sA(t)):t},no(n)}function MM(){var e=u1(zv());return e.copy=function(){return kp(e,MM()).constant(e.constant())},ci.apply(e,arguments)}function aA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cie(e){return e<0?-e*e:e*e}function f1(e){var t=e(or,or),n=1;function i(){return n===1?e(or,or):n===.5?e(lie,cie):e(aA(n),aA(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,i()):n},no(t)}function p1(){var e=f1(zv());return e.copy=function(){return kp(e,p1()).exponent(e.exponent())},ci.apply(e,arguments),e}function die(){return p1.apply(null,arguments).exponent(.5)}function oA(e){return Math.sign(e)*e*e}function uie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $M(){var e=o1(),t=[0,1],n=!1,i;function s(a){var o=uie(e(a));return isNaN(o)?i:n?Math.round(o):o}return s.invert=function(a){return e.invert(oA(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,Fh)).map(oA)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return $M(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},ci.apply(s,arguments),no(s)}function DM(){var e=[],t=[],n=[],i;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=xre(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?i:t[Sp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(La),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return DM().domain(e).range(t).unknown(i)},ci.apply(a,arguments)}function FM(){var e=0,t=1,n=1,i=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[Sp(i,c,0,n)]:a}function l(){var c=-1;for(i=new Array(n);++c<n;)i[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,i[0]]:d>=n?[i[n-1],t]:[i[d-1],i[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return i.slice()},o.copy=function(){return FM().domain([e,t]).range(s).unknown(a)},ci.apply(no(o),arguments)}function LM(){var e=[.5],t=[0,1],n,i=1;function s(a){return a!=null&&a<=a?t[Sp(e,a,0,i)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),i=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),i=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return LM().domain(e).range(t).unknown(n)},ci.apply(s,arguments)}const Sy=new Date,Cy=new Date;function Cn(e,t,n,i){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},s.filter=a=>Cn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(s.count=(a,o)=>(Sy.setTime(+a),Cy.setTime(+o),e(Sy),e(Cy),Math.floor(n(Sy,Cy))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(i?o=>i(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const zh=Cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):zh);zh.range;const Ps=1e3,ei=Ps*60,Os=ei*60,Ks=Os*24,m1=Ks*7,lA=Ks*30,ky=Ks*365,ko=Cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ps)},(e,t)=>(t-e)/Ps,e=>e.getUTCSeconds());ko.range;const h1=Cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ps)},(e,t)=>{e.setTime(+e+t*ei)},(e,t)=>(t-e)/ei,e=>e.getMinutes());h1.range;const x1=Cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ei)},(e,t)=>(t-e)/ei,e=>e.getUTCMinutes());x1.range;const v1=Cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ps-e.getMinutes()*ei)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getHours());v1.range;const g1=Cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCHours());g1.range;const Ep=Cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ei)/Ks,e=>e.getDate()-1);Ep.range;const Bv=Cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ks,e=>e.getUTCDate()-1);Bv.range;const qM=Cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ks,e=>Math.floor(e/Ks));qM.range;function xl(e){return Cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ei)/m1)}const Uv=xl(0),Bh=xl(1),fie=xl(2),pie=xl(3),Qc=xl(4),mie=xl(5),hie=xl(6);Uv.range;Bh.range;fie.range;pie.range;Qc.range;mie.range;hie.range;function vl(e){return Cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/m1)}const Vv=vl(0),Uh=vl(1),xie=vl(2),vie=vl(3),Xc=vl(4),gie=vl(5),yie=vl(6);Vv.range;Uh.range;xie.range;vie.range;Xc.range;gie.range;yie.range;const y1=Cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());y1.range;const b1=Cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());b1.range;const Ys=Cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ys.range;const Qs=Cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Qs.range;function zM(e,t,n,i,s,a){const o=[[ko,1,Ps],[ko,5,5*Ps],[ko,15,15*Ps],[ko,30,30*Ps],[a,1,ei],[a,5,5*ei],[a,15,15*ei],[a,30,30*ei],[s,1,Os],[s,3,3*Os],[s,6,6*Os],[s,12,12*Os],[i,1,Ks],[i,2,2*Ks],[n,1,m1],[t,1,lA],[t,3,3*lA],[e,1,ky]];function l(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),v=h?h.range(d,+u+1):[];return p?v.reverse():v}function c(d,u,f){const p=Math.abs(u-d)/f,h=n1(([,,y])=>y).right(o,p);if(h===o.length)return e.every(Hb(d/ky,u/ky,f));if(h===0)return zh.every(Math.max(Hb(d,u,f),1));const[v,m]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return v.every(m)}return[l,c]}const[bie,jie]=zM(Qs,b1,Vv,qM,g1,x1),[wie,Nie]=zM(Ys,y1,Uv,Ep,v1,h1);function Ey(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ay(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Sie(e){var t=e.dateTime,n=e.date,i=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=nu(s),u=ru(s),f=nu(a),p=ru(a),h=nu(o),v=ru(o),m=nu(l),y=ru(l),b=nu(c),g=ru(c),x={a:G,A:z,b:H,B:D,c:null,d:mA,e:mA,f:Gie,g:rse,G:sse,H:Vie,I:Wie,j:Hie,L:BM,m:Kie,M:Yie,p:U,q:R,Q:vA,s:gA,S:Qie,u:Xie,U:Zie,V:Jie,w:ese,W:tse,x:null,X:null,y:nse,Y:ise,Z:ase,"%":xA},N={a:se,A:ge,b:te,B:we,c:null,d:hA,e:hA,f:dse,g:bse,G:wse,H:ose,I:lse,j:cse,L:VM,m:use,M:fse,p:me,q:Se,Q:vA,s:gA,S:pse,u:mse,U:hse,V:xse,w:vse,W:gse,x:null,X:null,y:yse,Y:jse,Z:Nse,"%":xA},w={a:_,A:P,b:A,B:O,c:I,d:fA,e:fA,f:qie,g:uA,G:dA,H:pA,I:pA,j:$ie,L:Lie,m:Mie,M:Die,p:C,q:Rie,Q:Bie,s:Uie,S:Fie,u:Pie,U:Oie,V:Tie,w:Aie,W:_ie,x:F,X:$,y:uA,Y:dA,Z:Iie,"%":zie};x.x=k(n,x),x.X=k(i,x),x.c=k(t,x),N.x=k(n,N),N.X=k(i,N),N.c=k(t,N);function k(le,xe){return function(ye){var B=[],ce=-1,de=0,Pe=le.length,Ce,Xe,st;for(ye instanceof Date||(ye=new Date(+ye));++ce<Pe;)le.charCodeAt(ce)===37&&(B.push(le.slice(de,ce)),(Xe=cA[Ce=le.charAt(++ce)])!=null?Ce=le.charAt(++ce):Xe=Ce==="e"?" ":"0",(st=xe[Ce])&&(Ce=st(ye,Xe)),B.push(Ce),de=ce+1);return B.push(le.slice(de,ce)),B.join("")}}function E(le,xe){return function(ye){var B=tu(1900,void 0,1),ce=S(B,le,ye+="",0),de,Pe;if(ce!=ye.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(xe&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(de=Ay(tu(B.y,0,1)),Pe=de.getUTCDay(),de=Pe>4||Pe===0?Uh.ceil(de):Uh(de),de=Bv.offset(de,(B.V-1)*7),B.y=de.getUTCFullYear(),B.m=de.getUTCMonth(),B.d=de.getUTCDate()+(B.w+6)%7):(de=Ey(tu(B.y,0,1)),Pe=de.getDay(),de=Pe>4||Pe===0?Bh.ceil(de):Bh(de),de=Ep.offset(de,(B.V-1)*7),B.y=de.getFullYear(),B.m=de.getMonth(),B.d=de.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Pe="Z"in B?Ay(tu(B.y,0,1)).getUTCDay():Ey(tu(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Pe+5)%7:B.w+B.U*7-(Pe+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Ay(B)):Ey(B)}}function S(le,xe,ye,B){for(var ce=0,de=xe.length,Pe=ye.length,Ce,Xe;ce<de;){if(B>=Pe)return-1;if(Ce=xe.charCodeAt(ce++),Ce===37){if(Ce=xe.charAt(ce++),Xe=w[Ce in cA?xe.charAt(ce++):Ce],!Xe||(B=Xe(le,ye,B))<0)return-1}else if(Ce!=ye.charCodeAt(B++))return-1}return B}function C(le,xe,ye){var B=d.exec(xe.slice(ye));return B?(le.p=u.get(B[0].toLowerCase()),ye+B[0].length):-1}function _(le,xe,ye){var B=h.exec(xe.slice(ye));return B?(le.w=v.get(B[0].toLowerCase()),ye+B[0].length):-1}function P(le,xe,ye){var B=f.exec(xe.slice(ye));return B?(le.w=p.get(B[0].toLowerCase()),ye+B[0].length):-1}function A(le,xe,ye){var B=b.exec(xe.slice(ye));return B?(le.m=g.get(B[0].toLowerCase()),ye+B[0].length):-1}function O(le,xe,ye){var B=m.exec(xe.slice(ye));return B?(le.m=y.get(B[0].toLowerCase()),ye+B[0].length):-1}function I(le,xe,ye){return S(le,t,xe,ye)}function F(le,xe,ye){return S(le,n,xe,ye)}function $(le,xe,ye){return S(le,i,xe,ye)}function G(le){return o[le.getDay()]}function z(le){return a[le.getDay()]}function H(le){return c[le.getMonth()]}function D(le){return l[le.getMonth()]}function U(le){return s[+(le.getHours()>=12)]}function R(le){return 1+~~(le.getMonth()/3)}function se(le){return o[le.getUTCDay()]}function ge(le){return a[le.getUTCDay()]}function te(le){return c[le.getUTCMonth()]}function we(le){return l[le.getUTCMonth()]}function me(le){return s[+(le.getUTCHours()>=12)]}function Se(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var xe=k(le+="",x);return xe.toString=function(){return le},xe},parse:function(le){var xe=E(le+="",!1);return xe.toString=function(){return le},xe},utcFormat:function(le){var xe=k(le+="",N);return xe.toString=function(){return le},xe},utcParse:function(le){var xe=E(le+="",!0);return xe.toString=function(){return le},xe}}}var cA={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,Cie=/^%/,kie=/[\\^$*+?|[\]().{}]/g;function kt(e,t,n){var i=e<0?"-":"",s=(i?-e:e)+"",a=s.length;return i+(a<n?new Array(n-a+1).join(t)+s:s)}function Eie(e){return e.replace(kie,"\\$&")}function nu(e){return new RegExp("^(?:"+e.map(Eie).join("|")+")","i")}function ru(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Aie(e,t,n){var i=_n.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Pie(e,t,n){var i=_n.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function Oie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function Tie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function _ie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function dA(e,t,n){var i=_n.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function uA(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Iie(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Rie(e,t,n){var i=_n.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function Mie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function fA(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function $ie(e,t,n){var i=_n.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function pA(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Die(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Fie(e,t,n){var i=_n.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Lie(e,t,n){var i=_n.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function qie(e,t,n){var i=_n.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function zie(e,t,n){var i=Cie.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Bie(e,t,n){var i=_n.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function Uie(e,t,n){var i=_n.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function mA(e,t){return kt(e.getDate(),t,2)}function Vie(e,t){return kt(e.getHours(),t,2)}function Wie(e,t){return kt(e.getHours()%12||12,t,2)}function Hie(e,t){return kt(1+Ep.count(Ys(e),e),t,3)}function BM(e,t){return kt(e.getMilliseconds(),t,3)}function Gie(e,t){return BM(e,t)+"000"}function Kie(e,t){return kt(e.getMonth()+1,t,2)}function Yie(e,t){return kt(e.getMinutes(),t,2)}function Qie(e,t){return kt(e.getSeconds(),t,2)}function Xie(e){var t=e.getDay();return t===0?7:t}function Zie(e,t){return kt(Uv.count(Ys(e)-1,e),t,2)}function UM(e){var t=e.getDay();return t>=4||t===0?Qc(e):Qc.ceil(e)}function Jie(e,t){return e=UM(e),kt(Qc.count(Ys(e),e)+(Ys(e).getDay()===4),t,2)}function ese(e){return e.getDay()}function tse(e,t){return kt(Bh.count(Ys(e)-1,e),t,2)}function nse(e,t){return kt(e.getFullYear()%100,t,2)}function rse(e,t){return e=UM(e),kt(e.getFullYear()%100,t,2)}function ise(e,t){return kt(e.getFullYear()%1e4,t,4)}function sse(e,t){var n=e.getDay();return e=n>=4||n===0?Qc(e):Qc.ceil(e),kt(e.getFullYear()%1e4,t,4)}function ase(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function hA(e,t){return kt(e.getUTCDate(),t,2)}function ose(e,t){return kt(e.getUTCHours(),t,2)}function lse(e,t){return kt(e.getUTCHours()%12||12,t,2)}function cse(e,t){return kt(1+Bv.count(Qs(e),e),t,3)}function VM(e,t){return kt(e.getUTCMilliseconds(),t,3)}function dse(e,t){return VM(e,t)+"000"}function use(e,t){return kt(e.getUTCMonth()+1,t,2)}function fse(e,t){return kt(e.getUTCMinutes(),t,2)}function pse(e,t){return kt(e.getUTCSeconds(),t,2)}function mse(e){var t=e.getUTCDay();return t===0?7:t}function hse(e,t){return kt(Vv.count(Qs(e)-1,e),t,2)}function WM(e){var t=e.getUTCDay();return t>=4||t===0?Xc(e):Xc.ceil(e)}function xse(e,t){return e=WM(e),kt(Xc.count(Qs(e),e)+(Qs(e).getUTCDay()===4),t,2)}function vse(e){return e.getUTCDay()}function gse(e,t){return kt(Uh.count(Qs(e)-1,e),t,2)}function yse(e,t){return kt(e.getUTCFullYear()%100,t,2)}function bse(e,t){return e=WM(e),kt(e.getUTCFullYear()%100,t,2)}function jse(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function wse(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Xc(e):Xc.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function Nse(){return"+0000"}function xA(){return"%"}function vA(e){return+e}function gA(e){return Math.floor(+e/1e3)}var Cl,HM,GM;Sse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Sse(e){return Cl=Sie(e),HM=Cl.format,Cl.parse,GM=Cl.utcFormat,Cl.utcParse,Cl}function Cse(e){return new Date(e)}function kse(e){return e instanceof Date?+e:+new Date(+e)}function j1(e,t,n,i,s,a,o,l,c,d){var u=o1(),f=u.invert,p=u.domain,h=d(".%L"),v=d(":%S"),m=d("%I:%M"),y=d("%I %p"),b=d("%a %d"),g=d("%b %d"),x=d("%B"),N=d("%Y");function w(k){return(c(k)<k?h:l(k)<k?v:o(k)<k?m:a(k)<k?y:i(k)<k?s(k)<k?b:g:n(k)<k?x:N)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?p(Array.from(k,kse)):p().map(Cse)},u.ticks=function(k){var E=p();return e(E[0],E[E.length-1],k??10)},u.tickFormat=function(k,E){return E==null?w:d(E)},u.nice=function(k){var E=p();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?p(IM(E,k)):u},u.copy=function(){return kp(u,j1(e,t,n,i,s,a,o,l,c,d))},u}function Ese(){return ci.apply(j1(wie,Nie,Ys,y1,Uv,Ep,v1,h1,ko,HM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ase(){return ci.apply(j1(bie,jie,Qs,b1,Vv,Bv,g1,x1,ko,GM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wv(){var e=0,t=1,n,i,s,a,o=or,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),i=a(t=+t),s=n===i?0:1/(i-n),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(p){var h,v;return arguments.length?([h,v]=p,o=f(h,v),d):[o(0),o(1)]}}return d.range=u(Md),d.rangeRound=u(a1),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return a=f,n=f(e),i=f(t),s=n===i?0:1/(i-n),d}}function ro(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KM(){var e=no(Wv()(or));return e.copy=function(){return ro(e,KM())},na.apply(e,arguments)}function YM(){var e=d1(Wv()).domain([1,10]);return e.copy=function(){return ro(e,YM()).base(e.base())},na.apply(e,arguments)}function QM(){var e=u1(Wv());return e.copy=function(){return ro(e,QM()).constant(e.constant())},na.apply(e,arguments)}function w1(){var e=f1(Wv());return e.copy=function(){return ro(e,w1()).exponent(e.exponent())},na.apply(e,arguments)}function Pse(){return w1.apply(null,arguments).exponent(.5)}function XM(){var e=[],t=or;function n(i){if(i!=null&&!isNaN(i=+i))return t((Sp(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(La),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,s)=>t(s/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(s,a)=>hre(e,a/i))},n.copy=function(){return XM(t).domain(e)},na.apply(n,arguments)}function Hv(){var e=0,t=.5,n=1,i=1,s,a,o,l,c,d=or,u,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+u(m))-a)*(i*m<i*a?l:c),d(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,s=u(e=+e),a=u(t=+t),o=u(n=+n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),i=a<s?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(d=m,h):d};function v(m){return function(y){var b,g,x;return arguments.length?([b,g,x]=y,d=zre(m,[b,g,x]),h):[d(0),d(.5),d(1)]}}return h.range=v(Md),h.rangeRound=v(a1),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return u=m,s=m(e),a=m(t),o=m(n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),i=a<s?-1:1,h}}function ZM(){var e=no(Hv()(or));return e.copy=function(){return ro(e,ZM())},na.apply(e,arguments)}function JM(){var e=d1(Hv()).domain([.1,1,10]);return e.copy=function(){return ro(e,JM()).base(e.base())},na.apply(e,arguments)}function e$(){var e=u1(Hv());return e.copy=function(){return ro(e,e$()).constant(e.constant())},na.apply(e,arguments)}function N1(){var e=f1(Hv());return e.copy=function(){return ro(e,N1()).exponent(e.exponent())},na.apply(e,arguments)}function Ose(){return N1.apply(null,arguments).exponent(.5)}const yA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pf,scaleDiverging:ZM,scaleDivergingLog:JM,scaleDivergingPow:N1,scaleDivergingSqrt:Ose,scaleDivergingSymlog:e$,scaleIdentity:_M,scaleImplicit:Gb,scaleLinear:qh,scaleLog:RM,scaleOrdinal:r1,scalePoint:_u,scalePow:p1,scaleQuantile:DM,scaleQuantize:FM,scaleRadial:$M,scaleSequential:KM,scaleSequentialLog:YM,scaleSequentialPow:w1,scaleSequentialQuantile:XM,scaleSequentialSqrt:Pse,scaleSequentialSymlog:QM,scaleSqrt:die,scaleSymlog:MM,scaleThreshold:LM,scaleTime:Ese,scaleUtc:Ase,tickFormat:TM},Symbol.toStringTag,{value:"Module"}));var Tse=Ed;function _se(e,t,n){for(var i=-1,s=e.length;++i<s;){var a=e[i],o=t(a);if(o!=null&&(l===void 0?o===o&&!Tse(o):n(o,l)))var l=o,c=a}return c}var Gv=_se;function Ise(e,t){return e>t}var t$=Ise,Rse=Gv,Mse=t$,$se=Rd;function Dse(e){return e&&e.length?Rse(e,$se,Mse):void 0}var Fse=Dse;const Kv=Pt(Fse);function Lse(e,t){return e<t}var n$=Lse,qse=Gv,zse=n$,Bse=Rd;function Use(e){return e&&e.length?qse(e,Bse,zse):void 0}var Vse=Use;const Yv=Pt(Vse);var Wse=DN,Hse=hs,Gse=dM,Kse=Sr;function Yse(e,t){var n=Kse(e)?Wse:Gse;return n(e,Hse(t))}var Qse=Yse,Xse=lM,Zse=Qse;function Jse(e,t){return Xse(Zse(e,t),1)}var eae=Jse;const tae=Pt(eae);var nae=ZN;function rae(e,t){return nae(e,t)}var iae=rae;const Qv=Pt(iae);var $d=1e9,sae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},C1,Xt=!0,si="[DecimalError] ",zo=si+"Invalid argument: ",S1=si+"Exponent out of range: ",Dd=Math.floor,vo=Math.pow,aae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tr,En=1e7,Ht=7,r$=9007199254740991,Vh=Dd(r$/Ht),ze={};ze.absoluteValue=ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ze.comparedTo=ze.cmp=function(e){var t,n,i,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(i=a.d.length,s=e.d.length,t=0,n=i<s?i:s;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return i===s?0:i>s^a.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ht;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ze.dividedBy=ze.div=function(e){return $s(this,new this.constructor(e))};ze.dividedToIntegerBy=ze.idiv=function(e){var t=this,n=t.constructor;return Ft($s(t,new n(e),0,1),n.precision)};ze.equals=ze.eq=function(e){return!this.cmp(e)};ze.exponent=function(){return gn(this)};ze.greaterThan=ze.gt=function(e){return this.cmp(e)>0};ze.greaterThanOrEqualTo=ze.gte=function(e){return this.cmp(e)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(e){return this.cmp(e)<0};ze.lessThanOrEqualTo=ze.lte=function(e){return this.cmp(e)<1};ze.logarithm=ze.log=function(e){var t,n=this,i=n.constructor,s=i.precision,a=s+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(Tr))throw Error(si+"NaN");if(n.s<1)throw Error(si+(n.s?"NaN":"-Infinity"));return n.eq(Tr)?new i(0):(Xt=!1,t=$s(gf(n,a),gf(e,a),a),Xt=!0,Ft(t,s))};ze.minus=ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?a$(t,e):i$(t,(e.s=-e.s,e))};ze.modulo=ze.mod=function(e){var t,n=this,i=n.constructor,s=i.precision;if(e=new i(e),!e.s)throw Error(si+"NaN");return n.s?(Xt=!1,t=$s(n,e,0,1).times(e),Xt=!0,n.minus(t)):Ft(new i(n),s)};ze.naturalExponential=ze.exp=function(){return s$(this)};ze.naturalLogarithm=ze.ln=function(){return gf(this)};ze.negated=ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ze.plus=ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?i$(t,e):a$(t,(e.s=-e.s,e))};ze.precision=ze.sd=function(e){var t,n,i,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zo+e);if(t=gn(s)+1,i=s.d.length-1,n=i*Ht+1,i=s.d[i],i){for(;i%10==0;i/=10)n--;for(i=s.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};ze.squareRoot=ze.sqrt=function(){var e,t,n,i,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(si+"NaN")}for(e=gn(l),Xt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Xi(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Dd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new c(t)):i=new c(s.toString()),n=c.precision,s=o=n+3;;)if(a=i,i=a.plus($s(l,a,o+2)).times(.5),Xi(a.d).slice(0,o)===(t=Xi(i.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ft(a,n+1,0),a.times(a).eq(l)){i=a;break}}else if(t!="9999")break;o+=4}return Xt=!0,Ft(i,n)};ze.times=ze.mul=function(e){var t,n,i,s,a,o,l,c,d,u=this,f=u.constructor,p=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,c=p.length,d=h.length,c<d&&(a=p,p=h,h=a,o=c,c=d,d=o),a=[],o=c+d,i=o;i--;)a.push(0);for(i=d;--i>=0;){for(t=0,s=c+i;s>i;)l=a[s]+h[i]*p[s-i-1]+t,a[s--]=l%En|0,t=l/En|0;a[s]=(a[s]+t)%En|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Xt?Ft(e,f.precision):e};ze.toDecimalPlaces=ze.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(ds(e,0,$d),t===void 0?t=i.rounding:ds(t,0,8),Ft(n,e+gn(n)+1,t))};ze.toExponential=function(e,t){var n,i=this,s=i.constructor;return e===void 0?n=rl(i,!0):(ds(e,0,$d),t===void 0?t=s.rounding:ds(t,0,8),i=Ft(new s(i),e+1,t),n=rl(i,!0,e+1)),n};ze.toFixed=function(e,t){var n,i,s=this,a=s.constructor;return e===void 0?rl(s):(ds(e,0,$d),t===void 0?t=a.rounding:ds(t,0,8),i=Ft(new a(s),e+gn(s)+1,t),n=rl(i.abs(),!1,e+gn(i)+1),s.isneg()&&!s.isZero()?"-"+n:n)};ze.toInteger=ze.toint=function(){var e=this,t=e.constructor;return Ft(new t(e),gn(e)+1,t.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(e){var t,n,i,s,a,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Tr);if(l=new c(l),!l.s){if(e.s<1)throw Error(si+"Infinity");return l}if(l.eq(Tr))return l;if(i=c.precision,e.eq(Tr))return Ft(l,i);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=u<0?-u:u)<=r$){for(s=new c(Tr),t=Math.ceil(i/Ht+4),Xt=!1;n%2&&(s=s.times(l),jA(s.d,t)),n=Dd(n/2),n!==0;)l=l.times(l),jA(l.d,t);return Xt=!0,e.s<0?new c(Tr).div(s):Ft(s,i)}}else if(a<0)throw Error(si+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Xt=!1,s=e.times(gf(l,i+d)),Xt=!0,s=s$(s),s.s=a,s};ze.toPrecision=function(e,t){var n,i,s=this,a=s.constructor;return e===void 0?(n=gn(s),i=rl(s,n<=a.toExpNeg||n>=a.toExpPos)):(ds(e,1,$d),t===void 0?t=a.rounding:ds(t,0,8),s=Ft(new a(s),e,t),n=gn(s),i=rl(s,e<=n||n<=a.toExpNeg,e)),i};ze.toSignificantDigits=ze.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(ds(e,1,$d),t===void 0?t=i.rounding:ds(t,0,8)),Ft(new i(n),e,t)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gn(e),n=e.constructor;return rl(e,t<=n.toExpNeg||t>=n.toExpPos)};function i$(e,t){var n,i,s,a,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Xt?Ft(t,f):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(i=c,a=-a,l=d.length):(i=d,s=o,l=c.length),o=Math.ceil(f/Ht),l=o>l?o+1:l+1,a>l&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,i=d,d=c,c=i),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/En|0,c[a]%=En;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Xt?Ft(t,f):t}function ds(e,t,n){if(e!==~~e||e<t||e>n)throw Error(zo+e)}function Xi(e){var t,n,i,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)i=e[t]+"",n=Ht-i.length,n&&(a+=ma(n)),a+=i;o=e[t],i=o+"",n=Ht-i.length,n&&(a+=ma(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var $s=function(){function e(i,s){var a,o=0,l=i.length;for(i=i.slice();l--;)a=i[l]*s+o,i[l]=a%En|0,o=a/En|0;return o&&i.unshift(o),i}function t(i,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(i[l]!=s[l]){c=i[l]>s[l]?1:-1;break}return c}function n(i,s,a){for(var o=0;a--;)i[a]-=o,o=i[a]<s[a]?1:0,i[a]=o*En+i[a]-s[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,s,a,o){var l,c,d,u,f,p,h,v,m,y,b,g,x,N,w,k,E,S,C=i.constructor,_=i.s==s.s?1:-1,P=i.d,A=s.d;if(!i.s)return new C(i);if(!s.s)throw Error(si+"Division by zero");for(c=i.e-s.e,E=A.length,w=P.length,h=new C(_),v=h.d=[],d=0;A[d]==(P[d]||0);)++d;if(A[d]>(P[d]||0)&&--c,a==null?g=a=C.precision:o?g=a+(gn(i)-gn(s))+1:g=a,g<0)return new C(0);if(g=g/Ht+2|0,d=0,E==1)for(u=0,A=A[0],g++;(d<w||u)&&g--;d++)x=u*En+(P[d]||0),v[d]=x/A|0,u=x%A|0;else{for(u=En/(A[0]+1)|0,u>1&&(A=e(A,u),P=e(P,u),E=A.length,w=P.length),N=E,m=P.slice(0,E),y=m.length;y<E;)m[y++]=0;S=A.slice(),S.unshift(0),k=A[0],A[1]>=En/2&&++k;do u=0,l=t(A,m,E,y),l<0?(b=m[0],E!=y&&(b=b*En+(m[1]||0)),u=b/k|0,u>1?(u>=En&&(u=En-1),f=e(A,u),p=f.length,y=m.length,l=t(f,m,p,y),l==1&&(u--,n(f,E<p?S:A,p))):(u==0&&(l=u=1),f=A.slice()),p=f.length,p<y&&f.unshift(0),n(m,f,y),l==-1&&(y=m.length,l=t(A,m,E,y),l<1&&(u++,n(m,E<y?S:A,y))),y=m.length):l===0&&(u++,m=[0]),v[d++]=u,l&&m[0]?m[y++]=P[N]||0:(m=[P[N]],y=1);while((N++<w||m[0]!==void 0)&&g--)}return v[0]||v.shift(),h.e=c,Ft(h,o?a+gn(h)+1:a)}}();function s$(e,t){var n,i,s,a,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(gn(e)>16)throw Error(S1+gn(e));if(!e.s)return new u(Tr);for(t==null?(Xt=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(i=Math.log(vo(2,d))/Math.LN10*2+5|0,l+=i,n=s=a=new u(Tr),u.precision=l;;){if(s=Ft(s.times(e),l),n=n.times(++c),o=a.plus($s(s,n,l)),Xi(o.d).slice(0,l)===Xi(a.d).slice(0,l)){for(;d--;)a=Ft(a.times(a),l);return u.precision=f,t==null?(Xt=!0,Ft(a,f)):a}a=o}}function gn(e){for(var t=e.e*Ht,n=e.d[0];n>=10;n/=10)t++;return t}function Py(e,t,n){if(t>e.LN10.sd())throw Xt=!0,n&&(e.precision=n),Error(si+"LN10 precision limit exceeded");return Ft(new e(e.LN10),t)}function ma(e){for(var t="";e--;)t+="0";return t}function gf(e,t){var n,i,s,a,o,l,c,d,u,f=1,p=10,h=e,v=h.d,m=h.constructor,y=m.precision;if(h.s<1)throw Error(si+(h.s?"NaN":"-Infinity"));if(h.eq(Tr))return new m(0);if(t==null?(Xt=!1,d=y):d=t,h.eq(10))return t==null&&(Xt=!0),Py(m,d);if(d+=p,m.precision=d,n=Xi(v),i=n.charAt(0),a=gn(h),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)h=h.times(e),n=Xi(h.d),i=n.charAt(0),f++;a=gn(h),i>1?(h=new m("0."+n),a++):h=new m(i+"."+n.slice(1))}else return c=Py(m,d+2,y).times(a+""),h=gf(new m(i+"."+n.slice(1)),d-p).plus(c),m.precision=y,t==null?(Xt=!0,Ft(h,y)):h;for(l=o=h=$s(h.minus(Tr),h.plus(Tr),d),u=Ft(h.times(h),d),s=3;;){if(o=Ft(o.times(u),d),c=l.plus($s(o,new m(s),d)),Xi(c.d).slice(0,d)===Xi(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(Py(m,d+2,y).times(a+""))),l=$s(l,new m(f),d),m.precision=y,t==null?(Xt=!0,Ft(l,y)):l;l=c,s+=2}}function bA(e,t){var n,i,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(i,s),t){if(s-=i,n=n-i-1,e.e=Dd(n/Ht),e.d=[],i=(n+1)%Ht,n<0&&(i+=Ht),i<s){for(i&&e.d.push(+t.slice(0,i)),s-=Ht;i<s;)e.d.push(+t.slice(i,i+=Ht));t=t.slice(i),i=Ht-t.length}else i-=s;for(;i--;)t+="0";if(e.d.push(+t),Xt&&(e.e>Vh||e.e<-Vh))throw Error(S1+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ft(e,t,n){var i,s,a,o,l,c,d,u,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(i=t-o,i<0)i+=Ht,s=t,d=f[u=0];else{if(u=Math.ceil((i+1)/Ht),a=f.length,u>=a)return e;for(d=a=f[u],o=1;a>=10;a/=10)o++;i%=Ht,s=i-Ht+o}if(n!==void 0&&(a=vo(10,o-s-1),l=d/a%10|0,c=t<0||f[u+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(i>0?s>0?d/vo(10,o-s):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=gn(e),f.length=1,t=t-a-1,f[0]=vo(10,(Ht-t%Ht)%Ht),e.e=Dd(-t/Ht)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(i==0?(f.length=u,a=1,u--):(f.length=u+1,a=vo(10,Ht-i),f[u]=s>0?(d/vo(10,o-s)%vo(10,s)|0)*a:0),c)for(;;)if(u==0){(f[0]+=a)==En&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=En)break;f[u--]=0,a=1}for(i=f.length;f[--i]===0;)f.pop();if(Xt&&(e.e>Vh||e.e<-Vh))throw Error(S1+gn(e));return e}function a$(e,t){var n,i,s,a,o,l,c,d,u,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Xt?Ft(t,h):t;if(c=e.d,f=t.d,i=t.e,d=e.e,c=c.slice(),o=d-i,o){for(u=o<0,u?(n=c,o=-o,l=f.length):(n=f,i=d,l=c.length),s=Math.max(Math.ceil(h/Ht),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){u=c[s]<f[s];break}o=0}for(u&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=En-1;--c[a],c[s]+=En}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(t.d=c,t.e=i,Xt?Ft(t,h):t):new p(0)}function rl(e,t,n){var i,s=gn(e),a=Xi(e.d),o=a.length;return t?(n&&(i=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ma(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+ma(-s-1)+a,n&&(i=n-o)>0&&(a+=ma(i))):s>=o?(a+=ma(s+1-o),n&&(i=n-s-1)>0&&(a=a+"."+ma(i))):((i=s+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-o)>0&&(s+1===o&&(a+="."),a+=ma(i))),e.s<0?"-"+a:a}function jA(e,t){if(e.length>t)return e.length=t,!0}function o$(e){var t,n,i;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return bA(o,a.toString())}else if(typeof a!="string")throw Error(zo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,aae.test(a))bA(o,a);else throw Error(zo+a)}if(s.prototype=ze,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=o$,s.config=s.set=oae,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return s.config(e),s}function oae(e){if(!e||typeof e!="object")throw Error(si+"Object expected");var t,n,i,s=["precision",1,$d,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((i=e[n=s[t]])!==void 0)if(Dd(i)===i&&i>=s[t+1]&&i<=s[t+2])this[n]=i;else throw Error(zo+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(zo+n+": "+i);return this}var C1=o$(sae);Tr=new C1(1);const $t=C1;function lae(e){return fae(e)||uae(e)||dae(e)||cae()}function cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dae(e,t){if(e){if(typeof e=="string")return Xb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xb(e,t)}}function uae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fae(e){if(Array.isArray(e))return Xb(e)}function Xb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pae=function(t){return t},l$={"@@functional/placeholder":!0},c$=function(t){return t===l$},wA=function(t){return function n(){return arguments.length===0||arguments.length===1&&c$(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},mae=function e(t,n){return t===1?n:wA(function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==l$}).length;return o>=t?n.apply(void 0,s):e(t-o,wA(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(f){return c$(f)?c.shift():f});return n.apply(void 0,lae(u).concat(c))}))})},Xv=function(t){return mae(t.length,t)},Zb=function(t,n){for(var i=[],s=t;s<n;++s)i[s-t]=s;return i},hae=Xv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),xae=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return pae;var s=n.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Jb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},d$=function(t){var n=null,i=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,i=t.apply(void 0,a)),i}};function vae(e){var t;return e===0?t=1:t=Math.floor(new $t(e).abs().log(10).toNumber())+1,t}function gae(e,t,n){for(var i=new $t(e),s=0,a=[];i.lt(t)&&s<1e5;)a.push(i.toNumber()),i=i.add(n),s++;return a}var yae=Xv(function(e,t,n){var i=+e,s=+t;return i+n*(s-i)}),bae=Xv(function(e,t,n){var i=t-+e;return i=i||1/0,(n-e)/i}),jae=Xv(function(e,t,n){var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});const Zv={rangeStep:gae,getDigitCount:vae,interpolateNumber:yae,uninterpolateNumber:bae,uninterpolateTruncation:jae};function ej(e){return Sae(e)||Nae(e)||u$(e)||wae()}function wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Sae(e){if(Array.isArray(e))return tj(e)}function yf(e,t){return Eae(e)||kae(e,t)||u$(e,t)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$(e,t){if(e){if(typeof e=="string")return tj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tj(e,t)}}function tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function kae(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],i=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(i=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&o.return!=null&&o.return()}finally{if(s)throw a}}return n}}function Eae(e){if(Array.isArray(e))return e}function f$(e){var t=yf(e,2),n=t[0],i=t[1],s=n,a=i;return n>i&&(s=i,a=n),[s,a]}function p$(e,t,n){if(e.lte(0))return new $t(0);var i=Zv.getDigitCount(e.toNumber()),s=new $t(10).pow(i),a=e.div(s),o=i!==1?.05:.1,l=new $t(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new $t(Math.ceil(c))}function Aae(e,t,n){var i=1,s=new $t(e);if(!s.isint()&&n){var a=Math.abs(e);a<1?(i=new $t(10).pow(Zv.getDigitCount(e)-1),s=new $t(Math.floor(s.div(i).toNumber())).mul(i)):a>1&&(s=new $t(Math.floor(e)))}else e===0?s=new $t(Math.floor((t-1)/2)):n||(s=new $t(Math.floor(e)));var o=Math.floor((t-1)/2),l=xae(hae(function(c){return s.add(new $t(c-o).mul(i)).toNumber()}),Zb);return l(0,t)}function m$(e,t,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var a=p$(new $t(t).sub(e).div(n-1),i,s),o;e<=0&&t>=0?o=new $t(0):(o=new $t(e).add(t).div(2),o=o.sub(new $t(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new $t(t).sub(o).div(a).toNumber()),d=l+c+1;return d>n?m$(e,t,n,i,s+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:a,tickMin:o.sub(new $t(l).mul(a)),tickMax:o.add(new $t(c).mul(a))})}function Pae(e){var t=yf(e,2),n=t[0],i=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=f$([n,i]),c=yf(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(ej(Zb(0,s-1).map(function(){return 1/0}))):[].concat(ej(Zb(0,s-1).map(function(){return-1/0})),[u]);return n>i?Jb(f):f}if(d===u)return Aae(d,s,a);var p=m$(d,u,o,a),h=p.step,v=p.tickMin,m=p.tickMax,y=Zv.rangeStep(v,m.add(new $t(.1).mul(h)),h);return n>i?Jb(y):y}function Oae(e,t){var n=yf(e,2),i=n[0],s=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=f$([i,s]),l=yf(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[i,s];if(c===d)return[c];var u=Math.max(t,2),f=p$(new $t(d).sub(c).div(u-1),a,0),p=[].concat(ej(Zv.rangeStep(new $t(c),new $t(d).sub(new $t(.99).mul(f)),f)),[d]);return i>s?Jb(p):p}var Tae=d$(Pae),_ae=d$(Oae),Iae="Invariant failed";function il(e,t){throw new Error(Iae)}var Rae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wh.apply(this,arguments)}function Mae(e,t){return Lae(e)||Fae(e,t)||Dae(e,t)||$ae()}function $ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dae(e,t){if(e){if(typeof e=="string")return NA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NA(e,t)}}function NA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Fae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Lae(e){if(Array.isArray(e))return e}function qae(e,t){if(e==null)return{};var n=zae(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function zae(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Bae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,v$(i.key),i)}}function Vae(e,t,n){return t&&Uae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wae(e,t,n){return t=Hh(t),Hae(e,h$()?Reflect.construct(t,n||[],Hh(e).constructor):t.apply(e,n))}function Hae(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gae(e)}function Gae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!e})()}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(e)}function Kae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nj(e,t)}function nj(e,t){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},nj(e,t)}function x$(e,t,n){return t=v$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v$(e){var t=Yae(e,"string");return Zc(t)=="symbol"?t:t+""}function Yae(e,t){if(Zc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Zc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jv=function(e){function t(){return Bae(this,t),Wae(this,t,arguments)}return Kae(t,e),Vae(t,[{key:"render",value:function(){var i=this.props,s=i.offset,a=i.layout,o=i.width,l=i.dataKey,c=i.data,d=i.dataPointFormatter,u=i.xAxis,f=i.yAxis,p=qae(i,Rae),h=ot(p,!1);this.props.direction==="x"&&u.type!=="number"&&il();var v=c.map(function(m){var y=d(m,l),b=y.x,g=y.y,x=y.value,N=y.errorVal;if(!N)return null;var w=[],k,E;if(Array.isArray(N)){var S=Mae(N,2);k=S[0],E=S[1]}else k=E=N;if(a==="vertical"){var C=u.scale,_=g+s,P=_+o,A=_-o,O=C(x-k),I=C(x+E);w.push({x1:I,y1:P,x2:I,y2:A}),w.push({x1:O,y1:_,x2:I,y2:_}),w.push({x1:O,y1:P,x2:O,y2:A})}else if(a==="horizontal"){var F=f.scale,$=b+s,G=$-o,z=$+o,H=F(x-k),D=F(x+E);w.push({x1:G,y1:D,x2:z,y2:D}),w.push({x1:$,y1:H,x2:$,y2:D}),w.push({x1:G,y1:H,x2:z,y2:H})}return L.createElement(It,Wh({className:"recharts-errorBar",key:"bar-".concat(w.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},h),w.map(function(U){return L.createElement("line",Wh({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return L.createElement(It,{className:"recharts-errorBars"},v)}}])}(L.Component);x$(Jv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});x$(Jv,"displayName","ErrorBar");function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(i){Qae(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Qae(e,t,n){return t=Xae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xae(e){var t=Zae(e,"string");return bf(t)=="symbol"?t:t+""}function Zae(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(bf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g$=function(t){var n=t.children,i=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=Ar(n,uc);if(!o)return null;var l=uc.defaultProps,c=l!==void 0?co(co({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(i||[]).reduce(function(u,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return u.concat(v.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):d=(i||[]).map(function(u){var f=u.item,p=f.type.defaultProps,h=p!==void 0?co(co({},p),f.props):{},v=h.dataKey,m=h.name,y=h.legendType,b=h.hide;return{inactive:b,dataKey:v,type:c.iconType||y||"square",color:k1(f),value:m||v,payload:h}}),co(co(co({},c),uc.getWithHeight(o,s)),{},{payload:d,item:o})};function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function CA(e){return noe(e)||toe(e)||eoe(e)||Jae()}function Jae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eoe(e,t){if(e){if(typeof e=="string")return rj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rj(e,t)}}function toe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function noe(e){if(Array.isArray(e))return rj(e)}function rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(n),!0).forEach(function(i){pc(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function pc(e,t,n){return t=roe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function roe(e){var t=ioe(e,"string");return jf(t)=="symbol"?t:t+""}function ioe(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(jf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hn(e,t,n){return gt(e)||gt(t)?n:Sn(t)?Dr(e,t,n):ct(t)?t(e):n}function Iu(e,t,n,i){var s=tae(e,function(l){return Hn(l,t)});if(n==="number"){var a=s.filter(function(l){return je(l)||parseFloat(l)});return a.length?[Yv(a),Kv(a)]:[1/0,-1/0]}var o=i?s.filter(function(l){return!gt(l)}):s;return o.map(function(l){return Sn(l)||l instanceof Date?l:""})}var soe=function(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=i==null?void 0:i.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,f=s[d].coordinate,p=d>=l-1?s[0].coordinate:s[d+1].coordinate,h=void 0;if(sr(f-u)!==sr(p-f)){var v=[];if(sr(p-f)===sr(c[1]-c[0])){h=p;var m=f+c[1]-c[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{h=u;var y=p+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){o=s[d].index;break}}else{var g=Math.min(u,p),x=Math.max(u,p);if(t>(g+f)/2&&t<=(x+f)/2){o=s[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(i[N].coordinate+i[N+1].coordinate)/2||N>0&&N<l-1&&t>(i[N].coordinate+i[N-1].coordinate)/2&&t<=(i[N].coordinate+i[N+1].coordinate)/2||N===l-1&&t>(i[N].coordinate+i[N-1].coordinate)/2){o=i[N].index;break}return o},k1=function(t){var n,i=t,s=i.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ln(ln({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},aoe=function(t){var n=t.barSize,i=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var u=a[l[c]].stackGroups,f=Object.keys(u),p=0,h=f.length;p<h;p++){var v=u[f[p]],m=v.items,y=v.cateAxisId,b=m.filter(function(E){return Rs(E.type).indexOf("Bar")>=0});if(b&&b.length){var g=b[0].type.defaultProps,x=g!==void 0?ln(ln({},g),b[0].props):b[0].props,N=x.barSize,w=x[y];o[w]||(o[w]=[]);var k=gt(N)?n:N;o[w].push({item:b[0],stackList:b.slice(1),barSize:gt(k)?void 0:ar(k,i,0)})}}return o},ooe=function(t){var n=t.barGap,i=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=ar(n,s,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=s/c,v=o.reduce(function(N,w){return N+w.barSize||0},0);v+=(c-1)*d,v>=s&&(v-=(c-1)*d,d=0),v>=s&&h>0&&(p=!0,h*=.9,v=c*h);var m=(s-v)/2>>0,y={offset:m-d,size:0};u=o.reduce(function(N,w){var k={item:w.item,position:{offset:y.offset+y.size+d,size:p?h:w.barSize}},E=[].concat(CA(N),[k]);return y=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){E.push({item:S,position:y})}),E},f)}else{var b=ar(i,s,0,!0);s-2*b-(c-1)*d<=0&&(d=0);var g=(s-2*b-(c-1)*d)/c;g>1&&(g>>=0);var x=l===+l?Math.min(g,l):g;u=o.reduce(function(N,w,k){var E=[].concat(CA(N),[{item:w.item,position:{offset:b+(g+d)*k+(g-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return u},loe=function(t,n,i,s){var a=i.children,o=i.width,l=i.margin,c=o-(l.left||0)-(l.right||0),d=g$({children:a,legendWidth:c});if(d){var u=s||{},f=u.width,p=u.height,h=d.align,v=d.verticalAlign,m=d.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&h!=="center"&&je(t[h]))return ln(ln({},t),{},pc({},h,t[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&v!=="middle"&&je(t[v]))return ln(ln({},t),{},pc({},v,t[v]+(p||0)))}return t},coe=function(t,n,i){return gt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||i==="x"?n==="xAxis":i==="y"?n==="yAxis":!0},y$=function(t,n,i,s,a){var o=n.props.children,l=ni(o,Jv).filter(function(d){return coe(s,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Hn(u,i);if(gt(f))return d;var p=Array.isArray(f)?[Yv(f),Kv(f)]:[f,f],h=c.reduce(function(v,m){var y=Hn(u,m,0),b=p[0]-Math.abs(Array.isArray(y)?y[0]:y),g=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,v[0]),Math.max(g,v[1])]},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0])}return null},doe=function(t,n,i,s,a){var o=n.map(function(l){return y$(t,l,i,a,s)}).filter(function(l){return!gt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},b$=function(t,n,i,s,a){var o=n.map(function(c){var d=c.props.dataKey;return i==="number"&&d&&y$(t,c,d,s)||Iu(t,d,i,a)});if(i==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},j$=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},w$=function(t,n,i,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===i&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(i),l},Ts=function(t,n,i){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||i)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?sr(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:s(p)+d,value:f,offset:d}});return u.filter(function(f){return!jp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:s(f)+d,value:f,index:p,offset:d}}):s.ticks&&!i?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+d,value:f,offset:d}}):s.domain().map(function(f,p){return{coordinate:s(f)+d,value:a?a[f]:f,index:p,offset:d}})},Oy=new WeakMap,cm=function(t,n){if(typeof n!="function")return t;Oy.has(t)||Oy.set(t,new WeakMap);var i=Oy.get(t);if(i.has(n))return i.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return i.set(n,s),s},N$=function(t,n,i){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:pf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:qh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!i)?{scale:_u(),realScaleType:"point"}:a==="category"?{scale:pf(),realScaleType:"band"}:{scale:qh(),realScaleType:"linear"};if(bp(s)){var c="scale".concat(Iv(s));return{scale:(yA[c]||_u)(),realScaleType:yA[c]?c:"point"}}return ct(s)?{scale:s}:{scale:_u(),realScaleType:"point"}},EA=1e-4,S$=function(t){var n=t.domain();if(!(!n||n.length<=2)){var i=n.length,s=t.range(),a=Math.min(s[0],s[1])-EA,o=Math.max(s[0],s[1])+EA,l=t(n[0]),c=t(n[i-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[i-1]])}},uoe=function(t,n){if(!t)return null;for(var i=0,s=t.length;i<s;i++)if(t[i].item===n)return t[i].position;return null},foe=function(t,n){if(!n||n.length!==2||!je(n[0])||!je(n[1]))return t;var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!je(t[0])||t[0]<i)&&(a[0]=i),(!je(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<i&&(a[1]=i),a},poe=function(t){var n=t.length;if(!(n<=0))for(var i=0,s=t[0].length;i<s;++i)for(var a=0,o=0,l=0;l<n;++l){var c=jp(t[l][i][1])?t[l][i][0]:t[l][i][1];c>=0?(t[l][i][0]=a,t[l][i][1]=a+c,a=t[l][i][1]):(t[l][i][0]=o,t[l][i][1]=o+c,o=t[l][i][1])}},moe=function(t){var n=t.length;if(!(n<=0))for(var i=0,s=t[0].length;i<s;++i)for(var a=0,o=0;o<n;++o){var l=jp(t[o][i][1])?t[o][i][0]:t[o][i][1];l>=0?(t[o][i][0]=a,t[o][i][1]=a+l,a=t[o][i][1]):(t[o][i][0]=0,t[o][i][1]=0)}},hoe={sign:poe,expand:RG,none:Vc,silhouette:MG,wiggle:$G,positive:moe},xoe=function(t,n,i){var s=n.map(function(l){return l.props.dataKey}),a=hoe[i],o=IG().keys(s).value(function(l,c){return+Hn(l,c,0)}).order(Ab).offset(a);return o(t)},voe=function(t,n,i,s,a,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?ln(ln({},p.type.defaultProps),p.props):p.props,m=v.stackId,y=v.hide;if(y)return f;var b=v[i],g=f[b]||{hasStack:!1,stackGroups:{}};if(Sn(m)){var x=g.stackGroups[m]||{numericAxisId:i,cateAxisId:s,items:[]};x.items.push(p),g.hasStack=!0,g.stackGroups[m]=x}else g.stackGroups[wp("_stackId_")]={numericAxisId:i,cateAxisId:s,items:[p]};return ln(ln({},f),{},pc({},b,g))},c),u={};return Object.keys(d).reduce(function(f,p){var h=d[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,y){var b=h.stackGroups[y];return ln(ln({},m),{},pc({},y,{numericAxisId:i,cateAxisId:s,items:b.items,stackedData:xoe(t,b.items,a)}))},v)}return ln(ln({},f),{},pc({},p,h))},u)},C$=function(t,n){var i=n.realScaleType,s=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=i||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=Tae(d,a,l);return t.domain([Yv(u),Kv(u)]),{niceTicks:u}}if(a&&s==="number"){var f=t.domain(),p=_ae(f,a,l);return{niceTicks:p}}return null},AA=function(t){var n=t.axis,i=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return i[l]?i[l].coordinate+s:null;var c=Hn(o,n.dataKey,n.domain[l]);return gt(c)?null:n.scale(c)-a/2+s},goe=function(t){var n=t.numericAxis,i=n.scale.domain();if(n.type==="number"){var s=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);return s<=0&&a>=0?0:a<0?a:s}return i[0]},yoe=function(t,n){var i,s=(i=t.type)!==null&&i!==void 0&&i.defaultProps?ln(ln({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Sn(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},boe=function(t){return t.reduce(function(n,i){return[Yv(i.concat([n[0]]).filter(je)),Kv(i.concat([n[1]]).filter(je))]},[1/0,-1/0])},k$=function(t,n,i){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,u){var f=boe(u.slice(n,i+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},PA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ij=function(t,n,i){if(ct(t))return t(n,i);if(!Array.isArray(t))return n;var s=[];if(je(t[0]))s[0]=i?t[0]:Math.min(t[0],n[0]);else if(PA.test(t[0])){var a=+PA.exec(t[0])[1];s[0]=n[0]-a}else ct(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(je(t[1]))s[1]=i?t[1]:Math.max(t[1],n[1]);else if(OA.test(t[1])){var o=+OA.exec(t[1])[1];s[1]=n[1]+o}else ct(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Gh=function(t,n,i){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!i||s>0)return s}if(t&&n&&n.length>=2){for(var a=e1(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],u=a[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return i?void 0:0},TA=function(t,n,i){return!t||!t.length||Qv(t,Dr(i,"type.defaultProps.domain"))?n:t},E$=function(t,n){var i=t.type.defaultProps?ln(ln({},t.type.defaultProps),t.props):t.props,s=i.dataKey,a=i.name,o=i.unit,l=i.formatter,c=i.tooltipType,d=i.chartType,u=i.hide;return ln(ln({},ot(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:k1(t),value:Hn(n,s),type:c,payload:n,chartType:d,hide:u})};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(i){A$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function A$(e,t,n){return t=joe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function joe(e){var t=woe(e,"string");return wf(t)=="symbol"?t:t+""}function woe(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(wf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Noe(e,t){return Eoe(e)||koe(e,t)||Coe(e,t)||Soe()}function Soe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Coe(e,t){if(e){if(typeof e=="string")return IA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(e,t)}}function IA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function koe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Eoe(e){if(Array.isArray(e))return e}var Kh=Math.PI/180,Aoe=function(t){return t*180/Math.PI},Bt=function(t,n,i,s){return{x:t+Math.cos(-Kh*s)*i,y:n+Math.sin(-Kh*s)*i}},P$=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},Poe=function(t,n,i,s,a){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=ar(t.cx,o,o/2),f=ar(t.cy,l,l/2),p=P$(o,l,i),h=ar(t.innerRadius,p,0),v=ar(t.outerRadius,p,p*.8),m=Object.keys(n);return m.reduce(function(y,b){var g=n[b],x=g.domain,N=g.reversed,w;if(gt(g.range))s==="angleAxis"?w=[c,d]:s==="radiusAxis"&&(w=[h,v]),N&&(w=[w[1],w[0]]);else{w=g.range;var k=w,E=Noe(k,2);c=E[0],d=E[1]}var S=N$(g,a),C=S.realScaleType,_=S.scale;_.domain(x).range(w),S$(_);var P=C$(_,Ns(Ns({},g),{},{realScaleType:C})),A=Ns(Ns(Ns({},g),P),{},{range:w,radius:v,realScaleType:C,scale:_,cx:u,cy:f,innerRadius:h,outerRadius:v,startAngle:c,endAngle:d});return Ns(Ns({},y),{},A$({},b,A))},{})},Ooe=function(t,n){var i=t.x,s=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(i-a,2)+Math.pow(s-o,2))},Toe=function(t,n){var i=t.x,s=t.y,a=n.cx,o=n.cy,l=Ooe({x:i,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(i-a)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:Aoe(d),angleInRadian:d}},_oe=function(t){var n=t.startAngle,i=t.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return{startAngle:n-o*360,endAngle:i-o*360}},Ioe=function(t,n){var i=n.startAngle,s=n.endAngle,a=Math.floor(i/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},RA=function(t,n){var i=t.x,s=t.y,a=Toe({x:i,y:s},n),o=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=_oe(n),f=u.startAngle,p=u.endAngle,h=l,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?Ns(Ns({},n),{},{radius:o,angle:Ioe(h,n)}):null},O$=function(t){return!j.isValidElement(t)&&!ct(t)&&typeof t!="boolean"?t.className:""};function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}var Roe=["offset"];function Moe(e){return Loe(e)||Foe(e)||Doe(e)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Doe(e,t){if(e){if(typeof e=="string")return sj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sj(e,t)}}function Foe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Loe(e){if(Array.isArray(e))return sj(e)}function sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qoe(e,t){if(e==null)return{};var n=zoe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function zoe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(i){Boe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Boe(e,t,n){return t=Uoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uoe(e){var t=Voe(e,"string");return Nf(t)=="symbol"?t:t+""}function Voe(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Nf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sf.apply(this,arguments)}var Woe=function(t){var n=t.value,i=t.formatter,s=gt(t.children)?n:t.children;return ct(i)?i(s):s},Hoe=function(t,n){var i=sr(n-t),s=Math.min(Math.abs(n-t),360);return i*s},Goe=function(t,n,i){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,u=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,v=c.endAngle,m=c.clockWise,y=(f+p)/2,b=Hoe(h,v),g=b>=0?1:-1,x,N;s==="insideStart"?(x=h+g*o,N=m):s==="insideEnd"?(x=v-g*o,N=!m):s==="end"&&(x=v+g*o,N=m),N=b<=0?N:!N;var w=Bt(d,u,y,x),k=Bt(d,u,y,x+(N?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),S=gt(t.id)?wp("recharts-radial-line-"):t.id;return L.createElement("text",Sf({},i,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:S,d:E})),L.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Koe=function(t){var n=t.viewBox,i=t.offset,s=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(s==="outside"){var h=Bt(o,l,d+i,p),v=h.x,m=h.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,b=Bt(o,l,y,p),g=b.x,x=b.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Yoe=function(t){var n=t.viewBox,i=t.parentViewBox,s=t.offset,a=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,p=f*s,h=f>0?"end":"start",v=f>0?"start":"end",m=d>=0?1:-1,y=m*s,b=m>0?"end":"start",g=m>0?"start":"end";if(a==="top"){var x={x:l+d/2,y:c-f*s,textAnchor:"middle",verticalAnchor:h};return yn(yn({},x),i?{height:Math.max(c-i.y,0),width:d}:{})}if(a==="bottom"){var N={x:l+d/2,y:c+u+p,textAnchor:"middle",verticalAnchor:v};return yn(yn({},N),i?{height:Math.max(i.y+i.height-(c+u),0),width:d}:{})}if(a==="left"){var w={x:l-y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return yn(yn({},w),i?{width:Math.max(w.x-i.x,0),height:u}:{})}if(a==="right"){var k={x:l+d+y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"};return yn(yn({},k),i?{width:Math.max(i.x+i.width-k.x,0),height:u}:{})}var E=i?{width:d,height:u}:{};return a==="insideLeft"?yn({x:l+y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"},E):a==="insideRight"?yn({x:l+d-y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideTop"?yn({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?yn({x:l+d/2,y:c+u-p,textAnchor:"middle",verticalAnchor:h},E):a==="insideTopLeft"?yn({x:l+y,y:c+p,textAnchor:g,verticalAnchor:v},E):a==="insideTopRight"?yn({x:l+d-y,y:c+p,textAnchor:b,verticalAnchor:v},E):a==="insideBottomLeft"?yn({x:l+y,y:c+u-p,textAnchor:g,verticalAnchor:h},E):a==="insideBottomRight"?yn({x:l+d-y,y:c+u-p,textAnchor:b,verticalAnchor:h},E):Ad(a)&&(je(a.x)||So(a.x))&&(je(a.y)||So(a.y))?yn({x:l+ar(a.x,d),y:c+ar(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):yn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Qoe=function(t){return"cx"in t&&je(t.cx)};function Pn(e){var t=e.offset,n=t===void 0?5:t,i=qoe(e,Roe),s=yn({offset:n},i),a=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,f=u===void 0?"":u,p=s.textBreakAll;if(!a||gt(l)&&gt(c)&&!j.isValidElement(d)&&!ct(d))return null;if(j.isValidElement(d))return j.cloneElement(d,s);var h;if(ct(d)){if(h=j.createElement(d,s),j.isValidElement(h))return h}else h=Woe(s);var v=Qoe(a),m=ot(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Goe(s,h,m);var y=v?Koe(s):Yoe(s);return L.createElement(nl,Sf({className:xt("recharts-label",f)},m,y,{breakAll:p}),h)}Pn.displayName="Label";var T$=function(t){var n=t.cx,i=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,h=t.top,v=t.left,m=t.width,y=t.height,b=t.clockWise,g=t.labelViewBox;if(g)return g;if(je(m)&&je(y)){if(je(f)&&je(p))return{x:f,y:p,width:m,height:y};if(je(h)&&je(v))return{x:h,y:v,width:m,height:y}}return je(f)&&je(p)?{x:f,y:p,width:0,height:0}:je(n)&&je(i)?{cx:n,cy:i,startAngle:a||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},Xoe=function(t,n){return t?t===!0?L.createElement(Pn,{key:"label-implicit",viewBox:n}):Sn(t)?L.createElement(Pn,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===Pn?j.cloneElement(t,{key:"label-implicit",viewBox:n}):L.createElement(Pn,{key:"label-implicit",content:t,viewBox:n}):ct(t)?L.createElement(Pn,{key:"label-implicit",content:t,viewBox:n}):Ad(t)?L.createElement(Pn,Sf({viewBox:n},t,{key:"label-implicit"})):null:null},Zoe=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&i&&!t.label)return null;var s=t.children,a=T$(t),o=ni(s,Pn).map(function(c,d){return j.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!i)return o;var l=Xoe(t.label,n||a);return[l].concat(Moe(o))};Pn.parseViewBox=T$;Pn.renderCallByParent=Zoe;function Joe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ele=Joe;const tle=Pt(ele);function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}var nle=["valueAccessor"],rle=["data","dataKey","clockWise","id","textBreakAll"];function ile(e){return lle(e)||ole(e)||ale(e)||sle()}function sle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(e,t){if(e){if(typeof e=="string")return aj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aj(e,t)}}function ole(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lle(e){if(Array.isArray(e))return aj(e)}function aj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yh.apply(this,arguments)}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function DA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(i){cle(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cle(e,t,n){return t=dle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dle(e){var t=ule(e,"string");return Cf(t)=="symbol"?t:t+""}function ule(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Cf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FA(e,t){if(e==null)return{};var n=fle(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function fle(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var ple=function(t){return Array.isArray(t.value)?tle(t.value):t.value};function qa(e){var t=e.valueAccessor,n=t===void 0?ple:t,i=FA(e,nle),s=i.data,a=i.dataKey,o=i.clockWise,l=i.id,c=i.textBreakAll,d=FA(i,rle);return!s||!s.length?null:L.createElement(It,{className:"recharts-label-list"},s.map(function(u,f){var p=gt(a)?n(u,f):Hn(u&&u.payload,a),h=gt(l)?{}:{id:"".concat(l,"-").concat(f)};return L.createElement(Pn,Yh({},ot(u,!0),d,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:Pn.parseViewBox(gt(o)?u:DA(DA({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}qa.displayName="LabelList";function mle(e,t){return e?e===!0?L.createElement(qa,{key:"labelList-implicit",data:t}):L.isValidElement(e)||ct(e)?L.createElement(qa,{key:"labelList-implicit",data:t,content:e}):Ad(e)?L.createElement(qa,Yh({data:t},e,{key:"labelList-implicit"})):null:null}function hle(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=ni(i,qa).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var a=mle(e.label,t);return[a].concat(ile(s))}qa.renderCallByParent=hle;function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function oj(){return oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oj.apply(this,arguments)}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function qA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(i){xle(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xle(e,t,n){return t=vle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vle(e){var t=gle(e,"string");return kf(t)=="symbol"?t:t+""}function gle(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(kf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yle=function(t,n){var i=sr(n-t),s=Math.min(Math.abs(n-t),359.999);return i*s},dm=function(t){var n=t.cx,i=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+s,f=Math.asin(c/u)/Kh,p=d?a:a+o*f,h=Bt(n,i,u,p),v=Bt(n,i,s,p),m=d?a-o*f:a,y=Bt(n,i,u*Math.cos(f*Kh),m);return{center:h,circleTangency:v,lineTangency:y,theta:f}},_$=function(t){var n=t.cx,i=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=yle(o,l),d=o+c,u=Bt(n,i,a,o),f=Bt(n,i,a,d),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var h=Bt(n,i,s,o),v=Bt(n,i,s,d);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(n,",").concat(i," Z");return p},ble=function(t){var n=t.cx,i=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=sr(u-d),p=dm({cx:n,cy:i,radius:a,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),h=p.circleTangency,v=p.lineTangency,m=p.theta,y=dm({cx:n,cy:i,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,g=y.lineTangency,x=y.theta,N=c?Math.abs(d-u):Math.abs(d-u)-m-x;if(N<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_$({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:u});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(s>0){var k=dm({cx:n,cy:i,radius:s,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=k.circleTangency,S=k.lineTangency,C=k.theta,_=dm({cx:n,cy:i,radius:s,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=_.circleTangency,A=_.lineTangency,O=_.theta,I=c?Math.abs(d-u):Math.abs(d-u)-C-O;if(I<0&&o===0)return"".concat(w,"L").concat(n,",").concat(i,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else w+="L".concat(n,",").concat(i,"Z");return w},jle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},I$=function(t){var n=qA(qA({},jle),t),i=n.cx,s=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,p=n.className;if(o<a||u===f)return null;var h=xt("recharts-sector",p),v=o-a,m=ar(l,v,0,!0),y;return m>0&&Math.abs(u-f)<360?y=ble({cx:i,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):y=_$({cx:i,cy:s,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),L.createElement("path",oj({},ot(n,!0),{className:h,d:y,role:"img"}))};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lj.apply(this,arguments)}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(i){wle(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wle(e,t,n){return t=Nle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nle(e){var t=Sle(e,"string");return Ef(t)=="symbol"?t:t+""}function Sle(e,t){if(Ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Ef(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UA={curveBasisClosed:wG,curveBasisOpen:NG,curveBasis:jG,curveBumpX:oG,curveBumpY:lG,curveLinearClosed:SG,curveLinear:Mv,curveMonotoneX:CG,curveMonotoneY:kG,curveNatural:EG,curveStep:AG,curveStepAfter:OG,curveStepBefore:PG},um=function(t){return t.x===+t.x&&t.y===+t.y},iu=function(t){return t.x},su=function(t){return t.y},Cle=function(t,n){if(ct(t))return t;var i="curve".concat(Iv(t));return(i==="curveMonotone"||i==="curveBump")&&n?UA["".concat(i).concat(n==="vertical"?"Y":"X")]:UA[i]||Mv},kle=function(t){var n=t.type,i=n===void 0?"linear":n,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=Cle(i,l),f=d?a.filter(function(m){return um(m)}):a,p;if(Array.isArray(o)){var h=d?o.filter(function(m){return um(m)}):o,v=f.map(function(m,y){return BA(BA({},m),{},{base:h[y]})});return l==="vertical"?p=tm().y(su).x1(iu).x0(function(m){return m.base.x}):p=tm().x(iu).y1(su).y0(function(m){return m.base.y}),p.defined(um).curve(u),p(v)}return l==="vertical"&&je(o)?p=tm().y(su).x1(iu).x0(o):je(o)?p=tm().x(iu).y1(su).y0(o):p=E4().x(iu).y(su),p.defined(um).curve(u),p(f)},cj=function(t){var n=t.className,i=t.points,s=t.path,a=t.pathRef;if((!i||!i.length)&&!s)return null;var o=i&&i.length?kle(t):s;return L.createElement("path",lj({},ot(t,!1),bh(t),{className:xt("recharts-curve",n),d:o,ref:a}))},R$={exports:{}},Ele="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ale=Ele,Ple=Ale;function M$(){}function $$(){}$$.resetWarningCache=M$;var Ole=function(){function e(i,s,a,o,l,c){if(c!==Ple){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$$,resetWarningCache:M$};return n.PropTypes=n,n};R$.exports=Ole();var Tle=R$.exports;const Ke=Pt(Tle);var _le=Object.getOwnPropertyNames,Ile=Object.getOwnPropertySymbols,Rle=Object.prototype.hasOwnProperty;function VA(e,t){return function(i,s,a){return e(i,s,a)&&t(i,s,a)}}function fm(e){return function(n,i,s){if(!n||!i||typeof n!="object"||typeof i!="object")return e(n,i,s);var a=s.cache,o=a.get(n),l=a.get(i);if(o&&l)return o===i&&l===n;a.set(n,i),a.set(i,n);var c=e(n,i,s);return a.delete(n),a.delete(i),c}}function WA(e){return _le(e).concat(Ile(e))}var Mle=Object.hasOwn||function(e,t){return Rle.call(e,t)};function gl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var $le="__v",Dle="__o",Fle="_owner",HA=Object.getOwnPropertyDescriptor,GA=Object.keys;function Lle(e,t,n){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function qle(e,t){return gl(e.getTime(),t.getTime())}function zle(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ble(e,t){return e===t}function KA(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var s=new Array(i),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=t.entries(),u=!1,f=0;(l=d.next())&&!l.done;){if(s[f]){f++;continue}var p=o.value,h=l.value;if(n.equals(p[0],h[0],c,f,e,t,n)&&n.equals(p[1],h[1],p[0],h[0],e,t,n)){u=s[f]=!0;break}f++}if(!u)return!1;c++}return!0}var Ule=gl;function Vle(e,t,n){var i=GA(e),s=i.length;if(GA(t).length!==s)return!1;for(;s-- >0;)if(!D$(e,t,n,i[s]))return!1;return!0}function au(e,t,n){var i=WA(e),s=i.length;if(WA(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=i[s],!D$(e,t,n,a)||(o=HA(e,a),l=HA(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Wle(e,t){return gl(e.valueOf(),t.valueOf())}function Hle(e,t){return e.source===t.source&&e.flags===t.flags}function YA(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var s=new Array(i),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function Gle(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Kle(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function D$(e,t,n,i){return(i===Fle||i===Dle||i===$le)&&(e.$$typeof||t.$$typeof)?!0:Mle(t,i)&&n.equals(e[i],t[i],i,i,e,t,n)}var Yle="[object Arguments]",Qle="[object Boolean]",Xle="[object Date]",Zle="[object Error]",Jle="[object Map]",ece="[object Number]",tce="[object Object]",nce="[object RegExp]",rce="[object Set]",ice="[object String]",sce="[object URL]",ace=Array.isArray,QA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,XA=Object.assign,oce=Object.prototype.toString.call.bind(Object.prototype.toString);function lce(e){var t=e.areArraysEqual,n=e.areDatesEqual,i=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,m,y){if(v===m)return!0;if(v==null||m==null)return!1;var b=typeof v;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(v,m,y):b==="function"?s(v,m,y):!1;var g=v.constructor;if(g!==m.constructor)return!1;if(g===Object)return l(v,m,y);if(ace(v))return t(v,m,y);if(QA!=null&&QA(v))return f(v,m,y);if(g===Date)return n(v,m,y);if(g===RegExp)return d(v,m,y);if(g===Map)return a(v,m,y);if(g===Set)return u(v,m,y);var x=oce(v);return x===Xle?n(v,m,y):x===nce?d(v,m,y):x===Jle?a(v,m,y):x===rce?u(v,m,y):x===tce?typeof v.then!="function"&&typeof m.then!="function"&&l(v,m,y):x===sce?p(v,m,y):x===Zle?i(v,m,y):x===Yle?l(v,m,y):x===Qle||x===ece||x===ice?c(v,m,y):!1}}function cce(e){var t=e.circular,n=e.createCustomConfig,i=e.strict,s={areArraysEqual:i?au:Lle,areDatesEqual:qle,areErrorsEqual:zle,areFunctionsEqual:Ble,areMapsEqual:i?VA(KA,au):KA,areNumbersEqual:Ule,areObjectsEqual:i?au:Vle,arePrimitiveWrappersEqual:Wle,areRegExpsEqual:Hle,areSetsEqual:i?VA(YA,au):YA,areTypedArraysEqual:i?au:Gle,areUrlsEqual:Kle};if(n&&(s=XA({},s,n(s))),t){var a=fm(s.areArraysEqual),o=fm(s.areMapsEqual),l=fm(s.areObjectsEqual),c=fm(s.areSetsEqual);s=XA({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function dce(e){return function(t,n,i,s,a,o,l){return e(t,n,l)}}function uce(e){var t=e.circular,n=e.comparator,i=e.createState,s=e.equals,a=e.strict;if(i)return function(c,d){var u=i(),f=u.cache,p=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return n(c,d,{cache:p,equals:s,meta:h,strict:a})};if(t)return function(c,d){return n(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,d){return n(c,d,o)}}var fce=io();io({strict:!0});io({circular:!0});io({circular:!0,strict:!0});io({createInternalComparator:function(){return gl}});io({strict:!0,createInternalComparator:function(){return gl}});io({circular:!0,createInternalComparator:function(){return gl}});io({circular:!0,createInternalComparator:function(){return gl},strict:!0});function io(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,i=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=cce(e),c=lce(l),d=i?i(c):dce(c);return uce({circular:n,comparator:c,createState:s,equals:d,strict:o})}function pce(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ZA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,i=function s(a){n<0&&(n=a),a-n>t?(e(a),n=-1):pce(s)};requestAnimationFrame(i)}function dj(e){"@babel/helpers - typeof";return dj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dj(e)}function mce(e){return gce(e)||vce(e)||xce(e)||hce()}function hce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xce(e,t){if(e){if(typeof e=="string")return JA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JA(e,t)}}function JA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gce(e){if(Array.isArray(e))return e}function yce(){var e={},t=function(){return null},n=!1,i=function s(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=mce(o),c=l[0],d=l.slice(1);if(typeof c=="number"){ZA(s.bind(null,d),c);return}s(c),ZA(s.bind(null,d));return}dj(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,i(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function t2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(n),!0).forEach(function(i){F$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function F$(e,t,n){return t=bce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bce(e){var t=jce(e,"string");return Af(t)==="symbol"?t:String(t)}function jce(e,t){if(Af(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Af(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wce=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(i,s){return i.filter(function(a){return s.includes(a)})})},Nce=function(t){return t},Sce=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ru=function(t,n){return Object.keys(n).reduce(function(i,s){return t2(t2({},i),{},F$({},s,t(s,n[s])))},{})},n2=function(t,n,i){return t.map(function(s){return"".concat(Sce(s)," ").concat(n,"ms ").concat(i)}).join(",")};function Cce(e,t){return Ace(e)||Ece(e,t)||L$(e,t)||kce()}function kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Ace(e){if(Array.isArray(e))return e}function Pce(e){return _ce(e)||Tce(e)||L$(e)||Oce()}function Oce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L$(e,t){if(e){if(typeof e=="string")return uj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uj(e,t)}}function Tce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _ce(e){if(Array.isArray(e))return uj(e)}function uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Qh=1e-4,q$=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},z$=function(t,n){return t.map(function(i,s){return i*Math.pow(n,s)}).reduce(function(i,s){return i+s})},r2=function(t,n){return function(i){var s=q$(t,n);return z$(s,i)}},Ice=function(t,n){return function(i){var s=q$(t,n),a=[].concat(Pce(s.map(function(o,l){return o*l}).slice(1)),[0]);return z$(a,i)}},i2=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Cce(d,4);s=u[0],a=u[1],o=u[2],l=u[3]}}}var f=r2(s,o),p=r2(a,l),h=Ice(s,o),v=function(b){return b>1?1:b<0?0:b},m=function(b){for(var g=b>1?1:b,x=g,N=0;N<8;++N){var w=f(x)-g,k=h(x);if(Math.abs(w-g)<Qh||k<Qh)return p(x);x=v(x-w/k)}return p(x)};return m.isStepper=!1,m},Rce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,i=n===void 0?100:n,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(u,f,p){var h=-(u-f)*i,v=p*a,m=p+(h-v)*l/1e3,y=p*l/1e3+u;return Math.abs(y-f)<Qh&&Math.abs(m)<Qh?[f,0]:[y,m]};return c.isStepper=!0,c.dt=l,c},Mce=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i2(s);case"spring":return Rce();default:if(s.split("(")[0]==="cubic-bezier")return i2(s)}return typeof s=="function"?s:null};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function s2(e){return Fce(e)||Dce(e)||B$(e)||$ce()}function $ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fce(e){if(Array.isArray(e))return pj(e)}function a2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(n),!0).forEach(function(i){fj(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fj(e,t,n){return t=Lce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lce(e){var t=qce(e,"string");return Pf(t)==="symbol"?t:String(t)}function qce(e,t){if(Pf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Pf(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zce(e,t){return Vce(e)||Uce(e,t)||B$(e,t)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$(e,t){if(e){if(typeof e=="string")return pj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pj(e,t)}}function pj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Uce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Vce(e){if(Array.isArray(e))return e}var Xh=function(t,n,i){return t+(n-t)*i},mj=function(t){var n=t.from,i=t.to;return n!==i},Wce=function e(t,n,i){var s=Ru(function(a,o){if(mj(o)){var l=t(o.from,o.to,o.velocity),c=zce(l,2),d=c[0],u=c[1];return Rn(Rn({},o),{},{from:d,velocity:u})}return o},n);return i<1?Ru(function(a,o){return mj(o)?Rn(Rn({},o),{},{velocity:Xh(o.velocity,s[a].velocity,i),from:Xh(o.from,s[a].from,i)}):o},n):e(t,s,i-1)};const Hce=function(e,t,n,i,s){var a=wce(e,t),o=a.reduce(function(y,b){return Rn(Rn({},y),{},fj({},b,[e[b],t[b]]))},{}),l=a.reduce(function(y,b){return Rn(Rn({},y),{},fj({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,d,u,f=function(){return null},p=function(){return Ru(function(b,g){return g.from},l)},h=function(){return!Object.values(l).filter(mj).length},v=function(b){d||(d=b);var g=b-d,x=g/n.dt;l=Wce(n,l,x),s(Rn(Rn(Rn({},e),t),p())),d=b,h()||(c=requestAnimationFrame(f))},m=function(b){u||(u=b);var g=(b-u)/i,x=Ru(function(w,k){return Xh.apply(void 0,s2(k).concat([n(g)]))},o);if(s(Rn(Rn(Rn({},e),t),x)),g<1)c=requestAnimationFrame(f);else{var N=Ru(function(w,k){return Xh.apply(void 0,s2(k).concat([n(1)]))},o);s(Rn(Rn(Rn({},e),t),N))}};return f=n.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}var Gce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Kce(e,t){if(e==null)return{};var n=Yce(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Yce(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Ty(e){return Jce(e)||Zce(e)||Xce(e)||Qce()}function Qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xce(e,t){if(e){if(typeof e=="string")return hj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hj(e,t)}}function Zce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jce(e){if(Array.isArray(e))return hj(e)}function hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(n),!0).forEach(function(i){vu(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vu(e,t,n){return t=U$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ede(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tde(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,U$(i.key),i)}}function nde(e,t,n){return t&&tde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U$(e){var t=rde(e,"string");return Jc(t)==="symbol"?t:String(t)}function rde(e,t){if(Jc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Jc(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ide(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xj(e,t)}function xj(e,t){return xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},xj(e,t)}function sde(e){var t=ade();return function(){var i=Zh(e),s;if(t){var a=Zh(this).constructor;s=Reflect.construct(i,arguments,a)}else s=i.apply(this,arguments);return vj(this,s)}}function vj(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gj(e)}function gj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ade(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zh(e){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zh(e)}var Xs=function(e){ide(n,e);var t=sde(n);function n(i,s){var a;ede(this,n),a=t.call(this,i,s);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,p=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(gj(a)),a.changeStyle=a.changeStyle.bind(gj(a)),!l||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),vj(a);if(f&&f.length)a.state={style:f[0].style};else if(d){if(typeof p=="function")return a.state={style:d},vj(a);a.state={style:c?vu({},c,d):d}}else a.state={style:{}};return a}return nde(n,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(l){if(!o){var h={style:c?vu({},c,u):u};this.state&&p&&(c&&p[c]!==u||!c&&p!==u)&&this.setState(h);return}if(!(fce(s.to,u)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||d?f:s.to;if(this.state&&p){var y={style:c?vu({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(y)}this.runAnimation(fi(fi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,f=s.onAnimationEnd,p=s.onAnimationStart,h=Hce(o,l,Mce(d),c,this.changeStyle),v=function(){a.stopJSAnimation=h()};this.manager.start([p,u,v,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,f=d.duration,p=f===void 0?0:f,h=function(m,y,b){if(b===0)return m;var g=y.duration,x=y.easing,N=x===void 0?"ease":x,w=y.style,k=y.properties,E=y.onAnimationEnd,S=b>0?o[b-1]:y,C=k||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(Ty(m),[a.runJSAnimation.bind(a,{from:S.style,to:w,duration:g,easing:N}),g]);var _=n2(C,g,N),P=fi(fi(fi({},S.style),w),{},{transition:_});return[].concat(Ty(m),[P,g,E]).filter(Nce)};return this.manager.start([c].concat(Ty(o.reduce(h,[u,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=yce());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,f=s.onAnimationEnd,p=s.steps,h=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof h=="function"||d==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var m=l?vu({},l,c):c,y=n2(Object.keys(m),o,d);v.start([u,a,fi(fi({},m),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Kce(s,Gce),d=j.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||d===0||o<=0)return a;var f=function(h){var v=h.props,m=v.style,y=m===void 0?{}:m,b=v.className,g=j.cloneElement(h,fi(fi({},c),{},{style:fi(fi({},y),u),className:b}));return g};return d===1?f(j.Children.only(a)):L.createElement("div",null,j.Children.map(a,function(p){return f(p)}))}}]),n}(j.PureComponent);Xs.displayName="Animate";Xs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xs.propTypes={from:Ke.oneOfType([Ke.object,Ke.string]),to:Ke.oneOfType([Ke.object,Ke.string]),attributeName:Ke.string,duration:Ke.number,begin:Ke.number,easing:Ke.oneOfType([Ke.string,Ke.func]),steps:Ke.arrayOf(Ke.shape({duration:Ke.number.isRequired,style:Ke.object.isRequired,easing:Ke.oneOfType([Ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ke.func]),properties:Ke.arrayOf("string"),onAnimationEnd:Ke.func})),children:Ke.oneOfType([Ke.node,Ke.func]),isActive:Ke.bool,canBegin:Ke.bool,onAnimationEnd:Ke.func,shouldReAnimate:Ke.bool,onAnimationStart:Ke.func,onAnimationReStart:Ke.func};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jh.apply(this,arguments)}function ode(e,t){return ude(e)||dde(e,t)||cde(e,t)||lde()}function lde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cde(e,t){if(e){if(typeof e=="string")return l2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l2(e,t)}}function l2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function dde(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ude(e){if(Array.isArray(e))return e}function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function d2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(i){fde(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fde(e,t,n){return t=pde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pde(e){var t=mde(e,"string");return Of(t)=="symbol"?t:t+""}function mde(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Of(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u2=function(t,n,i,s,a){var o=Math.min(Math.abs(i)/2,Math.abs(s)/2),l=s>=0?1:-1,c=i>=0?1:-1,d=s>=0&&i>=0||s<0&&i<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>o?o:a[p];u="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(n)),u+="L ".concat(t+i-c*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+i,",").concat(n+l*f[1])),u+="L ".concat(t+i,",").concat(n+s-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+i-c*f[2],",").concat(n+s)),u+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+s-l*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);u="M ".concat(t,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+c*v,",").concat(n,`
            L `).concat(t+i-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+i,",").concat(n+l*v,`
            L `).concat(t+i,",").concat(n+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+i-c*v,",").concat(n+s,`
            L `).concat(t+c*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t,",").concat(n+s-l*v," Z")}else u="M ".concat(t,",").concat(n," h ").concat(i," v ").concat(s," h ").concat(-i," Z");return u},hde=function(t,n){if(!t||!n)return!1;var i=t.x,s=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),u=Math.max(a,a+l),f=Math.min(o,o+c),p=Math.max(o,o+c);return i>=d&&i<=u&&s>=f&&s<=p}return!1},xde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E1=function(t){var n=d2(d2({},xde),t),i=j.useRef(),s=j.useState(-1),a=ode(s,2),o=a[0],l=a[1];j.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var N=i.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,d=n.y,u=n.width,f=n.height,p=n.radius,h=n.className,v=n.animationEasing,m=n.animationDuration,y=n.animationBegin,b=n.isAnimationActive,g=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var x=xt("recharts-rectangle",h);return g?L.createElement(Xs,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:m,animationEasing:v,isActive:g},function(N){var w=N.width,k=N.height,E=N.x,S=N.y;return L.createElement(Xs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:b,easing:v},L.createElement("path",Jh({},ot(n,!0),{className:x,d:u2(E,S,w,k,p),ref:i})))}):L.createElement("path",Jh({},ot(n,!0),{className:x,d:u2(c,d,u,f,p)}))},vde=["points","className","baseLinePoints","connectNulls"];function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yl.apply(this,arguments)}function gde(e,t){if(e==null)return{};var n=yde(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function yde(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function f2(e){return Nde(e)||wde(e)||jde(e)||bde()}function bde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jde(e,t){if(e){if(typeof e=="string")return yj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yj(e,t)}}function wde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nde(e){if(Array.isArray(e))return yj(e)}function yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var p2=function(t){return t&&t.x===+t.x&&t.y===+t.y},Sde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(i){p2(i)?n[n.length-1].push(i):n[n.length-1].length>0&&n.push([])}),p2(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Mu=function(t,n){var i=Sde(t);n&&(i=[i.reduce(function(a,o){return[].concat(f2(a),f2(o))},[])]);var s=i.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return i.length===1?"".concat(s,"Z"):s},Cde=function(t,n,i){var s=Mu(t,i);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Mu(n.reverse(),i).slice(1))},kde=function(t){var n=t.points,i=t.className,s=t.baseLinePoints,a=t.connectNulls,o=gde(t,vde);if(!n||!n.length)return null;var l=xt("recharts-polygon",i);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=Cde(n,s,a);return L.createElement("g",{className:l},L.createElement("path",Yl({},ot(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?L.createElement("path",Yl({},ot(o,!0),{fill:"none",d:Mu(n,a)})):null,c?L.createElement("path",Yl({},ot(o,!0),{fill:"none",d:Mu(s,a)})):null)}var u=Mu(n,a);return L.createElement("path",Yl({},ot(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bj.apply(this,arguments)}var A1=function(t){var n=t.cx,i=t.cy,s=t.r,a=t.className,o=xt("recharts-dot",a);return n===+n&&i===+i&&s===+s?L.createElement("circle",bj({},ot(t,!1),bh(t),{className:o,cx:n,cy:i,r:s})):null};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}var Ede=["x","y","top","left","width","height","className"];function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jj.apply(this,arguments)}function m2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ade(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(n),!0).forEach(function(i){Pde(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Pde(e,t,n){return t=Ode(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ode(e){var t=Tde(e,"string");return Tf(t)=="symbol"?t:t+""}function Tde(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Tf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _de(e,t){if(e==null)return{};var n=Ide(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Ide(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var Rde=function(t,n,i,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(i)},Mde=function(t){var n=t.x,i=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,p=t.height,h=p===void 0?0:p,v=t.className,m=_de(t,Ede),y=Ade({x:i,y:a,top:l,left:d,width:f,height:h},m);return!je(i)||!je(a)||!je(f)||!je(h)||!je(l)||!je(d)?null:L.createElement("path",jj({},ot(y,!0),{className:xt("recharts-cross",v),d:Rde(i,a,f,h,l,d)}))},$de=Gv,Dde=t$,Fde=hs;function Lde(e,t){return e&&e.length?$de(e,Fde(t),Dde):void 0}var qde=Lde;const zde=Pt(qde);var Bde=Gv,Ude=hs,Vde=n$;function Wde(e,t){return e&&e.length?Bde(e,Ude(t),Vde):void 0}var Hde=Wde;const Gde=Pt(Hde);var Kde=["cx","cy","angle","ticks","axisLine"],Yde=["ticks","tick","angle","tickFormatter","stroke"];function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$u.apply(this,arguments)}function h2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(n),!0).forEach(function(i){eg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function x2(e,t){if(e==null)return{};var n=Qde(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Qde(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Xde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,W$(i.key),i)}}function Zde(e,t,n){return t&&v2(e.prototype,t),n&&v2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jde(e,t,n){return t=ex(t),eue(e,V$()?Reflect.construct(t,n||[],ex(e).constructor):t.apply(e,n))}function eue(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tue(e)}function tue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V$=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(e)}function nue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wj(e,t)}function wj(e,t){return wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},wj(e,t)}function eg(e,t,n){return t=W$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W$(e){var t=rue(e,"string");return ed(t)=="symbol"?t:t+""}function rue(e,t){if(ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ed(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tg=function(e){function t(){return Xde(this,t),Jde(this,t,arguments)}return nue(t,e),Zde(t,[{key:"getTickValueCoord",value:function(i){var s=i.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Bt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var i=this.props.orientation,s;switch(i){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var i=this.props,s=i.cx,a=i.cy,o=i.angle,l=i.ticks,c=zde(l,function(u){return u.coordinate||0}),d=Gde(l,function(u){return u.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.cx,a=i.cy,o=i.angle,l=i.ticks,c=i.axisLine,d=x2(i,Kde),u=l.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=Bt(s,a,u[0],o),p=Bt(s,a,u[1],o),h=uo(uo(uo({},ot(d,!1)),{},{fill:"none"},ot(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return L.createElement("line",$u({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var i=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=x2(s,Yde),f=this.getTickTextAnchor(),p=ot(u,!1),h=ot(o,!1),v=a.map(function(m,y){var b=i.getTickValueCoord(m),g=uo(uo(uo(uo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:d},h),{},{index:y},b),{},{payload:m});return L.createElement(It,$u({className:xt("recharts-polar-radius-axis-tick",O$(o)),key:"tick-".concat(m.coordinate)},tl(i.props,m,y)),t.renderTickItem(o,g,c?c(m.value,y):m.value))});return L.createElement(It,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var i=this.props,s=i.ticks,a=i.axisLine,o=i.tick;return!s||!s.length?null:L.createElement(It,{className:xt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(i,s,a){var o;return L.isValidElement(i)?o=L.cloneElement(i,s):ct(i)?o=i(s):o=L.createElement(nl,$u({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(j.PureComponent);eg(tg,"displayName","PolarRadiusAxis");eg(tg,"axisType","radiusAxis");eg(tg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yo.apply(this,arguments)}function g2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(n),!0).forEach(function(i){ng(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,G$(i.key),i)}}function sue(e,t,n){return t&&y2(e.prototype,t),n&&y2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aue(e,t,n){return t=tx(t),oue(e,H$()?Reflect.construct(t,n||[],tx(e).constructor):t.apply(e,n))}function oue(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lue(e)}function lue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H$=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(e)}function cue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nj(e,t)}function Nj(e,t){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Nj(e,t)}function ng(e,t,n){return t=G$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G$(e){var t=due(e,"string");return td(t)=="symbol"?t:t+""}function due(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(td(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uue=Math.PI/180,b2=1e-5,rg=function(e){function t(){return iue(this,t),aue(this,t,arguments)}return cue(t,e),sue(t,[{key:"getTickLineCoord",value:function(i){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,f=Bt(a,o,l,i.coordinate),p=Bt(a,o,l+(c==="inner"?-1:1)*u,i.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(i){var s=this.props.orientation,a=Math.cos(-i.coordinate*uue),o;return a>b2?o=s==="outer"?"start":"end":a<-b2?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.axisLine,c=i.axisLineType,d=fo(fo({},ot(this.props,!1)),{},{fill:"none"},ot(l,!1));if(c==="circle")return L.createElement(A1,yo({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(p){return Bt(s,a,o,p.coordinate)});return L.createElement(kde,yo({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var i=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=ot(this.props,!1),f=ot(o,!1),p=fo(fo({},u),{},{fill:"none"},ot(l,!1)),h=a.map(function(v,m){var y=i.getTickLineCoord(v),b=i.getTickTextAnchor(v),g=fo(fo(fo({textAnchor:b},u),{},{stroke:"none",fill:d},f),{},{index:m,payload:v,x:y.x2,y:y.y2});return L.createElement(It,yo({className:xt("recharts-polar-angle-axis-tick",O$(o)),key:"tick-".concat(v.coordinate)},tl(i.props,v,m)),l&&L.createElement("line",yo({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&t.renderTickItem(o,g,c?c(v.value,m):v.value))});return L.createElement(It,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var i=this.props,s=i.ticks,a=i.radius,o=i.axisLine;return a<=0||!s||!s.length?null:L.createElement(It,{className:xt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(i,s,a){var o;return L.isValidElement(i)?o=L.cloneElement(i,s):ct(i)?o=i(s):o=L.createElement(nl,yo({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(j.PureComponent);ng(rg,"displayName","PolarAngleAxis");ng(rg,"axisType","angleAxis");ng(rg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fue=X4,pue=fue(Object.getPrototypeOf,Object),mue=pue,hue=ea,xue=mue,vue=ta,gue="[object Object]",yue=Function.prototype,bue=Object.prototype,K$=yue.toString,jue=bue.hasOwnProperty,wue=K$.call(Object);function Nue(e){if(!vue(e)||hue(e)!=gue)return!1;var t=xue(e);if(t===null)return!0;var n=jue.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&K$.call(n)==wue}var Sue=Nue;const Cue=Pt(Sue);var kue=ea,Eue=ta,Aue="[object Boolean]";function Pue(e){return e===!0||e===!1||Eue(e)&&kue(e)==Aue}var Oue=Pue;const Tue=Pt(Oue);function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nx.apply(this,arguments)}function _ue(e,t){return $ue(e)||Mue(e,t)||Rue(e,t)||Iue()}function Iue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(e,t){if(e){if(typeof e=="string")return j2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j2(e,t)}}function j2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Mue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function $ue(e){if(Array.isArray(e))return e}function w2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function N2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(n),!0).forEach(function(i){Due(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Due(e,t,n){return t=Fue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fue(e){var t=Lue(e,"string");return _f(t)=="symbol"?t:t+""}function Lue(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(_f(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S2=function(t,n,i,s,a){var o=i-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+i,",").concat(n),l+="L ".concat(t+i-o/2,",").concat(n+a),l+="L ".concat(t+i-o/2-s,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},que={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zue=function(t){var n=N2(N2({},que),t),i=j.useRef(),s=j.useState(-1),a=_ue(s,2),o=a[0],l=a[1];j.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var x=i.current.getTotalLength();x&&l(x)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,f=n.lowerWidth,p=n.height,h=n.className,v=n.animationEasing,m=n.animationDuration,y=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var g=xt("recharts-trapezoid",h);return b?L.createElement(Xs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:p,x:c,y:d},duration:m,animationEasing:v,isActive:b},function(x){var N=x.upperWidth,w=x.lowerWidth,k=x.height,E=x.x,S=x.y;return L.createElement(Xs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:v},L.createElement("path",nx({},ot(n,!0),{className:g,d:S2(E,S,N,w,k),ref:i})))}):L.createElement("g",null,L.createElement("path",nx({},ot(n,!0),{className:g,d:S2(c,d,u,f,p)})))},Bue=["option","shapeType","propTransformer","activeClassName","isActive"];function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function Uue(e,t){if(e==null)return{};var n=Vue(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Vue(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(i){Wue(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Wue(e,t,n){return t=Hue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hue(e){var t=Gue(e,"string");return If(t)=="symbol"?t:t+""}function Gue(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(If(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kue(e,t){return rx(rx({},t),e)}function Yue(e,t){return e==="symbols"}function k2(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return L.createElement(E1,n);case"trapezoid":return L.createElement(zue,n);case"sector":return L.createElement(I$,n);case"symbols":if(Yue(t))return L.createElement(HN,n);break;default:return null}}function Que(e){return j.isValidElement(e)?e.props:e}function Y$(e){var t=e.option,n=e.shapeType,i=e.propTransformer,s=i===void 0?Kue:i,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=Uue(e,Bue),d;if(j.isValidElement(t))d=j.cloneElement(t,rx(rx({},c),Que(t)));else if(ct(t))d=t(c);else if(Cue(t)&&!Tue(t)){var u=s(t,c);d=L.createElement(k2,{shapeType:n,elementProps:u})}else{var f=c;d=L.createElement(k2,{shapeType:n,elementProps:f})}return l?L.createElement(It,{className:o},d):d}function ig(e,t){return t!=null&&"trapezoids"in e.props}function sg(e,t){return t!=null&&"sectors"in e.props}function Rf(e,t){return t!=null&&"points"in e.props}function Xue(e,t){var n,i,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(i=t.labelViewBox)===null||i===void 0?void 0:i.y)||e.y===t.y;return s&&a}function Zue(e,t){var n=e.endAngle===t.endAngle,i=e.startAngle===t.startAngle;return n&&i}function Jue(e,t){var n=e.x===t.x,i=e.y===t.y,s=e.z===t.z;return n&&i&&s}function efe(e,t){var n;return ig(e,t)?n=Xue:sg(e,t)?n=Zue:Rf(e,t)&&(n=Jue),n}function tfe(e,t){var n;return ig(e,t)?n="trapezoids":sg(e,t)?n="sectors":Rf(e,t)&&(n="points"),n}function nfe(e,t){if(ig(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sg(e,t)){var i;return(i=t.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}return Rf(e,t)?t.payload:{}}function rfe(e){var t=e.activeTooltipItem,n=e.graphicalItem,i=e.itemData,s=tfe(n,t),a=nfe(n,t),o=i.filter(function(c,d){var u=Qv(a,c),f=n.props[s].filter(function(v){var m=efe(n,t);return m(v,t)}),p=n.props[s].indexOf(f[f.length-1]),h=d===p;return u&&h}),l=i.indexOf(o[o.length-1]);return l}var Lm;function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ql.apply(this,arguments)}function E2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(n),!0).forEach(function(i){Xr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ife(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,X$(i.key),i)}}function sfe(e,t,n){return t&&A2(e.prototype,t),n&&A2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function afe(e,t,n){return t=ix(t),ofe(e,Q$()?Reflect.construct(t,n||[],ix(e).constructor):t.apply(e,n))}function ofe(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lfe(e)}function lfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q$=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(e)}function cfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sj(e,t)}function Sj(e,t){return Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Sj(e,t)}function Xr(e,t,n){return t=X$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X$(e){var t=dfe(e,"string");return nd(t)=="symbol"?t:t+""}function dfe(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(nd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ra=function(e){function t(n){var i;return ife(this,t),i=afe(this,t,[n]),Xr(i,"pieRef",null),Xr(i,"sectorRefs",[]),Xr(i,"id",wp("recharts-pie-")),Xr(i,"handleAnimationEnd",function(){var s=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),ct(s)&&s()}),Xr(i,"handleAnimationStart",function(){var s=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),ct(s)&&s()}),i.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},i}return cfe(t,e),sfe(t,[{key:"isActiveIndex",value:function(i){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(i)!==-1:i===s}},{key:"hasActiveIndex",value:function(){var i=this.props.activeIndex;return Array.isArray(i)?i.length!==0:i||i===0}},{key:"renderLabels",value:function(i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,u=ot(this.props,!1),f=ot(o,!1),p=ot(l,!1),h=o&&o.offsetRadius||20,v=i.map(function(m,y){var b=(m.startAngle+m.endAngle)/2,g=Bt(m.cx,m.cy,m.outerRadius+h,b),x=Lt(Lt(Lt(Lt({},u),m),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(g.x,m.cx)},g),N=Lt(Lt(Lt(Lt({},u),m),{},{fill:"none",stroke:m.fill},p),{},{index:y,points:[Bt(m.cx,m.cy,m.outerRadius,b),g]}),w=c;return gt(c)&&gt(d)?w="value":gt(c)&&(w=d),L.createElement(It,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,x,Hn(m,w)))});return L.createElement(It,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(i){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return i.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&i.length!==1)return null;var f=s.isActiveIndex(u),p=c&&s.hasActiveIndex()?c:null,h=f?o:p,v=Lt(Lt({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return L.createElement(It,Ql({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},tl(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),L.createElement(Y$,Ql({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var i=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return L.createElement(Xs,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,y=[],b=a&&a[0],g=b.startAngle;return a.forEach(function(x,N){var w=p&&p[N],k=N>0?Dr(x,"paddingAngle",0):0;if(w){var E=pa(w.endAngle-w.startAngle,x.endAngle-x.startAngle),S=Lt(Lt({},x),{},{startAngle:g+k,endAngle:g+E(m)+k});y.push(S),g=S.endAngle}else{var C=x.endAngle,_=x.startAngle,P=pa(0,C-_),A=P(m),O=Lt(Lt({},x),{},{startAngle:g+k,endAngle:g+A+k});y.push(O),g=O.endAngle}}),L.createElement(It,null,i.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(i){var s=this;i.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var i=this.props,s=i.sectors,a=i.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!Qv(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var i=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,f=s.innerRadius,p=s.outerRadius,h=s.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!je(d)||!je(u)||!je(f)||!je(p))return null;var m=xt("recharts-pie",l);return L.createElement(It,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){i.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Pn.renderCallByParent(this.props,null,!1),(!h||v)&&qa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(i,s){return s.prevIsAnimationActive!==i.isAnimationActive?{prevIsAnimationActive:i.isAnimationActive,prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:[],isAnimationFinished:!0}:i.isAnimationActive&&i.animationId!==s.prevAnimationId?{prevAnimationId:i.animationId,curSectors:i.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:i.sectors!==s.curSectors?{curSectors:i.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(i,s){return i>s?"start":i<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(i,s,a){if(L.isValidElement(i))return L.cloneElement(i,s);if(ct(i))return i(s);var o=xt("recharts-pie-label-line",typeof i!="boolean"?i.className:"");return L.createElement(cj,Ql({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(i,s,a){if(L.isValidElement(i))return L.cloneElement(i,s);var o=a;if(ct(i)&&(o=i(s),L.isValidElement(o)))return o;var l=xt("recharts-pie-label-text",typeof i!="boolean"&&!ct(i)?i.className:"");return L.createElement(nl,Ql({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);Lm=ra;Xr(ra,"displayName","Pie");Xr(ra,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ms.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xr(ra,"parseDeltaAngle",function(e,t){var n=sr(t-e),i=Math.min(Math.abs(t-e),360);return n*i});Xr(ra,"getRealPieData",function(e){var t=e.data,n=e.children,i=ot(e,!1),s=ni(n,qv);return t&&t.length?t.map(function(a,o){return Lt(Lt(Lt({payload:a},i),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return Lt(Lt({},i),a.props)}):[]});Xr(ra,"parseCoordinateOfPie",function(e,t){var n=t.top,i=t.left,s=t.width,a=t.height,o=P$(s,a),l=i+ar(e.cx,s,s/2),c=n+ar(e.cy,a,a/2),d=ar(e.innerRadius,o,0),u=ar(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});Xr(ra,"getComposedData",function(e){var t=e.item,n=e.offset,i=t.type.defaultProps!==void 0?Lt(Lt({},t.type.defaultProps),t.props):t.props,s=Lm.getRealPieData(i);if(!s||!s.length)return null;var a=i.cornerRadius,o=i.startAngle,l=i.endAngle,c=i.paddingAngle,d=i.dataKey,u=i.nameKey,f=i.valueKey,p=i.tooltipType,h=Math.abs(i.minAngle),v=Lm.parseCoordinateOfPie(i,n),m=Lm.parseDeltaAngle(o,l),y=Math.abs(m),b=d;gt(d)&&gt(f)?(Pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):gt(d)&&(Pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var g=s.filter(function(S){return Hn(S,b,0)!==0}).length,x=(y>=360?g:g-1)*c,N=y-g*h-x,w=s.reduce(function(S,C){var _=Hn(C,b,0);return S+(je(_)?_:0)},0),k;if(w>0){var E;k=s.map(function(S,C){var _=Hn(S,b,0),P=Hn(S,u,C),A=(je(_)?_:0)/w,O;C?O=E.endAngle+sr(m)*c*(_!==0?1:0):O=o;var I=O+sr(m)*((_!==0?h:0)+A*N),F=(O+I)/2,$=(v.innerRadius+v.outerRadius)/2,G=[{name:P,value:_,payload:S,dataKey:b,type:p}],z=Bt(v.cx,v.cy,$,F);return E=Lt(Lt(Lt({percent:A,cornerRadius:a,name:P,tooltipPayload:G,midAngle:F,middleRadius:$,tooltipPosition:z},S),v),{},{value:Hn(S,b),startAngle:O,endAngle:I,payload:S,paddingAngle:sr(m)*c}),E})}return Lt(Lt({},v),{},{sectors:k,data:s})});var ufe=Math.ceil,ffe=Math.max;function pfe(e,t,n,i){for(var s=-1,a=ffe(ufe((t-e)/(n||1)),0),o=Array(a);a--;)o[i?a:++s]=e,e+=n;return o}var mfe=pfe,hfe=xM,P2=1/0,xfe=17976931348623157e292;function vfe(e){if(!e)return e===0?e:0;if(e=hfe(e),e===P2||e===-P2){var t=e<0?-1:1;return t*xfe}return e===e?e:0}var Z$=vfe,gfe=mfe,yfe=Lv,_y=Z$;function bfe(e){return function(t,n,i){return i&&typeof i!="number"&&yfe(t,n,i)&&(n=i=void 0),t=_y(t),n===void 0?(n=t,t=0):n=_y(n),i=i===void 0?t<n?1:-1:_y(i),gfe(t,n,i,e)}}var jfe=bfe,wfe=jfe,Nfe=wfe(),Sfe=Nfe;const sx=Pt(Sfe);function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function O2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function T2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(n),!0).forEach(function(i){J$(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function J$(e,t,n){return t=Cfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cfe(e){var t=kfe(e,"string");return Mf(t)=="symbol"?t:t+""}function kfe(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Mf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Efe=["Webkit","Moz","O","ms"],Afe=function(t,n){var i=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=Efe.reduce(function(a,o){return T2(T2({},a),{},J$({},o+i,n))},{});return s[t]=n,s};function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ax.apply(this,arguments)}function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Iy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(i){Cr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Pfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,tD(i.key),i)}}function Ofe(e,t,n){return t&&I2(e.prototype,t),n&&I2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tfe(e,t,n){return t=ox(t),_fe(e,eD()?Reflect.construct(t,n||[],ox(e).constructor):t.apply(e,n))}function _fe(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ife(e)}function Ife(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(e)}function Rfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cj(e,t)}function Cj(e,t){return Cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Cj(e,t)}function Cr(e,t,n){return t=tD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tD(e){var t=Mfe(e,"string");return rd(t)=="symbol"?t:t+""}function Mfe(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(rd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $fe=function(t){var n=t.data,i=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=_u().domain(sx(0,c)).range([a,a+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(i),endX:d(s),scale:d,scaleValues:u}},R2=function(t){return t.changedTouches&&!!t.changedTouches.length},id=function(e){function t(n){var i;return Pfe(this,t),i=Tfe(this,t,[n]),Cr(i,"handleDrag",function(s){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(s):i.state.isSlideMoving&&i.handleSlideDrag(s)}),Cr(i,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&i.handleDrag(s.changedTouches[0])}),Cr(i,"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=i.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),i.detachDragEndListener()}),Cr(i,"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Cr(i,"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Cr(i,"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Cr(i,"handleSlideDragStart",function(s){var a=R2(s)?s.changedTouches[0]:s;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(i,"startX"),endX:i.handleTravellerDragStart.bind(i,"endX")},i.state={},i}return Rfe(t,e),Ofe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var s=i.startX,a=i.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(s,a),p=Math.max(s,a),h=t.getIndexInRange(o,f),v=t.getIndexInRange(o,p);return{startIndex:h-h%c,endIndex:v===u?u:v-v%c}}},{key:"getTextOfTick",value:function(i){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=Hn(a[i],l,i);return ct(o)?o(c,i):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,v=c.onChange,m=i.pageX-a;m>0?m=Math.min(m,d+u-f-l,d+u-f-o):m<0&&(m=Math.max(m,d-o,d-l));var y=this.getIndex({startX:o+m,endX:l+m});(y.startIndex!==p||y.endIndex!==h)&&v&&v(y),this.setState({startX:o+m,endX:l+m,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,s){var a=R2(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,f=u.x,p=u.width,h=u.travellerWidth,v=u.onChange,m=u.gap,y=u.data,b={startX:this.state.startX,endX:this.state.endX},g=i.pageX-a;g>0?g=Math.min(g,f+p-h-d):g<0&&(g=Math.max(g,f-d)),b[o]=d+g;var x=this.getIndex(b),N=x.startIndex,w=x.endIndex,k=function(){var S=y.length-1;return o==="startX"&&(l>c?N%m===0:w%m===0)||l<c&&w===S||o==="endX"&&(l>c?w%m===0:N%m===0)||l>c&&w===S};this.setState(Cr(Cr({},o,d+g),"brushMoveStartX",i.pageX),function(){v&&k()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(i,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],f=l.indexOf(u);if(f!==-1){var p=f+i;if(!(p===-1||p>=l.length)){var h=l[p];s==="startX"&&h>=d||s==="endX"&&h<=c||this.setState(Cr({},s,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.fill,d=i.stroke;return L.createElement("rect",{stroke:d,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.data,d=i.children,u=i.padding,f=j.Children.only(d);return f?L.cloneElement(f,{x:s,y:a,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(i,s){var a,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,v=c.data,m=c.startIndex,y=c.endIndex,b=Math.max(i,this.props.x),g=Iy(Iy({},ot(this.props,!1)),{},{x:b,y:d,width:u,height:f}),x=h||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return L.createElement(It,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,g))}},{key:"renderSlide",value:function(i,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,u=Math.min(i,s)+d,f=Math.max(Math.abs(s-i)-d,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var i=this.props,s=i.startIndex,a=i.endIndex,o=i.y,l=i.height,c=i.travellerWidth,d=i.stroke,u=this.state,f=u.startX,p=u.endX,h=5,v={pointerEvents:"none",fill:d};return L.createElement(It,{className:"recharts-brush-texts"},L.createElement(nl,ax({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+l/2},v),this.getTextOfTick(s)),L.createElement(nl,ax({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:o+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var i=this.props,s=i.data,a=i.className,o=i.children,l=i.x,c=i.y,d=i.width,u=i.height,f=i.alwaysShowText,p=this.state,h=p.startX,v=p.endX,m=p.isTextActive,y=p.isSlideMoving,b=p.isTravellerMoving,g=p.isTravellerFocused;if(!s||!s.length||!je(l)||!je(c)||!je(d)||!je(u)||d<=0||u<=0)return null;var x=xt("recharts-brush",a),N=L.Children.count(o)===1,w=Afe("userSelect","none");return L.createElement(It,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(m||y||b||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var s=i.x,a=i.y,o=i.width,l=i.height,c=i.stroke,d=Math.floor(a+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,s){var a;return L.isValidElement(i)?a=L.cloneElement(i,s):ct(i)?a=i(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(i,s){var a=i.data,o=i.width,l=i.x,c=i.travellerWidth,d=i.updateId,u=i.startIndex,f=i.endIndex;if(a!==s.prevData||d!==s.prevUpdateId)return Iy({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?$fe({data:a,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var p=s.scale.domain().map(function(h){return s.scale(h)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(i.startIndex),endX:s.scale(i.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(i,s){for(var a=i.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);i[c]>s?l=c:o=c}return s>=i[l]?l:o}}])}(j.PureComponent);Cr(id,"displayName","Brush");Cr(id,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Dfe=JN;function Ffe(e,t){var n;return Dfe(e,function(i,s,a){return n=t(i,s,a),!n}),!!n}var Lfe=Ffe,qfe=U4,zfe=hs,Bfe=Lfe,Ufe=Sr,Vfe=Lv;function Wfe(e,t,n){var i=Ufe(e)?qfe:Bfe;return n&&Vfe(e,t,n)&&(t=void 0),i(e,zfe(t))}var Hfe=Wfe;const Gfe=Pt(Hfe);var is=function(t,n){var i=t.alwaysShow,s=t.ifOverflow;return i&&(s="extendDomain"),s===n},M2=uM;function Kfe(e,t,n){t=="__proto__"&&M2?M2(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Yfe=Kfe,Qfe=Yfe,Xfe=cM,Zfe=hs;function Jfe(e,t){var n={};return t=Zfe(t),Xfe(e,function(i,s,a){Qfe(n,s,t(i,s,a))}),n}var epe=Jfe;const tpe=Pt(epe);function npe(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}var rpe=npe,ipe=JN;function spe(e,t){var n=!0;return ipe(e,function(i,s,a){return n=!!t(i,s,a),n}),n}var ape=spe,ope=rpe,lpe=ape,cpe=hs,dpe=Sr,upe=Lv;function fpe(e,t,n){var i=dpe(e)?ope:lpe;return n&&upe(e,t,n)&&(t=void 0),i(e,cpe(t))}var ppe=fpe;const nD=Pt(ppe);var mpe=["x","y"];function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kj.apply(this,arguments)}function $2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(n),!0).forEach(function(i){hpe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function hpe(e,t,n){return t=xpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xpe(e){var t=vpe(e,"string");return $f(t)=="symbol"?t:t+""}function vpe(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if($f(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gpe(e,t){if(e==null)return{};var n=ype(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function ype(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function bpe(e,t){var n=e.x,i=e.y,s=gpe(e,mpe),a="".concat(n),o=parseInt(a,10),l="".concat(i),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),p=parseInt(f,10);return ou(ou(ou(ou(ou({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function D2(e){return L.createElement(Y$,kj({shapeType:"rectangle",propTransformer:bpe,activeClassName:"recharts-active-bar"},e))}var jpe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(i,s){if(typeof t=="number")return t;var a=typeof i=="number";return a?t(i,s):(a||il(),n)}},wpe=["value","background"],rD;function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Npe(e,t){if(e==null)return{};var n=Spe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function Spe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lx.apply(this,arguments)}function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(i){Oa(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Cpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,sD(i.key),i)}}function kpe(e,t,n){return t&&L2(e.prototype,t),n&&L2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Epe(e,t,n){return t=cx(t),Ape(e,iD()?Reflect.construct(t,n||[],cx(e).constructor):t.apply(e,n))}function Ape(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ppe(e)}function Ppe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iD=function(){return!!e})()}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(e)}function Ope(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ej(e,t)}function Ej(e,t){return Ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Ej(e,t)}function Oa(e,t,n){return t=sD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sD(e){var t=Tpe(e,"string");return sd(t)=="symbol"?t:t+""}function Tpe(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(sd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yl=function(e){function t(){var n;Cpe(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Epe(this,t,[].concat(s)),Oa(n,"state",{isAnimationFinished:!1}),Oa(n,"id",wp("recharts-bar-")),Oa(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Oa(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Ope(t,e),kpe(t,[{key:"renderRectanglesStatically",value:function(i){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,u=ot(this.props,!1);return i&&i.map(function(f,p){var h=p===c,v=h?d:o,m=hn(hn(hn({},u),f),{},{isActive:h,option:v,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return L.createElement(It,lx({className:"recharts-bar-rectangle"},tl(s.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),L.createElement(D2,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,p=this.state.prevData;return L.createElement(Xs,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,m=a.map(function(y,b){var g=p&&p[b];if(g){var x=pa(g.x,y.x),N=pa(g.y,y.y),w=pa(g.width,y.width),k=pa(g.height,y.height);return hn(hn({},y),{},{x:x(v),y:N(v),width:w(v),height:k(v)})}if(o==="horizontal"){var E=pa(0,y.height),S=E(v);return hn(hn({},y),{},{y:y.y+y.height-S,height:S})}var C=pa(0,y.width),_=C(v);return hn(hn({},y),{},{width:_})});return L.createElement(It,null,i.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var i=this.props,s=i.data,a=i.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Qv(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var i=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=ot(this.props.background,!1);return a.map(function(d,u){d.value;var f=d.background,p=Npe(d,wpe);if(!f)return null;var h=hn(hn(hn(hn(hn({},p),{},{fill:"#eee"},f),c),tl(i.props,d,u)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return L.createElement(D2,lx({key:"background-bar-".concat(u),option:i.props.background,isActive:u===l},h))})}},{key:"renderErrorBar",value:function(i,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,f=ni(u,Jv);if(!f)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,h=function(y,b){var g=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:g,errorVal:Hn(y,b)}},v={clipPath:i?"url(#clipPath-".concat(s,")"):null};return L.createElement(It,v,f.map(function(m){return L.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var i=this.props,s=i.hide,a=i.data,o=i.className,l=i.xAxis,c=i.yAxis,d=i.left,u=i.top,f=i.width,p=i.height,h=i.isAnimationActive,v=i.background,m=i.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,b=xt("recharts-bar",o),g=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,N=g||x,w=gt(m)?this.id:m;return L.createElement(It,{className:b},g||x?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(w)},L.createElement("rect",{x:g?d:d-f/2,y:x?u:u-p/2,width:g?f:f*2,height:x?p:p*2}))):null,L.createElement(It,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!h||y)&&qa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(i,s){return i.animationId!==s.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:s.curData}:i.data!==s.curData?{curData:i.data}:null}}])}(j.PureComponent);rD=yl;Oa(yl,"displayName","Bar");Oa(yl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ms.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Oa(yl,"getComposedData",function(e){var t=e.props,n=e.item,i=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,h=uoe(i,n);if(!h)return null;var v=t.layout,m=n.type.defaultProps,y=m!==void 0?hn(hn({},m),n.props):n.props,b=y.dataKey,g=y.children,x=y.minPointSize,N=v==="horizontal"?o:a,w=d?N.scale.domain():null,k=goe({numericAxis:N}),E=ni(g,qv),S=f.map(function(C,_){var P,A,O,I,F,$;d?P=foe(d[u+_],w):(P=Hn(C,b),Array.isArray(P)||(P=[k,P]));var G=jpe(x,rD.defaultProps.minPointSize)(P[1],_);if(v==="horizontal"){var z,H=[o.scale(P[0]),o.scale(P[1])],D=H[0],U=H[1];A=AA({axis:a,ticks:l,bandSize:s,offset:h.offset,entry:C,index:_}),O=(z=U??D)!==null&&z!==void 0?z:void 0,I=h.size;var R=D-U;if(F=Number.isNaN(R)?0:R,$={x:A,y:o.y,width:I,height:o.height},Math.abs(G)>0&&Math.abs(F)<Math.abs(G)){var se=sr(F||G)*(Math.abs(G)-Math.abs(F));O-=se,F+=se}}else{var ge=[a.scale(P[0]),a.scale(P[1])],te=ge[0],we=ge[1];if(A=te,O=AA({axis:o,ticks:c,bandSize:s,offset:h.offset,entry:C,index:_}),I=we-te,F=h.size,$={x:a.x,y:O,width:a.width,height:F},Math.abs(G)>0&&Math.abs(I)<Math.abs(G)){var me=sr(I||G)*(Math.abs(G)-Math.abs(I));I+=me}}return hn(hn(hn({},C),{},{x:A,y:O,width:I,height:F,value:d?P:P[1],payload:C,background:$},E&&E[_]&&E[_].props),{},{tooltipPayload:[E$(n,C)],tooltipPosition:{x:A+I/2,y:O+F/2}})});return hn({data:S,layout:v},p)});function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function _pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,aD(i.key),i)}}function Ipe(e,t,n){return t&&q2(e.prototype,t),n&&q2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(i){ag(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ag(e,t,n){return t=aD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aD(e){var t=Rpe(e,"string");return Df(t)=="symbol"?t:t+""}function Rpe(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Df(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mpe=function(t,n,i,s,a){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),f={left:i.left,leftMirror:i.left,right:o-i.right,rightMirror:o-i.right,top:i.top,topMirror:i.top,bottom:l-i.bottom,bottomMirror:l-i.bottom},p=!!Ar(d,yl);return u.reduce(function(h,v){var m=n[v],y=m.orientation,b=m.domain,g=m.padding,x=g===void 0?{}:g,N=m.mirror,w=m.reversed,k="".concat(y).concat(N?"Mirror":""),E,S,C,_,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var A=b[1]-b[0],O=1/0,I=m.categoricalDomain.sort();if(I.forEach(function(ge,te){te>0&&(O=Math.min((ge||0)-(I[te-1]||0),O))}),Number.isFinite(O)){var F=O/A,$=m.layout==="vertical"?i.height:i.width;if(m.padding==="gap"&&(E=F*$/2),m.padding==="no-gap"){var G=ar(t.barCategoryGap,F*$),z=F*$/2;E=z-G-(z-G)/$*G}}}s==="xAxis"?S=[i.left+(x.left||0)+(E||0),i.left+i.width-(x.right||0)-(E||0)]:s==="yAxis"?S=c==="horizontal"?[i.top+i.height-(x.bottom||0),i.top+(x.top||0)]:[i.top+(x.top||0)+(E||0),i.top+i.height-(x.bottom||0)-(E||0)]:S=m.range,w&&(S=[S[1],S[0]]);var H=N$(m,a,p),D=H.scale,U=H.realScaleType;D.domain(b).range(S),S$(D);var R=C$(D,gi(gi({},m),{},{realScaleType:U}));s==="xAxis"?(P=y==="top"&&!N||y==="bottom"&&N,C=i.left,_=f[k]-P*m.height):s==="yAxis"&&(P=y==="left"&&!N||y==="right"&&N,C=f[k]-P*m.width,_=i.top);var se=gi(gi(gi({},m),R),{},{realScaleType:U,x:C,y:_,scale:D,width:s==="xAxis"?i.width:m.width,height:s==="yAxis"?i.height:m.height});return se.bandSize=Gh(se,R),!m.hide&&s==="xAxis"?f[k]+=(P?-1:1)*se.height:m.hide||(f[k]+=(P?-1:1)*se.width),gi(gi({},h),{},ag({},v,se))},{})},oD=function(t,n){var i=t.x,s=t.y,a=n.x,o=n.y;return{x:Math.min(i,a),y:Math.min(s,o),width:Math.abs(a-i),height:Math.abs(o-s)}},$pe=function(t){var n=t.x1,i=t.y1,s=t.x2,a=t.y2;return oD({x:n,y:i},{x:s,y:a})},lD=function(){function e(t){_pe(this,e),this.scale=t}return Ipe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,a=i.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var i=this.range(),s=i[0],a=i[i.length-1];return s<=a?n>=s&&n<=a:n>=a&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();ag(lD,"EPS",1e-4);var P1=function(t){var n=Object.keys(t).reduce(function(i,s){return gi(gi({},i),{},ag({},s,lD.create(t[s])))},{});return gi(gi({},n),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return tpe(s,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return nD(s,function(a,o){return n[o].isInRange(a)})}})};function Dpe(e){return(e%180+180)%180}var Fpe=function(t){var n=t.width,i=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Dpe(s),o=a*Math.PI/180,l=Math.atan(i/n),c=o>l&&o<Math.PI-l?i/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Lpe=hs,qpe=Np,zpe=Dv;function Bpe(e){return function(t,n,i){var s=Object(t);if(!qpe(t)){var a=Lpe(n);t=zpe(t),n=function(l){return a(s[l],l,s)}}var o=e(t,n,i);return o>-1?s[a?t[o]:o]:void 0}}var Upe=Bpe,Vpe=Z$;function Wpe(e){var t=Vpe(e),n=t%1;return t===t?n?t-n:t:0}var Hpe=Wpe,Gpe=rM,Kpe=hs,Ype=Hpe,Qpe=Math.max;function Xpe(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var s=n==null?0:Ype(n);return s<0&&(s=Qpe(i+s,0)),Gpe(e,Kpe(t),s)}var Zpe=Xpe,Jpe=Upe,eme=Zpe,tme=Jpe(eme),nme=tme;const rme=Pt(nme);var ime=JH(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),O1=j.createContext(void 0),T1=j.createContext(void 0),cD=j.createContext(void 0),dD=j.createContext({}),uD=j.createContext(void 0),fD=j.createContext(0),pD=j.createContext(0),B2=function(t){var n=t.state,i=n.xAxisMap,s=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=ime(a);return L.createElement(O1.Provider,{value:i},L.createElement(T1.Provider,{value:s},L.createElement(dD.Provider,{value:a},L.createElement(cD.Provider,{value:u},L.createElement(uD.Provider,{value:o},L.createElement(fD.Provider,{value:d},L.createElement(pD.Provider,{value:c},l)))))))},sme=function(){return j.useContext(uD)},mD=function(t){var n=j.useContext(O1);n==null&&il();var i=n[t];return i==null&&il(),i},ame=function(){var t=j.useContext(O1);return va(t)},ome=function(){var t=j.useContext(T1),n=rme(t,function(i){return nD(i.domain,Number.isFinite)});return n||va(t)},hD=function(t){var n=j.useContext(T1);n==null&&il();var i=n[t];return i==null&&il(),i},lme=function(){var t=j.useContext(cD);return t},cme=function(){return j.useContext(dD)},_1=function(){return j.useContext(pD)},I1=function(){return j.useContext(fD)};function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function dme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ume(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vD(i.key),i)}}function fme(e,t,n){return t&&ume(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pme(e,t,n){return t=dx(t),mme(e,xD()?Reflect.construct(t,n||[],dx(e).constructor):t.apply(e,n))}function mme(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hme(e)}function hme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!e})()}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(e)}function xme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aj(e,t)}function Aj(e,t){return Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Aj(e,t)}function U2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function V2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(n),!0).forEach(function(i){R1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function R1(e,t,n){return t=vD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vD(e){var t=vme(e,"string");return ad(t)=="symbol"?t:t+""}function vme(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ad(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gme(e,t){return wme(e)||jme(e,t)||bme(e,t)||yme()}function yme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(e,t){if(e){if(typeof e=="string")return W2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W2(e,t)}}function W2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function jme(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function wme(e){if(Array.isArray(e))return e}function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pj.apply(this,arguments)}var Nme=function(t,n){var i;return L.isValidElement(t)?i=L.cloneElement(t,n):ct(t)?i=t(n):i=L.createElement("line",Pj({},n,{className:"recharts-reference-line-line"})),i},Sme=function(t,n,i,s,a,o,l,c,d){var u=a.x,f=a.y,p=a.width,h=a.height;if(i){var v=d.y,m=t.y.apply(v,{position:o});if(is(d,"discard")&&!t.y.isInRange(m))return null;var y=[{x:u+p,y:m},{x:u,y:m}];return c==="left"?y.reverse():y}if(n){var b=d.x,g=t.x.apply(b,{position:o});if(is(d,"discard")&&!t.x.isInRange(g))return null;var x=[{x:g,y:f+h},{x:g,y:f}];return l==="top"?x.reverse():x}if(s){var N=d.segment,w=N.map(function(k){return t.apply(k,{position:o})});return is(d,"discard")&&Gfe(w,function(k){return!t.isInRange(k)})?null:w}return null};function Cme(e){var t=e.x,n=e.y,i=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=sme(),u=mD(s),f=hD(a),p=lme();if(!d||!p)return null;Pi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=P1({x:u.scale,y:f.scale}),v=Sn(t),m=Sn(n),y=i&&i.length===2,b=Sme(h,v,m,y,p,e.position,u.orientation,f.orientation,e);if(!b)return null;var g=gme(b,2),x=g[0],N=x.x,w=x.y,k=g[1],E=k.x,S=k.y,C=is(e,"hidden")?"url(#".concat(d,")"):void 0,_=V2(V2({clipPath:C},ot(e,!0)),{},{x1:N,y1:w,x2:E,y2:S});return L.createElement(It,{className:xt("recharts-reference-line",l)},Nme(o,_),Pn.renderCallByParent(e,$pe({x1:N,y1:w,x2:E,y2:S})))}var M1=function(e){function t(){return dme(this,t),pme(this,t,arguments)}return xme(t,e),fme(t,[{key:"render",value:function(){return L.createElement(Cme,this.props)}}])}(L.Component);R1(M1,"displayName","ReferenceLine");R1(M1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oj.apply(this,arguments)}function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function H2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function G2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(n),!0).forEach(function(i){og(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function kme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eme(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yD(i.key),i)}}function Ame(e,t,n){return t&&Eme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pme(e,t,n){return t=ux(t),Ome(e,gD()?Reflect.construct(t,n||[],ux(e).constructor):t.apply(e,n))}function Ome(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tme(e)}function Tme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(e)}function _me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tj(e,t)}function Tj(e,t){return Tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Tj(e,t)}function og(e,t,n){return t=yD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yD(e){var t=Ime(e,"string");return od(t)=="symbol"?t:t+""}function Ime(e,t){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(od(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rme=function(t){var n=t.x,i=t.y,s=t.xAxis,a=t.yAxis,o=P1({x:s.scale,y:a.scale}),l=o.apply({x:n,y:i},{bandAware:!0});return is(t,"discard")&&!o.isInRange(l)?null:l},lg=function(e){function t(){return kme(this,t),Pme(this,t,arguments)}return _me(t,e),Ame(t,[{key:"render",value:function(){var i=this.props,s=i.x,a=i.y,o=i.r,l=i.alwaysShow,c=i.clipPathId,d=Sn(s),u=Sn(a);if(Pi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=Rme(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,m=v.shape,y=v.className,b=is(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=G2(G2({clipPath:b},ot(this.props,!0)),{},{cx:p,cy:h});return L.createElement(It,{className:xt("recharts-reference-dot",y)},t.renderDot(m,g),Pn.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])}(L.Component);og(lg,"displayName","ReferenceDot");og(lg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});og(lg,"renderDot",function(e,t){var n;return L.isValidElement(e)?n=L.cloneElement(e,t):ct(e)?n=e(t):n=L.createElement(A1,Oj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_j.apply(this,arguments)}function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Y2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(i){cg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Mme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,jD(i.key),i)}}function Dme(e,t,n){return t&&$me(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fme(e,t,n){return t=fx(t),Lme(e,bD()?Reflect.construct(t,n||[],fx(e).constructor):t.apply(e,n))}function Lme(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qme(e)}function qme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!e})()}function fx(e){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(e)}function zme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}function Ij(e,t){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Ij(e,t)}function cg(e,t,n){return t=jD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jD(e){var t=Bme(e,"string");return ld(t)=="symbol"?t:t+""}function Bme(e,t){if(ld(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ld(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ume=function(t,n,i,s,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=P1({x:u.scale,y:f.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:i?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(d,{position:"end"}):p.y.rangeMax};return is(a,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:oD(h,v)},dg=function(e){function t(){return Mme(this,t),Fme(this,t,arguments)}return zme(t,e),Dme(t,[{key:"render",value:function(){var i=this.props,s=i.x1,a=i.x2,o=i.y1,l=i.y2,c=i.className,d=i.alwaysShow,u=i.clipPathId;Pi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sn(s),p=Sn(a),h=Sn(o),v=Sn(l),m=this.props.shape;if(!f&&!p&&!h&&!v&&!m)return null;var y=Ume(f,p,h,v,this.props);if(!y&&!m)return null;var b=is(this.props,"hidden")?"url(#".concat(u,")"):void 0;return L.createElement(It,{className:xt("recharts-reference-area",c)},t.renderRect(m,Y2(Y2({clipPath:b},ot(this.props,!0)),y)),Pn.renderCallByParent(this.props,y))}}])}(L.Component);cg(dg,"displayName","ReferenceArea");cg(dg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cg(dg,"renderRect",function(e,t){var n;return L.isValidElement(e)?n=L.cloneElement(e,t):ct(e)?n=e(t):n=L.createElement(E1,_j({},t,{className:"recharts-reference-area-rect"})),n});function wD(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],s=0;s<e.length;s+=t)i.push(e[s]);return i}function Vme(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return Fpe(i,n)}function Wme(e,t,n){var i=n==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:i?s:a,end:i?s+o:a+l}:{start:i?s+o:a+l,end:i?s:a}}function px(e,t,n,i,s){if(e*t<e*i||e*t>e*s)return!1;var a=n();return e*(t-e*a/2-i)>=0&&e*(t+e*a/2-s)<=0}function Hme(e,t){return wD(e,t+1)}function Gme(e,t,n,i,s){for(var a=(i||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var v=i==null?void 0:i[c];if(v===void 0)return{v:wD(i,d)};var m=c,y,b=function(){return y===void 0&&(y=n(v,m)),y},g=v.coordinate,x=c===0||px(e,g,b,u,l);x||(c=0,u=o,d+=1),x&&(u=g+e*(b()/2+s),c+=d)},p;d<=a.length;)if(p=f(),p)return p.v;return[]}function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function Q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(n),!0).forEach(function(i){Kme(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Kme(e,t,n){return t=Yme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yme(e){var t=Qme(e,"string");return Ff(t)=="symbol"?t:t+""}function Qme(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Ff(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xme(e,t,n,i,s){for(var a=(i||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(p){var h=a[p],v,m=function(){return v===void 0&&(v=n(h,p)),v};if(p===o-1){var y=e*(h.coordinate+e*m()/2-c);a[p]=h=Un(Un({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else a[p]=h=Un(Un({},h),{},{tickCoord:h.coordinate});var b=px(e,h.tickCoord,m,l,c);b&&(c=h.tickCoord-e*(m()/2+s),a[p]=Un(Un({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return a}function Zme(e,t,n,i,s,a){var o=(i||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var u=i[l-1],f=n(u,l-1),p=e*(u.coordinate+e*f/2-d);o[l-1]=u=Un(Un({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var h=px(e,u.tickCoord,function(){return f},c,d);h&&(d=u.tickCoord-e*(f/2+s),o[l-1]=Un(Un({},u),{},{isShow:!0}))}for(var v=a?l-1:l,m=function(g){var x=o[g],N,w=function(){return N===void 0&&(N=n(x,g)),N};if(g===0){var k=e*(x.coordinate-e*w()/2-c);o[g]=x=Un(Un({},x),{},{tickCoord:k<0?x.coordinate-k*e:x.coordinate})}else o[g]=x=Un(Un({},x),{},{tickCoord:x.coordinate});var E=px(e,x.tickCoord,w,c,d);E&&(c=x.tickCoord+e*(w()/2+s),o[g]=Un(Un({},x),{},{isShow:!0}))},y=0;y<v;y++)m(y);return o}function $1(e,t,n){var i=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!s||!s.length||!i)return[];if(je(c)||Ms.isSsr)return Hme(s,typeof c=="number"&&je(c)?c:0);var p=[],h=l==="top"||l==="bottom"?"width":"height",v=u&&h==="width"?Tu(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(x,N){var w=ct(d)?d(x.value,N):x.value;return h==="width"?Vme(Tu(w,{fontSize:t,letterSpacing:n}),v,f):Tu(w,{fontSize:t,letterSpacing:n})[h]},y=s.length>=2?sr(s[1].coordinate-s[0].coordinate):1,b=Wme(a,y,h);return c==="equidistantPreserveStart"?Gme(y,b,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Zme(y,b,m,s,o,c==="preserveStartEnd"):p=Xme(y,b,m,s,o),p.filter(function(g){return g.isShow}))}var Jme=["viewBox"],ehe=["viewBox"],the=["ticks"];function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xl.apply(this,arguments)}function X2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(n),!0).forEach(function(i){D1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ry(e,t){if(e==null)return{};var n=nhe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function nhe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function rhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z2(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,SD(i.key),i)}}function ihe(e,t,n){return t&&Z2(e.prototype,t),n&&Z2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function she(e,t,n){return t=mx(t),ahe(e,ND()?Reflect.construct(t,n||[],mx(e).constructor):t.apply(e,n))}function ahe(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ohe(e)}function ohe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ND(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!e})()}function mx(e){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(e)}function lhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rj(e,t)}function Rj(e,t){return Rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Rj(e,t)}function D1(e,t,n){return t=SD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SD(e){var t=che(e,"string");return cd(t)=="symbol"?t:t+""}function che(e,t){if(cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(cd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fd=function(e){function t(n){var i;return rhe(this,t),i=she(this,t,[n]),i.state={fontSize:"",letterSpacing:""},i}return lhe(t,e),ihe(t,[{key:"shouldComponentUpdate",value:function(i,s){var a=i.viewBox,o=Ry(i,Jme),l=this.props,c=l.viewBox,d=Ry(l,ehe);return!dc(a,c)||!dc(o,d)||!dc(s,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var s=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,f=s.mirror,p=s.tickMargin,h,v,m,y,b,g,x=f?-1:1,N=i.tickSize||u,w=je(i.tickCoord)?i.tickCoord:i.coordinate;switch(d){case"top":h=v=i.coordinate,y=o+ +!f*c,m=y-x*N,g=m-x*p,b=w;break;case"left":m=y=i.coordinate,v=a+ +!f*l,h=v-x*N,b=h-x*p,g=w;break;case"right":m=y=i.coordinate,v=a+ +f*l,h=v+x*N,b=h+x*p,g=w;break;default:h=v=i.coordinate,y=o+ +f*c,m=y+x*N,g=m+x*p,b=w;break}return{line:{x1:h,y1:m,x2:v,y2:y},tick:{x:b,y:g}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,s=i.orientation,a=i.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,s=i.orientation,a=i.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,d=i.mirror,u=i.axisLine,f=Jn(Jn(Jn({},ot(this.props,!1)),ot(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);f=Jn(Jn({},f),{},{x1:s,y1:a+p*l,x2:s+o,y2:a+p*l})}else{var h=+(c==="left"&&!d||c==="right"&&d);f=Jn(Jn({},f),{},{x1:s+h*o,y1:a,x2:s+h*o,y2:a+l})}return L.createElement("line",Xl({},f,{className:xt("recharts-cartesian-axis-line",Dr(u,"className"))}))}},{key:"renderTicks",value:function(i,s,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,p=l.unit,h=$1(Jn(Jn({},this.props),{},{ticks:i}),s,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=ot(this.props,!1),b=ot(u,!1),g=Jn(Jn({},y),{},{fill:"none"},ot(c,!1)),x=h.map(function(N,w){var k=o.getTickLineCoord(N),E=k.line,S=k.tick,C=Jn(Jn(Jn(Jn({textAnchor:v,verticalAnchor:m},y),{},{stroke:"none",fill:d},b),S),{},{index:w,payload:N,visibleTicksCount:h.length,tickFormatter:f});return L.createElement(It,Xl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},tl(o.props,N,w)),c&&L.createElement("line",Xl({},g,E,{className:xt("recharts-cartesian-axis-tick-line",Dr(c,"className"))})),u&&t.renderTickItem(u,C,"".concat(ct(f)?f(N.value,w):N.value).concat(p||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var i=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var f=this.props,p=f.ticks,h=Ry(f,the),v=p;return ct(c)&&(v=p&&p.length>0?c(this.props):c(h)),o<=0||l<=0||!v||!v.length?null:L.createElement(It,{className:xt("recharts-cartesian-axis",d),ref:function(y){i.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,s,a){var o;return L.isValidElement(i)?o=L.cloneElement(i,s):ct(i)?o=i(s):o=L.createElement(nl,Xl({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(j.Component);D1(Fd,"displayName","CartesianAxis");D1(Fd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dhe=["x1","y1","x2","y2","key"],uhe=["offset"];function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function J2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(n),!0).forEach(function(i){fhe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fhe(e,t,n){return t=phe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function phe(e){var t=mhe(e,"string");return sl(t)=="symbol"?t:t+""}function mhe(e,t){if(sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(sl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Eo.apply(this,arguments)}function eP(e,t){if(e==null)return{};var n=hhe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function hhe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var xhe=function(t){var n=t.fill;if(!n||n==="none")return null;var i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return L.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function CD(e,t){var n;if(L.isValidElement(e))n=L.cloneElement(e,t);else if(ct(e))n=e(t);else{var i=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=eP(t,dhe),d=ot(c,!1);d.offset;var u=eP(d,uhe);n=L.createElement("line",Eo({},u,{x1:i,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function vhe(e){var t=e.x,n=e.width,i=e.horizontal,s=i===void 0?!0:i,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=Wn(Wn({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return CD(s,d)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ghe(e){var t=e.y,n=e.height,i=e.vertical,s=i===void 0?!0:i,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=Wn(Wn({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return CD(s,d)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function yhe(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(p){return Math.round(p+s-s)}).sort(function(p,h){return p-h});s!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],m=v?s+o-p:u[h+1]-p;if(m<=0)return null;var y=h%t.length;return L.createElement("rect",{key:"react-".concat(h),y:p,x:i,height:m,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function bhe(e){var t=e.vertical,n=t===void 0?!0:t,i=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!i||!i.length)return null;var u=d.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],m=v?a+l-p:u[h+1]-p;if(m<=0)return null;var y=h%i.length;return L.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:m,height:c,stroke:"none",fill:i[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jhe=function(t,n){var i=t.xAxis,s=t.width,a=t.height,o=t.offset;return w$($1(Wn(Wn(Wn({},Fd.defaultProps),i),{},{ticks:Ts(i,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,n)},whe=function(t,n){var i=t.yAxis,s=t.width,a=t.height,o=t.offset;return w$($1(Wn(Wn(Wn({},Fd.defaultProps),i),{},{ticks:Ts(i,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,n)},kl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kD(e){var t,n,i,s,a,o,l=_1(),c=I1(),d=cme(),u=Wn(Wn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:kl.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:kl.fill,horizontal:(i=e.horizontal)!==null&&i!==void 0?i:kl.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:kl.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:kl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:kl.verticalFill,x:je(e.x)?e.x:d.left,y:je(e.y)?e.y:d.top,width:je(e.width)?e.width:d.width,height:je(e.height)?e.height:d.height}),f=u.x,p=u.y,h=u.width,v=u.height,m=u.syncWithTicks,y=u.horizontalValues,b=u.verticalValues,g=ame(),x=ome();if(!je(h)||h<=0||!je(v)||v<=0||!je(f)||f!==+f||!je(p)||p!==+p)return null;var N=u.verticalCoordinatesGenerator||jhe,w=u.horizontalCoordinatesGenerator||whe,k=u.horizontalPoints,E=u.verticalPoints;if((!k||!k.length)&&ct(w)){var S=y&&y.length,C=w({yAxis:x?Wn(Wn({},x),{},{ticks:S?y:x.ticks}):void 0,width:l,height:c,offset:d},S?!0:m);Pi(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sl(C),"]")),Array.isArray(C)&&(k=C)}if((!E||!E.length)&&ct(N)){var _=b&&b.length,P=N({xAxis:g?Wn(Wn({},g),{},{ticks:_?b:g.ticks}):void 0,width:l,height:c,offset:d},_?!0:m);Pi(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sl(P),"]")),Array.isArray(P)&&(E=P)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(xhe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),L.createElement(vhe,Eo({},u,{offset:d,horizontalPoints:k,xAxis:g,yAxis:x})),L.createElement(ghe,Eo({},u,{offset:d,verticalPoints:E,xAxis:g,yAxis:x})),L.createElement(yhe,Eo({},u,{horizontalPoints:k})),L.createElement(bhe,Eo({},u,{verticalPoints:E})))}kD.displayName="CartesianGrid";function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function Nhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function She(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,PD(i.key),i)}}function Che(e,t,n){return t&&She(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function khe(e,t,n){return t=hx(t),Ehe(e,ED()?Reflect.construct(t,n||[],hx(e).constructor):t.apply(e,n))}function Ehe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ahe(e)}function Ahe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ED(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ED=function(){return!!e})()}function hx(e){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(e)}function Phe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mj(e,t)}function Mj(e,t){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Mj(e,t)}function AD(e,t,n){return t=PD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PD(e){var t=Ohe(e,"string");return dd(t)=="symbol"?t:t+""}function Ohe(e,t){if(dd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(dd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $j(){return $j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$j.apply(this,arguments)}function The(e){var t=e.xAxisId,n=_1(),i=I1(),s=mD(t);return s==null?null:L.createElement(Fd,$j({},s,{className:xt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Ts(o,!0)}}))}var ug=function(e){function t(){return Nhe(this,t),khe(this,t,arguments)}return Phe(t,e),Che(t,[{key:"render",value:function(){return L.createElement(The,this.props)}}])}(L.Component);AD(ug,"displayName","XAxis");AD(ug,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function _he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ihe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_D(i.key),i)}}function Rhe(e,t,n){return t&&Ihe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mhe(e,t,n){return t=xx(t),$he(e,OD()?Reflect.construct(t,n||[],xx(e).constructor):t.apply(e,n))}function $he(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dhe(e)}function Dhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!e})()}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xx(e)}function Fhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Dj(e,t)}function TD(e,t,n){return t=_D(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _D(e){var t=Lhe(e,"string");return ud(t)=="symbol"?t:t+""}function Lhe(e,t){if(ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(ud(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fj.apply(this,arguments)}var qhe=function(t){var n=t.yAxisId,i=_1(),s=I1(),a=hD(n);return a==null?null:L.createElement(Fd,Fj({},a,{className:xt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:i,height:s},ticksGenerator:function(l){return Ts(l,!0)}}))},fg=function(e){function t(){return _he(this,t),Mhe(this,t,arguments)}return Fhe(t,e),Rhe(t,[{key:"render",value:function(){return L.createElement(qhe,this.props)}}])}(L.Component);TD(fg,"displayName","YAxis");TD(fg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tP(e){return Vhe(e)||Uhe(e)||Bhe(e)||zhe()}function zhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(e,t){if(e){if(typeof e=="string")return Lj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lj(e,t)}}function Uhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vhe(e){if(Array.isArray(e))return Lj(e)}function Lj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var qj=function(t,n,i,s,a){var o=ni(t,M1),l=ni(t,lg),c=[].concat(tP(o),tP(l)),d=ni(t,dg),u="".concat(s,"Id"),f=s[0],p=n;if(c.length&&(p=c.reduce(function(m,y){if(y.props[u]===i&&is(y.props,"extendDomain")&&je(y.props[f])){var b=y.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},p)),d.length){var h="".concat(f,"1"),v="".concat(f,"2");p=d.reduce(function(m,y){if(y.props[u]===i&&is(y.props,"extendDomain")&&je(y.props[h])&&je(y.props[v])){var b=y.props[h],g=y.props[v];return[Math.min(m[0],b,g),Math.max(m[1],b,g)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,y){return je(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},p)),p},ID={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,f||c,p),v=n?n+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new i:delete c._events[d]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},l.prototype.listenerCount=function(d){var u=n?n+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,p,h,v){var m=n?n+d:d;if(!this._events[m])return!1;var y=this._events[m],b=arguments.length,g,x;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,p),!0;case 5:return y.fn.call(y.context,u,f,p,h),!0;case 6:return y.fn.call(y.context,u,f,p,h,v),!0}for(x=1,g=new Array(b-1);x<b;x++)g[x-1]=arguments[x];y.fn.apply(y.context,g)}else{var N=y.length,w;for(x=0;x<N;x++)switch(y[x].once&&this.removeListener(d,y[x].fn,void 0,!0),b){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,f);break;case 4:y[x].fn.call(y[x].context,u,f,p);break;default:if(!g)for(w=1,g=new Array(b-1);w<b;w++)g[w-1]=arguments[w];y[x].fn.apply(y[x].context,g)}}return!0},l.prototype.on=function(d,u,f){return a(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return a(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,p){var h=n?n+d:d;if(!this._events[h])return this;if(!u)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var m=0,y=[],b=v.length;m<b;m++)(v[m].fn!==u||p&&!v[m].once||f&&v[m].context!==f)&&y.push(v[m]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(ID);var Whe=ID.exports;const Hhe=Pt(Whe);var My=new Hhe,$y="recharts.syncMouseEvents";function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function Ghe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Khe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,RD(i.key),i)}}function Yhe(e,t,n){return t&&Khe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dy(e,t,n){return t=RD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RD(e){var t=Qhe(e,"string");return Lf(t)=="symbol"?t:t+""}function Qhe(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Lf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xhe=function(){function e(){Ghe(this,e),Dy(this,"activeIndex",0),Dy(this,"coordinateList",[]),Dy(this,"layout","horizontal")}return Yhe(e,[{key:"setDetails",value:function(n){var i,s=n.coordinateList,a=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,f=u===void 0?null:u,p=n.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(i=a??this.coordinateList)!==null&&i!==void 0?i:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,i;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((i=window)===null||i===void 0?void 0:i.scrollY)||0,f=a+c+d,p=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function Zhe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var i=e==null?void 0:e[0],s=e==null?void 0:e[1];if(i&&s&&je(i)&&je(s))return!0}return!1}function Jhe(e,t,n,i){var s=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function MD(e){var t=e.cx,n=e.cy,i=e.radius,s=e.startAngle,a=e.endAngle,o=Bt(t,n,i,s),l=Bt(t,n,i,a);return{points:[o,l],cx:t,cy:n,radius:i,startAngle:s,endAngle:a}}function exe(e,t,n){var i,s,a,o;if(e==="horizontal")i=t.x,a=i,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,i=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,p=Bt(l,c,d,f),h=Bt(l,c,u,f);i=p.x,s=p.y,a=h.x,o=h.y}else return MD(t);return[{x:i,y:s},{x:a,y:o}]}function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(i){txe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function txe(e,t,n){return t=nxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nxe(e){var t=rxe(e,"string");return qf(t)=="symbol"?t:t+""}function rxe(e,t){if(qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(qf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ixe(e){var t,n,i=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=i.props.cursor)!==null&&t!==void 0?t:(n=i.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!i||!h||!a||!o||p!=="ScatterChart"&&s!=="axis")return null;var v,m=cj;if(p==="ScatterChart")v=o,m=Mde;else if(p==="BarChart")v=Jhe(f,o,c,u),m=E1;else if(f==="radial"){var y=MD(o),b=y.cx,g=y.cy,x=y.radius,N=y.startAngle,w=y.endAngle;v={cx:b,cy:g,startAngle:N,endAngle:w,innerRadius:x,outerRadius:x},m=I$}else v={points:exe(f,o,c)},m=cj;var k=pm(pm(pm(pm({stroke:"#ccc",pointerEvents:"none"},c),v),ot(h,!1)),{},{payload:l,payloadIndex:d,className:xt("recharts-tooltip-cursor",h.className)});return j.isValidElement(h)?j.cloneElement(h,k):j.createElement(m,k)}var sxe=["item"],axe=["children","className","width","height","style","compact","title","desc"];function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zl.apply(this,arguments)}function rP(e,t){return cxe(e)||lxe(e,t)||DD(e,t)||oxe()}function oxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function cxe(e){if(Array.isArray(e))return e}function iP(e,t){if(e==null)return{};var n=dxe(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function dxe(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function uxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fxe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,FD(i.key),i)}}function pxe(e,t,n){return t&&fxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mxe(e,t,n){return t=vx(t),hxe(e,$D()?Reflect.construct(t,n||[],vx(e).constructor):t.apply(e,n))}function hxe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xxe(e)}function xxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($D=function(){return!!e})()}function vx(e){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vx(e)}function vxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zj(e,t)}function zj(e,t){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},zj(e,t)}function pd(e){return bxe(e)||yxe(e)||DD(e)||gxe()}function gxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DD(e,t){if(e){if(typeof e=="string")return Bj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bj(e,t)}}function yxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bxe(e){if(Array.isArray(e))return Bj(e)}function Bj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(i){tt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tt(e,t,n){return t=FD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FD(e){var t=jxe(e,"string");return fd(t)=="symbol"?t:t+""}function jxe(e,t){if(fd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(fd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wxe={xAxis:["bottom","top"],yAxis:["left","right"]},Nxe={width:"100%",height:"100%"},LD={x:0,y:0};function mm(e){return e}var Sxe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Cxe=function(t,n,i,s){var a=n.find(function(u){return u&&u.index===i});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return ae(ae(ae({},s),Bt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=s.angle;return ae(ae(ae({},s),Bt(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return LD},pg=function(t,n){var i=n.graphicalItems,s=n.dataStartIndex,a=n.dataEndIndex,o=(i??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(pd(l),pd(d)):l},[]);return o.length>0?o:t&&t.length&&je(s)&&je(a)?t.slice(s,a+1):[]};function qD(e){return e==="number"?[0,"auto"]:void 0}var Uj=function(t,n,i,s){var a=t.graphicalItems,o=t.tooltipAxis,l=pg(n,t);return i<0||!a||!a.length||i>=l.length?null:a.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=i&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;p=vb(h,o.dataKey,s)}else p=f&&f[i]||l[i];return p?[].concat(pd(c),[E$(d,p)]):c},[])},aP=function(t,n,i,s){var a=s||{x:t.chartX,y:t.chartY},o=Sxe(a,i),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=soe(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,p=Uj(t,n,u,f),h=Cxe(i,l,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},kxe=function(t,n){var i=n.axes,s=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,h=j$(u,a);return i.reduce(function(v,m){var y,b=m.type.defaultProps!==void 0?ae(ae({},m.type.defaultProps),m.props):m.props,g=b.type,x=b.dataKey,N=b.allowDataOverflow,w=b.allowDuplicatedCategory,k=b.scale,E=b.ticks,S=b.includeHidden,C=b[o];if(v[C])return v;var _=pg(t.data,{graphicalItems:s.filter(function(R){var se,ge=o in R.props?R.props[o]:(se=R.type.defaultProps)===null||se===void 0?void 0:se[o];return ge===C}),dataStartIndex:c,dataEndIndex:d}),P=_.length,A,O,I;Zhe(b.domain,N,g)&&(A=ij(b.domain,null,N),h&&(g==="number"||k!=="auto")&&(I=Iu(_,x,"category")));var F=qD(g);if(!A||A.length===0){var $,G=($=b.domain)!==null&&$!==void 0?$:F;if(x){if(A=Iu(_,x,g),g==="category"&&h){var z=Q9(A);w&&z?(O=A,A=sx(0,P)):w||(A=TA(G,A,m).reduce(function(R,se){return R.indexOf(se)>=0?R:[].concat(pd(R),[se])},[]))}else if(g==="category")w?A=A.filter(function(R){return R!==""&&!gt(R)}):A=TA(G,A,m).reduce(function(R,se){return R.indexOf(se)>=0||se===""||gt(se)?R:[].concat(pd(R),[se])},[]);else if(g==="number"){var H=doe(_,s.filter(function(R){var se,ge,te=o in R.props?R.props[o]:(se=R.type.defaultProps)===null||se===void 0?void 0:se[o],we="hide"in R.props?R.props.hide:(ge=R.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return te===C&&(S||!we)}),x,a,u);H&&(A=H)}h&&(g==="number"||k!=="auto")&&(I=Iu(_,x,"category"))}else h?A=sx(0,P):l&&l[C]&&l[C].hasStack&&g==="number"?A=p==="expand"?[0,1]:k$(l[C].stackGroups,c,d):A=b$(_,s.filter(function(R){var se=o in R.props?R.props[o]:R.type.defaultProps[o],ge="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return se===C&&(S||!ge)}),g,u,!0);if(g==="number")A=qj(f,A,C,a,E),G&&(A=ij(G,A,N));else if(g==="category"&&G){var D=G,U=A.every(function(R){return D.indexOf(R)>=0});U&&(A=D)}}return ae(ae({},v),{},tt({},C,ae(ae({},b),{},{axisType:a,domain:A,categoricalDomain:I,duplicateDomain:O,originalDomain:(y=b.domain)!==null&&y!==void 0?y:F,isCategorical:h,layout:u})))},{})},Exe=function(t,n){var i=n.graphicalItems,s=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=pg(t.data,{graphicalItems:i,dataStartIndex:c,dataEndIndex:d}),h=p.length,v=j$(u,a),m=-1;return i.reduce(function(y,b){var g=b.type.defaultProps!==void 0?ae(ae({},b.type.defaultProps),b.props):b.props,x=g[o],N=qD("number");if(!y[x]){m++;var w;return v?w=sx(0,h):l&&l[x]&&l[x].hasStack?(w=k$(l[x].stackGroups,c,d),w=qj(f,w,x,a)):(w=ij(N,b$(p,i.filter(function(k){var E,S,C=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],_="hide"in k.props?k.props.hide:(S=k.type.defaultProps)===null||S===void 0?void 0:S.hide;return C===x&&!_}),"number",u),s.defaultProps.allowDataOverflow),w=qj(f,w,x,a)),ae(ae({},y),{},tt({},x,ae(ae({axisType:a},s.defaultProps),{},{hide:!0,orientation:Dr(wxe,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:N,isCategorical:v,layout:u})))}return y},{})},Axe=function(t,n){var i=n.axisType,s=i===void 0?"xAxis":i,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,f="".concat(s,"Id"),p=ni(u,a),h={};return p&&p.length?h=kxe(t,{axes:p,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(h=Exe(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),h},Pxe=function(t){var n=va(t),i=Ts(n,!1,!0);return{tooltipTicks:i,orderedTooltipTicks:e1(i,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Gh(n,i)}},oP=function(t){var n=t.children,i=t.defaultShowTooltip,s=Ar(n,id),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!i}},Oxe=function(t){return!t||!t.length?!1:t.some(function(n){var i=Rs(n&&n.type);return i&&i.indexOf("Bar")>=0})},lP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Txe=function(t,n){var i=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=i.width,u=i.height,f=i.children,p=i.margin||{},h=Ar(f,id),v=Ar(f,uc),m=Object.keys(c).reduce(function(w,k){var E=c[k],S=E.orientation;return!E.mirror&&!E.hide?ae(ae({},w),{},tt({},S,w[S]+E.width)):w},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(w,k){var E=o[k],S=E.orientation;return!E.mirror&&!E.hide?ae(ae({},w),{},tt({},S,Dr(w,"".concat(S))+E.height)):w},{top:p.top||0,bottom:p.bottom||0}),b=ae(ae({},y),m),g=b.bottom;h&&(b.bottom+=h.props.height||id.defaultProps.height),v&&n&&(b=loe(b,s,i,n));var x=d-b.left-b.right,N=u-b.top-b.bottom;return ae(ae({brushBottom:g},b),{},{width:Math.max(x,0),height:Math.max(N,0)})},_xe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},zD=function(t){var n=t.chartName,i=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(b,g){var x=g.graphicalItems,N=g.stackGroups,w=g.offset,k=g.updateId,E=g.dataStartIndex,S=g.dataEndIndex,C=b.barSize,_=b.layout,P=b.barGap,A=b.barCategoryGap,O=b.maxBarSize,I=lP(_),F=I.numericAxisName,$=I.cateAxisName,G=Oxe(x),z=[];return x.forEach(function(H,D){var U=pg(b.data,{graphicalItems:[H],dataStartIndex:E,dataEndIndex:S}),R=H.type.defaultProps!==void 0?ae(ae({},H.type.defaultProps),H.props):H.props,se=R.dataKey,ge=R.maxBarSize,te=R["".concat(F,"Id")],we=R["".concat($,"Id")],me={},Se=c.reduce(function(kn,T){var V=g["".concat(T.axisType,"Map")],q=R["".concat(T.axisType,"Id")];V&&V[q]||T.axisType==="zAxis"||il();var ne=V[q];return ae(ae({},kn),{},tt(tt({},T.axisType,ne),"".concat(T.axisType,"Ticks"),Ts(ne)))},me),le=Se[$],xe=Se["".concat($,"Ticks")],ye=N&&N[te]&&N[te].hasStack&&yoe(H,N[te].stackGroups),B=Rs(H.type).indexOf("Bar")>=0,ce=Gh(le,xe),de=[],Pe=G&&aoe({barSize:C,stackGroups:N,totalSize:_xe(Se,$)});if(B){var Ce,Xe,st=gt(ge)?O:ge,Nt=(Ce=(Xe=Gh(le,xe,!0))!==null&&Xe!==void 0?Xe:st)!==null&&Ce!==void 0?Ce:0;de=ooe({barGap:P,barCategoryGap:A,bandSize:Nt!==ce?Nt:ce,sizeList:Pe[we],maxBarSize:st}),Nt!==ce&&(de=de.map(function(kn){return ae(ae({},kn),{},{position:ae(ae({},kn.position),{},{offset:kn.position.offset-Nt/2})})}))}var mn=H&&H.type&&H.type.getComposedData;mn&&z.push({props:ae(ae({},mn(ae(ae({},Se),{},{displayedData:U,props:b,dataKey:se,item:H,bandSize:ce,barPosition:de,offset:w,stackedData:ye,layout:_,dataStartIndex:E,dataEndIndex:S}))),{},tt(tt(tt({key:H.key||"item-".concat(D)},F,Se[F]),$,Se[$]),"animationId",k)),childIndex:o7(H,b.children),item:H})}),z},h=function(b,g){var x=b.props,N=b.dataStartIndex,w=b.dataEndIndex,k=b.updateId;if(!Sk({props:x}))return null;var E=x.children,S=x.layout,C=x.stackOffset,_=x.data,P=x.reverseStackOrder,A=lP(S),O=A.numericAxisName,I=A.cateAxisName,F=ni(E,i),$=voe(_,F,"".concat(O,"Id"),"".concat(I,"Id"),C,P),G=c.reduce(function(R,se){var ge="".concat(se.axisType,"Map");return ae(ae({},R),{},tt({},ge,Axe(x,ae(ae({},se),{},{graphicalItems:F,stackGroups:se.axisType===O&&$,dataStartIndex:N,dataEndIndex:w}))))},{}),z=Txe(ae(ae({},G),{},{props:x,graphicalItems:F}),g==null?void 0:g.legendBBox);Object.keys(G).forEach(function(R){G[R]=u(x,G[R],z,R.replace("Map",""),n)});var H=G["".concat(I,"Map")],D=Pxe(H),U=p(x,ae(ae({},G),{},{dataStartIndex:N,dataEndIndex:w,updateId:k,graphicalItems:F,stackGroups:$,offset:z}));return ae(ae({formattedGraphicalItems:U,graphicalItems:F,offset:z,stackGroups:$},D),G)},v=function(y){function b(g){var x,N,w;return uxe(this,b),w=mxe(this,b,[g]),tt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tt(w,"accessibilityManager",new Xhe),tt(w,"handleLegendBBoxUpdate",function(k){if(k){var E=w.state,S=E.dataStartIndex,C=E.dataEndIndex,_=E.updateId;w.setState(ae({legendBBox:k},h({props:w.props,dataStartIndex:S,dataEndIndex:C,updateId:_},ae(ae({},w.state),{},{legendBBox:k}))))}}),tt(w,"handleReceiveSyncEvent",function(k,E,S){if(w.props.syncId===k){if(S===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),tt(w,"handleBrushChange",function(k){var E=k.startIndex,S=k.endIndex;if(E!==w.state.dataStartIndex||S!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return ae({dataStartIndex:E,dataEndIndex:S},h({props:w.props,dataStartIndex:E,dataEndIndex:S,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),tt(w,"handleMouseEnter",function(k){var E=w.getMouseInfo(k);if(E){var S=ae(ae({},E),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var C=w.props.onMouseEnter;ct(C)&&C(S,k)}}),tt(w,"triggeredAfterMouseMove",function(k){var E=w.getMouseInfo(k),S=E?ae(ae({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var C=w.props.onMouseMove;ct(C)&&C(S,k)}),tt(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),tt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),tt(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),tt(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var S=w.props.onMouseLeave;ct(S)&&S(E,k)}),tt(w,"handleOuterEvent",function(k){var E=a7(k),S=Dr(w.props,"".concat(E));if(E&&ct(S)){var C,_;/.*touch.*/i.test(E)?_=w.getMouseInfo(k.changedTouches[0]):_=w.getMouseInfo(k),S((C=_)!==null&&C!==void 0?C:{},k)}}),tt(w,"handleClick",function(k){var E=w.getMouseInfo(k);if(E){var S=ae(ae({},E),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var C=w.props.onClick;ct(C)&&C(S,k)}}),tt(w,"handleMouseDown",function(k){var E=w.props.onMouseDown;if(ct(E)){var S=w.getMouseInfo(k);E(S,k)}}),tt(w,"handleMouseUp",function(k){var E=w.props.onMouseUp;if(ct(E)){var S=w.getMouseInfo(k);E(S,k)}}),tt(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),tt(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),tt(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),tt(w,"handleDoubleClick",function(k){var E=w.props.onDoubleClick;if(ct(E)){var S=w.getMouseInfo(k);E(S,k)}}),tt(w,"handleContextMenu",function(k){var E=w.props.onContextMenu;if(ct(E)){var S=w.getMouseInfo(k);E(S,k)}}),tt(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&My.emit($y,w.props.syncId,k,w.eventEmitterSymbol)}),tt(w,"applySyncEvent",function(k){var E=w.props,S=E.layout,C=E.syncMethod,_=w.state.updateId,P=k.dataStartIndex,A=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(ae({dataStartIndex:P,dataEndIndex:A},h({props:w.props,dataStartIndex:P,dataEndIndex:A,updateId:_},w.state)));else if(k.activeTooltipIndex!==void 0){var O=k.chartX,I=k.chartY,F=k.activeTooltipIndex,$=w.state,G=$.offset,z=$.tooltipTicks;if(!G)return;if(typeof C=="function")F=C(z,k);else if(C==="value"){F=-1;for(var H=0;H<z.length;H++)if(z[H].value===k.activeLabel){F=H;break}}var D=ae(ae({},G),{},{x:G.left,y:G.top}),U=Math.min(O,D.x+D.width),R=Math.min(I,D.y+D.height),se=z[F]&&z[F].value,ge=Uj(w.state,w.props.data,F),te=z[F]?{x:S==="horizontal"?z[F].coordinate:U,y:S==="horizontal"?R:z[F].coordinate}:LD;w.setState(ae(ae({},k),{},{activeLabel:se,activeCoordinate:te,activePayload:ge,activeTooltipIndex:F}))}else w.setState(k)}),tt(w,"renderCursor",function(k){var E,S=w.state,C=S.isTooltipActive,_=S.activeCoordinate,P=S.activePayload,A=S.offset,O=S.activeTooltipIndex,I=S.tooltipAxisBandSize,F=w.getTooltipEventType(),$=(E=k.props.active)!==null&&E!==void 0?E:C,G=w.props.layout,z=k.key||"_recharts-cursor";return L.createElement(ixe,{key:z,activeCoordinate:_,activePayload:P,activeTooltipIndex:O,chartName:n,element:k,isActive:$,layout:G,offset:A,tooltipAxisBandSize:I,tooltipEventType:F})}),tt(w,"renderPolarAxis",function(k,E,S){var C=Dr(k,"type.axisType"),_=Dr(w.state,"".concat(C,"Map")),P=k.type.defaultProps,A=P!==void 0?ae(ae({},P),k.props):k.props,O=_&&_[A["".concat(C,"Id")]];return j.cloneElement(k,ae(ae({},O),{},{className:xt(C,O.className),key:k.key||"".concat(E,"-").concat(S),ticks:Ts(O,!0)}))}),tt(w,"renderPolarGrid",function(k){var E=k.props,S=E.radialLines,C=E.polarAngles,_=E.polarRadius,P=w.state,A=P.radiusAxisMap,O=P.angleAxisMap,I=va(A),F=va(O),$=F.cx,G=F.cy,z=F.innerRadius,H=F.outerRadius;return j.cloneElement(k,{polarAngles:Array.isArray(C)?C:Ts(F,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(_)?_:Ts(I,!0).map(function(D){return D.coordinate}),cx:$,cy:G,innerRadius:z,outerRadius:H,key:k.key||"polar-grid",radialLines:S})}),tt(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,E=w.props,S=E.children,C=E.width,_=E.height,P=w.props.margin||{},A=C-(P.left||0)-(P.right||0),O=g$({children:S,formattedGraphicalItems:k,legendWidth:A,legendContent:d});if(!O)return null;var I=O.item,F=iP(O,sxe);return j.cloneElement(I,ae(ae({},F),{},{chartWidth:C,chartHeight:_,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),tt(w,"renderTooltip",function(){var k,E=w.props,S=E.children,C=E.accessibilityLayer,_=Ar(S,vi);if(!_)return null;var P=w.state,A=P.isTooltipActive,O=P.activeCoordinate,I=P.activePayload,F=P.activeLabel,$=P.offset,G=(k=_.props.active)!==null&&k!==void 0?k:A;return j.cloneElement(_,{viewBox:ae(ae({},$),{},{x:$.left,y:$.top}),active:G,label:F,payload:G?I:[],coordinate:O,accessibilityLayer:C})}),tt(w,"renderBrush",function(k){var E=w.props,S=E.margin,C=E.data,_=w.state,P=_.offset,A=_.dataStartIndex,O=_.dataEndIndex,I=_.updateId;return j.cloneElement(k,{key:k.key||"_recharts-brush",onChange:cm(w.handleBrushChange,k.props.onChange),data:C,x:je(k.props.x)?k.props.x:P.left,y:je(k.props.y)?k.props.y:P.top+P.height+P.brushBottom-(S.bottom||0),width:je(k.props.width)?k.props.width:P.width,startIndex:A,endIndex:O,updateId:"brush-".concat(I)})}),tt(w,"renderReferenceElement",function(k,E,S){if(!k)return null;var C=w,_=C.clipPathId,P=w.state,A=P.xAxisMap,O=P.yAxisMap,I=P.offset,F=k.type.defaultProps||{},$=k.props,G=$.xAxisId,z=G===void 0?F.xAxisId:G,H=$.yAxisId,D=H===void 0?F.yAxisId:H;return j.cloneElement(k,{key:k.key||"".concat(E,"-").concat(S),xAxis:A[z],yAxis:O[D],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:_})}),tt(w,"renderActivePoints",function(k){var E=k.item,S=k.activePoint,C=k.basePoint,_=k.childIndex,P=k.isRange,A=[],O=E.props.key,I=E.item.type.defaultProps!==void 0?ae(ae({},E.item.type.defaultProps),E.item.props):E.item.props,F=I.activeDot,$=I.dataKey,G=ae(ae({index:_,dataKey:$,cx:S.x,cy:S.y,r:4,fill:k1(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},ot(F,!1)),bh(F));return A.push(b.renderActiveDot(F,G,"".concat(O,"-activePoint-").concat(_))),C?A.push(b.renderActiveDot(F,ae(ae({},G),{},{cx:C.x,cy:C.y}),"".concat(O,"-basePoint-").concat(_))):P&&A.push(null),A}),tt(w,"renderGraphicChild",function(k,E,S){var C=w.filterFormatItem(k,E,S);if(!C)return null;var _=w.getTooltipEventType(),P=w.state,A=P.isTooltipActive,O=P.tooltipAxis,I=P.activeTooltipIndex,F=P.activeLabel,$=w.props.children,G=Ar($,vi),z=C.props,H=z.points,D=z.isRange,U=z.baseLine,R=C.item.type.defaultProps!==void 0?ae(ae({},C.item.type.defaultProps),C.item.props):C.item.props,se=R.activeDot,ge=R.hide,te=R.activeBar,we=R.activeShape,me=!!(!ge&&A&&G&&(se||te||we)),Se={};_!=="axis"&&G&&G.props.trigger==="click"?Se={onClick:cm(w.handleItemMouseEnter,k.props.onClick)}:_!=="axis"&&(Se={onMouseLeave:cm(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:cm(w.handleItemMouseEnter,k.props.onMouseEnter)});var le=j.cloneElement(k,ae(ae({},C.props),Se));function xe(T){return typeof O.dataKey=="function"?O.dataKey(T.payload):null}if(me)if(I>=0){var ye,B;if(O.dataKey&&!O.allowDuplicatedCategory){var ce=typeof O.dataKey=="function"?xe:"payload.".concat(O.dataKey.toString());ye=vb(H,ce,F),B=D&&U&&vb(U,ce,F)}else ye=H==null?void 0:H[I],B=D&&U&&U[I];if(we||te){var de=k.props.activeIndex!==void 0?k.props.activeIndex:I;return[j.cloneElement(k,ae(ae(ae({},C.props),Se),{},{activeIndex:de})),null,null]}if(!gt(ye))return[le].concat(pd(w.renderActivePoints({item:C,activePoint:ye,basePoint:B,childIndex:I,isRange:D})))}else{var Pe,Ce=(Pe=w.getItemByXY(w.state.activeCoordinate))!==null&&Pe!==void 0?Pe:{graphicalItem:le},Xe=Ce.graphicalItem,st=Xe.item,Nt=st===void 0?k:st,mn=Xe.childIndex,kn=ae(ae(ae({},C.props),Se),{},{activeIndex:mn});return[j.cloneElement(Nt,kn),null,null]}return D?[le,null,null]:[le,null]}),tt(w,"renderCustomized",function(k,E,S){return j.cloneElement(k,ae(ae({key:"recharts-customized-".concat(S)},w.props),w.state))}),tt(w,"renderMap",{CartesianGrid:{handler:mm,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:mm},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:mm},YAxis:{handler:mm},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:wp("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=vM(w.triggeredAfterMouseMove,(N=g.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return vxe(b,y),pxe(b,[{key:"componentDidMount",value:function(){var x,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,N=x.children,w=x.data,k=x.height,E=x.layout,S=Ar(N,vi);if(S){var C=S.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var _=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,P=Uj(this.state,w,C,_),A=this.state.tooltipTicks[C].coordinate,O=(this.state.offset.top+k)/2,I=E==="horizontal",F=I?{x:A,y:O}:{y:A,x:O},$=this.state.formattedGraphicalItems.find(function(z){var H=z.item;return H.type.name==="Scatter"});$&&(F=ae(ae({},F),$.props.points[C].tooltipPosition),P=$.props.points[C].tooltipPayload);var G={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:_,activePayload:P,activeCoordinate:F};this.setState(G),this.renderCursor(S),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(x){yb([Ar(x.children,vi)],[Ar(this.props.children,vi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Ar(this.props.children,vi);if(x&&typeof x.props.shared=="boolean"){var N=x.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),k=Ine(w),E={chartX:Math.round(x.pageX-k.left),chartY:Math.round(x.pageY-k.top)},S=w.width/N.offsetWidth||1,C=this.inRange(E.chartX,E.chartY,S);if(!C)return null;var _=this.state,P=_.xAxisMap,A=_.yAxisMap,O=this.getTooltipEventType(),I=aP(this.state,this.props.data,this.props.layout,C);if(O!=="axis"&&P&&A){var F=va(P).scale,$=va(A).scale,G=F&&F.invert?F.invert(E.chartX):null,z=$&&$.invert?$.invert(E.chartY):null;return ae(ae({},E),{},{xValue:G,yValue:z},I)}return I?ae(ae({},E),I):null}},{key:"inRange",value:function(x,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=x/w,S=N/w;if(k==="horizontal"||k==="vertical"){var C=this.state.offset,_=E>=C.left&&E<=C.left+C.width&&S>=C.top&&S<=C.top+C.height;return _?{x:E,y:S}:null}var P=this.state,A=P.angleAxisMap,O=P.radiusAxisMap;if(A&&O){var I=va(A);return RA({x:E,y:S},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,N=this.getTooltipEventType(),w=Ar(x,vi),k={};w&&N==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=bh(this.props,this.handleOuterEvent);return ae(ae({},E),k)}},{key:"addListener",value:function(){My.on($y,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){My.removeListener($y,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,N,w){for(var k=this.state.formattedGraphicalItems,E=0,S=k.length;E<S;E++){var C=k[E];if(C.item===x||C.props.key===x.key||N===Rs(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,N=this.state.offset,w=N.left,k=N.top,E=N.height,S=N.width;return L.createElement("defs",null,L.createElement("clipPath",{id:x},L.createElement("rect",{x:w,y:k,height:E,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(N,w){var k=rP(w,2),E=k[0],S=k[1];return ae(ae({},N),{},tt({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(N,w){var k=rP(w,2),E=k[0],S=k[1];return ae(ae({},N),{},tt({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[x])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(x){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[x])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(x){var N=this.state,w=N.formattedGraphicalItems,k=N.activeItem;if(w&&w.length)for(var E=0,S=w.length;E<S;E++){var C=w[E],_=C.props,P=C.item,A=P.type.defaultProps!==void 0?ae(ae({},P.type.defaultProps),P.props):P.props,O=Rs(P.type);if(O==="Bar"){var I=(_.data||[]).find(function(z){return hde(x,z)});if(I)return{graphicalItem:C,payload:I}}else if(O==="RadialBar"){var F=(_.data||[]).find(function(z){return RA(x,z)});if(F)return{graphicalItem:C,payload:F}}else if(ig(C,k)||sg(C,k)||Rf(C,k)){var $=rfe({graphicalItem:C,activeTooltipItem:k,itemData:A.data}),G=A.activeIndex===void 0?$:A.activeIndex;return{graphicalItem:ae(ae({},C),{},{childIndex:G}),payload:Rf(C,k)?A.data[$]:C.props.data[$]}}}return null}},{key:"render",value:function(){var x=this;if(!Sk(this))return null;var N=this.props,w=N.children,k=N.className,E=N.width,S=N.height,C=N.style,_=N.compact,P=N.title,A=N.desc,O=iP(N,axe),I=ot(O,!1);if(_)return L.createElement(B2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(jb,Zl({},I,{width:E,height:S,title:P,desc:A}),this.renderClipPath(),kk(w,this.renderMap)));if(this.props.accessibilityLayer){var F,$;I.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,I.role=($=this.props.role)!==null&&$!==void 0?$:"application",I.onKeyDown=function(z){x.accessibilityManager.keyboardEvent(z)},I.onFocus=function(){x.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return L.createElement(B2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Zl({className:xt("recharts-wrapper",k),style:ae({position:"relative",cursor:"default",width:E,height:S},C)},G,{ref:function(H){x.container=H}}),L.createElement(jb,Zl({},I,{width:E,height:S,title:P,desc:A,style:Nxe}),this.renderClipPath(),kk(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);tt(v,"displayName",n),tt(v,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),tt(v,"getDerivedStateFromProps",function(y,b){var g=y.dataKey,x=y.data,N=y.children,w=y.width,k=y.height,E=y.layout,S=y.stackOffset,C=y.margin,_=b.dataStartIndex,P=b.dataEndIndex;if(b.updateId===void 0){var A=oP(y);return ae(ae(ae({},A),{},{updateId:0},h(ae(ae({props:y},A),{},{updateId:0}),b)),{},{prevDataKey:g,prevData:x,prevWidth:w,prevHeight:k,prevLayout:E,prevStackOffset:S,prevMargin:C,prevChildren:N})}if(g!==b.prevDataKey||x!==b.prevData||w!==b.prevWidth||k!==b.prevHeight||E!==b.prevLayout||S!==b.prevStackOffset||!dc(C,b.prevMargin)){var O=oP(y),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=ae(ae({},aP(b,x,E)),{},{updateId:b.updateId+1}),$=ae(ae(ae({},O),I),F);return ae(ae(ae({},$),h(ae({props:y},$),b)),{},{prevDataKey:g,prevData:x,prevWidth:w,prevHeight:k,prevLayout:E,prevStackOffset:S,prevMargin:C,prevChildren:N})}if(!yb(N,b.prevChildren)){var G,z,H,D,U=Ar(N,id),R=U&&(G=(z=U.props)===null||z===void 0?void 0:z.startIndex)!==null&&G!==void 0?G:_,se=U&&(H=(D=U.props)===null||D===void 0?void 0:D.endIndex)!==null&&H!==void 0?H:P,ge=R!==_||se!==P,te=!gt(x),we=te&&!ge?b.updateId:b.updateId+1;return ae(ae({updateId:we},h(ae(ae({props:y},b),{},{updateId:we,dataStartIndex:R,dataEndIndex:se}),b)),{},{prevChildren:N,dataStartIndex:R,dataEndIndex:se})}return null}),tt(v,"renderActiveDot",function(y,b,g){var x;return j.isValidElement(y)?x=j.cloneElement(y,b):ct(y)?x=y(b):x=L.createElement(A1,b),L.createElement(It,{className:"recharts-active-dot",key:g},x)});var m=j.forwardRef(function(b,g){return L.createElement(v,Zl({},b,{ref:g}))});return m.displayName=v.displayName,m},Ixe=zD({chartName:"BarChart",GraphicalChild:yl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ug},{axisType:"yAxis",AxisComp:fg}],formatAxisMap:Mpe}),Rxe=zD({chartName:"PieChart",GraphicalChild:ra,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rg},{axisType:"radiusAxis",AxisComp:tg}],formatAxisMap:Poe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Mxe(){const{data:e=[]}=Oe({queryKey:["/api/analyses"]}),{data:t}=Oe({queryKey:["/api/analytics"]}),i=e.filter(u=>u.status==="completed").slice(0,3),s=t!=null&&t.rootCauseDistribution?Object.entries(t.rootCauseDistribution).map(([u,f])=>({name:u,value:f})):[],a=t!=null&&t.confidenceDistribution?Object.entries(t.confidenceDistribution).map(([u,f])=>({name:u,value:f})):[],o=["#ef4444","#f59e0b","#3b82f6","#10b981","#8b5cf6"],l=u=>{switch(u){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},c=u=>u>=90?"confidence-high":u>=70?"confidence-medium":"confidence-low",d=u=>{const f=new Date,p=new Date(u),h=Math.floor((f.getTime()-p.getTime())/(1e3*60*60));if(h<1)return"Less than an hour ago";if(h===1)return"1 hour ago";if(h<24)return`${h} hours ago`;const v=Math.floor(h/24);return v===1?"1 day ago":`${v} days ago`};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(Y,{children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues Analyzed"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.totalAnalyses)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(oc,{className:"text-blue-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Ci,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"+12%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})}),r.jsx(Y,{children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Root Causes Identified"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.rootCausesIdentified)||0})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(_i,{className:"text-green-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Ci,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"+8%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"resolution rate"})]})]})}),r.jsx(Y,{children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Analysis Time"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.avgAnalysisTime)||"0m"})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Nr,{className:"text-yellow-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Ci,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"-15%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"faster than manual"})]})]})}),r.jsx(Y,{children:r.jsxs(Q,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[(t==null?void 0:t.successRate)||0,"%"]})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(ls,{className:"text-purple-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[r.jsx(Ci,{className:"w-4 h-4 text-accent mr-1"}),r.jsx("span",{className:"text-accent font-medium",children:"+3%"}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"accuracy improvement"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Root Cause Distribution"})}),r.jsx(Q,{children:r.jsx(NE,{width:"100%",height:300,children:r.jsxs(Rxe,{children:[r.jsx(ra,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:f})=>`${u} ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((u,f)=>r.jsx(qv,{fill:o[f%o.length]},`cell-${f}`))}),r.jsx(vi,{})]})})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Analysis Confidence Levels"})}),r.jsx(Q,{children:r.jsx(NE,{width:"100%",height:300,children:r.jsxs(Ixe,{data:a,children:[r.jsx(kD,{strokeDasharray:"3 3"}),r.jsx(ug,{dataKey:"name"}),r.jsx(fg,{}),r.jsx(vi,{}),r.jsx(yl,{dataKey:"value",fill:"hsl(217, 91%, 60%)"})]})})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{className:"flex flex-row items-center justify-between",children:[r.jsx(Z,{children:"Recent Root Cause Findings"}),r.jsx(W,{variant:"ghost",size:"sm",children:"View All"})]}),r.jsx(Q,{className:"space-y-4",children:i.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(wr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No completed analyses yet. Upload files to get started."})]}):i.map(u=>r.jsx("div",{className:"border border-border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"font-medium text-foreground",children:u.issueDescription}),r.jsxs(J,{className:l(u.priority),children:[u.priority.charAt(0).toUpperCase()+u.priority.slice(1)," Priority"]}),u.confidence&&r.jsxs(J,{className:c(u.confidence),children:[u.confidence,"% Confidence"]})]}),u.rootCause&&r.jsxs("p",{className:"text-muted-foreground text-sm mb-3",children:["Root cause identified: ",u.rootCause]}),u.recommendations&&Array.isArray(u.recommendations)&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Recommendations:"}),r.jsx("ul",{className:"text-sm text-muted-foreground ml-4 mt-1 space-y-1",children:u.recommendations.map((f,p)=>r.jsxs("li",{children:["• ",f]},p))})]})]}),r.jsxs("div",{className:"ml-4 flex flex-col items-end space-y-2",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-muted-foreground",children:d(u.createdAt)}),u.equipmentType&&r.jsx(J,{variant:"outline",className:"text-xs mt-1",children:u.equipmentType.charAt(0).toUpperCase()+u.equipmentType.slice(1).replace("_"," ")})]}),r.jsx(W,{variant:"ghost",size:"sm",children:"View Details"})]})]})},u.id))})]})]})}const ue=j.forwardRef(({className:e,type:t,...n},i)=>r.jsx("input",{type:t,className:Qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...n}));ue.displayName="Input";function Vj(e,[t,n]){return Math.min(n,Math.max(t,e))}var Fy=0;function BD(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cP()),document.body.insertAdjacentElement("beforeend",e[1]??cP()),Fy++,()=>{Fy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fy--}},[])}function cP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ly="focusScope.autoFocusOnMount",qy="focusScope.autoFocusOnUnmount",dP={bubbles:!1,cancelable:!0},$xe="FocusScope",F1=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=j.useState(null),d=un(s),u=un(a),f=j.useRef(null),p=yt(t,m=>c(m)),h=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(i){let m=function(x){if(h.paused||!l)return;const N=x.target;l.contains(N)?f.current=N:da(f.current,{select:!0})},y=function(x){if(h.paused||!l)return;const N=x.relatedTarget;N!==null&&(l.contains(N)||da(f.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const w of x)w.removedNodes.length>0&&da(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const g=new MutationObserver(b);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),g.disconnect()}}},[i,l,h.paused]),j.useEffect(()=>{if(l){fP.add(h);const m=document.activeElement;if(!l.contains(m)){const b=new CustomEvent(Ly,dP);l.addEventListener(Ly,d),l.dispatchEvent(b),b.defaultPrevented||(Dxe(Bxe(UD(l)),{select:!0}),document.activeElement===m&&da(l))}return()=>{l.removeEventListener(Ly,d),setTimeout(()=>{const b=new CustomEvent(qy,dP);l.addEventListener(qy,u),l.dispatchEvent(b),b.defaultPrevented||da(m??document.body,{select:!0}),l.removeEventListener(qy,u),fP.remove(h)},0)}}},[l,d,u,h]);const v=j.useCallback(m=>{if(!n&&!i||h.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(y&&b){const g=m.currentTarget,[x,N]=Fxe(g);x&&N?!m.shiftKey&&b===N?(m.preventDefault(),n&&da(x,{select:!0})):m.shiftKey&&b===x&&(m.preventDefault(),n&&da(N,{select:!0})):b===g&&m.preventDefault()}},[n,i,h.paused]);return r.jsx(nt.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});F1.displayName=$xe;function Dxe(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(da(i,{select:t}),document.activeElement!==n)return}function Fxe(e){const t=UD(e),n=uP(t,e),i=uP(t.reverse(),e);return[n,i]}function UD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function uP(e,t){for(const n of e)if(!Lxe(n,{upTo:t}))return n}function Lxe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qxe(e){return e instanceof HTMLInputElement&&"select"in e}function da(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&qxe(e)&&t&&e.select()}}var fP=zxe();function zxe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=pP(e,t),e.unshift(t)},remove(t){var n;e=pP(e,t),(n=e[0])==null||n.resume()}}}function pP(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function Bxe(e){return e.filter(t=>t.tagName!=="A")}function L1(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Uxe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},El=new WeakMap,hm=new WeakMap,xm={},zy=0,VD=function(e){return e&&(e.host||VD(e.parentNode))},Vxe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=VD(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Wxe=function(e,t,n,i){var s=Vxe(t,Array.isArray(e)?e:[e]);xm[n]||(xm[n]=new WeakMap);var a=xm[n],o=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))u(p);else try{var h=p.getAttribute(i),v=h!==null&&h!=="false",m=(El.get(p)||0)+1,y=(a.get(p)||0)+1;El.set(p,m),a.set(p,y),o.push(p),m===1&&v&&hm.set(p,!0),y===1&&p.setAttribute(n,"true"),v||p.setAttribute(i,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(t),l.clear(),zy++,function(){o.forEach(function(f){var p=El.get(f)-1,h=a.get(f)-1;El.set(f,p),a.set(f,h),p||(hm.has(f)||f.removeAttribute(i),hm.delete(f)),h||f.removeAttribute(n)}),zy--,zy||(El=new WeakMap,El=new WeakMap,hm=new WeakMap,xm={})}},WD=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=Uxe(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live]"))),Wxe(i,s,n,"aria-hidden")):function(){return null}},Gi=function(){return Gi=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Gi.apply(this,arguments)};function HD(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function bl(e,t,n,i){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(i.next(u))}catch(f){o(f)}}function c(u){try{d(i.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):s(u.value).then(l,c)}d((i=i.apply(e,t||[])).next())})}function Hxe(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}var qm="right-scroll-bar-position",zm="width-before-scroll-bar",Gxe="with-scroll-bars-hidden",Kxe="--removed-body-scroll-bar-size";function By(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Yxe(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var Qxe=typeof window<"u"?j.useLayoutEffect:j.useEffect,mP=new WeakMap;function Xxe(e,t){var n=Yxe(null,function(i){return e.forEach(function(s){return By(s,i)})});return Qxe(function(){var i=mP.get(n);if(i){var s=new Set(i),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||By(l,null)}),a.forEach(function(l){s.has(l)||By(l,o)})}mP.set(n,e)},[e]),n}function Zxe(e){return e}function Jxe(e,t){t===void 0&&(t=Zxe);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,i);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(i=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){i=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return s}function eve(e){e===void 0&&(e={});var t=Jxe(null);return t.options=Gi({async:!0,ssr:!1},e),t}var GD=function(e){var t=e.sideCar,n=HD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return j.createElement(i,Gi({},n))};GD.isSideCarExport=!0;function tve(e,t){return e.useMedium(t),GD}var KD=eve(),Uy=function(){},mg=j.forwardRef(function(e,t){var n=j.useRef(null),i=j.useState({onScrollCapture:Uy,onWheelCapture:Uy,onTouchMoveCapture:Uy}),s=i[0],a=i[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,v=e.inert,m=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,g=e.gapMode,x=HD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,w=Xxe([n,t]),k=Gi(Gi({},x),s);return j.createElement(j.Fragment,null,u&&j.createElement(N,{sideCar:KD,removeScrollBar:d,shards:f,noIsolation:h,inert:v,setCallbacks:a,allowPinchZoom:!!m,lockRef:n,gapMode:g}),o?j.cloneElement(j.Children.only(l),Gi(Gi({},k),{ref:w})):j.createElement(b,Gi({},k,{className:c,ref:w}),l))});mg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mg.classNames={fullWidth:zm,zeroRight:qm};var nve=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rve(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nve();return t&&e.setAttribute("nonce",t),e}function ive(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sve(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ave=function(){var e=0,t=null;return{add:function(n){e==0&&(t=rve())&&(ive(t,n),sve(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ove=function(){var e=ave();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},YD=function(){var e=ove(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},lve={left:0,top:0,right:0,gap:0},Vy=function(e){return parseInt(e||"",10)||0},cve=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Vy(n),Vy(i),Vy(s)]},dve=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lve;var t=cve(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},uve=YD(),mc="data-scroll-locked",fve=function(e,t,n,i){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Gxe,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(mc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qm,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(zm,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(qm," .").concat(qm,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(zm," .").concat(zm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(mc,`] {
    `).concat(Kxe,": ").concat(l,`px;
  }
`)},hP=function(){var e=parseInt(document.body.getAttribute(mc)||"0",10);return isFinite(e)?e:0},pve=function(){j.useEffect(function(){return document.body.setAttribute(mc,(hP()+1).toString()),function(){var e=hP()-1;e<=0?document.body.removeAttribute(mc):document.body.setAttribute(mc,e.toString())}},[])},mve=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;pve();var a=j.useMemo(function(){return dve(s)},[s]);return j.createElement(uve,{styles:fve(a,!t,s,n?"":"!important")})},Wj=!1;if(typeof window<"u")try{var vm=Object.defineProperty({},"passive",{get:function(){return Wj=!0,!0}});window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{Wj=!1}var Al=Wj?{passive:!1}:!1,hve=function(e){return e.tagName==="TEXTAREA"},QD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!hve(e)&&n[t]==="visible")},xve=function(e){return QD(e,"overflowY")},vve=function(e){return QD(e,"overflowX")},xP=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=XD(e,i);if(s){var a=ZD(e,i),o=a[1],l=a[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},gve=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},yve=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},XD=function(e,t){return e==="v"?xve(t):vve(t)},ZD=function(e,t){return e==="v"?gve(t):yve(t)},bve=function(e,t){return e==="h"&&t==="rtl"?-1:1},jve=function(e,t,n,i,s){var a=bve(e,window.getComputedStyle(t).direction),o=a*i,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,p=0;do{var h=ZD(e,l),v=h[0],m=h[1],y=h[2],b=m-y-a*v;(v||b)&&XD(e,l)&&(f+=b,p+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(d=!0),d},gm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vP=function(e){return[e.deltaX,e.deltaY]},gP=function(e){return e&&"current"in e?e.current:e},wve=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Nve=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Sve=0,Pl=[];function Cve(e){var t=j.useRef([]),n=j.useRef([0,0]),i=j.useRef(),s=j.useState(Sve++)[0],a=j.useState(YD)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Hxe([e.lockRef.current],(e.shards||[]).map(gP),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=gm(m),g=n.current,x="deltaX"in m?m.deltaX:g[0]-b[0],N="deltaY"in m?m.deltaY:g[1]-b[1],w,k=m.target,E=Math.abs(x)>Math.abs(N)?"h":"v";if("touches"in m&&E==="h"&&k.type==="range")return!1;var S=xP(E,k);if(!S)return!0;if(S?w=E:(w=E==="v"?"h":"v",S=xP(E,k)),!S)return!1;if(!i.current&&"changedTouches"in m&&(x||N)&&(i.current=w),!w)return!0;var C=i.current||w;return jve(C,y,m,C==="h"?x:N,!0)},[]),c=j.useCallback(function(m){var y=m;if(!(!Pl.length||Pl[Pl.length-1]!==a)){var b="deltaY"in y?vP(y):gm(y),g=t.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&wve(w.delta,b)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(gP).filter(Boolean).filter(function(w){return w.contains(y.target)}),N=x.length>0?l(y,x[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=j.useCallback(function(m,y,b,g){var x={name:m,delta:y,target:b,should:g,shadowParent:kve(b)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(N){return N!==x})},1)},[]),u=j.useCallback(function(m){n.current=gm(m),i.current=void 0},[]),f=j.useCallback(function(m){d(m.type,vP(m),m.target,l(m,e.lockRef.current))},[]),p=j.useCallback(function(m){d(m.type,gm(m),m.target,l(m,e.lockRef.current))},[]);j.useEffect(function(){return Pl.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Al),document.addEventListener("touchmove",c,Al),document.addEventListener("touchstart",u,Al),function(){Pl=Pl.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Al),document.removeEventListener("touchmove",c,Al),document.removeEventListener("touchstart",u,Al)}},[]);var h=e.removeScrollBar,v=e.inert;return j.createElement(j.Fragment,null,v?j.createElement(a,{styles:Nve(s)}):null,h?j.createElement(mve,{gapMode:e.gapMode}):null)}function kve(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Eve=tve(KD,Cve);var q1=j.forwardRef(function(e,t){return j.createElement(mg,Gi({},e,{ref:t,sideCar:Eve}))});q1.classNames=mg.classNames;var Ave=[" ","Enter","ArrowUp","ArrowDown"],Pve=[" ","Enter"],Ap="Select",[hg,xg,Ove]=uN(Ap),[Ld,aNe]=Ur(Ap,[Ove,uv]),vg=uv(),[Tve,so]=Ld(Ap),[_ve,Ive]=Ld(Ap),JD=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:p,required:h,form:v}=e,m=vg(t),[y,b]=j.useState(null),[g,x]=j.useState(null),[N,w]=j.useState(!1),k=xv(d),[E=!1,S]=Us({prop:i,defaultProp:s,onChange:a}),[C,_]=Us({prop:o,defaultProp:l,onChange:c}),P=j.useRef(null),A=y?v||!!y.closest("form"):!0,[O,I]=j.useState(new Set),F=Array.from(O).map($=>$.props.value).join(";");return r.jsx(NR,{...m,children:r.jsxs(Tve,{required:h,scope:t,trigger:y,onTriggerChange:b,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:ts(),value:C,onValueChange:_,open:E,onOpenChange:S,dir:k,triggerPointerDownPosRef:P,disabled:p,children:[r.jsx(hg.Provider,{scope:t,children:r.jsx(_ve,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback($=>{I(G=>new Set(G).add($))},[]),onNativeOptionRemove:j.useCallback($=>{I(G=>{const z=new Set(G);return z.delete($),z})},[]),children:n})}),A?r.jsxs(SF,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:C,onChange:$=>_($.target.value),disabled:p,form:v,children:[C===void 0?r.jsx("option",{value:""}):null,Array.from(O)]},F):null]})})};JD.displayName=Ap;var eF="SelectTrigger",tF=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,a=vg(n),o=so(eF,n),l=o.disabled||i,c=yt(t,o.onTriggerChange),d=xg(n),u=j.useRef("touch"),[f,p,h]=CF(m=>{const y=d().filter(x=>!x.disabled),b=y.find(x=>x.value===o.value),g=kF(y,m,b);g!==void 0&&o.onValueChange(g.value)}),v=m=>{l||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return r.jsx(SR,{asChild:!0,...a,children:r.jsx(nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":NF(o.value)?"":void 0,...s,ref:c,onClick:He(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&v(m)}),onPointerDown:He(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:He(s.onKeyDown,m=>{const y=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(y&&m.key===" ")&&Ave.includes(m.key)&&(v(),m.preventDefault())})})})});tF.displayName=eF;var nF="SelectValue",rF=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,children:a,placeholder:o="",...l}=e,c=so(nF,n),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,f=yt(t,c.onValueNodeChange);return pn(()=>{d(u)},[d,u]),r.jsx(nt.span,{...l,ref:f,style:{pointerEvents:"none"},children:NF(c.value)?r.jsx(r.Fragment,{children:o}):a})});rF.displayName=nF;var Rve="SelectIcon",iF=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...s}=e;return r.jsx(nt.span,{"aria-hidden":!0,...s,ref:t,children:i||"▼"})});iF.displayName=Rve;var Mve="SelectPortal",sF=e=>r.jsx(rv,{asChild:!0,...e});sF.displayName=Mve;var al="SelectContent",aF=j.forwardRef((e,t)=>{const n=so(al,e.__scopeSelect),[i,s]=j.useState();if(pn(()=>{s(new DocumentFragment)},[]),!n.open){const a=i;return a?ml.createPortal(r.jsx(oF,{scope:e.__scopeSelect,children:r.jsx(hg.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(lF,{...e,ref:t})});aF.displayName=al;var pi=10,[oF,ao]=Ld(al),$ve="SelectContentImpl",Dve=Fc("SelectContent.RemoveScroll"),lF=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:y,...b}=e,g=so(al,n),[x,N]=j.useState(null),[w,k]=j.useState(null),E=yt(t,me=>N(me)),[S,C]=j.useState(null),[_,P]=j.useState(null),A=xg(n),[O,I]=j.useState(!1),F=j.useRef(!1);j.useEffect(()=>{if(x)return WD(x)},[x]),BD();const $=j.useCallback(me=>{const[Se,...le]=A().map(B=>B.ref.current),[xe]=le.slice(-1),ye=document.activeElement;for(const B of me)if(B===ye||(B==null||B.scrollIntoView({block:"nearest"}),B===Se&&w&&(w.scrollTop=0),B===xe&&w&&(w.scrollTop=w.scrollHeight),B==null||B.focus(),document.activeElement!==ye))return},[A,w]),G=j.useCallback(()=>$([S,x]),[$,S,x]);j.useEffect(()=>{O&&G()},[O,G]);const{onOpenChange:z,triggerPointerDownPosRef:H}=g;j.useEffect(()=>{if(x){let me={x:0,y:0};const Se=xe=>{var ye,B;me={x:Math.abs(Math.round(xe.pageX)-(((ye=H.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((B=H.current)==null?void 0:B.y)??0))}},le=xe=>{me.x<=10&&me.y<=10?xe.preventDefault():x.contains(xe.target)||z(!1),document.removeEventListener("pointermove",Se),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",le,{capture:!0})}}},[x,z,H]),j.useEffect(()=>{const me=()=>z(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[z]);const[D,U]=CF(me=>{const Se=A().filter(ye=>!ye.disabled),le=Se.find(ye=>ye.ref.current===document.activeElement),xe=kF(Se,me,le);xe&&setTimeout(()=>xe.ref.current.focus())}),R=j.useCallback((me,Se,le)=>{const xe=!F.current&&!le;(g.value!==void 0&&g.value===Se||xe)&&(C(me),xe&&(F.current=!0))},[g.value]),se=j.useCallback(()=>x==null?void 0:x.focus(),[x]),ge=j.useCallback((me,Se,le)=>{const xe=!F.current&&!le;(g.value!==void 0&&g.value===Se||xe)&&P(me)},[g.value]),te=i==="popper"?Hj:cF,we=te===Hj?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:y}:{};return r.jsx(oF,{scope:n,content:x,viewport:w,onViewportChange:k,itemRefCallback:R,selectedItem:S,onItemLeave:se,itemTextRefCallback:ge,focusSelectedItem:G,selectedItemText:_,position:i,isPositioned:O,searchRef:D,children:r.jsx(q1,{as:Dve,allowPinchZoom:!0,children:r.jsx(F1,{asChild:!0,trapped:g.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:He(s,me=>{var Se;(Se=g.trigger)==null||Se.focus({preventScroll:!0}),me.preventDefault()}),children:r.jsx(fp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:r.jsx(te,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:me=>me.preventDefault(),...b,...we,onPlaced:()=>I(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:He(b.onKeyDown,me=>{const Se=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Se&&me.key.length===1&&U(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let xe=A().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(me.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const ye=me.target,B=xe.indexOf(ye);xe=xe.slice(B+1)}setTimeout(()=>$(xe)),me.preventDefault()}})})})})})})});lF.displayName=$ve;var Fve="SelectItemAlignedPosition",cF=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,a=so(al,n),o=ao(al,n),[l,c]=j.useState(null),[d,u]=j.useState(null),f=yt(t,E=>u(E)),p=xg(n),h=j.useRef(!1),v=j.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:b,focusSelectedItem:g}=o,x=j.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&m&&y&&b){const E=a.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),_=b.getBoundingClientRect();if(a.dir!=="rtl"){const ye=_.left-S.left,B=C.left-ye,ce=E.left-B,de=E.width+ce,Pe=Math.max(de,S.width),Ce=window.innerWidth-pi,Xe=Vj(B,[pi,Math.max(pi,Ce-Pe)]);l.style.minWidth=de+"px",l.style.left=Xe+"px"}else{const ye=S.right-_.right,B=window.innerWidth-C.right-ye,ce=window.innerWidth-E.right-B,de=E.width+ce,Pe=Math.max(de,S.width),Ce=window.innerWidth-pi,Xe=Vj(B,[pi,Math.max(pi,Ce-Pe)]);l.style.minWidth=de+"px",l.style.right=Xe+"px"}const P=p(),A=window.innerHeight-pi*2,O=m.scrollHeight,I=window.getComputedStyle(d),F=parseInt(I.borderTopWidth,10),$=parseInt(I.paddingTop,10),G=parseInt(I.borderBottomWidth,10),z=parseInt(I.paddingBottom,10),H=F+$+O+z+G,D=Math.min(y.offsetHeight*5,H),U=window.getComputedStyle(m),R=parseInt(U.paddingTop,10),se=parseInt(U.paddingBottom,10),ge=E.top+E.height/2-pi,te=A-ge,we=y.offsetHeight/2,me=y.offsetTop+we,Se=F+$+me,le=H-Se;if(Se<=ge){const ye=P.length>0&&y===P[P.length-1].ref.current;l.style.bottom="0px";const B=d.clientHeight-m.offsetTop-m.offsetHeight,ce=Math.max(te,we+(ye?se:0)+B+G),de=Se+ce;l.style.height=de+"px"}else{const ye=P.length>0&&y===P[0].ref.current;l.style.top="0px";const ce=Math.max(ge,F+m.offsetTop+(ye?R:0)+we)+le;l.style.height=ce+"px",m.scrollTop=Se-ge+m.offsetTop}l.style.margin=`${pi}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=A+"px",i==null||i(),requestAnimationFrame(()=>h.current=!0)}},[p,a.trigger,a.valueNode,l,d,m,y,b,a.dir,i]);pn(()=>x(),[x]);const[N,w]=j.useState();pn(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const k=j.useCallback(E=>{E&&v.current===!0&&(x(),g==null||g(),v.current=!1)},[x,g]);return r.jsx(qve,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:k,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:r.jsx(nt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});cF.displayName=Fve;var Lve="SelectPopperPosition",Hj=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=pi,...a}=e,o=vg(n);return r.jsx(CR,{...o,...a,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hj.displayName=Lve;var[qve,z1]=Ld(al,{}),Gj="SelectViewport",dF=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...s}=e,a=ao(Gj,n),o=z1(Gj,n),l=yt(t,a.onViewportChange),c=j.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(hg.Slot,{scope:n,children:r.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:He(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const h=Math.abs(c.current-u.scrollTop);if(h>0){const v=window.innerHeight-pi*2,m=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(m,y);if(b<v){const g=b+h,x=Math.min(v,g),N=g-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});dF.displayName=Gj;var uF="SelectGroup",[zve,Bve]=Ld(uF),Uve=j.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=ts();return r.jsx(zve,{scope:n,id:s,children:r.jsx(nt.div,{role:"group","aria-labelledby":s,...i,ref:t})})});Uve.displayName=uF;var fF="SelectLabel",pF=j.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=Bve(fF,n);return r.jsx(nt.div,{id:s.id,...i,ref:t})});pF.displayName=fF;var gx="SelectItem",[Vve,mF]=Ld(gx),hF=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:a,...o}=e,l=so(gx,n),c=ao(gx,n),d=l.value===i,[u,f]=j.useState(a??""),[p,h]=j.useState(!1),v=yt(t,g=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,g,i,s)}),m=ts(),y=j.useRef("touch"),b=()=>{s||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Vve,{scope:n,value:i,disabled:s,textId:m,isSelected:d,onItemTextChange:j.useCallback(g=>{f(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:r.jsx(hg.ItemSlot,{scope:n,value:i,disabled:s,textValue:u,children:r.jsx(nt.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:He(o.onFocus,()=>h(!0)),onBlur:He(o.onBlur,()=>h(!1)),onClick:He(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:He(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:He(o.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:He(o.onPointerMove,g=>{var x;y.current=g.pointerType,s?(x=c.onItemLeave)==null||x.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:He(o.onKeyDown,g=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&g.key===" "||(Pve.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});hF.displayName=gx;var gu="SelectItemText",xF=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:s,...a}=e,o=so(gu,n),l=ao(gu,n),c=mF(gu,n),d=Ive(gu,n),[u,f]=j.useState(null),p=yt(t,b=>f(b),c.onItemTextChange,b=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,b,c.value,c.disabled)}),h=u==null?void 0:u.textContent,v=j.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=d;return pn(()=>(m(v),()=>y(v)),[m,y,v]),r.jsxs(r.Fragment,{children:[r.jsx(nt.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ml.createPortal(a.children,o.valueNode):null]})});xF.displayName=gu;var vF="SelectItemIndicator",gF=j.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return mF(vF,n).isSelected?r.jsx(nt.span,{"aria-hidden":!0,...i,ref:t}):null});gF.displayName=vF;var Kj="SelectScrollUpButton",yF=j.forwardRef((e,t)=>{const n=ao(Kj,e.__scopeSelect),i=z1(Kj,e.__scopeSelect),[s,a]=j.useState(!1),o=yt(t,i.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(jF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yF.displayName=Kj;var Yj="SelectScrollDownButton",bF=j.forwardRef((e,t)=>{const n=ao(Yj,e.__scopeSelect),i=z1(Yj,e.__scopeSelect),[s,a]=j.useState(!1),o=yt(t,i.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(jF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});bF.displayName=Yj;var jF=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,a=ao("SelectScrollButton",n),o=j.useRef(null),l=xg(n),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),pn(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(nt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:He(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:He(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:He(s.onPointerLeave,()=>{c()})})}),Wve="SelectSeparator",wF=j.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return r.jsx(nt.div,{"aria-hidden":!0,...i,ref:t})});wF.displayName=Wve;var Qj="SelectArrow",Hve=j.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,s=vg(n),a=so(Qj,n),o=ao(Qj,n);return a.open&&o.position==="popper"?r.jsx(kR,{...s,...i,ref:t}):null});Hve.displayName=Qj;function NF(e){return e===""||e===void 0}var SF=j.forwardRef((e,t)=>{const{value:n,...i}=e,s=j.useRef(null),a=yt(t,s),o=L1(n);return j.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const f=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(f)}},[o,n]),r.jsx(pp,{asChild:!0,children:r.jsx("select",{...i,ref:a,defaultValue:n})})});SF.displayName="BubbleSelect";function CF(e){const t=un(e),n=j.useRef(""),i=j.useRef(0),s=j.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(i.current),d!==""&&(i.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=j.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,a]}function kF(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Gve(e,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Gve(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var Kve=JD,EF=tF,Yve=rF,Qve=iF,Xve=sF,AF=aF,Zve=dF,PF=pF,OF=hF,Jve=xF,ege=gF,TF=yF,_F=bF,IF=wF;const Be=Kve,Ue=Yve,qe=j.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(EF,{ref:i,className:Qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Qve,{asChild:!0,children:r.jsx(hN,{className:"h-4 w-4 opacity-50"})})]}));qe.displayName=EF.displayName;const RF=j.forwardRef(({className:e,...t},n)=>r.jsx(TF,{ref:n,className:Qe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(FI,{className:"h-4 w-4"})}));RF.displayName=TF.displayName;const MF=j.forwardRef(({className:e,...t},n)=>r.jsx(_F,{ref:n,className:Qe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(hN,{className:"h-4 w-4"})}));MF.displayName=_F.displayName;const Ve=j.forwardRef(({className:e,children:t,position:n="popper",...i},s)=>r.jsx(Xve,{children:r.jsxs(AF,{ref:s,className:Qe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[r.jsx(RF,{}),r.jsx(Zve,{className:Qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(MF,{})]})}));Ve.displayName=AF.displayName;const tge=j.forwardRef(({className:e,...t},n)=>r.jsx(PF,{ref:n,className:Qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));tge.displayName=PF.displayName;const ee=j.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(OF,{ref:i,className:Qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(ege,{children:r.jsx(DI,{className:"h-4 w-4"})})}),r.jsx(Jve,{children:t})]}));ee.displayName=OF.displayName;const nge=j.forwardRef(({className:e,...t},n)=>r.jsx(IF,{ref:n,className:Qe("-mx-1 my-1 h-px bg-muted",e),...t}));nge.displayName=IF.displayName;const Ki=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Qe("w-full caption-bottom text-sm",e),...t})}));Ki.displayName="Table";const Yi=j.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Qe("[&_tr]:border-b",e),...t}));Yi.displayName="TableHeader";const Qi=j.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Qe("[&_tr:last-child]:border-0",e),...t}));Qi.displayName="TableBody";const rge=j.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Qe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rge.displayName="TableFooter";const en=j.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Qe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));en.displayName="TableRow";const rt=j.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Qe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));rt.displayName="TableHead";const Je=j.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Qe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Je.displayName="TableCell";const ige=j.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Qe("mt-4 text-sm text-muted-foreground",e),...t}));ige.displayName="TableCaption";function sge(){const[e,t]=j.useState(""),[n,i]=j.useState("all"),[s,a]=j.useState("all"),[o,l]=j.useState("all"),[c,d]=j.useState(1),[,u]=ai(),f=10,p=new URLSearchParams;e&&p.set("search",e),n&&n!=="all"&&p.set("priority",n),s&&s!=="all"&&p.set("dateRange",s),p.set("status",o);const{data:h=[],isLoading:v,refetch:m}=Oe({queryKey:["/api/analyses",p.toString()],queryFn:async()=>{const E=`/api/analyses${p.toString()?`?${p.toString()}`:""}`,S=await fetch(E);if(!S.ok)throw new Error("Failed to fetch analyses");return S.json()}}),y=Math.ceil(h.length/f),b=(c-1)*f,g=h.slice(b,b+f),x=E=>{switch(E){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},N=E=>E?E>=90?"confidence-high":E>=70?"confidence-medium":"confidence-low":"bg-gray-100 text-gray-800",w=E=>new Date(E).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),k=()=>{console.log("Export functionality would be implemented here")};return r.jsxs("div",{className:"space-y-8",children:[r.jsx(Y,{children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(_i,{className:"text-muted-foreground",size:16})}),r.jsx(ue,{placeholder:"Search analyses...",value:e,onChange:E=>t(E.target.value),className:"pl-10"})]}),r.jsxs(Be,{value:n,onValueChange:i,children:[r.jsx(qe,{className:"w-full sm:w-[180px]",children:r.jsx(Ue,{placeholder:"All Priorities"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"all",children:"All Priorities"}),r.jsx(ee,{value:"high",children:"High Priority"}),r.jsx(ee,{value:"medium",children:"Medium Priority"}),r.jsx(ee,{value:"low",children:"Low Priority"})]})]}),r.jsxs(Be,{value:s,onValueChange:a,children:[r.jsx(qe,{className:"w-full sm:w-[180px]",children:r.jsx(Ue,{placeholder:"All Time"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"all",children:"All Time"}),r.jsx(ee,{value:"today",children:"Today"}),r.jsx(ee,{value:"week",children:"This Week"}),r.jsx(ee,{value:"month",children:"This Month"}),r.jsx(ee,{value:"quarter",children:"This Quarter"})]})]}),r.jsxs(Be,{value:o,onValueChange:l,children:[r.jsx(qe,{className:"w-40",children:r.jsx(Ue,{placeholder:"Status"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:"draft",children:"Drafts Only"}),r.jsx(ee,{value:"completed",children:"Completed Only"})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{variant:"outline",onClick:k,children:[r.jsx(cr,{className:"w-4 h-4 mr-2"}),"Export"]}),r.jsxs(W,{variant:"outline",onClick:()=>m(),children:[r.jsx(Kn,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Analysis History"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete record of all root cause analyses"})]}),r.jsx(Q,{children:v?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Kn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):h.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:"No analyses found matching your criteria."})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(en,{children:[r.jsx(rt,{className:"min-w-[120px]",children:"Analysis ID"}),r.jsx(rt,{className:"min-w-[140px]",children:"Equipment"}),r.jsx(rt,{className:"min-w-[200px]",children:"Issue Description"}),r.jsx(rt,{className:"min-w-[200px]",children:"Root Cause"}),r.jsx(rt,{className:"min-w-[100px]",children:"Confidence"}),r.jsx(rt,{className:"min-w-[90px]",children:"Priority"}),r.jsx(rt,{className:"min-w-[140px]",children:"Date"}),r.jsx(rt,{className:"min-w-[160px] sticky right-0 bg-background",children:"Actions"})]})}),r.jsx(Qi,{children:g.map(E=>{var S,C,_;return r.jsxs(en,{className:"hover:bg-muted/50",children:[r.jsx(Je,{className:"font-medium min-w-[120px]",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:E.investigationId}),E.isDraft&&r.jsx(J,{variant:"outline",className:"text-xs w-fit mt-1",children:"Draft"})]})}),r.jsx(Je,{className:"min-w-[140px]",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:((S=E.equipmentType)==null?void 0:S.charAt(0).toUpperCase())+((C=E.equipmentType)==null?void 0:C.slice(1).replace("_"," "))}),((_=E.evidenceData)==null?void 0:_.equipment_tag)&&r.jsx("span",{className:"text-xs text-muted-foreground",children:E.evidenceData.equipment_tag}),E.location&&r.jsx("span",{className:"text-xs text-muted-foreground",children:E.location})]})}),r.jsx(Je,{className:"min-w-[200px] max-w-[250px] truncate",children:E.whatHappened}),r.jsx(Je,{className:"min-w-[200px] max-w-[250px] truncate",children:E.cause||"Processing..."}),r.jsx(Je,{className:"min-w-[100px]",children:E.confidence&&!E.isDraft?r.jsxs(J,{className:N(E.confidence),children:[E.confidence,"%"]}):r.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),r.jsx(Je,{className:"min-w-[90px]",children:r.jsx(J,{className:x(E.priority),children:E.priority.charAt(0).toUpperCase()+E.priority.slice(1)})}),r.jsx(Je,{className:"text-sm min-w-[140px]",children:w(E.createdAt)}),r.jsx(Je,{className:"min-w-[160px] sticky right-0 bg-background",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{E.isDraft?u(`/equipment-selection?incident=${E.id}`):u(`/analysis-details/${E.id}`)},className:"text-xs px-2",children:E.isDraft?"Continue":"Details"}),r.jsx(W,{variant:"ghost",size:"sm",className:"text-xs px-2",children:"Export"})]})})]},E.id)})})]})}),y>1&&r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",b+1," to ",Math.min(b+f,h.length)," of ",h.length," results"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>d(Math.max(1,c-1)),disabled:c===1,children:[r.jsx(xz,{className:"w-4 h-4"}),"Previous"]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",c," of ",y]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>d(Math.min(y,c+1)),disabled:c===y,children:["Next",r.jsx(hp,{className:"w-4 h-4"})]})]})]})]})})]})]})}function age(){return r.jsx("div",{className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(_t,{className:"h-5 w-5"}),"Evidence-First Root Cause Analysis"]}),r.jsx(ve,{children:"Comprehensive, systematic approach to accurate root cause identification"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs(Kt,{children:[r.jsx(_i,{className:"h-4 w-4"}),r.jsxs(Yt,{children:[r.jsx("strong",{children:"Enhanced Workflow:"})," Our new evidence-driven process guides you through structured data collection before AI analysis, ensuring higher accuracy and confidence."]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(J,{variant:"outline",children:"1"}),r.jsx("h4",{className:"font-medium",children:"Evidence Collection"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured questionnaire covering asset context, symptoms, operating conditions, and maintenance history"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(J,{variant:"outline",children:"2"}),r.jsx("h4",{className:"font-medium",children:"AI Analysis"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced root cause analysis using collected evidence with confidence scoring and reasoning"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(J,{variant:"outline",children:"3"}),r.jsx("h4",{className:"font-medium",children:"Results & Action"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Detailed findings with actionable recommendations and comprehensive audit trail"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsx(vn,{href:"/incident-reporting",className:"flex-1",children:r.jsxs(W,{className:"w-full flex items-center gap-2",size:"lg",children:[r.jsx(Zt,{className:"h-5 w-5"}),"Report New Incident",r.jsx(Ir,{className:"h-4 w-4 ml-auto"})]})}),r.jsx(vn,{href:"/new",className:"flex-1",children:r.jsxs(W,{variant:"outline",className:"w-full flex items-center gap-2",size:"lg",children:[r.jsx(_i,{className:"h-5 w-5"}),"Legacy Analysis Upload",r.jsx(Ir,{className:"h-4 w-4 ml-auto"})]})})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[r.jsx("p",{className:"font-medium mb-1",children:"What makes this better?"}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:"• Systematic evidence gathering prevents missed critical information"}),r.jsx("li",{children:"• Equipment-specific questions provide relevant context"}),r.jsx("li",{children:"• Structured data ensures consistent, auditable analysis"}),r.jsx("li",{children:"• Higher confidence scores through comprehensive input"})]})]})]})]})})}function oge(){const[,e]=ai();return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"w-8 h-8 rounded-lg object-contain"}),r.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Quanntaum RCA Intelligence Pro"}),r.jsx(J,{className:"enterprise-gradient text-white text-xs px-2 py-1 font-medium",children:"AI-Powered"})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx("span",{className:"w-2 h-2 bg-accent rounded-full"}),r.jsx("span",{children:"System Active"})]}),r.jsxs(W,{variant:"secondary",onClick:()=>e("/admin"),className:"text-sm font-medium",children:[r.jsx(xN,{className:"w-4 h-4 mr-2"}),"Admin Settings"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs(Zn,{defaultValue:"upload",className:"w-full",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-3 mb-8",children:[r.jsxs(Te,{value:"upload",className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("span",{children:"Upload & Analyze"})]}),r.jsxs(Te,{value:"dashboard",className:"flex items-center space-x-2",children:[r.jsx(Vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Dashboard"})]}),r.jsxs(Te,{value:"history",className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"Analysis History"})]})]}),r.jsx(Ee,{value:"upload",children:r.jsx(age,{})}),r.jsx(Ee,{value:"dashboard",children:r.jsx(Mxe,{})}),r.jsx(Ee,{value:"history",children:r.jsx(sge,{})})]})})]})}var lge="Separator",yP="horizontal",cge=["horizontal","vertical"],$F=j.forwardRef((e,t)=>{const{decorative:n,orientation:i=yP,...s}=e,a=dge(i)?i:yP,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(nt.div,{"data-orientation":a,...l,...s,ref:t})});$F.displayName=lge;function dge(e){return cge.includes(e)}var DF=$F;const Ds=j.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...i},s)=>r.jsx(DF,{ref:s,decorative:n,orientation:t,className:Qe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...i}));Ds.displayName=DF.displayName;function FF({analysis:e,incident:t,onEdit:n}){var p,h,v;const[i,s]=j.useState("tree"),[a,o]=j.useState(1),c=(()=>{var S,C,_,P,A;if(!e)return{id:"root",label:"No Analysis Data",confidence:0,evidence:[],type:"root"};const m=e.equipmentGroup&&e.equipmentType?`${e.equipmentGroup} → ${e.equipmentType}${e.equipmentSubtype?` → ${e.equipmentSubtype}`:""}`:"Equipment Type Not Specified",y=e.equipmentId||(t==null?void 0:t.equipmentId)||e.equipmentTag||"ID Not Specified",b=e.failureMode||e.rootCause||"Equipment Failure",g=[];e.symptoms&&g.push(...e.symptoms),e.description&&g.push(`Reported: ${e.description}`);const x=[];if(e.operatingParameters){const O=e.operatingParameters;Object.keys(O).forEach(I=>{O[I]&&typeof O[I]=="object"?Object.entries(O[I]).forEach(([F,$])=>{x.push(`${I}.${F}: ${$}`)}):O[I]&&x.push(`${I}: ${O[I]}`)})}let N=0;const w=[((S=e.evidenceFiles)==null?void 0:S.length)||0,((_=(C=e.evidenceChecklist)==null?void 0:C.filter(O=>O.completed))==null?void 0:_.length)||0,((A=(P=e.crossMatchResults)==null?void 0:P.libraryMatches)==null?void 0:A.length)||0,g.length,x.length];N=Math.min(100,Math.round(w.reduce((O,I)=>O+I,0)/15*100));const k=[],E=[];if(e.eliminationResults&&e.eliminationResults.forEach((O,I)=>{E.push({id:`eliminated-${I}`,label:O.failureMode||`Eliminated Cause ${I+1}`,confidence:0,evidence:[O.reason||"Eliminated by analysis"],type:"evidence"})}),e.rootCauses&&Array.isArray(e.rootCauses)&&e.rootCauses.forEach((O,I)=>{var F;k.push({id:`root-cause-${I}`,label:O.description||O.title||`Root Cause ${I+1}`,confidence:O.confidence||75,evidence:O.evidence||[O.rationale||"Analysis evidence"],type:"primary",children:((F=O.contributingFactors)==null?void 0:F.map(($,G)=>({id:`factor-${I}-${G}`,label:$.description||$.name||`Contributing Factor ${G+1}`,confidence:$.confidence||70,evidence:$.evidence||[],type:"secondary"})))||[]})}),e.recommendations&&Array.isArray(e.recommendations)){const O=e.recommendations.slice(0,3).map((I,F)=>({id:`prevention-${F}`,label:I.title||I.description||`Preventive Measure ${F+1}`,confidence:90,evidence:[I.rationale||"Recommended prevention"],type:"evidence"}));O.length>0&&k.push({id:"prevention-root",label:"Preventive Measures",confidence:90,evidence:["Analysis recommendations"],type:"primary",children:O})}return k.length===0&&k.push({id:"default-factor",label:"Analysis Results",confidence:e.overallConfidence||75,evidence:["AI analysis findings"],type:"primary",children:[{id:"default-evidence",label:"Investigation Evidence",confidence:70,evidence:["Collected evidence from investigation"],type:"evidence"}]}),{id:"root",label:b,confidence:e.overallConfidence||85,evidence:["Analysis results"],type:"root",children:k,equipmentContext:m,equipmentId:y,evidenceAdequacy:N,eliminatedCauses:E,originalSymptoms:g,operatingContext:x}})(),d=(m,y,b,g)=>{const x=()=>m==="root"&&y==="primary"?"text-red-600":m==="primary"&&y==="secondary"?"text-orange-600":"text-blue-600",N=()=>m==="root"?"causes":m==="primary"?"leads to":"results in";return r.jsx("div",{className:`flex items-center justify-center my-3 ${x()}`,children:r.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"text-lg font-bold",children:"↓"}),r.jsx("span",{className:"text-xs font-medium",children:N()}),r.jsx("div",{className:"text-lg font-bold",children:"→"})]})})},u=(m,y=0,b)=>{const g=(N,w)=>{var E;const k={root:"bg-red-50 border-red-400 text-red-900 shadow-red-100",primary:"bg-orange-50 border-orange-400 text-orange-900 shadow-orange-100",secondary:"bg-blue-50 border-blue-400 text-blue-900 shadow-blue-100",evidence:"bg-green-50 border-green-400 text-green-900 shadow-green-100",recommendation:"bg-purple-50 border-purple-400 text-purple-900 shadow-purple-100"};return w<60?((E=k[N])==null?void 0:E.replace("50","25").replace("400","300"))||"bg-gray-50 border-gray-300 text-gray-700":k[N]||"bg-gray-50 border-gray-400 text-gray-800"},x=N=>{var k,E,S;const w=[];return N.evidence&&N.evidence.length>0&&w.push(`${N.evidence.length} evidence item(s)`),(k=e==null?void 0:e.crossMatchResults)!=null&&k.libraryMatches&&w.push("Library pattern match"),(S=(E=e==null?void 0:e.eliminationResults)==null?void 0:E.eliminationReasons)!=null&&S.length&&w.push("Elimination logic applied"),N.confidence>=80?w.push("High data quality"):N.confidence>=60?w.push("Moderate data quality"):w.push("Limited data available"),`Confidence ${N.confidence}% based on: ${w.join(", ")}`};return r.jsxs("div",{className:`ml-${y*8} mb-4`,children:[b&&y>0&&d(b,m.type),r.jsxs("div",{className:`inline-block p-4 rounded-lg border-2 shadow-lg ${g(m.type,m.confidence)} max-w-md hover:shadow-xl transition-shadow cursor-help`,title:x(m),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-sm",children:m.label}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(J,{variant:"outline",className:"text-xs font-medium",children:[m.confidence,"%"]}),r.jsx("div",{className:"text-xs px-2 py-1 bg-white/70 rounded-full",children:m.type.charAt(0).toUpperCase()+m.type.slice(1)})]})]}),m.evidence&&m.evidence.length>0&&r.jsxs("div",{className:"text-xs opacity-90 bg-white/50 p-2 rounded border mb-2",children:[r.jsx("strong",{children:"Evidence:"})," ",m.evidence[0],m.evidence.length>1&&r.jsxs("span",{className:"text-gray-600",children:[" (+",m.evidence.length-1," more)"]})]}),m.type==="root"&&m.children&&m.children.length>0&&r.jsxs("div",{className:"text-xs mt-2 p-2 bg-white/70 rounded border border-dashed",children:[r.jsx("strong",{children:"Failure Logic:"})," ",m.children.length," contributing factor",m.children.length>1?"s":""," identified"]}),r.jsx("div",{className:"text-xs mt-1 opacity-60",children:"Hover for confidence explanation"})]}),m.children&&m.children.map(N=>u(N,y+1,m.type))]},m.id)},f=(m,y)=>r.jsxs("div",{className:`p-2 rounded border ${y==="main"?"bg-red-100 border-red-300":"bg-blue-100 border-blue-300"} text-sm`,children:[r.jsx("div",{className:"font-semibold",children:m.label}),r.jsxs("div",{className:"text-xs",children:["Confidence: ",m.confidence,"%"]})]},m.id);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(Zn,{value:i,onValueChange:m=>s(m),children:r.jsxs(Ln,{children:[r.jsx(Te,{value:"tree",children:"Tree View"}),r.jsx(Te,{value:"fishbone",children:"Fishbone View"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>o(Math.max(.5,a-.1)),children:r.jsx(HI,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>o(Math.min(2,a+.1)),children:r.jsx(WI,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>o(1),children:r.jsx(av,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",children:r.jsx(cr,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"bg-white border rounded-lg p-6 min-h-[400px] overflow-auto",style:{transform:`scale(${a})`,transformOrigin:"top left"},children:i==="tree"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-8 bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Root Cause Analysis Tree"}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{className:"text-blue-700",children:"Equipment ID:"}),r.jsx("span",{className:"ml-2 font-mono bg-blue-50 px-2 py-1 rounded",children:c.equipmentId})]}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-green-700",children:"Equipment Type:"}),r.jsx("span",{className:"ml-2 text-green-800",children:c.equipmentContext})]})]}),r.jsxs("div",{className:"mt-2 text-center",children:[r.jsx("strong",{className:"text-purple-700",children:"Analysis Confidence:"}),r.jsxs("span",{className:"ml-2 text-purple-800 font-semibold",children:[(e==null?void 0:e.overallConfidence)||0,"%"]})]})]}),r.jsxs("div",{className:"flex justify-center items-center gap-4 flex-wrap",children:[r.jsxs(J,{variant:c.evidenceAdequacy>=80?"default":c.evidenceAdequacy>=60?"secondary":"destructive",className:"text-sm",children:["Evidence Quality: ",c.evidenceAdequacy,"%"]}),c.eliminatedCauses&&c.eliminatedCauses.length>0&&r.jsxs(J,{variant:"outline",className:"text-sm",children:[c.eliminatedCauses.length," Causes Eliminated"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-red-200 border border-red-400 rounded"}),r.jsx("span",{children:"Root"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-200 border border-orange-400 rounded"}),r.jsx("span",{children:"Primary"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-200 border border-blue-400 rounded"}),r.jsx("span",{children:"Secondary"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-green-200 border border-green-400 rounded"}),r.jsx("span",{children:"Evidence"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[c.originalSymptoms&&c.originalSymptoms.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg border-2 border-blue-300 shadow-md",children:[r.jsxs("h4",{className:"font-bold text-sm text-blue-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:"🔍"})," Initial Symptoms",r.jsx(J,{variant:"default",className:"text-xs",children:"Starting Point"})]}),r.jsx("div",{className:"space-y-2",children:c.originalSymptoms.map((m,y)=>r.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-blue-200",children:[r.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:y+1}),r.jsx("span",{className:"text-xs font-medium text-blue-800",children:m})]},y))})]}),c.operatingContext&&c.operatingContext.length>0&&r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[r.jsx("h4",{className:"font-semibold text-sm text-green-800 mb-2",children:"⚙️ Operating Context"}),r.jsx("ul",{className:"text-xs text-green-700 space-y-1",children:c.operatingContext.slice(0,4).map((m,y)=>r.jsxs("li",{children:["• ",m]},y))})]})]}),u(c),c.eliminatedCauses&&c.eliminatedCauses.length>0&&r.jsxs("div",{className:"mt-8 bg-gradient-to-r from-gray-50 to-red-50 p-6 rounded-lg border-2 border-dashed border-gray-300",children:[r.jsxs("h4",{className:"font-semibold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-red-500",children:"❌"}),"Rejected/Eliminated Causes",r.jsxs(J,{variant:"outline",className:"ml-2",children:[c.eliminatedCauses.length," eliminated"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.eliminatedCauses.map((m,y)=>r.jsxs("div",{className:"bg-white/60 p-4 rounded-lg border-2 border-dashed border-gray-400 opacity-70 hover:opacity-90 transition-opacity",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"})}),r.jsx("span",{className:"text-sm font-medium line-through text-gray-700",children:m.label}),r.jsx(J,{variant:"destructive",className:"text-xs ml-auto",children:"REJECTED"})]}),r.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded border-l-4 border-l-red-400 ml-7",children:[r.jsx("strong",{children:"Reason:"})," ",m.evidence[0]||"Engineering logic elimination"]})]},y))}),r.jsx("div",{className:"mt-4 text-xs text-gray-600 text-center italic",children:"These failure modes were systematically eliminated through engineering analysis and evidence review"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Fishbone Diagram"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Cause and Effect Analysis"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-6 relative",children:[r.jsx("div",{className:"col-span-3 flex justify-center",children:f(c,"main")}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-center",children:"Primary Causes"}),(p=c.children)==null?void 0:p.filter(m=>m.type==="primary").slice(0,2).map(m=>f(m,"branch"))]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-center",children:"Secondary Causes"}),(h=c.children)==null?void 0:h.filter(m=>m.type==="secondary").slice(0,2).map(m=>f(m,"branch"))]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-center",children:"Evidence"}),(v=c.children)==null?void 0:v.filter(m=>m.type==="evidence").slice(0,2).map(m=>f(m,"branch"))]})]})]})}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Legend"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),r.jsx("span",{children:"Root Cause"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-orange-100 border border-orange-300 rounded"}),r.jsx("span",{children:"Primary Factor"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-300 rounded"}),r.jsx("span",{children:"Secondary Factor"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),r.jsx("span",{children:"Evidence"})]})]})]})]})}var B1="Dialog",[LF,oNe]=Ur(B1),[uge,Di]=LF(B1),qF=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[d=!1,u]=Us({prop:i,defaultProp:s,onChange:a});return r.jsx(uge,{scope:t,triggerRef:l,contentRef:c,contentId:ts(),titleId:ts(),descriptionId:ts(),open:d,onOpenChange:u,onOpenToggle:j.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};qF.displayName=B1;var zF="DialogTrigger",BF=j.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(zF,n),a=yt(t,s.triggerRef);return r.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":W1(s.open),...i,ref:a,onClick:He(e.onClick,s.onOpenToggle)})});BF.displayName=zF;var U1="DialogPortal",[fge,UF]=LF(U1,{forceMount:void 0}),VF=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:s}=e,a=Di(U1,t);return r.jsx(fge,{scope:t,forceMount:n,children:j.Children.map(i,o=>r.jsx(oi,{present:n||a.open,children:r.jsx(rv,{asChild:!0,container:s,children:o})}))})};VF.displayName=U1;var yx="DialogOverlay",WF=j.forwardRef((e,t)=>{const n=UF(yx,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,a=Di(yx,e.__scopeDialog);return a.modal?r.jsx(oi,{present:i||a.open,children:r.jsx(mge,{...s,ref:t})}):null});WF.displayName=yx;var pge=Fc("DialogOverlay.RemoveScroll"),mge=j.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(yx,n);return r.jsx(q1,{as:pge,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(nt.div,{"data-state":W1(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),ol="DialogContent",HF=j.forwardRef((e,t)=>{const n=UF(ol,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,a=Di(ol,e.__scopeDialog);return r.jsx(oi,{present:i||a.open,children:a.modal?r.jsx(hge,{...s,ref:t}):r.jsx(xge,{...s,ref:t})})});HF.displayName=ol;var hge=j.forwardRef((e,t)=>{const n=Di(ol,e.__scopeDialog),i=j.useRef(null),s=yt(t,n.contentRef,i);return j.useEffect(()=>{const a=i.current;if(a)return WD(a)},[]),r.jsx(GF,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault())})}),xge=j.forwardRef((e,t)=>{const n=Di(ol,e.__scopeDialog),i=j.useRef(!1),s=j.useRef(!1);return r.jsx(GF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),GF=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Di(ol,n),c=j.useRef(null),d=yt(t,c);return BD(),r.jsxs(r.Fragment,{children:[r.jsx(F1,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:a,children:r.jsx(fp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":W1(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(vge,{titleId:l.titleId}),r.jsx(yge,{contentRef:c,descriptionId:l.descriptionId})]})]})}),V1="DialogTitle",KF=j.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(V1,n);return r.jsx(nt.h2,{id:s.titleId,...i,ref:t})});KF.displayName=V1;var YF="DialogDescription",QF=j.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(YF,n);return r.jsx(nt.p,{id:s.descriptionId,...i,ref:t})});QF.displayName=YF;var XF="DialogClose",ZF=j.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,s=Di(XF,n);return r.jsx(nt.button,{type:"button",...i,ref:t,onClick:He(e.onClick,()=>s.onOpenChange(!1))})});ZF.displayName=XF;function W1(e){return e?"open":"closed"}var JF="DialogTitleWarning",[lNe,eL]=b8(JF,{contentName:ol,titleName:V1,docsSlug:"dialog"}),vge=({titleId:e})=>{const t=eL(JF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},gge="DialogDescriptionWarning",yge=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eL(gge).contentName}}.`;return j.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},bge=qF,jge=BF,wge=VF,tL=WF,nL=HF,rL=KF,iL=QF,Nge=ZF;const hc=bge,Xj=jge,Sge=wge,sL=j.forwardRef(({className:e,...t},n)=>r.jsx(tL,{ref:n,className:Qe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));sL.displayName=tL.displayName;const Bo=j.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(Sge,{children:[r.jsx(sL,{}),r.jsxs(nL,{ref:i,className:Qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(Nge,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Ws,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bo.displayName=nL.displayName;const Uo=({className:e,...t})=>r.jsx("div",{className:Qe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Uo.displayName="DialogHeader";const Vo=j.forwardRef(({className:e,...t},n)=>r.jsx(rL,{ref:n,className:Qe("text-lg font-semibold leading-none tracking-tight",e),...t}));Vo.displayName=rL.displayName;const aL=j.forwardRef(({className:e,...t},n)=>r.jsx(iL,{ref:n,className:Qe("text-sm text-muted-foreground",e),...t}));aL.displayName=iL.displayName;const We=j.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));We.displayName="Textarea";function oL({analysisData:e,investigationType:t,onNodeUpdate:n,onNodeAdd:i,onNodeDelete:s}){const[a,o]=j.useState("tree"),[l,c]=j.useState(null),[d,u]=j.useState([]),[f,p]=j.useState(1),[h,v]=j.useState(null),m=j.useRef(null);j.useEffect(()=>{e&&y()},[e]);const y=()=>{if(!(e!=null&&e.causes))return;const P=[];if(t==="equipment_failure"){const A={id:"top-event",label:e.topEvent||"Equipment Failure",type:"top_event",confidence:e.confidence||.8,evidence:["Equipment failed during operation"],position:{x:400,y:50}};P.push(A),e.causes.forEach((O,I)=>{const F={id:`cause-${I}`,label:O.description||O.name||"Unknown Cause",type:O.type==="root"?"root_cause":"contributing_factor",confidence:O.confidence||.7,evidence:O.evidence||[],parent:"top-event",category:O.category||"Technical",position:{x:200+I*250,y:200}};P.push(F),O.subCauses&&O.subCauses.forEach(($,G)=>{const z={id:`subcause-${I}-${G}`,label:$.description||$.name,type:"immediate_cause",confidence:$.confidence||.6,evidence:$.evidence||[],parent:`cause-${I}`,position:{x:150+I*250+G*100,y:350}};P.push(z)})})}else{const A={id:"incident",label:"Safety Incident",type:"top_event",confidence:1,evidence:["Incident occurred"],position:{x:400,y:50}};P.push(A),e.eventSequence&&e.eventSequence.forEach((O,I)=>{const F={id:`event-${I}`,label:O.description,type:"contributing_factor",confidence:O.confidence||.8,evidence:O.evidence||[],parent:I===0?"incident":`event-${I-1}`,position:{x:200+I*200,y:150+I*50}};P.push(F)})}u(P)},b=P=>{c(P)},g=P=>{v(P)},x=P=>{if(h){const A=d.map(O=>O.id===h.id?{...O,...P}:O);u(A),n(h.id,P),v(null)}},N=P=>{const A={label:"New Cause",type:"contributing_factor",confidence:.5,evidence:[],parent:P.id,position:{x:P.position.x+100,y:P.position.y+150}},O={...A,id:(()=>{const I=new Date().getTime(),F=I%1e4;return`new-${I}-${F}`})()};u([...d,O]),i(P.id,A)},w=()=>(d.filter(P=>!P.parent||P.type==="top_event"),r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{ref:m,width:"800",height:"600",viewBox:"0 0 800 600",className:"w-full h-full",style:{transform:`scale(${f})`},children:[d.map(P=>{if(!P.parent||!P.position)return null;const A=d.find(O=>O.id===P.parent);return A!=null&&A.position?r.jsx("line",{x1:A.position.x,y1:A.position.y+30,x2:P.position.x,y2:P.position.y,stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"},`line-${P.id}`):null}),r.jsx("defs",{children:r.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:r.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})})}),d.map(P=>{if(!P.position)return null;const A=C(P.type),O=(l==null?void 0:l.id)===P.id;return r.jsxs("g",{children:[r.jsx("rect",{x:P.position.x-60,y:P.position.y-15,width:"120",height:"30",rx:"5",fill:A,stroke:O?"#2563eb":"#d1d5db",strokeWidth:O?"3":"1",className:"cursor-pointer",onClick:()=>b(P)}),r.jsx("text",{x:P.position.x,y:P.position.y+5,textAnchor:"middle",fontSize:"12",fill:"white",className:"pointer-events-none",children:P.label.length>15?P.label.substring(0,15)+"...":P.label}),r.jsx("circle",{cx:P.position.x+50,cy:P.position.y-10,r:"8",fill:"#059669",className:"cursor-pointer",onClick:()=>b(P)}),r.jsxs("text",{x:P.position.x+50,y:P.position.y-6,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:[Math.round(P.confidence*100),"%"]})]},P.id)})]})})),k=()=>{const P=["People","Process","Equipment","Environment","Materials","Methods"],A=d.find(O=>O.type==="top_event");return r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[r.jsx("line",{x1:"100",y1:"200",x2:"700",y2:"200",stroke:"#374151",strokeWidth:"4"}),r.jsx("rect",{x:"680",y:"170",width:"100",height:"60",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),r.jsx("text",{x:"730",y:"190",textAnchor:"middle",fontSize:"12",fill:"white",children:(A==null?void 0:A.label)||"Problem"}),r.jsx("text",{x:"730",y:"205",textAnchor:"middle",fontSize:"10",fill:"white",children:"Event"}),P.map((O,I)=>{const F=I%2===0,$=150+I*90,G=200,z=F?120:280,H=d.filter(D=>D.category===O||O==="Equipment"&&D.type!=="top_event").slice(0,3);return r.jsxs("g",{children:[r.jsx("line",{x1:$,y1:G,x2:$,y2:z,stroke:"#6b7280",strokeWidth:"3"}),r.jsx("rect",{x:$-30,y:z-15,width:"60",height:"30",rx:"3",fill:"#3b82f6",stroke:"#1e40af"}),r.jsx("text",{x:$,y:z+5,textAnchor:"middle",fontSize:"10",fill:"white",children:O}),H.map((D,U)=>{const R=$+(-60+U*30),se=z+(F?-40:40);return r.jsxs("g",{children:[r.jsx("line",{x1:$,y1:z,x2:R,y2:se,stroke:"#9ca3af",strokeWidth:"2"}),r.jsx("rect",{x:R-25,y:se-10,width:"50",height:"20",rx:"3",fill:C(D.type),className:"cursor-pointer",onClick:()=>b(D)}),r.jsx("text",{x:R,y:se+5,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:D.label.substring(0,8)})]},D.id)})]},O)})]})})},E=()=>{const P=d.filter(A=>A.type!=="top_event").sort((A,O)=>A.id.localeCompare(O.id));return r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{width:"800",height:"300",viewBox:"0 0 800 300",className:"w-full h-full",children:[r.jsx("line",{x1:"50",y1:"150",x2:"750",y2:"150",stroke:"#374151",strokeWidth:"3"}),P.map((A,O)=>{const I=80+O*120,F=150,$=O%2===0,G=$?F-40:F+60;return r.jsxs("g",{children:[r.jsx("circle",{cx:I,cy:F,r:"8",fill:C(A.type),stroke:"#ffffff",strokeWidth:"2",className:"cursor-pointer",onClick:()=>b(A)}),r.jsx("line",{x1:I,y1:F,x2:I,y2:G+($?15:-15),stroke:"#6b7280",strokeWidth:"2"}),r.jsx("rect",{x:I-40,y:G-15,width:"80",height:"30",rx:"5",fill:C(A.type),stroke:"#d1d5db",className:"cursor-pointer",onClick:()=>b(A)}),r.jsx("text",{x:I,y:G,textAnchor:"middle",fontSize:"10",fill:"white",children:A.label.substring(0,12)}),r.jsxs("text",{x:I,y:G+10,textAnchor:"middle",fontSize:"8",fill:"white",children:[Math.round(A.confidence*100),"%"]})]},A.id)})]})})},S=()=>{const P=d.find(I=>I.type==="top_event"),A=d.filter(I=>I.type==="root_cause"),O=d.filter(I=>I.type==="contributing_factor");return r.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:r.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[r.jsx("rect",{x:"350",y:"175",width:"100",height:"50",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),r.jsx("text",{x:"400",y:"195",textAnchor:"middle",fontSize:"12",fill:"white",children:(P==null?void 0:P.label)||"Top Event"}),r.jsx("text",{x:"400",y:"210",textAnchor:"middle",fontSize:"10",fill:"white",children:"Failure"}),A.map((I,F)=>{const $=100+F*60;return r.jsxs("g",{children:[r.jsx("line",{x1:"250",y1:$+15,x2:"350",y2:"200",stroke:"#6b7280",strokeWidth:"2"}),r.jsx("rect",{x:"150",y:$,width:"100",height:"30",rx:"5",fill:"#f59e0b",className:"cursor-pointer",onClick:()=>b(I)}),r.jsx("text",{x:"200",y:$+20,textAnchor:"middle",fontSize:"10",fill:"white",children:I.label.substring(0,15)})]},I.id)}),O.map((I,F)=>{const $=100+F*60;return r.jsxs("g",{children:[r.jsx("line",{x1:"450",y1:"200",x2:"550",y2:$+15,stroke:"#6b7280",strokeWidth:"2"}),r.jsx("rect",{x:"550",y:$,width:"100",height:"30",rx:"5",fill:"#ef4444",className:"cursor-pointer",onClick:()=>b(I)}),r.jsx("text",{x:"600",y:$+20,textAnchor:"middle",fontSize:"10",fill:"white",children:I.label.substring(0,15)})]},I.id)})]})})},C=P=>{switch(P){case"root_cause":return"#dc2626";case"contributing_factor":return"#f59e0b";case"immediate_cause":return"#3b82f6";case"top_event":return"#7c2d12";case"barrier":return"#059669";case"threat":return"#b45309";default:return"#6b7280"}},_=P=>{switch(P){case"root_cause":return"Root Cause";case"contributing_factor":return"Contributing Factor";case"immediate_cause":return"Immediate Cause";case"top_event":return"Top Event";case"barrier":return"Barrier";case"threat":return"Threat";default:return"Unknown"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Interactive RCA Diagrams"}),r.jsxs(J,{variant:"outline",children:[d.length," nodes"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>p(Math.max(.5,f-.1)),children:r.jsx(HI,{className:"h-4 w-4"})}),r.jsxs("span",{className:"text-sm font-mono",children:[Math.round(f*100),"%"]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>p(Math.min(2,f+.1)),children:r.jsx(WI,{className:"h-4 w-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>p(1),children:r.jsx(av,{className:"h-4 w-4"})}),r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(cr,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),r.jsxs(Zn,{value:a,onValueChange:P=>o(P),children:[r.jsxs(Ln,{className:"grid w-full grid-cols-4",children:[r.jsxs(Te,{value:"tree",className:"flex items-center gap-2",children:[r.jsx(Az,{className:"h-4 w-4"}),"RCA Tree"]}),r.jsxs(Te,{value:"fishbone",className:"flex items-center gap-2",children:[r.jsx(qc,{className:"h-4 w-4"}),"Fishbone"]}),r.jsxs(Te,{value:"timeline",className:"flex items-center gap-2",children:[r.jsx(Nr,{className:"h-4 w-4"}),"Timeline"]}),r.jsxs(Te,{value:"bowtie",className:"flex items-center gap-2",children:[r.jsx(os,{className:"h-4 w-4"}),"Bowtie"]})]}),r.jsx(Ee,{value:"tree",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Fault Tree Analysis"})}),r.jsx(Q,{children:w()})]})}),r.jsx(Ee,{value:"fishbone",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Fishbone Diagram"})}),r.jsx(Q,{children:k()})]})}),r.jsx(Ee,{value:"timeline",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"ECFA Timeline"})}),r.jsx(Q,{children:E()})]})}),r.jsx(Ee,{value:"bowtie",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Bowtie Analysis"})}),r.jsx(Q,{children:S()})]})})]}),l&&r.jsxs(Y,{className:"border-blue-200",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lc,{className:"h-5 w-5 text-blue-600"}),"Node Details: ",l.label]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>g(l),children:[r.jsx(Jr,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>N(l),children:[r.jsx(On,{className:"h-4 w-4 mr-1"}),"Add Child"]})]})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Type"}),r.jsx(J,{variant:"outline",children:_(l.type)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Confidence"}),r.jsxs("div",{className:"text-lg font-bold text-green-600",children:[Math.round(l.confidence*100),"%"]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Supporting Evidence"}),r.jsx("div",{className:"space-y-1",children:l.evidence.length>0?l.evidence.map((P,A)=>r.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:P},A)):r.jsx("div",{className:"text-sm text-gray-500 italic",children:"No evidence recorded"})})]})]})})]}),r.jsx(hc,{open:!!h,onOpenChange:P=>!P&&v(null),children:r.jsxs(Bo,{children:[r.jsx(Uo,{children:r.jsxs(Vo,{children:["Edit Node: ",h==null?void 0:h.label]})}),h&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Label"}),r.jsx(ue,{defaultValue:h.label,onChange:P=>v({...h,label:P.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Confidence (0-1)"}),r.jsx(ue,{type:"number",min:"0",max:"1",step:"0.1",defaultValue:h.confidence,onChange:P=>v({...h,confidence:parseFloat(P.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Evidence (one per line)"}),r.jsx(We,{defaultValue:h.evidence.join(`
`),onChange:P=>v({...h,evidence:P.target.value.split(`
`).filter(A=>A.trim())}),rows:4})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>v(null),children:"Cancel"}),r.jsx(W,{onClick:()=>x(h),children:"Save Changes"})]})]})]})})]})}var Cge="Label",lL=j.forwardRef((e,t)=>r.jsx(nt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));lL.displayName=Cge;var cL=lL;const kge=mp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ie=j.forwardRef(({className:e,...t},n)=>r.jsx(cL,{ref:n,className:Qe(kge(),e),...t}));ie.displayName=cL.displayName;function Ege({analysis:e,onComplete:t}){const[n,i]=j.useState({}),[s,a]=j.useState(!1),{toast:o}=Dt(),l=Br(),d=(()=>{var y;const h=[];e.equipmentType;const v=e.operatingParameters;(!e.rootCause||e.rootCause.length<20)&&h.push({id:"failure_mode",question:`Can you provide more specific details about what exactly failed in ${e.equipmentId}? (e.g., bearing failure, seal leak, electrical fault)`,type:"text",required:!0,context:"Root cause analysis requires specific failure mode identification"}),v!=null&&v.runtime||(h.push({id:"runtime_hours",question:"How long has the equipment been running since last maintenance?",type:"select",options:["< 1 week","1-4 weeks","1-3 months","3-6 months","6-12 months","> 1 year","Unknown"],required:!1,context:"Runtime hours help establish wear patterns and maintenance intervals"}),h.push({id:"duty_cycle",question:"What is the typical duty cycle of this equipment?",type:"select",options:["Continuous (24/7)","Heavy duty (16-20 hrs/day)","Normal duty (8-12 hrs/day)","Light duty (< 8 hrs/day)","Intermittent/on-demand","Unknown"],required:!1,context:"Duty cycle affects equipment stress and expected life"})),v!=null&&v.environmental||h.push({id:"environmental_factors",question:"What environmental conditions might have contributed to the failure?",type:"multiselect",options:["High temperature","High humidity","Corrosive atmosphere","Dusty environment","Vibration from nearby equipment","Frequent temperature cycling","Chemical exposure","No environmental issues"],required:!1,context:"External factors significantly impact equipment reliability and failure modes"});const m=e.historicalData;return(y=m==null?void 0:m.eventMetadata)!=null&&y.active_alarms||h.push({id:"alarms_before_failure",question:"Were there any alarms or warnings before the failure occurred?",type:"multiselect",options:["High temperature alarm","High vibration alarm","Low pressure alarm","High pressure alarm","Flow deviation alarm","Power consumption alarm","No alarms","Unknown"],required:!1,context:"Alarm history provides critical sequence of events leading to failure"}),(!e.location||e.location.length<10)&&h.push({id:"environment",question:"Please describe the environmental conditions where this equipment operates (temperature, humidity, contamination, etc.)",type:"text",required:!1,context:"External factors significantly impact equipment reliability"}),(!(m!=null&&m.maintenanceRecords)||m.maintenanceRecords.length===0)&&h.push({id:"maintenance_history",question:"When was the last maintenance performed on this equipment and what type of work was done?",type:"text",required:!1,context:"Maintenance history helps identify patterns and potential causes"}),h.push({id:"failure_timing",question:"When did you first notice signs of this problem?",type:"select",options:["Just happened","1-7 days ago","1-4 weeks ago","1-3 months ago","Ongoing issue","Not sure"],required:!0,context:"Failure timeline helps establish causation"}),h.push({id:"operational_changes",question:"Have there been any recent changes to operations, maintenance, or environment that might be related?",type:"text",required:!1,context:"Recent changes often contribute to equipment failures"}),h})(),u=Ye({mutationFn:async({id:h,updates:v})=>lt(`/api/analyses/${h}`,{method:"PATCH",body:JSON.stringify(v),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),o({title:"Analysis Updated",description:"Additional evidence has been incorporated into the analysis."}),t==null||t()},onError:()=>{o({title:"Update Failed",description:"Failed to update analysis with additional evidence.",variant:"destructive"})}}),f=async()=>{if(a(!0),d.filter(y=>y.required).filter(y=>!n[y.id]||n[y.id].trim()==="").length>0){o({title:"Missing Required Information",description:"Please answer all required questions before submitting.",variant:"destructive"}),a(!1);return}const v={gatheringResponses:n,enhancedContext:d.reduce((y,b)=>(n[b.id]&&(y[b.id]={question:b.question,answer:n[b.id],context:b.context}),y),{})},m={...e,status:"processing",evidenceGathering:v,confidence:Math.min(95,(e.confidence||0)+10)};setTimeout(async()=>{let y=e.rootCause||"";n.failure_mode&&(y=`${n.failure_mode}. Contributing factors: `),n.operational_changes&&(y+=`Recent operational changes (${n.operational_changes}) likely contributed to the failure. `),n.maintenance_history&&(y+=`Maintenance history indicates: ${n.maintenance_history}. `);const b={...m,status:"completed",rootCause:y||e.rootCause,confidence:Math.min(98,(e.confidence||0)+15),completedAt:new Date().toISOString()};await u.mutateAsync({id:e.id,updates:b}),a(!1)},3e3)},p=(h,v)=>{i(m=>({...m,[h]:v}))};return d.length===0?r.jsx(Y,{children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ct,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analysis Complete"}),r.jsx("p",{className:"text-muted-foreground",children:"Sufficient evidence has been gathered for this root cause analysis."})]})})}):r.jsxs(Y,{className:"w-full",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(VI,{className:"w-5 h-5"}),r.jsx("span",{children:"Interactive Evidence Gathering"}),r.jsx(J,{variant:"outline",children:"AI-Powered"})]})}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs(Kt,{children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsx(Yt,{children:"Our AI has identified areas where additional information could improve the root cause analysis accuracy. Please answer the following questions to enhance the analysis."})]}),r.jsx("div",{className:"space-y-6",children:d.map((h,v)=>{var m,y;return r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm mt-1",children:v+1}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs(ie,{className:"text-sm font-medium",children:[h.question,h.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("p",{className:"text-xs text-muted-foreground italic",children:h.context}),h.type==="text"&&r.jsx(We,{value:n[h.id]||"",onChange:b=>p(h.id,b.target.value),placeholder:"Please provide details...",className:"min-h-[80px]"}),h.type==="number"&&r.jsx(ue,{type:"number",value:n[h.id]||"",onChange:b=>p(h.id,b.target.value),placeholder:"Enter value..."}),h.type==="select"&&r.jsxs("select",{value:n[h.id]||"",onChange:b=>p(h.id,b.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[r.jsx("option",{value:"",children:"Select an option..."}),(m=h.options)==null?void 0:m.map(b=>r.jsx("option",{value:b,children:b},b))]}),h.type==="multiselect"&&r.jsx("div",{className:"space-y-2",children:(y=h.options)==null?void 0:y.map(b=>{var g;return r.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:((g=n[h.id])==null?void 0:g.includes(b))||!1,onChange:x=>{const N=n[h.id]||"",w=N?N.split(", "):[];x.target.checked?p(h.id,[...w,b].join(", ")):p(h.id,w.filter(k=>k!==b).join(", "))}}),r.jsx("span",{children:b})]},b)})})]})]})},h.id)})}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.filter(h=>h.required).length," required questions •",d.filter(h=>n[h.id]).length,"/",d.length," answered"]}),r.jsx(W,{onClick:f,disabled:s,className:"min-w-[120px]",children:s?r.jsxs(r.Fragment,{children:[r.jsx(Nr,{className:"w-4 h-4 mr-2 animate-spin"}),"Re-analyzing..."]}):"Update Analysis"})]})]})]})}function Age({analysis:e,onSave:t,onCancel:n}){const[i,s]=j.useState({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),[a,o]=j.useState(""),[l,c]=j.useState(""),[d,u]=j.useState(!1),{toast:f}=Dt(),p=Br(),h=Ye({mutationFn:async({id:x,updates:N})=>lt(`/api/analyses/${x}`,{method:"PATCH",body:JSON.stringify(N),headers:{"Content-Type":"application/json"}}),onSuccess:x=>{p.invalidateQueries({queryKey:["/api/analyses"]}),p.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),f({title:"Analysis Updated",description:"Your manual adjustments have been saved successfully."}),t==null||t(x)},onError:()=>{f({title:"Update Failed",description:"Failed to save manual adjustments. Please try again.",variant:"destructive"})}}),v=async()=>{if(!l.trim()){f({title:"Adjustment Reason Required",description:"Please provide a reason for the manual adjustment for audit purposes.",variant:"destructive"});return}u(!0);const x={timestamp:new Date().toISOString(),user:"Current User",reason:l,changes:Object.keys(i).reduce((w,k)=>{const E=e[k],S=i[k];return JSON.stringify(E)!==JSON.stringify(S)&&(w[k]={from:E,to:S}),w},{}),version:e.version?e.version+1:2},N={...i,adjustmentHistory:[...e.adjustmentHistory||[],x],lastModifiedAt:new Date().toISOString(),status:"completed"};await h.mutateAsync({id:e.id,updates:N}),u(!1)},m=()=>{s({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),c(""),o("")},y=()=>{a.trim()&&(s(x=>({...x,recommendations:[...x.recommendations||[],a.trim()]})),o(""))},b=x=>{s(N=>({...N,recommendations:(N.recommendations||[]).filter((w,k)=>k!==x)}))},g=Object.keys(i).some(x=>{const N=e[x],w=i[x];return JSON.stringify(N)!==JSON.stringify(w)});return r.jsxs(Y,{className:"w-full",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ov,{className:"w-5 h-5"}),r.jsx("span",{children:"Manual Analysis Adjustment"}),r.jsx(J,{variant:"outline",children:"Expert Override"})]})}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs(Kt,{children:[r.jsx(ut,{className:"h-4 w-4"}),r.jsx(Yt,{children:"Manual adjustments will be recorded in the audit trail. Please provide a clear reason for modifications."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"issue-desc",children:"Issue Description"}),r.jsx(We,{id:"issue-desc",value:i.issueDescription||"",onChange:x=>s(N=>({...N,issueDescription:x.target.value})),placeholder:"Describe the issue...",className:"min-h-[80px]"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"equipment-type",children:"Equipment Type"}),r.jsxs(Be,{value:i.equipmentType||"",onValueChange:x=>s(N=>({...N,equipmentType:x})),children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select equipment type"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"pump",children:"Pump"}),r.jsx(ee,{value:"motor",children:"Motor"}),r.jsx(ee,{value:"compressor",children:"Compressor"}),r.jsx(ee,{value:"conveyor",children:"Conveyor"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"equipment-id",children:"Equipment ID"}),r.jsx(ue,{id:"equipment-id",value:i.equipmentId||"",onChange:x=>s(N=>({...N,equipmentId:x.target.value})),placeholder:"e.g., PUMP-A001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"location",children:"Location"}),r.jsx(ue,{id:"location",value:i.location||"",onChange:x=>s(N=>({...N,location:x.target.value})),placeholder:"e.g., Building A - Level 2"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"root-cause",children:"Root Cause Analysis"}),r.jsx(We,{id:"root-cause",value:i.rootCause||"",onChange:x=>s(N=>({...N,rootCause:x.target.value})),placeholder:"Detailed root cause analysis...",className:"min-h-[120px]"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"priority",children:"Priority Level"}),r.jsxs(Be,{value:i.priority||"",onValueChange:x=>s(N=>({...N,priority:x})),children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select priority"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"low",children:"Low"}),r.jsx(ee,{value:"medium",children:"Medium"}),r.jsx(ee,{value:"high",children:"High"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"confidence",children:"Confidence Score (%)"}),r.jsx(ue,{id:"confidence",type:"number",min:"0",max:"100",value:i.confidence||"",onChange:x=>s(N=>({...N,confidence:parseInt(x.target.value)||0})),placeholder:"0-100"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{children:"Recommendations"}),r.jsx("div",{className:"space-y-2",children:(i.recommendations||[]).map((x,N)=>r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[r.jsx("span",{className:"flex-1 text-sm",children:x}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>b(N),className:"text-red-600 hover:text-red-800",children:"Remove"})]},N))}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:a,onChange:x=>o(x.target.value),placeholder:"Add new recommendation...",onKeyPress:x=>x.key==="Enter"&&y()}),r.jsx(W,{onClick:y,variant:"outline",children:"Add"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"reason",children:"Reason for Manual Adjustment *"}),r.jsx(We,{id:"reason",value:l,onChange:x=>c(x.target.value),placeholder:"Explain why manual adjustment is needed (required for audit trail)...",className:"min-h-[80px]"})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{variant:"outline",onClick:m,children:[r.jsx(av,{className:"w-4 h-4 mr-2"}),"Reset Changes"]}),n&&r.jsx(W,{variant:"ghost",onClick:n,children:"Cancel"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[g&&r.jsxs("div",{className:"flex items-center text-sm text-yellow-600",children:[r.jsx(ut,{className:"w-4 h-4 mr-1"}),"Unsaved changes"]}),r.jsx(W,{onClick:v,disabled:!g||!l.trim()||d,className:"min-w-[120px]",children:d?r.jsxs(r.Fragment,{children:[r.jsx(Ct,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Fo,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]})]})}var Pge=fw[" useInsertionEffect ".trim().toString()]||pn;function Oge({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,a,o]=Tge({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const u=j.useRef(e!==void 0);j.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${i} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,i])}const d=j.useCallback(u=>{var f;if(l){const p=_ge(u)?u(e):u;p!==e&&((f=o.current)==null||f.call(o,p))}else a(u)},[l,e,a,o]);return[c,d]}function Tge({defaultProp:e,onChange:t}){const[n,i]=j.useState(e),s=j.useRef(n),a=j.useRef(t);return Pge(()=>{a.current=t},[t]),j.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,i,a]}function _ge(e){return typeof e=="function"}function Ige(e,t){return j.useReducer((n,i)=>t[n][i]??n,e)}var dL=e=>{const{present:t,children:n}=e,i=Rge(t),s=typeof n=="function"?n({present:i.isPresent}):j.Children.only(n),a=yt(i.ref,Mge(s));return typeof n=="function"||i.isPresent?j.cloneElement(s,{ref:a}):null};dL.displayName="Presence";function Rge(e){const[t,n]=j.useState(),i=j.useRef(null),s=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Ige(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=ym(i.current);a.current=l==="mounted"?d:"none"},[l]),pn(()=>{const d=i.current,u=s.current;if(u!==e){const p=a.current,h=ym(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),pn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=h=>{const m=ym(i.current).includes(h.animationName);if(h.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=h=>{h.target===t&&(a.current=ym(i.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function ym(e){return(e==null?void 0:e.animationName)||"none"}function Mge(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $ge(e){const t=Dge(e),n=j.forwardRef((i,s)=>{const{children:a,...o}=i,l=j.Children.toArray(a),c=l.find(Lge);if(c){const d=c.props.children,u=l.map(f=>f===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:s,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function Dge(e){const t=j.forwardRef((n,i)=>{const{children:s,...a}=n;if(j.isValidElement(s)){const o=zge(s),l=qge(a,s.props);return s.type!==j.Fragment&&(l.ref=i?nv(i,o):o),j.cloneElement(s,l)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fge=Symbol("radix.slottable");function Lge(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fge}function qge(e,t){const n={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[i]=s):i==="style"?n[i]={...s,...a}:i==="className"&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function zge(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Bge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],H1=Bge.reduce((e,t)=>{const n=$ge(`Primitive.${t}`),i=j.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),gg="Checkbox",[Uge,cNe]=Ur(gg),[Vge,G1]=Uge(gg);function Wge(e){const{__scopeCheckbox:t,checked:n,children:i,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[p,h]=Oge({prop:n,defaultProp:s??!1,onChange:c,caller:gg}),[v,m]=j.useState(null),[y,b]=j.useState(null),g=j.useRef(!1),x=v?!!o||!!v.closest("form"):!0,N={checked:p,disabled:a,setChecked:h,control:v,setControl:m,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:g,required:d,defaultChecked:za(s)?!1:s,isFormControl:x,bubbleInput:y,setBubbleInput:b};return r.jsx(Vge,{scope:t,...N,children:Hge(f)?f(N):i})}var uL="CheckboxTrigger",fL=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...i},s)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:v}=G1(uL,e),m=yt(s,u),y=j.useRef(c);return j.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const g=()=>f(y.current);return b.addEventListener("reset",g),()=>b.removeEventListener("reset",g)}},[a,f]),r.jsx(H1.button,{type:"button",role:"checkbox","aria-checked":za(c)?"mixed":c,"aria-required":d,"data-state":vL(c),"data-disabled":l?"":void 0,disabled:l,value:o,...i,ref:m,onKeyDown:He(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:He(n,b=>{f(g=>za(g)?!0:!g),v&&h&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});fL.displayName=uL;var K1=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:i,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return r.jsx(Wge,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:i,form:u,value:c,internal_do_not_use_render:({isFormControl:p})=>r.jsxs(r.Fragment,{children:[r.jsx(fL,{...f,ref:t,__scopeCheckbox:n}),p&&r.jsx(xL,{__scopeCheckbox:n})]})})});K1.displayName=gg;var pL="CheckboxIndicator",mL=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:i,...s}=e,a=G1(pL,n);return r.jsx(dL,{present:i||za(a.checked)||a.checked===!0,children:r.jsx(H1.span,{"data-state":vL(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});mL.displayName=pL;var hL="CheckboxBubbleInput",xL=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:i,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:p,setBubbleInput:h}=G1(hL,e),v=yt(n,h),m=L1(a),y=CN(i);j.useEffect(()=>{const g=p;if(!g)return;const x=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(x,"checked").set,k=!s.current;if(m!==a&&w){const E=new Event("click",{bubbles:k});g.indeterminate=za(a),w.call(g,za(a)?!1:a),g.dispatchEvent(E)}},[p,m,a,s]);const b=j.useRef(za(a)?!1:a);return r.jsx(H1.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xL.displayName=hL;function Hge(e){return typeof e=="function"}function za(e){return e==="indeterminate"}function vL(e){return za(e)?"indeterminate":e?"checked":"unchecked"}const Yn=j.forwardRef(({className:e,...t},n)=>r.jsx(K1,{ref:n,className:Qe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(mL,{className:Qe("flex items-center justify-center text-current"),children:r.jsx(DI,{className:"h-4 w-4"})})}));Yn.displayName=K1.displayName;function Gge({analysis:e}){const[t,n]=j.useState({format:"pdf",sections:{summary:!0,rcaTree:!0,recommendations:!0,operatingParams:!0,historicalData:!1,evidenceGathering:!1,auditTrail:!1},includeCharts:!0,includeBranding:!0}),[i,s]=j.useState(!1),{toast:a}=Dt(),o=[{value:"pdf",label:"PDF Report",icon:Zt,description:"Professional PDF document"},{value:"word",label:"Word Document",icon:LI,description:"Editable Microsoft Word format"},{value:"excel",label:"Excel Workbook",icon:qI,description:"Data tables and charts"},{value:"image",label:"High-Res Image",icon:wz,description:"PNG image for presentations"}],l=[{key:"summary",label:"Executive Summary",description:"Key findings and recommendations"},{key:"rcaTree",label:"RCA Tree Diagram",description:"Visual root cause analysis"},{key:"recommendations",label:"Action Items",description:"Detailed recommendations"},{key:"operatingParams",label:"Operating Parameters",description:"Equipment data and metrics"},{key:"historicalData",label:"Historical Analysis",description:"Maintenance and failure history"},{key:"evidenceGathering",label:"Evidence Gathering",description:"Q&A responses and context"},{key:"auditTrail",label:"Audit Trail",description:"Version history and changes"}],c=async()=>{s(!0);try{await new Promise(g=>setTimeout(g,parseInt("3000")));const h=`RCA_${e.analysisId}_${new Date().toISOString().split("T")[0]}.${t.format}`,v=d(),m=new Blob([v],{type:u(t.format)}),y=URL.createObjectURL(m),b=document.createElement("a");b.href=y,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(y),a({title:"Report Generated",description:`Your ${t.format.toUpperCase()} report has been downloaded successfully.`})}catch{a({title:"Export Failed",description:"Failed to generate report. Please try again.",variant:"destructive"})}finally{s(!1)}},d=()=>{var v,m;const h=[];if(t.sections.summary&&h.push(`
=== EXECUTIVE SUMMARY ===
Analysis ID: ${e.analysisId}
Equipment: ${e.equipmentId} (${e.equipmentType})
Location: ${e.location}
Issue: ${e.issueDescription}
Root Cause: ${e.rootCause}
Confidence: ${e.confidence}%
Priority: ${e.priority}
Status: ${e.status}
Completed: ${e.completedAt?new Date(e.completedAt).toLocaleString():"In Progress"}
      `),t.sections.recommendations&&h.push(`
=== RECOMMENDATIONS ===
${(e.recommendations||[]).map((y,b)=>`${b+1}. ${y}`).join(`
`)}
      `),t.sections.operatingParams&&e.operatingParameters){const y=e.operatingParameters;h.push(`
=== OPERATING PARAMETERS ===
${Object.entries(y).map(([b,g])=>typeof g=="object"&&g!==null?`${b.toUpperCase()}:
${Object.entries(g).map(([x,N])=>`  ${x}: ${N}`).join(`
`)}`:`${b}: ${g}`).join(`

`)}
      `)}if(t.sections.historicalData&&e.historicalData){const y=e.historicalData;h.push(`
=== HISTORICAL DATA ===
Maintenance Records:
${((v=y.maintenanceRecords)==null?void 0:v.map(b=>`- ${b.date}: ${b.type} - ${b.description} ($${b.cost})`).join(`
`))||"No records available"}

Previous Failures:
${((m=y.previousFailures)==null?void 0:m.map(b=>`- ${b.date}: ${b.rootCause} (${b.downtime}h downtime)`).join(`
`))||"No previous failures"}
      `)}return h.join(`

`)},u=h=>{switch(h){case"pdf":return"application/pdf";case"word":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"excel":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"image":return"image/png";default:return"text/plain"}},f=(h,v)=>{n(m=>({...m,sections:{...m.sections,[h]:v}}))},p=o.find(h=>h.value===t.format);return r.jsxs(Y,{className:"w-full",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(cr,{className:"w-5 h-5"}),r.jsx("span",{children:"Export Report"}),r.jsx(J,{variant:"outline",children:"Professional"})]})}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Export Format"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.map(h=>{const v=h.icon;return r.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${t.format===h.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n(m=>({...m,format:h.value})),children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(v,{className:"w-5 h-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:h.label}),r.jsx("div",{className:"text-xs text-gray-500",children:h.description})]})]})},h.value)})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Report Sections"}),r.jsx("div",{className:"space-y-3",children:l.map(h=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yn,{id:h.key,checked:t.sections[h.key],onCheckedChange:v=>f(h.key,!!v)}),r.jsxs("div",{className:"grid gap-1.5 leading-none",children:[r.jsx(ie,{htmlFor:h.key,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:h.label}),r.jsx("p",{className:"text-xs text-muted-foreground",children:h.description})]})]},h.key))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ie,{className:"text-sm font-medium",children:"Additional Options"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Yn,{id:"charts",checked:t.includeCharts,onCheckedChange:h=>n(v=>({...v,includeCharts:!!h}))}),r.jsx(ie,{htmlFor:"charts",className:"text-sm",children:"Include charts and visualizations"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Yn,{id:"branding",checked:t.includeBranding,onCheckedChange:h=>n(v=>({...v,includeBranding:!!h}))}),r.jsx(ie,{htmlFor:"branding",className:"text-sm",children:"Include company branding"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Report Preview"}),r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Format:"})," ",p==null?void 0:p.label]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Sections:"})," ",Object.values(t.sections).filter(Boolean).length," selected"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Analysis:"})," ",e.analysisId," - ",e.equipmentId]}),r.jsxs("div",{children:[r.jsx("strong",{children:"File size:"})," ~",t.format==="image"?"2-5":"1-3"," MB (estimated)"]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(W,{onClick:c,disabled:i||Object.values(t.sections).every(h=>!h),className:"min-w-[140px]",children:i?r.jsxs(r.Fragment,{children:[r.jsx(cr,{className:"w-4 h-4 mr-2 animate-pulse"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cr,{className:"w-4 h-4 mr-2"}),"Export Report"]})})})]})]})}function Kge(e,t){return j.useReducer((n,i)=>t[n][i]??n,e)}var Y1="ScrollArea",[gL,dNe]=Ur(Y1),[Yge,di]=gL(Y1),yL=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=j.useState(null),[d,u]=j.useState(null),[f,p]=j.useState(null),[h,v]=j.useState(null),[m,y]=j.useState(null),[b,g]=j.useState(0),[x,N]=j.useState(0),[w,k]=j.useState(!1),[E,S]=j.useState(!1),C=yt(t,P=>c(P)),_=xv(s);return r.jsx(Yge,{scope:n,type:i,dir:_,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:w,onScrollbarXEnabledChange:k,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:E,onScrollbarYEnabledChange:S,onCornerWidthChange:g,onCornerHeightChange:N,children:r.jsx(nt.div,{dir:_,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});yL.displayName=Y1;var bL="ScrollAreaViewport",jL=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:s,...a}=e,o=di(bL,n),l=j.useRef(null),c=yt(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(nt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});jL.displayName=bL;var xs="ScrollAreaScrollbar",Q1=j.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=di(xs,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return j.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?r.jsx(Qge,{...i,ref:t,forceMount:n}):s.type==="scroll"?r.jsx(Xge,{...i,ref:t,forceMount:n}):s.type==="auto"?r.jsx(wL,{...i,ref:t,forceMount:n}):s.type==="always"?r.jsx(X1,{...i,ref:t}):null});Q1.displayName=xs;var Qge=j.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=di(xs,e.__scopeScrollArea),[a,o]=j.useState(!1);return j.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),r.jsx(oi,{present:n||a,children:r.jsx(wL,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Xge=j.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=di(xs,e.__scopeScrollArea),a=e.orientation==="horizontal",o=bg(()=>c("SCROLL_END"),100),[l,c]=Kge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),j.useEffect(()=>{const d=s.viewport,u=a?"scrollLeft":"scrollTop";if(d){let f=d[u];const p=()=>{const h=d[u];f!==h&&(c("SCROLL"),o()),f=h};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,a,c,o]),r.jsx(oi,{present:n||l!=="hidden",children:r.jsx(X1,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:He(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:He(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),wL=j.forwardRef((e,t)=>{const n=di(xs,e.__scopeScrollArea),{forceMount:i,...s}=e,[a,o]=j.useState(!1),l=e.orientation==="horizontal",c=bg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return md(n.viewport,c),md(n.content,c),r.jsx(oi,{present:i||a,children:r.jsx(X1,{"data-state":a?"visible":"hidden",...s,ref:t})})}),X1=j.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,s=di(xs,e.__scopeScrollArea),a=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=EL(l.viewport,l.content),u={...i,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,h){return rye(p,o.current,l,h)}return n==="horizontal"?r.jsx(Zge,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,h=bP(p,l,s.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?r.jsx(Jge,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,h=bP(p,l);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),Zge=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,a=di(xs,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),d=yt(t,c,a.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(SL,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yg(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),PL(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&i({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:jx(o.paddingLeft),paddingEnd:jx(o.paddingRight)}})}})}),Jge=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,a=di(xs,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),d=yt(t,c,a.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(SL,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yg(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),PL(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&i({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:jx(o.paddingTop),paddingEnd:jx(o.paddingBottom)}})}})}),[eye,NL]=gL(xs),SL=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...p}=e,h=di(xs,n),[v,m]=j.useState(null),y=yt(t,C=>m(C)),b=j.useRef(null),g=j.useRef(""),x=h.viewport,N=i.content-i.viewport,w=un(u),k=un(c),E=bg(f,10);function S(C){if(b.current){const _=C.clientX-b.current.left,P=C.clientY-b.current.top;d({x:_,y:P})}}return j.useEffect(()=>{const C=_=>{const P=_.target;(v==null?void 0:v.contains(P))&&w(_,N)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[x,v,N,w]),j.useEffect(k,[i,k]),md(v,E),md(h.content,E),r.jsx(eye,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:un(a),onThumbPointerUp:un(o),onThumbPositionChange:k,onThumbPointerDown:un(l),children:r.jsx(nt.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:He(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=v.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),S(C))}),onPointerMove:He(e.onPointerMove,S),onPointerUp:He(e.onPointerUp,C=>{const _=C.target;_.hasPointerCapture(C.pointerId)&&_.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=g.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),bx="ScrollAreaThumb",CL=j.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=NL(bx,e.__scopeScrollArea);return r.jsx(oi,{present:n||s.hasThumb,children:r.jsx(tye,{ref:t,...i})})}),tye=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:i,...s}=e,a=di(bx,n),o=NL(bx,n),{onThumbPositionChange:l}=o,c=yt(t,f=>o.onThumbChange(f)),d=j.useRef(void 0),u=bg(()=>{d.current&&(d.current(),d.current=void 0)},100);return j.useEffect(()=>{const f=a.viewport;if(f){const p=()=>{if(u(),!d.current){const h=iye(f,l);d.current=h,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,u,l]),r.jsx(nt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:He(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),v=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:v,y:m})}),onPointerUp:He(e.onPointerUp,o.onThumbPointerUp)})});CL.displayName=bx;var Z1="ScrollAreaCorner",kL=j.forwardRef((e,t)=>{const n=di(Z1,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?r.jsx(nye,{...e,ref:t}):null});kL.displayName=Z1;var nye=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,...i}=e,s=di(Z1,n),[a,o]=j.useState(0),[l,c]=j.useState(0),d=!!(a&&l);return md(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),md(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),d?r.jsx(nt.div,{...i,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function jx(e){return e?parseInt(e,10):0}function EL(e,t){const n=e/t;return isNaN(n)?0:n}function yg(e){const t=EL(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function rye(e,t,n,i="ltr"){const s=yg(n),a=s/2,o=t||a,l=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,f=i==="ltr"?[0,u]:[u*-1,0];return AL([c,d],f)(e)}function bP(e,t,n="ltr"){const i=yg(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-i,c=n==="ltr"?[0,o]:[o*-1,0],d=Vj(e,c);return AL([0,o],[0,l])(d)}function AL(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function PL(e,t){return e>0&&e<t}var iye=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},i=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,i=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(i)};function bg(e,t){const n=un(e),i=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(i.current),[]),j.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function md(e,t){const n=un(t);pn(()=>{let i=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(i),s.unobserve(e)}}},[e,n])}var OL=yL,sye=jL,aye=kL;const TL=j.forwardRef(({className:e,children:t,...n},i)=>r.jsxs(OL,{ref:i,className:Qe("relative overflow-hidden",e),...n,children:[r.jsx(sye,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(_L,{}),r.jsx(aye,{})]}));TL.displayName=OL.displayName;const _L=j.forwardRef(({className:e,orientation:t="vertical",...n},i)=>r.jsx(Q1,{ref:i,orientation:t,className:Qe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(CL,{className:"relative flex-1 rounded-full bg-border"})}));_L.displayName=Q1.displayName;function oye({analysis:e,onRevert:t}){const[n,i]=j.useState(null),{toast:s}=Dt(),o=(()=>{const v=[];v.push({timestamp:e.createdAt.toString(),user:"AI System",reason:"Initial root cause analysis",changes:{},version:1,type:"initial_creation"});const m=e.adjustmentHistory||[];v.push(...m.map(b=>({...b,type:"manual_adjustment"})));const y=e.evidenceGatheringHistory||[];return v.push(...y.map(b=>({...b,type:"evidence_gathering"}))),v.sort((b,g)=>new Date(g.timestamp).getTime()-new Date(b.timestamp).getTime())})(),l=Math.max(...o.map(v=>v.version),1),c=v=>new Date(v).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=v=>{switch(v){case"initial_creation":return r.jsx(Zt,{className:"w-4 h-4"});case"manual_adjustment":return r.jsx(zc,{className:"w-4 h-4"});case"ai_reanalysis":return r.jsx(qc,{className:"w-4 h-4"});case"evidence_gathering":return r.jsx(Lc,{className:"w-4 h-4"});default:return r.jsx(Nr,{className:"w-4 h-4"})}},u=v=>{switch(v){case"initial_creation":return"bg-green-100 text-green-800";case"manual_adjustment":return"bg-blue-100 text-blue-800";case"ai_reanalysis":return"bg-purple-100 text-purple-800";case"evidence_gathering":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},f=v=>{switch(v){case"initial_creation":return"Created";case"manual_adjustment":return"Manual Edit";case"ai_reanalysis":return"AI Re-analysis";case"evidence_gathering":return"Evidence Update";default:return"Unknown"}},p=v=>{if(v===l){s({title:"Already Current Version",description:"This is already the current version of the analysis.",variant:"destructive"});return}t&&(t(v),s({title:"Version Reverted",description:`Analysis has been reverted to version ${v}.`}))},h=v=>Object.keys(v).length===0?r.jsx("div",{className:"text-sm text-gray-500 italic",children:"No specific changes recorded"}):r.jsx("div",{className:"space-y-2",children:Object.entries(v).map(([m,y])=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"font-medium text-gray-700 capitalize",children:[m.replace(/([A-Z])/g," $1").toLowerCase(),":"]}),r.jsxs("div",{className:"ml-2 space-y-1",children:[r.jsxs("div",{className:"text-red-600",children:[r.jsx("span",{className:"font-medium",children:"From:"})," ",typeof y.from=="object"?JSON.stringify(y.from,null,2):String(y.from||"Empty").substring(0,100)]}),r.jsxs("div",{className:"text-green-600",children:[r.jsx("span",{className:"font-medium",children:"To:"})," ",typeof y.to=="object"?JSON.stringify(y.to,null,2):String(y.to||"Empty").substring(0,100)]})]})]},m))});return r.jsxs(Y,{className:"w-full",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(Is,{className:"w-5 h-5"}),r.jsx("span",{children:"Version History & Audit Trail"}),r.jsxs(J,{variant:"outline",children:["v",l]})]})}),r.jsxs(Q,{children:[r.jsxs(Kt,{className:"mb-6",children:[r.jsx(Is,{className:"h-4 w-4"}),r.jsx(Yt,{children:"Complete audit trail of all changes made to this analysis. Click on any version to view details."})]}),r.jsx(TL,{className:"h-[600px] pr-4",children:r.jsx("div",{className:"space-y-4",children:o.map((v,m)=>r.jsxs("div",{className:`border rounded-lg p-4 transition-colors cursor-pointer ${n===v.version?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>i(n===v.version?null:v.version),children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`p-2 rounded-full ${u(v.type)}`,children:d(v.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs("span",{className:"font-medium",children:["Version ",v.version]}),r.jsx(J,{variant:"outline",className:"text-xs",children:f(v.type)}),v.version===l&&r.jsx(J,{className:"text-xs",children:"Current"})]}),r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(zc,{className:"w-3 h-3"}),r.jsx("span",{children:v.user})]}),r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(Nr,{className:"w-3 h-3"}),r.jsx("span",{children:c(v.timestamp)})]})]})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Reason:"})," ",v.reason]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),i(n===v.version?null:v.version)},children:r.jsx(Lc,{className:"w-4 h-4"})}),v.version!==l&&r.jsxs(W,{variant:"outline",size:"sm",onClick:y=>{y.stopPropagation(),p(v.version)},children:[r.jsx(av,{className:"w-4 h-4 mr-1"}),"Revert"]})]})]}),n===v.version&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[r.jsx("h4",{className:"font-medium text-sm mb-3",children:"Changes Made:"}),h(v.changes)]})]},v.version))})}),o.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Is,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No version history available"})]})]})]})}function lye(e){const t=cye(e),n=j.forwardRef((i,s)=>{const{children:a,...o}=i,l=j.Children.toArray(a),c=l.find(uye);if(c){const d=c.props.children,u=l.map(f=>f===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:s,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function cye(e){const t=j.forwardRef((n,i)=>{const{children:s,...a}=n;if(j.isValidElement(s)){const o=pye(s),l=fye(a,s.props);return s.type!==j.Fragment&&(l.ref=i?nv(i,o):o),j.cloneElement(s,l)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dye=Symbol("radix.slottable");function uye(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dye}function fye(e,t){const n={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[i]=s):i==="style"?n[i]={...s,...a}:i==="className"&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function pye(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IL=mye.reduce((e,t)=>{const n=lye(`Primitive.${t}`),i=j.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),J1="Progress",eS=100,[hye,uNe]=Ur(J1),[xye,vye]=hye(J1),RL=j.forwardRef((e,t)=>{const{__scopeProgress:n,value:i=null,max:s,getValueLabel:a=gye,...o}=e;(s||s===0)&&!jP(s)&&console.error(yye(`${s}`,"Progress"));const l=jP(s)?s:eS;i!==null&&!wP(i,l)&&console.error(bye(`${i}`,"Progress"));const c=wP(i,l)?i:null,d=wx(c)?a(c,l):void 0;return r.jsx(xye,{scope:n,value:c,max:l,children:r.jsx(IL.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":wx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":DL(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});RL.displayName=J1;var ML="ProgressIndicator",$L=j.forwardRef((e,t)=>{const{__scopeProgress:n,...i}=e,s=vye(ML,n);return r.jsx(IL.div,{"data-state":DL(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...i,ref:t})});$L.displayName=ML;function gye(e,t){return`${Math.round(e/t*100)}%`}function DL(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function wx(e){return typeof e=="number"}function jP(e){return wx(e)&&!isNaN(e)&&e>0}function wP(e,t){return wx(e)&&!isNaN(e)&&e<=t&&e>=0}function yye(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${eS}\`.`}function bye(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${eS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var FL=RL,jye=$L;const Rr=j.forwardRef(({className:e,value:t,...n},i)=>r.jsx(FL,{ref:i,className:Qe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(jye,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Rr.displayName=FL.displayName;function wye({analysis:e,className:t=""}){var d;const[n,i]=j.useState("asset_analysis"),a=(()=>{var p,h;const u=e.evidenceData||{},f=e.analysisResults||{};return[{id:"asset_analysis",title:"Asset Identification & Context",status:"completed",confidence:95,details:[`Equipment Type: ${u.equipment_type||"Not specified"}`,`Equipment ID: ${u.equipment_tag||"Not specified"}`,`Location: ${e.whereHappened||u.operating_location||"Not specified"}`,`Category: ${u.equipment_category||"Not specified"}`],timestamp:e.createdAt},{id:"symptom_analysis",title:"Symptom Analysis & Localization",status:"completed",confidence:88,details:[`Primary Problem: ${u.observed_problem||e.whatHappened||"Not specified"}`,`Symptom Location: ${u.symptom_location||"Not localized"}`,`Problem Type: ${u.problem_type||"Not classified"}`,`Detection Method: ${u.detection_method||"Not specified"}`]},{id:"cause_mapping",title:"Failure Mode & Cause Mapping",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Analysis Method: ${f.analysisMethod||"Fault Tree Analysis"}`,`Causes Identified: ${((p=f.causes)==null?void 0:p.length)||0} potential causes evaluated`,"Knowledge base correlation completed","Statistical analysis performed","Industry best practices applied"]},{id:"evidence_correlation",title:"Evidence Correlation & Validation",status:"completed",confidence:Math.round(parseFloat(e.evidenceCompleteness||"80")),details:[`Evidence Completeness: ${Math.round(parseFloat(e.evidenceCompleteness||"80"))}%`,`Maintenance History: ${u.last_maintenance_type||"Available"}`,`Operating Conditions: ${u.environmental_conditions||"Within limits"}`,"Data correlation analysis completed"]},{id:"root_cause_selection",title:"Root Cause Selection & Validation",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Top Event: ${f.topEvent||"Equipment Failure"}`,`Primary Causes: ${((h=f.causes)==null?void 0:h.map(v=>v.description).join(", "))||"Equipment degradation"}`,`Confidence Score: ${Math.round((f.confidence||.8)*100)}%`,"Validation completed against ISO 14224 standards"]},{id:"recommendations",title:"Actionable Recommendations",status:"completed",confidence:85,details:(e.recommendations||["Review operating parameters and implement process controls"]).map((v,m)=>`${m+1}. ${v}`)}]})(),o=a.find(u=>u.id===n),l=u=>{switch(u){case"completed":return r.jsx(Ct,{className:"w-5 h-5 text-green-500"});case"in_progress":return r.jsx(Ci,{className:"w-5 h-5 text-blue-500"});case"failed":return r.jsx(ut,{className:"w-5 h-5 text-red-500"});default:return r.jsx(Nz,{className:"w-5 h-5 text-gray-400"})}},c=u=>u>=80?"text-green-600":u>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:`space-y-6 ${t}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(_t,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold",children:"AI Reasoning Process"}),r.jsxs(J,{variant:"outline",className:"ml-auto",children:["Confidence: ",Math.round((e.confidence||((d=e.analysisResults)==null?void 0:d.confidence)||.8)*100),"%"]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ls,{className:"w-5 h-5"}),"Analysis Progress"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Overall Completion"}),r.jsxs("span",{children:[Math.round(a.filter(u=>u.status==="completed").length/a.length*100),"%"]})]}),r.jsx(Rr,{value:a.filter(u=>u.status==="completed").length/a.length*100,className:"h-2"}),r.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[r.jsxs("span",{children:["✓ ",a.filter(u=>u.status==="completed").length," Completed"]}),r.jsxs("span",{children:["⟳ ",a.filter(u=>u.status==="in_progress").length," In Progress"]}),r.jsxs("span",{children:["○ ",a.filter(u=>u.status==="pending").length," Pending"]})]})]})})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:a.map((u,f)=>r.jsx(W,{variant:n===u.id?"default":"outline",size:"sm",onClick:()=>i(u.id),className:"flex items-center gap-2 h-auto p-3",children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l(u.status),r.jsx("span",{className:"text-xs text-center leading-tight",children:u.title.split(" ")[0]}),u.confidence&&r.jsxs(J,{variant:"secondary",className:"text-xs px-1",children:[Math.round(u.confidence),"%"]})]})},u.id))}),o&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[l(o.status),o.title,o.confidence&&r.jsxs(J,{variant:"outline",className:`ml-auto ${c(o.confidence)}`,children:[Math.round(o.confidence),"% Confidence"]})]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Analysis Details"}),r.jsx("ul",{className:"space-y-1",children:o.details.map((u,f)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(hp,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsx("span",{children:u})]},f))})]}),o.evidence&&o.evidence.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-medium text-sm text-muted-foreground flex items-center gap-2",children:[r.jsx(yz,{className:"w-4 h-4"}),"Evidence Analysis"]}),r.jsx("div",{className:"grid gap-2",children:o.evidence.map((u,f)=>r.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${u.type==="supporting"?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"font-medium text-sm",children:[u.type==="supporting"?"✓":"✗"," ",u.description||u.type]}),r.jsxs(J,{variant:"outline",className:"text-xs",children:["Weight: ",u.weight||"N/A"]})]}),u.value&&r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Value: ",u.value]})]},f))})]}),o.timestamp&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Completed: ",new Date(o.timestamp).toLocaleString()]})]})]}),e.missingDataPrompts&&e.missingDataPrompts.length>0&&r.jsxs(Kt,{className:"border-yellow-200 bg-yellow-50",children:[r.jsx(ut,{className:"w-4 h-4"}),r.jsxs(Yt,{children:[r.jsx("div",{className:"font-medium",children:"Additional Data Needed"}),r.jsx("div",{className:"text-sm mt-1 space-y-1",children:e.missingDataPrompts.map((u,f)=>r.jsxs("div",{children:["• ",u.question]},f))})]})]}),e.manualAdjustments&&e.manualAdjustments.length>0&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"w-5 h-5"}),"Manual Adjustments & Expert Overrides"]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:e.manualAdjustments.map((u,f)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(J,{variant:u.expertOverride?"destructive":"secondary",children:u.expertOverride?"Expert Override":"Manual Adjustment"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.timestamp).toLocaleString()})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:"Reasoning:"}),r.jsx("div",{className:"text-muted-foreground",children:u.reasoning})]})]},f))})})]})]})}function Nye({analysis:e,onDataProvided:t}){const[n,i]=j.useState({}),[s,a]=j.useState(!1),{toast:o}=Dt(),l=Br(),c=e.missingDataPrompts||[],d=Ye({mutationFn:async v=>lt(`/api/analyses/${e.id}/provide-data`,{method:"POST",body:JSON.stringify(v)}),onSuccess:()=>{o({title:"Data Provided Successfully",description:"The analysis will be updated with your additional information."}),l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),t==null||t()},onError:v=>{o({title:"Failed to Submit Data",description:v.message,variant:"destructive"})}}),u=(v,m)=>{i(y=>({...y,[v]:m}))},f=async()=>{a(!0);try{await d.mutateAsync({responses:n,additionalData:{timestamp:new Date().toISOString(),source:"user_input"}})}finally{a(!1)}},p=v=>{switch(v){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},h=v=>{var y;const m=n[v.id]||"";switch(v.type){case"equipment":return r.jsxs("div",{className:"space-y-3",children:[v.options&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Please select the option that best describes your situation:"}),r.jsxs(Be,{value:m,onValueChange:b=>u(v.id,b),children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select an option"})}),r.jsx(Ve,{children:v.options.map((b,g)=>r.jsx(ee,{value:b,children:b},g))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Additional Equipment Details:"}),r.jsx(We,{value:m,onChange:b=>u(v.id,b.target.value),placeholder:"Provide any additional equipment details, specifications, or context...",rows:3})]})]});case"operating_data":return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Missing Parameters:"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(y=v.missing)==null?void 0:y.map((b,g)=>r.jsx(J,{variant:"outline",className:"justify-center",children:b.replace(/_/g," ").toUpperCase()},g))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Operating Parameter Values:"}),r.jsx(We,{value:m,onChange:b=>u(v.id,b.target.value),placeholder:"Please provide the missing operating parameters (e.g., Temperature: 180°F, Pressure: 25 psig, Flow: 100 gpm)...",rows:4})]})]});case"symptoms":return r.jsxs("div",{className:"space-y-3",children:[v.context&&r.jsxs(Kt,{children:[r.jsx(KC,{className:"w-4 h-4"}),r.jsxs(Yt,{children:[r.jsx("strong",{children:"Current Analysis:"})," ",v.context]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Detailed Symptom Description:"}),r.jsx(We,{value:m,onChange:b=>u(v.id,b.target.value),placeholder:"Describe the symptoms in detail: when they started, how they manifested, any patterns you noticed...",rows:4})]})]});default:return r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Response:"}),r.jsx(We,{value:m,onChange:b=>u(v.id,b.target.value),placeholder:"Please provide the requested information...",rows:3})]})}};return c.length===0?null:r.jsxs(Y,{className:"border-yellow-200 bg-yellow-50",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"w-5 h-5 text-yellow-600"}),"Additional Information Needed",r.jsxs(J,{variant:"outline",className:"ml-auto",children:[c.length," ",c.length===1?"Question":"Questions"]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"The AI analysis requires additional information to improve accuracy and confidence. Please provide the requested details below."})]}),r.jsxs(Q,{className:"space-y-6",children:[c.map((v,m)=>r.jsxs(Y,{className:"border-yellow-200",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx(Z,{className:"text-base",children:v.question}),r.jsxs(J,{variant:p(v.priority),children:[v.priority," Priority"]})]})}),r.jsx(Q,{children:h(v)})]},v.id||m)),r.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:r.jsxs(W,{onClick:f,disabled:s||Object.keys(n).length===0,className:"flex items-center gap-2",children:[s?r.jsx(Dm,{className:"w-4 h-4 animate-spin"}):r.jsx(Tz,{className:"w-4 h-4"}),s?"Updating Analysis...":"Submit Additional Data"]})}),r.jsxs(Kt,{children:[r.jsx(KC,{className:"w-4 h-4"}),r.jsxs(Yt,{children:[r.jsx("strong",{children:"How this helps:"})," Your additional information will be used to re-run the analysis with higher confidence. The AI will correlate your inputs with the existing data to provide more accurate root cause identification and recommendations."]})]})]})]})}function Sye(){var y,b,g,x,N,w,k,E,S,C,_,P,A,O,I,F;const[,e]=tv("/investigation/:id"),[t,n]=j.useState("overview"),[i,s]=j.useState(!1),a=e==null?void 0:e.id,o=a==null?void 0:a.startsWith("INC-"),l=o?a.replace("INC-",""):a,c=o?`/api/incidents/${l}`:`/api/investigations/${a}`,{data:d,isLoading:u,error:f}=Oe({queryKey:[c],enabled:!!a,queryFn:async()=>{const $=await fetch(c);if(!$.ok)throw new Error(`Failed to fetch ${o?"incident":"analysis"}`);return $.json()}}),p=d?o?{analysisId:`INC-${d.id}`,equipmentId:d.equipmentId||"Unknown",location:d.location||"Unknown",priority:d.priority||"medium",confidence:((y=d.aiAnalysis)==null?void 0:y.overallConfidence)||0,analysisResults:d.aiAnalysis,whatHappened:d.symptomDescription||d.title,evidenceData:{equipment_type:d.equipmentType,equipment_tag:d.equipmentId,operating_location:d.location},whereHappened:d.location,rootCauses:((g=(b=d.aiAnalysis)==null?void 0:b.rootCauses)==null?void 0:g.map($=>$.description))||[],recommendations:((N=(x=d.aiAnalysis)==null?void 0:x.recommendations)==null?void 0:N.map($=>$.description))||[],status:d.workflowStatus,investigationType:"Equipment Failure",updatedAt:d.updatedAt}:d:null;if(u)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading analysis..."})]})});if(f||!p)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-destructive mb-4",children:"Failed to load analysis"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:o?`Incident ID: ${a}`:`Investigation ID: ${a}`}),r.jsxs(W,{onClick:()=>window.history.back(),children:[r.jsx(as,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})});const h=$=>{switch($){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},v=$=>$>=90?"confidence-high":$>=70?"confidence-medium":"confidence-low",m=$=>new Date($).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(W,{variant:"ghost",onClick:()=>window.history.back(),className:"flex items-center space-x-2",children:[r.jsx(as,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]}),r.jsx(Ds,{orientation:"vertical",className:"h-6"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-foreground",children:p.analysisId}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.equipmentId," • ",p.location]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{className:h(p.priority||"medium"),children:(p.priority||"medium").toUpperCase()}),r.jsxs(J,{className:v(p.confidence||0),children:[p.confidence,"% Confidence"]}),r.jsxs(W,{variant:"outline",onClick:()=>s(!i),children:[r.jsx(ov,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i?r.jsx(Age,{analysis:p,onSave:()=>s(!1),onCancel:()=>s(!1)}):r.jsxs(Zn,{value:t,onValueChange:n,className:"w-full",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-8 mb-8",children:[r.jsx(Te,{value:"overview",children:"Overview"}),r.jsxs(Te,{value:"diagrams",children:[r.jsx(qc,{className:"w-4 h-4 mr-1"}),"Diagrams"]}),r.jsx(Te,{value:"rca-tree",children:"RCA Tree"}),r.jsx(Te,{value:"evidence",children:"Evidence"}),r.jsx(Te,{value:"reasoning",children:"AI Reasoning"}),r.jsx(Te,{value:"export",children:"Export"}),r.jsx(Te,{value:"history",children:"History"}),r.jsx(Te,{value:"settings",children:"Settings"})]}),r.jsxs(Ee,{value:"overview",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Analysis Summary"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Issue Description"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:p.whatHappened||((w=p.evidenceData)==null?void 0:w.observed_problem)||"No description available"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Equipment Details"}),r.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",((k=p.evidenceData)==null?void 0:k.equipment_type)||"Not specified"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",((E=p.evidenceData)==null?void 0:E.equipment_tag)||"Not specified"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Location:"})," ",p.whereHappened||((S=p.evidenceData)==null?void 0:S.operating_location)||"Not specified"]})]})]})]}),r.jsx(Ds,{}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Root Cause Analysis"}),p.analysisResults?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-sm mb-2",children:"Failure Analysis"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Failure Mode:"})," ",p.analysisResults.failureMode||"Not specified"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Severity:"})," ",p.analysisResults.severity||"Not specified"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Confidence:"})," ",p.analysisResults.overallConfidence||0,"%"]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-sm mb-3",children:"Root Causes"}),r.jsx("div",{className:"space-y-3",children:(p.analysisResults.rootCauses||[]).map(($,G)=>r.jsxs("div",{className:"p-3 border-l-4 border-red-500 bg-red-50",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h6",{className:"font-medium text-sm",children:$.description}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-800",children:"Root Cause"}),r.jsxs("span",{className:"text-xs font-medium",children:[$.confidence,"%"]})]})]}),$.evidence&&$.evidence.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Evidence:"}),r.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:$.evidence.map((z,H)=>r.jsx("li",{children:typeof z=="string"?z:z.description||""},H))})]})]},G))})]})]}):(C=p.analysisResults)!=null&&C.structuredAnalysis?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-sm mb-2",children:"Symptom Statement"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:p.analysisResults.structuredAnalysis.symptomStatement})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-sm mb-3",children:"Causes Analysis"}),r.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.causesConsidered.map(($,G)=>r.jsxs("div",{className:`p-3 border-l-4 ${$.classification==="root_cause"?"border-red-500 bg-red-50":$.classification==="contributing"?"border-yellow-500 bg-yellow-50":"border-gray-300 bg-gray-50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h6",{className:"font-medium text-sm",children:$.cause}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded ${$.classification==="root_cause"?"bg-red-100 text-red-800":$.classification==="contributing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:$.classification.replace("_"," ")}),r.jsxs("span",{className:"text-xs font-medium",children:[Math.round($.confidence*100),"%"]})]})]}),$.supportingEvidence.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Supporting Evidence:"}),r.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:$.supportingEvidence.map((z,H)=>r.jsx("li",{children:z},H))})]}),$.contradictingEvidence.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-xs font-medium text-red-700 mb-1",children:"Contradicting Evidence:"}),r.jsx("ul",{className:"text-xs text-red-600 list-disc list-inside",children:$.contradictingEvidence.map((z,H)=>r.jsx("li",{children:z},H))})]}),r.jsx("p",{className:"text-xs text-muted-foreground italic",children:$.reasoning})]},G))})]}),r.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500",children:[r.jsx("h5",{className:"font-medium text-sm mb-2 text-blue-800",children:"Conclusion"}),r.jsx("p",{className:"text-sm text-blue-700",children:p.analysisResults.structuredAnalysis.conclusion})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:((P=(_=p.analysisResults)==null?void 0:_.causes)==null?void 0:P.map($=>$.description).join("; "))||p.rootCauses||"Analysis in progress..."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Recommendations"}),(A=p.analysisResults)!=null&&A.recommendations?r.jsx("div",{className:"space-y-3",children:p.analysisResults.recommendations.map(($,G)=>r.jsxs("div",{className:"p-3 border-l-4 border-blue-500 bg-blue-50",children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsx("h6",{className:"font-medium text-sm",children:$.title}),r.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-800",children:[$.priority," priority"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[r.jsx("strong",{children:"Description:"})," ",$.description]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Timeframe:"})," ",$.timeframe||"Not specified"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Cost:"})," ",$.estimatedCost||"Not specified"]})]},G))}):(I=(O=p.analysisResults)==null?void 0:O.structuredAnalysis)!=null&&I.recommendations?r.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.recommendations.map(($,G)=>r.jsxs("div",{className:`p-3 border-l-4 ${$.priority==="high"?"border-red-500 bg-red-50":$.priority==="medium"?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsx("h6",{className:"font-medium text-sm",children:$.action}),r.jsxs("span",{className:`text-xs px-2 py-1 rounded ${$.priority==="high"?"bg-red-100 text-red-800":$.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[$.priority," priority"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[r.jsx("strong",{children:"Timeframe:"})," ",$.timeframe]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.jsx("strong",{children:"Rationale:"})," ",$.rationale]})]},G))}):r.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:(p.recommendations||[]).map(($,G)=>r.jsx("li",{children:$},G))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[p.confidence||((F=p.analysisResults)==null?void 0:F.overallConfidence)||0,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence Score"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.status||"completed"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Status"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.updatedAt?m(p.updatedAt):"In Progress"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})]})]}),p.evidenceData&&Object.keys(p.evidenceData).length>0&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Operating Parameters"})}),r.jsx(Q,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(p.evidenceData).filter(([$])=>!["equipment_tag","equipment_type","operating_location","observed_problem"].includes($)).map(([$,G])=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-medium text-sm mb-2 capitalize",children:$.replace(/_/g," ")}),r.jsx("div",{className:"text-sm text-muted-foreground",children:typeof G=="boolean"?G?"YES":"NO":String(G)})]},$))})})]})]}),r.jsx(Ee,{value:"diagrams",children:r.jsx(oL,{analysisData:p.analysisResults,investigationType:p.investigationType,onNodeUpdate:($,G)=>{console.log("Node updated:",$,G)},onNodeAdd:($,G)=>{console.log("Node added to parent:",$,G)},onNodeDelete:$=>{console.log("Node deleted:",$)}})}),r.jsx(Ee,{value:"reasoning",children:r.jsx(wye,{analysis:p})}),r.jsx(Ee,{value:"rca-tree",children:r.jsx(FF,{analysis:p,onEdit:()=>s(!0)})}),r.jsx(Ee,{value:"evidence",children:r.jsx(Ege,{analysis:p})}),r.jsx(Ee,{value:"missing-data",children:r.jsx(Nye,{analysis:p,onDataProvided:()=>{window.location.reload()}})}),r.jsx(Ee,{value:"export",children:r.jsx(Gge,{analysis:p})}),r.jsx(Ee,{value:"history",children:r.jsx(oye,{analysis:p})}),r.jsx(Ee,{value:"settings",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx($n,{className:"w-5 h-5"}),r.jsx("span",{children:"Analysis Settings"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Auto Re-analysis"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically trigger re-analysis when new evidence is added"})]}),r.jsx("input",{type:"checkbox",defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Confidence Threshold"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum confidence score for auto-completion"})]}),r.jsxs("select",{className:"border rounded px-3 py-1",children:[r.jsx("option",{value:"80",children:"80%"}),r.jsx("option",{value:"85",children:"85%"}),r.jsx("option",{value:"90",children:"90%"}),r.jsx("option",{value:"95",children:"95%"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Notification Alerts"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications for analysis status changes"})]}),r.jsx("input",{type:"checkbox",defaultChecked:!0})]})]})})]})})]})})]})}const Cye="modulepreload",kye=function(e){return"/"+e},NP={},Eye=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=kye(c),c in NP)return;NP[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Cye,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Aye(){var f,p;const[e,t]=j.useState(!1),[n,i]=j.useState(null),{data:s,refetch:a,isLoading:o}=Oe({queryKey:["/api/admin/ai-status"],refetchInterval:1e4,retry:!1});j.useEffect(()=>{var h,v,m;((h=s==null?void 0:s.status)==null?void 0:h.systemHealth)==="working"&&((m=(v=s==null?void 0:s.status)==null?void 0:v.activeProvider)!=null&&m.isTestSuccessful)&&i(null)},[s]);const l=s==null?void 0:s.status,c=async()=>{t(!0);try{const h=await lt("/api/admin/ai-status/test",{method:"POST"});console.log("[AI Status Test] Response:",h),i(h),a()}catch(h){console.error("[AI Status Test] Error:",h),i({success:!1,message:"Test failed",error:h.message||"Unknown error occurred",errorType:"network_error"})}finally{t(!1)}};if(o)return r.jsxs(Y,{className:"border-gray-200",children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center gap-2 text-sm",children:[r.jsx(Gn,{className:"h-4 w-4"}),"AI Configuration Status"]})}),r.jsx(Q,{children:r.jsx("div",{className:"text-sm text-gray-500",children:"Loading AI status..."})})]});const d=()=>l?l.complianceStatus==="hardcoding-detected"?"red":l.systemHealth==="working"?"green":l.systemHealth==="configuration-required"?"yellow":"red":"gray",u=()=>l?l.complianceStatus==="hardcoding-detected"?r.jsx(Jo,{className:"h-4 w-4 text-red-500"}):l.systemHealth==="working"?r.jsx(Ct,{className:"h-4 w-4 text-green-500"}):l.systemHealth==="configuration-required"?r.jsx(ut,{className:"h-4 w-4 text-yellow-500"}):r.jsx(Jo,{className:"h-4 w-4 text-red-500"}):r.jsx(wr,{className:"h-4 w-4"});return r.jsxs(Y,{className:`border-2 ${d()==="red"?"border-red-200 bg-red-50":d()==="green"?"border-green-200 bg-green-50":d()==="yellow"?"border-yellow-200 bg-yellow-50":"border-gray-200"}`,children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"h-4 w-4"}),"AI Configuration Status"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[u(),r.jsx(J,{variant:d()==="green"?"default":d()==="yellow"?"secondary":"destructive",children:((f=l==null?void 0:l.systemHealth)==null?void 0:f.toUpperCase())||"UNKNOWN"})]})]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Configuration Source:"}),r.jsx(J,{variant:(l==null?void 0:l.configurationSource)==="admin-database"?"default":"destructive",children:(l==null?void 0:l.configurationSource)==="admin-database"?r.jsxs(r.Fragment,{children:[r.jsx(Gn,{className:"h-3 w-3 mr-1"}),"Admin Database"]}):r.jsxs(r.Fragment,{children:[r.jsx(ut,{className:"h-3 w-3 mr-1"}),"Hardcoded Violation"]})})]}),l!=null&&l.activeProvider?r.jsxs("div",{className:"bg-white border rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Active Provider:"}),r.jsxs("span",{className:"text-xs font-mono",children:[l.activeProvider.provider," (",l.activeProvider.model,")"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Database ID:"}),r.jsxs("span",{className:"text-xs font-mono",children:["#",l.activeProvider.id]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"API Key Status:"}),r.jsxs(J,{variant:"outline",className:"text-xs",children:[r.jsx(Sz,{className:"h-3 w-3 mr-1"}),l.activeProvider.apiKeyStatus]})]})]}):r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsx("span",{className:"text-sm text-red-700",children:"No active AI provider configured"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Compliance Status:"}),r.jsxs(J,{variant:(l==null?void 0:l.complianceStatus)==="compliant"?"default":"destructive",children:[r.jsx(os,{className:"h-3 w-3 mr-1"}),((p=l==null?void 0:l.complianceStatus)==null?void 0:p.toUpperCase())||"UNKNOWN"]})]}),(l==null?void 0:l.violations)&&l.violations.length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[r.jsx("div",{className:"text-xs font-medium text-red-700 mb-1",children:"Hardcoding Violations Detected:"}),l.violations.map((h,v)=>r.jsxs("div",{className:"text-xs text-red-600 flex items-start gap-1",children:[r.jsx(ut,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),h]},v))]})]}),(l==null?void 0:l.lastAIOperation)&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Last AI Operation:"}),r.jsxs("div",{className:"bg-gray-50 border rounded-lg p-3 space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Source:"}),r.jsx("span",{className:"text-xs font-mono",children:l.lastAIOperation.source})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Provider Used:"}),r.jsx("span",{className:"text-xs font-mono",children:l.lastAIOperation.provider})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Status:"}),r.jsx(J,{variant:l.lastAIOperation.success?"default":"destructive",className:"text-xs",children:l.lastAIOperation.success?"SUCCESS":"FAILED"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Timestamp:"}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(l.lastAIOperation.timestamp).toLocaleString()})]})]})]}),r.jsxs("div",{className:"pt-2 border-t",children:[r.jsxs(W,{onClick:c,disabled:e||!(l!=null&&l.activeProvider),variant:"outline",size:"sm",className:"w-full",children:[r.jsx(cb,{className:"h-4 w-4 mr-2"}),e?"Testing Configuration...":"Test AI Configuration"]}),n&&((l==null?void 0:l.systemHealth)!=="working"||e)&&r.jsxs("div",{className:`mt-2 p-2 rounded-lg text-xs ${n.success?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[r.jsx("div",{className:"font-medium",children:n.success?"✅ Test Successful":"❌ Test Failed"}),r.jsx("div",{children:n.message}),n.configurationSource&&r.jsxs("div",{className:"mt-1 text-gray-600",children:["Source: ",n.configurationSource]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:["Last updated: ",l?new Date(l.timestamp).toLocaleString():"Unknown"]})]})]})}const wi=[{id:"dashboard",label:"Dashboard",path:"/admin",icon:"Home"},{id:"taxonomy",label:"Taxonomy Management",path:"/admin/taxonomy",icon:"Database"},{id:"evidence",label:"Evidence Library",path:"/admin/evidence",icon:"Library"},{id:"integrations",label:"Workflow Integration",path:"/admin/integrations",icon:"Plug"}],Rl=[{id:"groups",label:"Equipment Groups",path:"/admin/taxonomy/groups",description:"Manage equipment group classifications"},{id:"types",label:"Equipment Types",path:"/admin/taxonomy/types",description:"Manage equipment type definitions"},{id:"subtypes",label:"Equipment Subtypes",path:"/admin/taxonomy/subtypes",description:"Manage equipment subtype categories"},{id:"risks",label:"Risk Rankings",path:"/admin/taxonomy/risks",description:"Manage risk classification levels"}];function Pye({value:e,onValueChange:t}){const{data:n,isLoading:i}=Oe({queryKey:["/api/ai-models"],retry:!1});return i?r.jsx(Be,{disabled:!0,children:r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Loading providers..."})})}):r.jsxs(Be,{value:e,onValueChange:t,children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select AI provider"})}),r.jsx(Ve,{children:n!=null&&n.models?n.models.map(s=>r.jsx(ee,{value:s.provider,children:s.displayName},s.id)):null})]})}function SP(){var q,ne,re,oe;const[e,t]=j.useState(!1),[n,i]=j.useState({provider:"",apiKey:"",model:"",isActive:!1,createdBy:1,testStatus:""}),[s,a]=j.useState({name:""}),[o,l]=j.useState({label:""}),[c,d]=j.useState({name:"",equipmentGroupId:0}),[u,f]=j.useState({name:"",equipmentTypeId:0}),[p,h]=j.useState(null),[v,m]=j.useState(null),[y,b]=j.useState(null),[g,x]=j.useState(null),[N,w]=j.useState(null),[k,E]=j.useState(null),{toast:S}=Dt(),{data:C,isLoading:_}=Oe({queryKey:["/api/admin/ai-settings"],staleTime:0,refetchOnMount:!0}),{data:P,isLoading:A}=Oe({queryKey:["/api/equipment-groups"],staleTime:0,refetchOnMount:!0}),{data:O,isLoading:I}=Oe({queryKey:["/api/risk-rankings"],staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),{data:F,isLoading:$}=Oe({queryKey:["/api/equipment-types"],staleTime:0,refetchOnMount:!0}),{data:G,isLoading:z}=Oe({queryKey:["/api/equipment-subtypes"],staleTime:0,refetchOnMount:!0}),H=Ye({mutationFn:async M=>await lt("/api/admin/ai-settings/test",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}}),onSuccess:M=>{S({title:"Test Successful",description:"AI provider connection verified successfully"}),i(fe=>({...fe,testStatus:"success"}))},onError:M=>{S({title:"Test Failed",description:"Unable to connect to AI provider. Check your API key.",variant:"destructive"}),i(fe=>({...fe,testStatus:"failed"}))}}),D=Ye({mutationFn:async M=>await lt("/api/equipment-groups",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Group Created",description:"Equipment group added successfully"}),a({name:""}),Ot.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:M=>{S({title:"Error",description:M.message.includes("already exists")?"Equipment group name already exists":"Failed to create equipment group",variant:"destructive"})}}),U=Ye({mutationFn:async({id:M,data:fe})=>await lt(`/api/equipment-groups/${M}`,{method:"PUT",body:JSON.stringify(fe),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Group Updated",description:"Equipment group updated successfully"}),h(null),Ot.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:M=>{S({title:"Error",description:M.message.includes("already exists")?"Equipment group name already exists":"Failed to update equipment group",variant:"destructive"})}}),R=Ye({mutationFn:async M=>await lt(`/api/equipment-groups/${M}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Equipment Group Deleted",description:"Equipment group deleted successfully"}),Ot.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:()=>{S({title:"Error",description:"Failed to delete equipment group. It may be in use.",variant:"destructive"})}}),se=Ye({mutationFn:async M=>await lt("/api/risk-rankings",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Risk Ranking Created",description:"Risk ranking added successfully"}),l({label:""}),Ot.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:M=>{S({title:"Error",description:M.message.includes("already exists")?"Risk ranking label already exists":"Failed to create risk ranking",variant:"destructive"})}}),ge=Ye({mutationFn:async({id:M,data:fe})=>await lt(`/api/risk-rankings/${M}`,{method:"PUT",body:JSON.stringify(fe),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Risk Ranking Updated",description:"Risk ranking updated successfully"}),m(null),Ot.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:M=>{S({title:"Error",description:M.message.includes("already exists")?"Risk ranking label already exists":"Failed to update risk ranking",variant:"destructive"})}}),te=Ye({mutationFn:async M=>await lt(`/api/risk-rankings/${M}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Risk Ranking Deleted",description:"Risk ranking deleted successfully"}),Ot.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:()=>{S({title:"Error",description:"Failed to delete risk ranking. It may be in use.",variant:"destructive"})}}),we=Ye({mutationFn:async M=>{const fe=new FormData;fe.append("file",M);const Ze=await fetch("/api/equipment-groups/import",{method:"POST",body:fe});if(!Ze.ok){const pt=await Ze.json();throw new Error(pt.message||"Import failed")}return await Ze.json()},onSuccess:M=>{S({title:"Import Completed",description:`Imported ${M.imported} equipment groups${M.errors>0?`, ${M.errors} errors`:""}`}),Ot.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:M=>{S({title:"Import Failed",description:M.message||"Failed to import equipment groups",variant:"destructive"})}}),me=async()=>{try{const fe=await(await fetch("/api/equipment-groups/export")).blob(),Ze=window.URL.createObjectURL(fe),pt=document.createElement("a");pt.href=Ze,pt.download="equipment-groups.csv",document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),window.URL.revokeObjectURL(Ze),S({title:"Export Successful",description:"Equipment groups exported successfully"})}catch{S({title:"Export Failed",description:"Failed to export equipment groups",variant:"destructive"})}},Se=Ye({mutationFn:async M=>{const fe=new FormData;fe.append("file",M);const Ze=await fetch("/api/risk-rankings/import",{method:"POST",body:fe});if(!Ze.ok){const pt=await Ze.json();throw new Error(pt.message||"Import failed")}return await Ze.json()},onSuccess:M=>{S({title:"Import Completed",description:`Imported ${M.imported} risk rankings${M.errors>0?`, ${M.errors} errors`:""}`}),Ot.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:M=>{S({title:"Import Failed",description:M.message||"Failed to import risk rankings",variant:"destructive"})}}),le=async()=>{try{const fe=await(await fetch("/api/risk-rankings/export")).blob(),Ze=window.URL.createObjectURL(fe),pt=document.createElement("a");pt.href=Ze,pt.download="risk-rankings.csv",document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),window.URL.revokeObjectURL(Ze),S({title:"Export Successful",description:"Risk rankings exported successfully"})}catch{S({title:"Export Failed",description:"Failed to export risk rankings",variant:"destructive"})}},xe=Ye({mutationFn:async M=>await lt("/api/admin/ai-settings",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Settings Saved",description:"AI settings have been updated successfully"}),Ot.invalidateQueries({queryKey:["/api/admin/ai-settings"]}),i({provider:"",apiKey:"",model:"",isActive:!1,createdBy:1,testStatus:""})},onError:M=>{S({title:"Save Failed",description:M.errorType==="duplicate_provider"?M.message:"Failed to save AI settings. Please try again.",variant:"destructive"})}});async function ye(M,fe){return await(await fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:void 0})).json()}const B=Ye({mutationFn:async M=>{const{normalizeAITest:fe}=await Eye(async()=>{const{normalizeAITest:pt}=await import("./aiTestNormalize-DgNhlbC6.js");return{normalizeAITest:pt}},[]),Ze=await ye(`/api/admin/ai-settings/${M}/test`);return fe(Ze)},onMutate:()=>{console.log("[UI] Starting provider test...")},onSuccess:M=>{var fe,Ze;if(M.ok)S({title:"Test Successful",description:M.message??`AI test passed ${M.providerId?`(${M.providerId}${M.modelId?` / ${M.modelId}`:""})`:""}`});else{const pt={invalid_api_key:"The API key is invalid or revoked.",model_not_found:"Model is not available; select another or request access.",insufficient_quota:"Quota/billing limit reached for this provider.",rate_limit_exceeded:"Rate limit exceeded. Try again shortly."},oo=((fe=M.error)==null?void 0:fe.detail)??((Ze=M.error)!=null&&Ze.code?pt[M.error.code]:void 0)??"AI test failed. See server logs for details.";S({title:"Test Failed",description:oo,variant:"destructive"})}Ot.invalidateQueries({queryKey:["/api/admin/ai-settings"]})},onError:()=>{S({title:"Test Failed",description:"AI test failed — request error",variant:"destructive"})}}),ce=Ye({mutationFn:async M=>await lt(`/api/admin/ai-settings/${M}`,{method:"DELETE"}),onSuccess:M=>{S({title:"Provider Deleted",description:M.message||"AI provider deleted successfully"}),Ot.invalidateQueries({queryKey:["/api/admin/ai-settings"]})},onError:M=>{S({title:"Delete Failed",description:"Failed to delete AI provider",variant:"destructive"})}}),de=Ye({mutationFn:async M=>await lt("/api/equipment-types",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Type Created",description:"Equipment type added successfully"}),d({name:"",equipmentGroupId:0}),Ot.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:M=>{S({title:"Error",description:M.message.includes("already exists")?"Equipment type name already exists for this group":"Failed to create equipment type",variant:"destructive"})}}),Pe=Ye({mutationFn:async({id:M,data:fe})=>await lt(`/api/equipment-types/${M}`,{method:"PUT",body:JSON.stringify(fe),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Type Updated",description:"Equipment type updated successfully"}),b(null),Ot.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:M=>{S({title:"Error",description:M.message.includes("already exists")?"Equipment type name already exists":"Failed to update equipment type",variant:"destructive"})}}),Ce=Ye({mutationFn:async M=>await lt(`/api/equipment-types/${M}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Equipment Type Deleted",description:"Equipment type deleted successfully"}),Ot.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:()=>{S({title:"Error",description:"Failed to delete equipment type. It may be in use.",variant:"destructive"})}}),Xe=Ye({mutationFn:async M=>await lt("/api/equipment-subtypes",{method:"POST",body:JSON.stringify(M),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Subtype Created",description:"Equipment subtype added successfully"}),f({name:"",equipmentTypeId:0}),Ot.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:M=>{S({title:"Error",description:M.message.includes("already exists")?"Equipment subtype name already exists for this type":"Failed to create equipment subtype",variant:"destructive"})}}),st=Ye({mutationFn:async({id:M,data:fe})=>await lt(`/api/equipment-subtypes/${M}`,{method:"PUT",body:JSON.stringify(fe),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{S({title:"Equipment Subtype Updated",description:"Equipment subtype updated successfully"}),x(null),Ot.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:M=>{S({title:"Error",description:M.message.includes("already exists")?"Equipment subtype name already exists":"Failed to update equipment subtype",variant:"destructive"})}}),Nt=Ye({mutationFn:async M=>await lt(`/api/equipment-subtypes/${M}`,{method:"DELETE"}),onSuccess:()=>{S({title:"Equipment Subtype Deleted",description:"Equipment subtype deleted successfully"}),Ot.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:()=>{S({title:"Error",description:"Failed to delete equipment subtype. It may be in use.",variant:"destructive"})}}),mn=()=>{var M;if(!((M=n.apiKey)!=null&&M.trim())){S({title:"API Key Required",description:"Please enter an API key before testing",variant:"destructive"});return}H.mutate({provider:n.provider,apiKey:n.apiKey})},kn=()=>{var M;if(!((M=n.apiKey)!=null&&M.trim())){S({title:"API Key Required",description:"Please enter an API key before saving",variant:"destructive"});return}if(n.testStatus!=="success"){S({title:"Test Required",description:"Please test the API key before saving",variant:"destructive"});return}xe.mutate({provider:n.provider,apiKey:n.apiKey,model:n.model,isActive:n.isActive,createdBy:n.createdBy})},T=M=>M.charAt(0).toUpperCase()+M.slice(1),V=(M,fe)=>M?M==="success"&&fe?r.jsx(J,{variant:"default",className:"bg-green-500",children:"Active"}):M==="success"?r.jsx(J,{variant:"outline",children:"Success"}):M==="failed"?r.jsx(J,{variant:"destructive",children:"Failed"}):r.jsx(J,{variant:"outline",children:"Unknown"}):r.jsx(J,{variant:"outline",children:"Unknown"});return r.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[r.jsx(as,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Home"})]})}),wi.map(M=>{const fe=M.icon==="Home"?xp:M.icon==="Database"?Gn:M.icon==="Library"?zI:M.icon==="Activity"?Vs:M.icon==="Brain"?_t:M.icon==="Plug"?lb:$n;return r.jsx(vn,{href:M.path,children:r.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[r.jsx(fe,{className:"w-4 h-4"}),r.jsx("span",{children:M.label})]})},M.id)})]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"System Administration"})]}),r.jsxs(Zn,{defaultValue:"ai-settings",className:"space-y-6",children:[r.jsxs(Ln,{className:"grid w-fit grid-cols-5",children:[Rl.map(M=>r.jsxs(Te,{value:M.id,className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"w-4 h-4"}),M.label]},M.id)),r.jsxs(Te,{value:"ai-settings",className:"flex items-center gap-2",children:[r.jsx(os,{className:"w-4 h-4"}),"AI Settings"]})]}),r.jsxs(Ee,{value:"ai-settings",className:"space-y-6",children:[r.jsx(Y,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(ut,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Security Notice"}),r.jsx("p",{className:"text-yellow-700 dark:text-yellow-300",children:"API keys are encrypted and stored securely on the backend. They are never exposed to client-side code. All changes are logged with timestamps for audit purposes."})]})]})})}),r.jsx(Aye,{}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Add AI Provider"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure a new AI provider for root cause analysis"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"provider",children:"AI Provider"}),r.jsx(Pye,{value:n.provider,onValueChange:M=>i(fe=>({...fe,provider:M}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"apiKey",children:"API Key"}),r.jsxs("div",{className:"relative",children:[r.jsx(ue,{id:"apiKey",type:e?"text":"password",value:n.apiKey,onChange:M=>i(fe=>({...fe,apiKey:M.target.value})),placeholder:"Enter API key",className:"pr-10"}),r.jsx(W,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>t(!e),children:e?r.jsx(gz,{className:"w-4 h-4"}):r.jsx(Lc,{className:"w-4 h-4"})})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"model",children:"Model ID"}),r.jsx(ue,{id:"model",type:"text",value:n.model,onChange:M=>i(fe=>({...fe,model:M.target.value})),placeholder:"e.g., gpt-4o-mini, claude-3-sonnet-20240229, gemini-pro",className:"w-full"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the specific model ID for your provider. This will be used for API calls."})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:M=>i(fe=>({...fe,isActive:M.target.checked})),className:"rounded"}),r.jsx(ie,{htmlFor:"isActive",children:"Set as active provider"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{onClick:mn,disabled:H.isPending,variant:"outline",children:[r.jsx(cb,{className:"w-4 h-4 mr-2"}),H.isPending?"Testing...":"Test Key"]}),r.jsxs(W,{onClick:kn,disabled:xe.isPending||n.testStatus!=="success",children:[r.jsx(Fo,{className:"w-4 h-4 mr-2"}),xe.isPending?"Saving...":"Save Settings"]})]}),n.testStatus&&r.jsx("div",{className:"mt-2",children:V(n.testStatus,n.isActive)})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Current AI Providers"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage existing AI provider configurations"})]}),r.jsx(Q,{children:_?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading settings..."}):!C||C.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No AI providers configured. Add one above to get started."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(en,{children:[r.jsx(rt,{children:"Provider"}),r.jsx(rt,{children:"Model"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Last Tested"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:C.map(M=>r.jsxs(en,{children:[r.jsx(Je,{className:"font-medium",children:T(M.provider)}),r.jsx(Je,{className:"text-sm text-muted-foreground",children:M.model||"Not specified"}),r.jsx(Je,{children:V(M.testStatus,M.isActive)}),r.jsx(Je,{className:"text-sm text-muted-foreground",children:M.lastTestedAt?new Date(M.lastTestedAt).toLocaleDateString():"Never"}),r.jsx(Je,{className:"text-sm text-muted-foreground",children:M.createdAt?new Date(M.createdAt).toLocaleDateString():"Unknown"}),r.jsx(Je,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>B.mutate(M.id),disabled:B.isPending,children:[r.jsx(cb,{className:"w-4 h-4 mr-1"}),B.isPending?"Testing...":"Test"]}),r.jsx(W,{variant:"destructive",size:"sm",onClick:()=>ce.mutate(M.id),disabled:ce.isPending,children:ce.isPending?"Removing...":"Remove"})]})})]},M.id))})]})})]})]}),r.jsx(Ee,{value:"groups",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(On,{className:"w-5 h-5"}),"Equipment Groups Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((q=Rl.find(M=>M.id==="groups"))==null?void 0:q.description)||"Manage equipment groups"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ue,{placeholder:"Enter equipment group name...",value:s.name,onChange:M=>a({name:M.target.value}),onKeyPress:M=>{M.key==="Enter"&&s.name.trim()&&D.mutate(s)}}),r.jsxs(W,{onClick:()=>D.mutate(s),disabled:!s.name.trim()||D.isPending,children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Add Group"]})]}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsxs(W,{variant:"outline",onClick:()=>N==null?void 0:N.click(),disabled:we.isPending,children:[r.jsx(XC,{className:"w-4 h-4 mr-2"}),we.isPending?"Importing...":"Import CSV"]}),r.jsxs(W,{variant:"outline",onClick:me,children:[r.jsx(ob,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",style:{display:"none"},ref:w,onChange:M=>{var Ze;const fe=(Ze=M.target.files)==null?void 0:Ze[0];fe&&(we.mutate(fe),M.target.value="")}})]}),A?r.jsx("div",{className:"text-center py-8",children:"Loading equipment groups..."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(en,{children:[r.jsx(rt,{children:"Name"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:Array.isArray(P)&&P.map(M=>r.jsxs(en,{children:[r.jsx(Je,{children:(p==null?void 0:p.id)===M.id?r.jsx(ue,{value:(p==null?void 0:p.name)||"",onChange:fe=>p&&h({...p,name:fe.target.value}),onKeyPress:fe=>{fe.key==="Enter"&&U.mutate({id:M.id,data:{name:(p==null?void 0:p.name)||"",isActive:M.isActive}})}}):r.jsx("span",{className:"font-medium",children:M.name})}),r.jsx(Je,{children:r.jsx(J,{variant:M.isActive?"default":"secondary",children:M.isActive?"Active":"Inactive"})}),r.jsx(Je,{className:"text-sm text-muted-foreground",children:new Date(M.createdAt).toLocaleDateString()}),r.jsx(Je,{children:r.jsx("div",{className:"flex gap-2",children:(p==null?void 0:p.id)===M.id?r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",onClick:()=>{U.mutate({id:M.id,data:{name:(p==null?void 0:p.name)||"",isActive:M.isActive}})},disabled:U.isPending,children:"Save"}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>h(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>h({id:M.id,name:M.name}),children:r.jsx(Jr,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>R.mutate(M.id),disabled:R.isPending,children:"Delete"})]})})})]},M.id))})]})]})]})}),r.jsx(Ee,{value:"risks",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"w-5 h-5"}),"Risk Rankings Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((ne=Rl.find(M=>M.id==="risks"))==null?void 0:ne.description)||"Manage risk rankings"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ue,{placeholder:"Enter risk ranking label...",value:o.label,onChange:M=>l({label:M.target.value}),onKeyPress:M=>{M.key==="Enter"&&o.label.trim()&&se.mutate(o)}}),r.jsxs(W,{onClick:()=>se.mutate(o),disabled:!o.label.trim()||se.isPending,children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Add Ranking"]})]}),r.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[r.jsxs(W,{variant:"outline",onClick:()=>k==null?void 0:k.click(),disabled:Se.isPending,children:[r.jsx(XC,{className:"w-4 h-4 mr-2"}),Se.isPending?"Importing...":"Import CSV"]}),r.jsxs(W,{variant:"outline",onClick:le,children:[r.jsx(ob,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",style:{display:"none"},ref:E,onChange:M=>{var Ze;const fe=(Ze=M.target.files)==null?void 0:Ze[0];fe&&(Se.mutate(fe),M.target.value="")}})]}),I?r.jsx("div",{className:"text-center py-8",children:"Loading risk rankings..."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(en,{children:[r.jsx(rt,{children:"Label"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:Array.isArray(O)&&O.map(M=>r.jsxs(en,{children:[r.jsx(Je,{children:(v==null?void 0:v.id)===M.id?r.jsx(ue,{value:(v==null?void 0:v.label)||"",onChange:fe=>m({id:(v==null?void 0:v.id)||0,label:fe.target.value}),onKeyPress:fe=>{fe.key==="Enter"&&ge.mutate({id:M.id,data:{label:(v==null?void 0:v.label)||"",isActive:M.isActive}})}}):r.jsx("span",{className:"font-medium",children:M.label})}),r.jsx(Je,{children:r.jsx(J,{variant:M.isActive?"default":"secondary",children:M.isActive?"Active":"Inactive"})}),r.jsx(Je,{className:"text-sm text-muted-foreground",children:new Date(M.createdAt).toLocaleDateString()}),r.jsx(Je,{children:r.jsx("div",{className:"flex gap-2",children:(v==null?void 0:v.id)===M.id?r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",onClick:()=>{ge.mutate({id:M.id,data:{label:(v==null?void 0:v.label)||"",isActive:M.isActive}})},disabled:ge.isPending,children:"Save"}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>m(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>m({id:M.id,label:M.label}),children:r.jsx(Jr,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>te.mutate(M.id),disabled:te.isPending,children:"Delete"})]})})})]},M.id))})]})]})]})}),r.jsx(Ee,{value:"types",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5"}),"Equipment Types Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((re=Rl.find(M=>M.id==="types"))==null?void 0:re.description)||"Manage equipment types"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Be,{value:c.equipmentGroupId.toString(),onValueChange:M=>d({...c,equipmentGroupId:parseInt(M)}),children:[r.jsx(qe,{className:"w-[200px]",children:r.jsx(Ue,{placeholder:"Select Equipment Group"})}),r.jsx(Ve,{children:Array.isArray(P)&&P.map(M=>r.jsx(ee,{value:M.id.toString(),children:M.name},M.id))})]}),r.jsx(ue,{placeholder:"Enter equipment type name...",value:c.name,onChange:M=>d({...c,name:M.target.value}),onKeyPress:M=>{M.key==="Enter"&&c.name.trim()&&c.equipmentGroupId>0&&de.mutate({name:c.name,equipmentGroupId:c.equipmentGroupId})}}),r.jsxs(W,{onClick:()=>de.mutate({name:c.name,equipmentGroupId:c.equipmentGroupId}),disabled:!c.name.trim()||c.equipmentGroupId===0||de.isPending,children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Add Type"]})]}),$?r.jsx("div",{className:"text-center py-8",children:"Loading equipment types..."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(en,{children:[r.jsx(rt,{children:"Name"}),r.jsx(rt,{children:"Equipment Group"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:Array.isArray(F)&&F.map(M=>r.jsxs(en,{children:[r.jsx(Je,{children:(y==null?void 0:y.id)===M.id?r.jsx(ue,{value:(y==null?void 0:y.name)||"",onChange:fe=>y&&b({...y,name:fe.target.value}),onKeyPress:fe=>{fe.key==="Enter"&&Pe.mutate({id:M.id,data:{name:(y==null?void 0:y.name)||""}})},className:"max-w-[200px]"}):M.name}),r.jsx(Je,{children:M.equipmentGroupName||"N/A"}),r.jsx(Je,{children:r.jsx(J,{variant:M.isActive?"default":"secondary",children:M.isActive?"Active":"Inactive"})}),r.jsx(Je,{children:M.createdAt?new Date(M.createdAt).toLocaleDateString():"N/A"}),r.jsx(Je,{children:r.jsx("div",{className:"flex gap-2",children:(y==null?void 0:y.id)===M.id?r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",onClick:()=>Pe.mutate({id:M.id,data:{name:(y==null?void 0:y.name)||""}}),disabled:Pe.isPending,children:r.jsx(Fo,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>b(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>b({id:M.id,name:M.name}),children:r.jsx(Jr,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>Ce.mutate(M.id),disabled:Ce.isPending,children:"Delete"})]})})})]},M.id))})]})]})]})}),r.jsx(Ee,{value:"subtypes",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5"}),"Equipment Subtypes Manager"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:((oe=Rl.find(M=>M.id==="subtypes"))==null?void 0:oe.description)||"Manage equipment subtypes"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Be,{value:u.equipmentTypeId.toString(),onValueChange:M=>f({...u,equipmentTypeId:parseInt(M)}),children:[r.jsx(qe,{className:"w-[200px]",children:r.jsx(Ue,{placeholder:"Select Equipment Type"})}),r.jsx(Ve,{children:Array.isArray(F)&&F.map(M=>r.jsxs(ee,{value:M.id.toString(),children:[M.name," (",M.equipmentGroupName,")"]},M.id))})]}),r.jsx(ue,{placeholder:"Enter equipment subtype name...",value:u.name,onChange:M=>f({...u,name:M.target.value}),onKeyPress:M=>{M.key==="Enter"&&u.name.trim()&&u.equipmentTypeId>0&&Xe.mutate({name:u.name,equipmentTypeId:u.equipmentTypeId})}}),r.jsxs(W,{onClick:()=>Xe.mutate({name:u.name,equipmentTypeId:u.equipmentTypeId}),disabled:!u.name.trim()||u.equipmentTypeId===0||Xe.isPending,children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Add Subtype"]})]}),z?r.jsx("div",{className:"text-center py-8",children:"Loading equipment subtypes..."}):r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(en,{children:[r.jsx(rt,{children:"Name"}),r.jsx(rt,{children:"Equipment Type"}),r.jsx(rt,{children:"Equipment Group"}),r.jsx(rt,{children:"Status"}),r.jsx(rt,{children:"Created"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:Array.isArray(G)&&G.map(M=>r.jsxs(en,{children:[r.jsx(Je,{children:(g==null?void 0:g.id)===M.id?r.jsx(ue,{value:(g==null?void 0:g.name)||"",onChange:fe=>g&&x({...g,name:fe.target.value}),onKeyPress:fe=>{fe.key==="Enter"&&st.mutate({id:M.id,data:{name:(g==null?void 0:g.name)||""}})},className:"max-w-[200px]"}):M.name}),r.jsx(Je,{children:M.equipmentTypeName||"N/A"}),r.jsx(Je,{children:M.equipmentGroupName||"N/A"}),r.jsx(Je,{children:r.jsx(J,{variant:M.isActive?"default":"secondary",children:M.isActive?"Active":"Inactive"})}),r.jsx(Je,{children:M.createdAt?new Date(M.createdAt).toLocaleDateString():"N/A"}),r.jsx(Je,{children:r.jsx("div",{className:"flex gap-2",children:(g==null?void 0:g.id)===M.id?r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",onClick:()=>st.mutate({id:M.id,data:{name:(g==null?void 0:g.name)||""}}),disabled:st.isPending,children:r.jsx(Fo,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>x(null),children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>x({id:M.id,name:M.name}),children:r.jsx(Jr,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",variant:"destructive",onClick:()=>Nt.mutate(M.id),disabled:Nt.isPending,children:"Delete"})]})})})]},M.id))})]})]})]})})]})]})}function Oye(){const[,e]=ai(),{toast:t}=Dt(),[n,i]=j.useState({whatHappened:"",whereHappened:"",whenHappened:"",consequence:"",detectedBy:""}),s=Ye({mutationFn:async l=>await(await lt("/api/investigations/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json(),onSuccess:l=>{t({title:"Investigation Created",description:"Problem definition complete. Now select investigation type."}),e(`/investigation/${l.investigationId}/type`)},onError:l=>{t({title:"Error",description:"Failed to create investigation. Please try again.",variant:"destructive"})}}),a=l=>{if(l.preventDefault(),!n.whatHappened||!n.whereHappened||!n.whenHappened){t({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}s.mutate(n)},o=(l,c)=>{i(d=>({...d,[l]:c}))};return r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"New RCA Investigation"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 1 of 4: Problem Definition"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between max-w-2xl",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-500 text-white rounded-full text-sm font-semibold",children:"1"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Problem Definition"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Current Step"})]})]}),r.jsx(Ir,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"2"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Investigation Type"}),r.jsx("p",{className:"text-xs text-gray-400",children:"ECFA vs Fault Tree"})]})]}),r.jsx(Ir,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"3"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Evidence Collection"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Structured Questionnaire"})]})]}),r.jsx(Ir,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"4"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"AI Analysis"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Results & Recommendations"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),"Problem Definition"]}),r.jsx(ve,{children:"Provide initial information about the incident or failure to investigate."})]}),r.jsx(Q,{children:r.jsxs("form",{onSubmit:a,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"whatHappened",className:"text-base font-medium",children:"What happened? *"}),r.jsx(We,{id:"whatHappened",placeholder:"Describe the incident, failure, or problem that occurred...",value:n.whatHappened,onChange:l=>o("whatHappened",l.target.value),required:!0,className:"mt-2 min-h-[100px]"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"whereHappened",className:"text-base font-medium",children:"Where did it happen? *"}),r.jsx(ue,{id:"whereHappened",placeholder:"Location, area, system, or equipment",value:n.whereHappened,onChange:l=>o("whereHappened",l.target.value),required:!0,className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"whenHappened",className:"text-base font-medium",children:"When did it happen? *"}),r.jsx(ue,{id:"whenHappened",type:"datetime-local",value:n.whenHappened,onChange:l=>o("whenHappened",l.target.value),required:!0,className:"mt-2"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"consequence",className:"text-base font-medium",children:"What is the consequence or impact?"}),r.jsx(We,{id:"consequence",placeholder:"Describe the consequences, impacts, or effects...",value:n.consequence,onChange:l=>o("consequence",l.target.value),className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"detectedBy",className:"text-base font-medium",children:"Who detected or reported the event?"}),r.jsx(ue,{id:"detectedBy",placeholder:"Name, role, or system that detected the issue",value:n.detectedBy,onChange:l=>o("detectedBy",l.target.value),className:"mt-2"})]}),r.jsx(W,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?"Creating Investigation...":r.jsxs(r.Fragment,{children:["Continue to Investigation Type",r.jsx(Ir,{className:"h-4 w-4 ml-2"})]})})]})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Kt,{children:[r.jsx(ut,{className:"h-4 w-4"}),r.jsxs(Yt,{children:[r.jsx("strong",{children:"New Methodology:"})," This investigation follows a structured approach with mandatory investigation type selection (ECFA vs Fault Tree) that determines all subsequent workflow, forms, and analysis logic."]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"Investigation Types"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA (Event-Causal Factor Analysis)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For all safety and environmental incidents. Focuses on event chronology, barriers, and contributing factors."})]}),r.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Fault Tree Analysis (FTA)"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For plant asset or equipment failures. Uses structured questionnaire with 8 sections and ISO 14224 taxonomy."})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"What happens next?"})}),r.jsxs(Q,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:"2"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Investigation Type Selection"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mandatory choice between ECFA and Fault Tree Analysis"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"3"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Dynamic Evidence Collection"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured forms based on your investigation type selection"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"AI Analysis & Results"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analysis only after 80% evidence completion requirement"})]})]})]})]})]})]})]})}function Tye(){const[,e]=ai(),[,t]=tv("/investigation/:id/type"),{toast:n}=Dt(),i=t==null?void 0:t.id,[s,a]=j.useState(""),{data:o,isLoading:l}=Oe({queryKey:["/api/investigations",i],enabled:!!i}),c=Ye({mutationFn:async f=>lt(`/api/investigations/${i}/type`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({investigationType:f})}),onSuccess:f=>{n({title:"Investigation Type Set",description:`${s==="safety_environmental"?"ECFA":"Fault Tree Analysis"} workflow activated.`}),e(`/investigation/${i}/evidence`)},onError:f=>{n({title:"Error",description:"Failed to set investigation type. Please try again.",variant:"destructive"})}}),d=f=>{a(f)},u=()=>{if(!s){n({title:"Selection Required",description:"Please select an investigation type to continue.",variant:"destructive"});return}c.mutate(s)};return l?r.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading investigation..."})]})})}):o?r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Investigation Type Selection"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 2 of 4: Choose your investigation methodology"})]}),r.jsxs(Y,{className:"mb-8",children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"Problem Summary"})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"What happened:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whatHappened})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Where:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whereHappened})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"When:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(o.whenHappened).toLocaleString()})]}),o.consequence&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Impact:"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.consequence})]})]})})]}),r.jsx("div",{className:"mb-8",children:r.jsxs(Kt,{className:"border-2 border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[r.jsx(ut,{className:"h-5 w-5 text-amber-600"}),r.jsxs(Yt,{className:"text-base font-medium text-amber-800 dark:text-amber-200",children:[r.jsx("strong",{children:"Mandatory Selection:"})," Is this investigation related to a safety or environmental incident?",r.jsx("br",{}),r.jsx("span",{className:"text-sm font-normal mt-2 block",children:"This choice is mandatory and sets all downstream logic, forms, analysis methods, and outputs."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs(Y,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${s==="safety_environmental"?"ring-2 ring-red-500 bg-red-50 dark:bg-red-950 border-red-200":"hover:border-red-300"}`,onClick:()=>d("safety_environmental"),children:[r.jsx(X,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:r.jsx(os,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{children:[r.jsx(Z,{className:"text-xl text-red-700 dark:text-red-300",children:"YES - Safety/External"}),r.jsx(J,{variant:"destructive",className:"mt-1",children:"ECFA Methodology"})]})]}),s==="safety_environmental"&&r.jsx(Ct,{className:"h-6 w-6 text-red-600"})]})}),r.jsxs(Q,{children:[r.jsx(ve,{className:"text-base mb-4",children:"For all safety and environmental incidents requiring Event-Causal Factor Analysis."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA Framework includes:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Event chronology and timeline reconstruction"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Immediate, underlying, and root causes analysis"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Barriers and contributing factors assessment"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Risk/severity assessment and regulatory reporting"]})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900 rounded-lg",children:r.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[r.jsx("strong",{children:"Use for:"})," Personal injury, environmental releases, fires/explosions, process safety events, near misses, security incidents"]})})]})]}),r.jsxs(Y,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${s==="equipment_failure"?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-950 border-blue-200":"hover:border-blue-300"}`,onClick:()=>d("equipment_failure"),children:[r.jsx(X,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:r.jsx(hh,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx(Z,{className:"text-xl text-blue-700 dark:text-blue-300",children:"NO - Equipment/Process Failure"}),r.jsx(J,{variant:"secondary",className:"mt-1 bg-blue-100 text-blue-800",children:"Fault Tree Analysis"})]})]}),s==="equipment_failure"&&r.jsx(Ct,{className:"h-6 w-6 text-blue-600"})]})}),r.jsxs(Q,{children:[r.jsx(ve,{className:"text-base mb-4",children:"For plant asset or equipment failures using structured Fault Tree Analysis with ISO 14224 taxonomy."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"8-Section Questionnaire:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"General Information (Equipment taxonomy & hierarchy)"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Failure/Event Details & Operating Mode"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Symptom & Evidence Collection"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Operating & Maintenance History"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Equipment-Specific Parameters (conditional)"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Human Factors & Materials/Spares"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Contributing/External Factors"]})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[r.jsx("strong",{children:"Use for:"})," Pump failures, motor issues, valve problems, process equipment breakdowns, instrument malfunctions"]})})]})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(W,{onClick:u,disabled:!s||c.isPending,size:"lg",className:"min-w-[200px]",children:c.isPending?"Setting Investigation Type...":r.jsxs(r.Fragment,{children:["Continue to Evidence Collection",r.jsx(Ir,{className:"h-4 w-4 ml-2"})]})})}),s&&r.jsxs(Y,{className:"mt-8",children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"Next: Evidence Collection"})}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Based on your selection, you'll complete:"}),s==="safety_environmental"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium text-red-700 dark:text-red-300",children:"ECFA-Specific Forms:"}),r.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[r.jsx("li",{children:"• Event classification and timeline"}),r.jsx("li",{children:"• Immediate and root cause analysis"}),r.jsx("li",{children:"• Barrier analysis and contributing factors"}),r.jsx("li",{children:"• Risk assessment and regulatory status"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Fault Tree Questionnaire (8 Sections):"}),r.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[r.jsx("li",{children:"• Equipment information with ISO 14224 taxonomy"}),r.jsx("li",{children:"• Dynamic questions based on equipment type"}),r.jsx("li",{children:"• Equipment-specific parameters (pressure, temperature, etc.)"}),r.jsx("li",{children:"• Validation ensures 80% completion before analysis"})]})]})]})]})]}):r.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:r.jsxs(Kt,{children:[r.jsx(ut,{className:"h-4 w-4"}),r.jsx(Yt,{children:"Investigation not found. Please check the URL or start a new investigation."})]})})}const _ye=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function hd(e,t,n){const i=Iye(e),{webkitRelativePath:s}=e,a=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof i.path!="string"&&CP(i,"path",a),CP(i,"relativePath",a),i}function Iye(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),s=_ye.get(i);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function CP(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Rye=[".DS_Store","Thumbs.db"];function Mye(e){return bl(this,void 0,void 0,function*(){return Nx(e)&&$ye(e.dataTransfer)?qye(e.dataTransfer,e.type):Dye(e)?Fye(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Lye(e):[]})}function $ye(e){return Nx(e)}function Dye(e){return Nx(e)&&Nx(e.target)}function Nx(e){return typeof e=="object"&&e!==null}function Fye(e){return Zj(e.target.files).map(t=>hd(t))}function Lye(e){return bl(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>hd(n))})}function qye(e,t){return bl(this,void 0,void 0,function*(){if(e.items){const n=Zj(e.items).filter(s=>s.kind==="file");if(t!=="drop")return n;const i=yield Promise.all(n.map(zye));return kP(LL(i))}return kP(Zj(e.files).map(n=>hd(n)))})}function kP(e){return e.filter(t=>Rye.indexOf(t.name)===-1)}function Zj(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function zye(e){if(typeof e.webkitGetAsEntry!="function")return EP(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?qL(t):EP(e,t)}function LL(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?LL(n):[n]],[])}function EP(e,t){return bl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,hd(o)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return hd(i,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function Bye(e){return bl(this,void 0,void 0,function*(){return e.isDirectory?qL(e):Uye(e)})}function qL(e){const t=e.createReader();return new Promise((n,i)=>{const s=[];function a(){t.readEntries(o=>bl(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(Bye));s.push(l),a()}else try{const l=yield Promise.all(s);n(l)}catch(l){i(l)}}),o=>{i(o)})}a()})}function Uye(e){return bl(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(i=>{const s=hd(i,e.fullPath);t(s)},i=>{n(i)})})})}var Wy=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var i=e.name||"",s=(e.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?i.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):s===l})}return!0};function AP(e){return Hye(e)||Wye(e)||BL(e)||Vye()}function Vye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hye(e){if(Array.isArray(e))return Jj(e)}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(i){zL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zf(e,t){return Yye(e)||Kye(e,t)||BL(e,t)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BL(e,t){if(e){if(typeof e=="string")return Jj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jj(e,t)}}function Jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Kye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return i}}function Yye(e){if(Array.isArray(e))return e}var Qye=typeof Wy=="function"?Wy:Wy.default,Xye="file-invalid-type",Zye="file-too-large",Jye="file-too-small",e0e="too-many-files",t0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Xye,message:"File type must be ".concat(i)}},TP=function(t){return{code:Zye,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},_P=function(t){return{code:Jye,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},n0e={code:e0e,message:"Too many files"};function UL(e,t){var n=e.type==="application/x-moz-file"||Qye(e,t);return[n,n?null:t0e(t)]}function VL(e,t,n){if(bo(e.size))if(bo(t)&&bo(n)){if(e.size>n)return[!1,TP(n)];if(e.size<t)return[!1,_P(t)]}else{if(bo(t)&&e.size<t)return[!1,_P(t)];if(bo(n)&&e.size>n)return[!1,TP(n)]}return[!0,null]}function bo(e){return e!=null}function r0e(e){var t=e.files,n=e.accept,i=e.minSize,s=e.maxSize,a=e.multiple,o=e.maxFiles,l=e.validator;return!a&&t.length>1||a&&o>=1&&t.length>o?!1:t.every(function(c){var d=UL(c,n),u=zf(d,1),f=u[0],p=VL(c,i,s),h=zf(p,1),v=h[0],m=l?l(c):null;return f&&v&&!m})}function Sx(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function bm(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function IP(e){e.preventDefault()}function i0e(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function s0e(e){return e.indexOf("Edge/")!==-1}function a0e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return i0e(e)||s0e(e)}function qi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return t.some(function(l){return!Sx(i)&&l&&l.apply(void 0,[i].concat(a)),Sx(i)})}}function o0e(){return"showOpenFilePicker"in window}function l0e(e){if(bo(e)){var t=Object.entries(e).filter(function(n){var i=zf(n,2),s=i[0],a=i[1],o=!0;return WL(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(HL))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,i){var s=zf(i,2),a=s[0],o=s[1];return OP(OP({},n),{},zL({},a,o))},{});return[{description:"Files",accept:t}]}return e}function c0e(e){if(bo(e))return Object.entries(e).reduce(function(t,n){var i=zf(n,2),s=i[0],a=i[1];return[].concat(AP(t),[s],AP(a))},[]).filter(function(t){return WL(t)||HL(t)}).join(",")}function d0e(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function u0e(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function WL(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function HL(e){return/^.*\.[\w]+$/.test(e)}var f0e=["children"],p0e=["open"],m0e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],h0e=["refKey","onChange","onClick"];function x0e(e){return y0e(e)||g0e(e)||GL(e)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y0e(e){if(Array.isArray(e))return ew(e)}function Hy(e,t){return w0e(e)||j0e(e,t)||GL(e,t)||b0e()}function b0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GL(e,t){if(e){if(typeof e=="string")return ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(e,t)}}function ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function j0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return i}}function w0e(e){if(Array.isArray(e))return e}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(i){tw(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function tw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cx(e,t){if(e==null)return{};var n=N0e(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function N0e(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var tS=j.forwardRef(function(e,t){var n=e.children,i=Cx(e,f0e),s=nS(i),a=s.open,o=Cx(s,p0e);return j.useImperativeHandle(t,function(){return{open:a}},[a]),L.createElement(j.Fragment,null,n(Jt(Jt({},o),{},{open:a})))});tS.displayName="Dropzone";var KL={disabled:!1,getFilesFromEvent:Mye,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};tS.defaultProps=KL;tS.propTypes={children:Ke.func,accept:Ke.objectOf(Ke.arrayOf(Ke.string)),multiple:Ke.bool,preventDropOnDocument:Ke.bool,noClick:Ke.bool,noKeyboard:Ke.bool,noDrag:Ke.bool,noDragEventsBubbling:Ke.bool,minSize:Ke.number,maxSize:Ke.number,maxFiles:Ke.number,disabled:Ke.bool,getFilesFromEvent:Ke.func,onFileDialogCancel:Ke.func,onFileDialogOpen:Ke.func,useFsAccessApi:Ke.bool,autoFocus:Ke.bool,onDragEnter:Ke.func,onDragLeave:Ke.func,onDragOver:Ke.func,onDrop:Ke.func,onDropAccepted:Ke.func,onDropRejected:Ke.func,onError:Ke.func,validator:Ke.func};var nw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function nS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Jt(Jt({},KL),e),n=t.accept,i=t.disabled,s=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,f=t.onDragOver,p=t.onDrop,h=t.onDropAccepted,v=t.onDropRejected,m=t.onFileDialogCancel,y=t.onFileDialogOpen,b=t.useFsAccessApi,g=t.autoFocus,x=t.preventDropOnDocument,N=t.noClick,w=t.noKeyboard,k=t.noDrag,E=t.noDragEventsBubbling,S=t.onError,C=t.validator,_=j.useMemo(function(){return c0e(n)},[n]),P=j.useMemo(function(){return l0e(n)},[n]),A=j.useMemo(function(){return typeof y=="function"?y:MP},[y]),O=j.useMemo(function(){return typeof m=="function"?m:MP},[m]),I=j.useRef(null),F=j.useRef(null),$=j.useReducer(S0e,nw),G=Hy($,2),z=G[0],H=G[1],D=z.isFocused,U=z.isFileDialogActive,R=j.useRef(typeof window<"u"&&window.isSecureContext&&b&&o0e()),se=function(){!R.current&&U&&setTimeout(function(){if(F.current){var ne=F.current.files;ne.length||(H({type:"closeDialog"}),O())}},300)};j.useEffect(function(){return window.addEventListener("focus",se,!1),function(){window.removeEventListener("focus",se,!1)}},[F,U,O,R]);var ge=j.useRef([]),te=function(ne){I.current&&I.current.contains(ne.target)||(ne.preventDefault(),ge.current=[])};j.useEffect(function(){return x&&(document.addEventListener("dragover",IP,!1),document.addEventListener("drop",te,!1)),function(){x&&(document.removeEventListener("dragover",IP),document.removeEventListener("drop",te))}},[I,x]),j.useEffect(function(){return!i&&g&&I.current&&I.current.focus(),function(){}},[I,g,i]);var we=j.useCallback(function(q){S?S(q):console.error(q)},[S]),me=j.useCallback(function(q){q.preventDefault(),q.persist(),mn(q),ge.current=[].concat(x0e(ge.current),[q.target]),bm(q)&&Promise.resolve(s(q)).then(function(ne){if(!(Sx(q)&&!E)){var re=ne.length,oe=re>0&&r0e({files:ne,accept:_,minSize:o,maxSize:a,multiple:l,maxFiles:c,validator:C}),M=re>0&&!oe;H({isDragAccept:oe,isDragReject:M,isDragActive:!0,type:"setDraggedFiles"}),d&&d(q)}}).catch(function(ne){return we(ne)})},[s,d,we,E,_,o,a,l,c,C]),Se=j.useCallback(function(q){q.preventDefault(),q.persist(),mn(q);var ne=bm(q);if(ne&&q.dataTransfer)try{q.dataTransfer.dropEffect="copy"}catch{}return ne&&f&&f(q),!1},[f,E]),le=j.useCallback(function(q){q.preventDefault(),q.persist(),mn(q);var ne=ge.current.filter(function(oe){return I.current&&I.current.contains(oe)}),re=ne.indexOf(q.target);re!==-1&&ne.splice(re,1),ge.current=ne,!(ne.length>0)&&(H({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),bm(q)&&u&&u(q))},[I,u,E]),xe=j.useCallback(function(q,ne){var re=[],oe=[];q.forEach(function(M){var fe=UL(M,_),Ze=Hy(fe,2),pt=Ze[0],oo=Ze[1],lo=VL(M,o,a),ia=Hy(lo,2),qd=ia[0],jl=ia[1],zd=C?C(M):null;if(pt&&qd&&!zd)re.push(M);else{var wl=[oo,jl];zd&&(wl=wl.concat(zd)),oe.push({file:M,errors:wl.filter(function(M3){return M3})})}}),(!l&&re.length>1||l&&c>=1&&re.length>c)&&(re.forEach(function(M){oe.push({file:M,errors:[n0e]})}),re.splice(0)),H({acceptedFiles:re,fileRejections:oe,isDragReject:oe.length>0,type:"setFiles"}),p&&p(re,oe,ne),oe.length>0&&v&&v(oe,ne),re.length>0&&h&&h(re,ne)},[H,l,_,o,a,c,p,h,v,C]),ye=j.useCallback(function(q){q.preventDefault(),q.persist(),mn(q),ge.current=[],bm(q)&&Promise.resolve(s(q)).then(function(ne){Sx(q)&&!E||xe(ne,q)}).catch(function(ne){return we(ne)}),H({type:"reset"})},[s,xe,we,E]),B=j.useCallback(function(){if(R.current){H({type:"openDialog"}),A();var q={multiple:l,types:P};window.showOpenFilePicker(q).then(function(ne){return s(ne)}).then(function(ne){xe(ne,null),H({type:"closeDialog"})}).catch(function(ne){d0e(ne)?(O(ne),H({type:"closeDialog"})):u0e(ne)?(R.current=!1,F.current?(F.current.value=null,F.current.click()):we(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):we(ne)});return}F.current&&(H({type:"openDialog"}),A(),F.current.value=null,F.current.click())},[H,A,O,b,xe,we,P,l]),ce=j.useCallback(function(q){!I.current||!I.current.isEqualNode(q.target)||(q.key===" "||q.key==="Enter"||q.keyCode===32||q.keyCode===13)&&(q.preventDefault(),B())},[I,B]),de=j.useCallback(function(){H({type:"focus"})},[]),Pe=j.useCallback(function(){H({type:"blur"})},[]),Ce=j.useCallback(function(){N||(a0e()?setTimeout(B,0):B())},[N,B]),Xe=function(ne){return i?null:ne},st=function(ne){return w?null:Xe(ne)},Nt=function(ne){return k?null:Xe(ne)},mn=function(ne){E&&ne.stopPropagation()},kn=j.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=q.refKey,re=ne===void 0?"ref":ne,oe=q.role,M=q.onKeyDown,fe=q.onFocus,Ze=q.onBlur,pt=q.onClick,oo=q.onDragEnter,lo=q.onDragOver,ia=q.onDragLeave,qd=q.onDrop,jl=Cx(q,m0e);return Jt(Jt(tw({onKeyDown:st(qi(M,ce)),onFocus:st(qi(fe,de)),onBlur:st(qi(Ze,Pe)),onClick:Xe(qi(pt,Ce)),onDragEnter:Nt(qi(oo,me)),onDragOver:Nt(qi(lo,Se)),onDragLeave:Nt(qi(ia,le)),onDrop:Nt(qi(qd,ye)),role:typeof oe=="string"&&oe!==""?oe:"presentation"},re,I),!i&&!w?{tabIndex:0}:{}),jl)}},[I,ce,de,Pe,Ce,me,Se,le,ye,w,k,i]),T=j.useCallback(function(q){q.stopPropagation()},[]),V=j.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=q.refKey,re=ne===void 0?"ref":ne,oe=q.onChange,M=q.onClick,fe=Cx(q,h0e),Ze=tw({accept:_,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Xe(qi(oe,ye)),onClick:Xe(qi(M,T)),tabIndex:-1},re,F);return Jt(Jt({},Ze),fe)}},[F,n,l,ye,i]);return Jt(Jt({},z),{},{isFocused:D&&!i,getRootProps:kn,getInputProps:V,rootRef:I,inputRef:F,open:Xe(B)})}function S0e(e,t){switch(t.type){case"focus":return Jt(Jt({},e),{},{isFocused:!0});case"blur":return Jt(Jt({},e),{},{isFocused:!1});case"openDialog":return Jt(Jt({},nw),{},{isFileDialogActive:!0});case"closeDialog":return Jt(Jt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Jt(Jt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Jt(Jt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Jt({},nw);default:return e}}function MP(){}function $P(){const[,e]=ai(),[t,n]=j.useState(null),[i,s]=j.useState([]),[a,o]=j.useState(""),[l,c]=j.useState(!1),[d,u]=j.useState(0);j.useEffect(()=>{const k=new URLSearchParams(window.location.search).get("incident");k&&n(parseInt(k))},[]);const{data:f,isLoading:p}=Oe({queryKey:["/api/incidents",t],enabled:!!t}),h=Ye({mutationFn:async w=>{const k=await fetch(`/api/incidents/${w.id}/generate-evidence-categories`,{method:"POST",body:JSON.stringify({equipmentGroup:w.equipmentGroup,equipmentType:w.equipmentType,evidenceChecklist:w.evidenceChecklist}),headers:{"Content-Type":"application/json"}});if(!k.ok)throw new Error(`Failed to generate categories: ${k.status}`);return await k.json()},onSuccess:w=>{console.log("Evidence categories generated:",w),w&&w.categories&&Array.isArray(w.categories)?(s(w.categories),w.categories.length>0&&o(w.categories[0].id)):(console.error("Invalid evidence categories format:",w),s([]))},onError:w=>{console.error("Failed to generate evidence categories:",w)}}),v=Ye({mutationFn:async w=>{const k=new FormData;k.append("files",w.file),k.append("categoryId",w.categoryId),k.append("incidentId",t.toString()),w.description&&k.append("description",w.description);const E=await fetch(`/api/incidents/${t}/upload-evidence`,{method:"POST",body:k});if(!E.ok){const S=await E.text();throw console.error("Upload failed:",S),new Error(`Upload failed: ${E.status}`)}return await E.json()},onSuccess:(w,k)=>{s(E=>E.map(S=>S.id===k.categoryId?{...S,files:[...S.files,w.file]}:S)),c(!1)}});j.useEffect(()=>{f&&Array.isArray(i)&&i.length===0&&f.id&&f.title&&f.equipmentGroup&&f.equipmentType&&h.mutate(f)},[f]),j.useEffect(()=>{if(Array.isArray(i)&&i.length>0){const w=i.filter(P=>P.required),k=w.filter(P=>{var A;return P.files.length>0||P.isUnavailable&&((A=P.unavailableReason)==null?void 0:A.trim())}),E=i.filter(P=>!P.required),S=E.filter(P=>{var A;return P.files.length>0||P.isUnavailable&&((A=P.unavailableReason)==null?void 0:A.trim())}),C=w.length>0?k.length/w.length*70:70,_=E.length>0?S.length/E.length*30:30;u(Math.round(C+_))}},[i]);const m=(w,k,E)=>{w.forEach(S=>{c(!0),v.mutate({file:S,categoryId:k,description:E})})},y=(w,k)=>{s(E=>E.map(S=>S.id===w?{...S,files:S.files.filter(C=>C.id!==k)}:S))},b=(w,k,E)=>{s(S=>S.map(C=>C.id===w?{...C,isUnavailable:k,unavailableReason:E||"",files:k?[]:C.files}:C))},g=i.filter(w=>w.required).every(w=>{var k;return w.files.length>0||w.isUnavailable&&((k=w.unavailableReason)==null?void 0:k.trim())}),x=()=>{t&&(console.log("[EVIDENCE COLLECTION] Proceeding to MANDATORY Stage 3B Human Review"),window.location.href=`/human-review?incident=${t}`)};if(p||!f)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading incident details..."})]})});const N=i.find(w=>w.id===a);return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(W,{variant:"ghost",onClick:()=>e("/"),children:"← Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),r.jsx("h1",{className:"text-xl font-bold",children:"Step 4: Evidence Collection"})]})]}),r.jsxs(J,{variant:"outline",className:"text-sm",children:["Incident #",(f==null?void 0:f.id)||"Loading..."]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(Y,{className:"mb-8",children:r.jsxs(X,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),(f==null?void 0:f.title)||"Loading..."]}),r.jsxs(ve,{children:["Equipment: ",(f==null?void 0:f.equipmentGroup)||"Unknown"," → ",(f==null?void 0:f.equipmentType)||"Unknown"," (",(f==null?void 0:f.equipmentId)||"Unknown",")"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[d,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Evidence Collected"})]})]}),r.jsx(Rr,{value:d,className:"mt-4"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-base",children:"Evidence Categories"}),r.jsxs(ve,{children:[i.filter(w=>w.required).length," required, ",i.filter(w=>!w.required).length," optional"]})]}),r.jsx(Q,{className:"space-y-2",children:i.map(w=>r.jsxs("button",{onClick:()=>o(w.id),className:`w-full text-left p-3 rounded-lg border transition-colors ${a===w.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${w.isUnavailable?"bg-orange-50 border-orange-200":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-sm",children:w.name}),w.isUnavailable?r.jsx(wr,{className:"h-4 w-4 text-orange-600"}):w.files.length>0?r.jsx(Ct,{className:"h-4 w-4 text-green-600"}):w.required?r.jsx(ut,{className:"h-4 w-4 text-orange-500"}):r.jsx("div",{className:"h-4 w-4"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(J,{variant:w.required?"destructive":"secondary",className:"text-xs",children:w.required?"Required":"Optional"}),w.isUnavailable&&r.jsx(J,{variant:"outline",className:"text-xs bg-orange-100 border-orange-300",children:"Not Available"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:w.isUnavailable?"Documented":`${w.files.length}/${w.maxFiles} files`})]})]},w.id))})]})}),r.jsx("div",{className:"lg:col-span-3",children:N&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[N.name,r.jsx(J,{variant:N.required?"destructive":"secondary",children:N.required?"Required":"Optional"}),N.isUnavailable&&r.jsx(J,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800",children:"Not Available"})]}),r.jsx(ve,{children:N.description})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:N.isUnavailable?"Evidence documented as unavailable":`${N.files.length} / ${N.maxFiles} files`})]})}),r.jsx(Q,{children:r.jsx(C0e,{category:N,onFileUpload:m,onRemoveFile:y,isUploading:l,onUnavailabilityChange:b})})]})})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/evidence-checklist?incident=${t}`),children:"← Back to Evidence Checklist"}),r.jsx(W,{onClick:x,disabled:!g,className:"flex items-center gap-2",children:r.jsxs(r.Fragment,{children:["Proceed to Human Review (Stage 3B)",r.jsx(hp,{className:"h-4 w-4"})]})})]}),!g&&i.length>0&&r.jsxs(Kt,{className:"mt-4 border-amber-200 bg-amber-50",children:[r.jsx(ut,{className:"h-4 w-4"}),r.jsxs(Yt,{children:[r.jsx("strong",{children:"Requirements:"})," For each required evidence category, either upload files OR mark as unavailable with explanation."]})]})]})]})}function C0e({category:e,onFileUpload:t,onRemoveFile:n,isUploading:i,onUnavailabilityChange:s}){const[a,o]=j.useState(""),[l,c]=j.useState(e.unavailableReason||""),{getRootProps:d,getInputProps:u,isDragActive:f}=nS({onDrop:p=>{p.length>0&&(t(p,e.id,a),o(""))},accept:e.acceptedTypes.reduce((p,h)=>{const m={pdf:["application/pdf"],xlsx:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],csv:["text/csv"],txt:["text/plain"],jpg:["image/jpeg"],png:["image/png"],gif:["image/gif"],docx:["application/vnd.openxmlformats-officedocument.wordprocessingml.document"]}[h]||[h];return{...p,...m.reduce((y,b)=>({...y,[b]:[]}),{})}},{}),maxFiles:e.maxFiles-e.files.length,disabled:e.files.length>=e.maxFiles||i});return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"border rounded-lg p-4 bg-orange-50 border-orange-200",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yn,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:p=>{s(e.id,p,l)}}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(ie,{htmlFor:`unavailable-${e.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[r.jsx(wr,{className:"h-4 w-4 text-orange-600"}),"This evidence is not available or accessible"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&r.jsxs("div",{className:"mt-3",children:[r.jsx(ie,{htmlFor:`reason-${e.id}`,className:"text-sm font-medium",children:"Why is this evidence unavailable? *"}),r.jsx(We,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:l,onChange:p=>{c(p.target.value),s(e.id,!0,p.target.value)},className:"mt-1",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&e.files.length<e.maxFiles&&r.jsxs("div",{...d(),className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${f?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${i?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("input",{...u()}),r.jsx(Va,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-lg font-medium",children:f?"Drop files here":"Drag files here or click to browse"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Accepted: ",e.acceptedTypes.join(", ")]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max ",e.maxFiles," files, ",e.files.length," uploaded"]})]})]}),!e.isUnavailable&&e.files.length<e.maxFiles&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"file-description",className:"text-sm font-medium",children:"Optional Description"}),r.jsx(We,{id:"file-description",placeholder:"Describe what this evidence shows...",value:a,onChange:p=>o(p.target.value),className:"mt-1",rows:2})]}),e.files.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:["Uploaded Files",e.isUnavailable&&r.jsx(J,{variant:"outline",className:"text-xs bg-amber-100 border-amber-300",children:"Files uploaded but evidence marked unavailable"})]}),e.files.map(p=>r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${e.isUnavailable?"bg-amber-50 border-amber-200":"bg-green-50 border-green-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Zt,{className:`h-5 w-5 ${e.isUnavailable?"text-amber-600":"text-green-600"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:p.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[(p.size/1024/1024).toFixed(2)," MB • ",p.type]}),p.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:r.jsx("a",{href:p.url,download:!0,children:r.jsx(cr,{className:"h-4 w-4"})})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>n(e.id,p.id),children:r.jsx(Ws,{className:"h-4 w-4"})})]})]},p.id)),e.isUnavailable&&r.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 p-2 rounded border border-amber-200",children:[r.jsx("strong",{children:"Note:"}),' Evidence is marked as unavailable but files are still uploaded. You can remove files or uncheck "not available" to use uploaded evidence.']})]}),e.isUnavailable&&e.unavailableReason&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"font-medium text-sm text-orange-800 mb-2 flex items-center gap-2",children:[r.jsx(wr,{className:"h-4 w-4"}),"Evidence Unavailability Documentation"]}),r.jsxs("p",{className:"text-sm text-orange-700 mb-2",children:[r.jsx("strong",{children:"Reason:"})," ",e.unavailableReason]}),r.jsx("p",{className:"text-xs text-orange-600",children:"This documentation will be included in the final analysis to explain evidence limitations."})]}),e.files.length>=e.maxFiles&&r.jsxs(Kt,{className:"border-green-200 bg-green-50",children:[r.jsx(Ct,{className:"h-4 w-4"}),r.jsxs(Yt,{children:["This category is complete! You've uploaded the maximum number of files (",e.maxFiles,")."]})]})]})}function k0e(){var D,U,R,se,ge,te,we,me,Se,le,xe,ye;const{toast:e}=Dt(),t=Br(),[n,i]=j.useState(""),[s,a]=j.useState(!1),[o,l]=j.useState(null),[c,d]=j.useState({}),[u,f]=j.useState(""),[p,h]=j.useState("all"),[v,m]=j.useState("equipmentType"),[y,b]=j.useState("asc"),[g,x]=j.useState(!1),[N,w]=j.useState("all"),[k,E]=j.useState("all"),{data:S,isLoading:C,error:_}=Oe({queryKey:["/api/evidence-library"]});console.log("Query State:",{isLoading:C,error:_==null?void 0:_.message,hasData:!!S,dataKeys:S?Object.keys(S):[],itemCount:Array.isArray(S)?S.length:0});const P=j.useMemo(()=>{if(!Array.isArray(S))return[];let B=S;if(u.trim()){const ce=u.toLowerCase().trim();B=B.filter(de=>[de.equipmentGroup,de.equipmentType,de.subtype,de.componentFailureMode,de.equipmentCode,de.failureCode].join(" ").toLowerCase().includes(ce))}if(p!=="all"&&(B=B.filter(ce=>{var de,Pe,Ce,Xe,st;switch(p){case"rotating":return(de=ce.equipmentGroup)==null?void 0:de.toLowerCase().includes("rotating");case"electrical":return(Pe=ce.equipmentGroup)==null?void 0:Pe.toLowerCase().includes("electrical");case"control":return(Ce=ce.equipmentGroup)==null?void 0:Ce.toLowerCase().includes("control");case"environmental":return(Xe=ce.equipmentGroup)==null?void 0:Xe.toLowerCase().includes("environmental");case"instrumentation":return(st=ce.equipmentGroup)==null?void 0:st.toLowerCase().includes("instrumentation");default:return!0}})),N!=="all"&&(B=B.filter(ce=>{var de,Pe,Ce,Xe,st;switch(N){case"rotating":return(de=ce.equipmentGroup)==null?void 0:de.toLowerCase().includes("rotating");case"electrical":return(Pe=ce.equipmentGroup)==null?void 0:Pe.toLowerCase().includes("electrical");case"control":return(Ce=ce.equipmentGroup)==null?void 0:Ce.toLowerCase().includes("control");case"environmental":return(Xe=ce.equipmentGroup)==null?void 0:Xe.toLowerCase().includes("environmental");case"instrumentation":return(st=ce.equipmentGroup)==null?void 0:st.toLowerCase().includes("instrumentation");default:return!0}})),k!=="all"){const ce=new Date;B=B.filter(de=>{const Pe=new Date(de.lastUpdated||""),Ce=Math.floor((ce.getTime()-Pe.getTime())/(1e3*60*60*24));switch(k){case"recent":return Ce<=7;case"week":return Ce<=30;case"month":return Ce<=90;case"old":return Ce>90;default:return!0}})}return B.sort((ce,de)=>{let Pe,Ce;switch(v){case"equipmentType":Pe=ce.equipmentType,Ce=de.equipmentType;break;case"failureCode":Pe=ce.failureCode,Ce=de.failureCode;break;case"lastUpdated":Pe=ce.lastUpdated||"",Ce=de.lastUpdated||"";break;case"riskRanking":Pe=ce.riskRanking,Ce=de.riskRanking;break;default:Pe=ce.equipmentType,Ce=de.equipmentType}const Xe=Pe.localeCompare(Ce);return y==="asc"?Xe:-Xe}),B},[S,u,p,v,y,N,k]),A=()=>{f(""),h("all"),m("equipmentType"),b("asc"),w("all"),E("all")},O=(B,ce)=>{if(!ce.trim())return B;const de=new RegExp(`(${ce.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return B.split(de).map((Ce,Xe)=>de.test(Ce)?r.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:Ce},Xe):Ce)},I=[u.trim()!=="",p!=="all",v!=="equipmentType",y!=="asc",N!=="all",k!=="all"].filter(Boolean).length,F={Pumps:"pumps_centrifugal",Compressors:"compressors_reciprocating",Turbines:"turbines_gas","Electric Motors":"motors_electric",Generators:"generators_synchronous","Fans / Blowers":"fans_centrifugal","Agitators / Mixers":"mixers_top_entry","Heat Exchangers":"heat_exchangers_shell_tube",Boilers:"boilers_water_tube","Pressure Vessels":"vessels_pressure","Columns/Towers":"columns_distillation","Filters/Strainers":"filters_basket",Tanks:"tanks_atmospheric",Piping:"piping_systems",Valves:"valves_control",Switchgear:"switchgear_electrical",Transformers:"transformers_power","UPS/Rectifiers":"ups_static","Cables/Busbars":"cables_power","Sensors/Transmitters":"sensors_pressure","PLCs/DCS Systems":"plc_redundant",DATABASE_DRIVEN:"database_driven",Analyzers:"analyzers_gc","HVAC Units":"hvac_air_handler","Cranes/Hoists":"cranes_bridge","Fire Protection Systems":"fire_systems_deluge"};console.log("Equipment Types API Response:",equipmentTypes),console.log("Is Loading:",C),console.log("Equipment Types Array:",equipmentTypes==null?void 0:equipmentTypes.equipmentTypes);const{data:$}=Oe({queryKey:["/api/evidence-library/equipment",n],queryFn:()=>lt(`/api/evidence-library/equipment/${n}`),enabled:!!n}),{data:G}=Oe({queryKey:["/api/evidence-library/admin/history",n],queryFn:()=>lt(`/api/evidence-library/admin/history?equipmentType=${n}`),enabled:!!n}),z=Ye({mutationFn:async({equipmentType:B,trendId:ce,updates:de})=>lt(`/api/evidence-library/admin/equipment/${B}/trends/${ce}`,{method:"PATCH",body:JSON.stringify({updates:de,updatedBy:"Admin User"}),headers:{"Content-Type":"application/json","x-admin-key":"admin123"}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/evidence-library/equipment",n]}),e({title:"Success",description:"Trend requirement updated successfully"}),l(null)},onError:()=>{e({title:"Error",description:"Failed to update trend requirement",variant:"destructive"})}});Ye({mutationFn:()=>lt("/api/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}}),onSuccess:B=>{const ce=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),de=URL.createObjectURL(ce),Pe=document.createElement("a");Pe.href=de,Pe.download=`evidence-library-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),URL.revokeObjectURL(de),e({title:"Success",description:"Evidence library exported successfully"})}});const H=()=>{!o||!n||z.mutate({equipmentType:n,trendId:o.id,updates:o})};return C?r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Loading evidence library..."})]})})}):r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(Gn,{className:"h-8 w-8 text-blue-600"}),"Evidence Library Administration"]}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Manage equipment-specific evidence requirements and AI prompts (",Array.isArray(S)?S.length:0," evidence items)"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{variant:"outline",onClick:async()=>{try{if(!Array.isArray(S)||!S.length){e({title:"No Data",description:"No evidence library items to export",variant:"destructive"});return}const B=["Equipment Group","Equipment Type","Component/Failure Mode","Equipment Code","Failure Code","Risk Ranking","Required Trend Data","AI Questions","Attachments Required"],ce=S.map(st=>[st.equipmentGroup,st.equipmentType,st.componentFailureMode,st.equipmentCode,st.failureCode,st.riskRanking,st.requiredTrendDataEvidence||"",st.aiOrInvestigatorQuestions||"",st.attachmentsEvidenceRequired||""]),de=[B.join(","),...ce.map(st=>st.map(Nt=>`"${Nt.replace(/"/g,'""')}"`).join(","))].join(`
`),Pe=new Blob([de],{type:"text/csv;charset=utf-8;"}),Ce=document.createElement("a"),Xe=URL.createObjectURL(Pe);Ce.setAttribute("href",Xe),Ce.setAttribute("download",`evidence-library-${new Date().toISOString().split("T")[0]}.csv`),Ce.style.visibility="hidden",document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),URL.revokeObjectURL(Xe),e({title:"CSV Export Successful",description:`Exported ${S.length} evidence library items to CSV`})}catch(B){console.error("CSV export failed:",B),e({title:"CSV Export Failed",description:"Failed to export to CSV format",variant:"destructive"})}},children:[r.jsx(ob,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),r.jsxs(W,{variant:"outline",onClick:async()=>{try{const B=await fetch("/api/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}});if(B.ok){const ce=await B.blob(),de=window.URL.createObjectURL(ce),Pe=document.createElement("a");Pe.href=de,Pe.download="evidence-library-export.json",Pe.click(),window.URL.revokeObjectURL(de),e({title:"JSON Export Successful",description:"Evidence library exported successfully"})}else e({title:"Export Failed",description:"Unable to export library",variant:"destructive"})}catch{e({title:"Export Error",description:"Failed to export evidence library",variant:"destructive"})}},children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Export JSON"]}),r.jsxs(W,{onClick:()=>{const B=document.createElement("input");B.type="file",B.accept=".csv,.json",B.onchange=async ce=>{var Pe;const de=(Pe=ce.target.files)==null?void 0:Pe[0];if(de)try{if(de.name.endsWith(".csv")){const Ce=new FileReader;Ce.onload=Xe=>{var st;try{const mn=((st=Xe.target)==null?void 0:st.result).split(`
`),kn=mn[0].split(",").map(T=>T.replace(/"/g,"").trim());e({title:"CSV Import Ready",description:`Found ${mn.length-1} equipment types in CSV. Import processing completed.`})}catch(Nt){console.error("CSV import failed:",Nt),e({title:"CSV Import Failed",description:"Failed to parse CSV file",variant:"destructive"})}},Ce.readAsText(de)}else{const Ce=new FormData;Ce.append("file",de),(await fetch("/api/evidence-library/admin/import",{method:"POST",headers:{"x-admin-key":"admin123"},body:Ce})).ok?(e({title:"JSON Import Successful",description:"Evidence library imported successfully"}),window.location.reload()):e({title:"Import Failed",description:"Unable to import library",variant:"destructive"})}}catch{e({title:"Import Error",description:"Failed to import file",variant:"destructive"})}},B.click()},children:[r.jsx(Va,{className:"h-4 w-4 mr-2"}),"Import File"]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),"Equipment Types Library (",((D=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:D.length)||0," Types)"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(_i,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(ue,{placeholder:"Search equipment types, ISO codes, or subtypes...",className:"pl-10 pr-10",value:u,onChange:B=>f(B.target.value)}),u&&r.jsx(W,{variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-8 w-8 p-0",onClick:()=>f(""),children:r.jsx(Ws,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bz,{className:"h-4 w-4"}),r.jsxs(Be,{value:p,onValueChange:h,children:[r.jsx(qe,{className:"w-48",children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"all",children:"All Equipment"}),r.jsx(ee,{value:"rotating",children:"Database Driven"}),r.jsx(ee,{value:"static",children:"Database Driven"}),r.jsx(ee,{value:"electrical",children:"Database Driven"}),r.jsx(ee,{value:"process",children:"Process Equipment"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),r.jsxs(Be,{value:v,onValueChange:m,children:[r.jsx(qe,{className:"w-40",children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"equipmentType",children:"Equipment Type"}),r.jsx(ee,{value:"failureCode",children:"Failure Code"}),r.jsx(ee,{value:"lastUpdated",children:"Last Updated"}),r.jsx(ee,{value:"riskRanking",children:"Risk Ranking"})]})]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>b(y==="asc"?"desc":"asc"),children:y==="asc"?r.jsx($I,{className:"h-4 w-4"}):r.jsx(MI,{className:"h-4 w-4"})})]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>x(!g),className:g?"bg-blue-50 border-blue-200":"",children:["Advanced Filters",I>0&&r.jsx(J,{variant:"secondary",className:"ml-2 h-5 w-5 p-0 text-xs",children:I})]}),I>0&&r.jsxs(W,{variant:"outline",size:"sm",onClick:A,children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Clear All (",I,")"]}),r.jsxs("div",{className:"text-sm text-gray-600 ml-auto",children:["Showing ",P.length," of ",Array.isArray(S)?S.length:0," evidence items"]})]}),g&&r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Advanced Filters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{className:"text-sm font-medium",children:"Equipment Category"}),r.jsxs(Be,{value:N,onValueChange:w,children:[r.jsx(qe,{className:"mt-1",children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"all",children:"All Equipment Types"}),r.jsx(ee,{value:"rotating",children:"Database Driven"}),r.jsx(ee,{value:"static",children:"Database Driven"}),r.jsx(ee,{value:"electrical",children:"Database Driven"}),r.jsx(ee,{value:"process",children:"Process Control"}),r.jsx(ee,{value:"instrumentation",children:"Database Driven"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{className:"text-sm font-medium",children:"Last Updated"}),r.jsxs(Be,{value:k,onValueChange:E,children:[r.jsx(qe,{className:"mt-1",children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"all",children:"Any Time"}),r.jsx(ee,{value:"recent",children:"Last 7 days"}),r.jsx(ee,{value:"week",children:"Last 30 days"}),r.jsx(ee,{value:"month",children:"Last 90 days"}),r.jsx(ee,{value:"old",children:"Older than 90 days"})]})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx(W,{variant:"outline",size:"sm",onClick:()=>{w("all"),E("all")},className:"w-full",children:"Reset Advanced"})})]})]})]}),r.jsx("div",{className:"border rounded-lg",children:r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(en,{children:[r.jsx(rt,{className:"font-semibold",children:"Equipment Type"}),r.jsx(rt,{className:"font-semibold",children:"Typical Subtypes / Examples"}),r.jsx(rt,{className:"font-semibold",children:"Required Trend Data"}),r.jsx(rt,{className:"font-semibold",children:"AI Prompt Examples"}),r.jsx(rt,{className:"font-semibold",children:"Attachments / Evidence Required"}),r.jsx(rt,{className:"text-right font-semibold",children:"Actions"})]})}),r.jsx(Qi,{children:!C&&P.length>0?P.map(B=>r.jsxs(en,{children:[r.jsx(Je,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:O(B.equipmentType,u)}),r.jsx(J,{variant:"outline",className:"text-xs",children:B.iso14224Code})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.subtypes.slice(0,4).map((ce,de)=>r.jsx(J,{variant:"secondary",className:"text-xs",children:ce},de)),B.subtypes.length>4&&r.jsxs(J,{variant:"secondary",className:"text-xs",children:["+",B.subtypes.length-4," more"]})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ci,{className:"h-3 w-3"}),r.jsx("span",{children:"Comprehensive monitoring"})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Vibration, Temperature, Pressure, Flow"})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(_t,{className:"h-3 w-3"}),r.jsx("span",{children:"Equipment-specific"})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Context-aware prompts configured"})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Zt,{className:"h-3 w-3"}),r.jsx("span",{children:"Standard attachments"})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Trends, photos, maintenance logs"})]})}),r.jsx(Je,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end gap-1",children:[r.jsx(W,{variant:"outline",size:"sm",onClick:()=>i(B.equipmentType.toLowerCase().replace(/[^a-z0-9]/g,"_")),children:r.jsx(Lc,{className:"h-3 w-3"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>{e({title:"Edit Equipment Type",description:`Editing ${B.equipmentType} - Advanced editing interface will be available soon`})},children:r.jsx(Jr,{className:"h-3 w-3"})})]})})]},B.iso14224Code)):C?r.jsx(en,{children:r.jsx(Je,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Gn,{className:"h-8 w-8 text-gray-400"}),r.jsx("p",{className:"text-gray-600",children:"Loading equipment types..."}),r.jsx("p",{className:"text-xs text-gray-500",children:"Fetching data from API..."})]})})}):r.jsx(en,{children:r.jsx(Je,{colSpan:6,className:"text-center py-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Gn,{className:"h-8 w-8 text-red-400"}),r.jsx("p",{className:"text-gray-600",children:"No equipment types found"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Data: ",JSON.stringify(equipmentTypes)]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Error: ",(_==null?void 0:_.message)||"None"]})]})})})})]})}),r.jsxs("div",{className:"flex items-center justify-between py-2 px-1",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",P.length," of ",(equipmentTypes==null?void 0:equipmentTypes.totalCount)||((U=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:U.length)||0," equipment types"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["API Status: ",equipmentTypes!=null&&equipmentTypes.success?"Connected":"Disconnected"," | Last updated: ",new Date().toLocaleDateString()]})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Equipment Selection"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"equipment-select",children:"Select Equipment Type"}),r.jsxs(Be,{value:n,onValueChange:i,children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Choose equipment type..."})}),r.jsx(Ve,{children:C?r.jsx("div",{className:"p-2 text-center text-gray-500",children:"Loading equipment types..."}):((R=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:R.length)>0?equipmentTypes.equipmentTypes.map(B=>{const ce=F[B.equipmentType];return r.jsxs(ee,{value:ce||B.equipmentType.toLowerCase().replace(/\s+/g,"_"),children:[B.equipmentType," (",B.iso14224Code,")"]},B.equipmentType)}):r.jsx("div",{className:"p-2 text-center text-gray-500",children:"No equipment types found"})})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs(W,{variant:"outline",className:"w-full",onClick:()=>a(!0),children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add New Equipment Type"]})})]})})]}),s&&r.jsxs(Y,{className:"border-primary/20",children:[r.jsx(X,{children:r.jsx(Z,{className:"text-lg",children:"Add New Equipment Type"})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Type Name"}),r.jsx(ue,{placeholder:"e.g., Heat Exchangers",value:c.name||"",onChange:B=>d(ce=>({...ce,name:B.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"ISO 14224 Code"}),r.jsx(ue,{placeholder:"e.g., HE-003",value:c.id||"",onChange:B=>d(ce=>({...ce,id:B.target.value}))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Subtypes (comma-separated)"}),r.jsx(ue,{placeholder:"e.g., Shell and Tube, Plate, Air Cooled",value:c.units||"",onChange:B=>d(ce=>({...ce,units:B.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Description"}),r.jsx(We,{placeholder:"Brief description of equipment type and its applications",value:c.description||"",onChange:B=>d(ce=>({...ce,description:B.target.value}))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{onClick:()=>{e({title:"Feature Coming Soon",description:"Equipment type addition will be implemented in the next update"}),a(!1)},disabled:!c.name||!c.id,children:"Add Equipment Type"}),r.jsx(W,{variant:"outline",onClick:()=>{a(!1),d({})},children:"Cancel"})]})]})]}),n&&$&&r.jsxs(Zn,{defaultValue:"trends",className:"space-y-4",children:[r.jsxs(Ln,{className:"grid grid-cols-4 w-fit",children:[r.jsxs(Te,{value:"trends",children:[r.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Trend Data"]}),r.jsxs(Te,{value:"attachments",children:[r.jsx(hz,{className:"h-4 w-4 mr-2"}),"Attachments"]}),r.jsxs(Te,{value:"prompts",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"AI Prompts"]}),r.jsxs(Te,{value:"history",children:[r.jsx(Is,{className:"h-4 w-4 mr-2"}),"History"]})]}),r.jsx(Ee,{value:"trends",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Trend Data Requirements"}),r.jsxs(W,{size:"sm",children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add Trend"]})]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:(ge=(se=$==null?void 0:$.profile)==null?void 0:se.requiredTrendData)==null?void 0:ge.map(B=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-semibold",children:B.name}),r.jsx(J,{variant:B.mandatory?"default":"secondary",children:B.mandatory?"Mandatory":"Optional"})]}),r.jsx(W,{size:"sm",variant:"ghost",onClick:()=>l(B),children:r.jsx(Jr,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:B.description}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Units:"})," ",B.units]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Sampling:"})," ",B.samplingFrequency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Range:"})," ",B.typicalRange||"Not specified"]})]}),B.alertThresholds&&r.jsxs("div",{className:"mt-2 text-sm",children:[r.jsx("span",{className:"font-medium",children:"Thresholds:"}),r.jsxs("span",{className:"ml-2 text-amber-600",children:["Warning: ",B.alertThresholds.warning]}),r.jsxs("span",{className:"ml-4 text-red-600",children:["Alarm: ",B.alertThresholds.alarm]})]})]},B.id))})})]})}),r.jsx(Ee,{value:"attachments",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Attachment Requirements"}),r.jsxs(W,{size:"sm",children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add Attachment"]})]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:(we=(te=$==null?void 0:$.profile)==null?void 0:te.requiredAttachments)==null?void 0:we.map(B=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-semibold",children:B.name}),r.jsx(J,{variant:B.mandatory?"default":"secondary",children:B.mandatory?"Mandatory":"Optional"})]}),r.jsx(W,{size:"sm",variant:"ghost",children:r.jsx(Jr,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:B.description}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"File Types:"})," ",B.fileTypes.join(", ")]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Max Size:"})," ",B.maxSizeMB,"MB"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Validation:"})," ",B.validationCriteria||"None"]})]})]},B.id))})})]})}),r.jsx(Ee,{value:"prompts",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"AI Prompt Templates"})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:(le=(Se=(me=$==null?void 0:$.data)==null?void 0:me.profile)==null?void 0:Se.aiPromptTemplates)==null?void 0:le.map((B,ce)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold capitalize",children:B.fieldType.replace("_"," ")}),r.jsx(W,{size:"sm",variant:"ghost",children:r.jsx(Jr,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:B.context}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded text-sm",children:[r.jsx("strong",{children:"Prompt:"})," ",B.prompt]}),B.examples&&B.examples.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("strong",{className:"text-sm",children:"Examples:"}),r.jsx("ul",{className:"text-sm text-gray-600 mt-1 space-y-1",children:B.examples.map((de,Pe)=>r.jsxs("li",{className:"pl-2 border-l-2 border-gray-200",children:['"',de,'"']},Pe))})]})]},ce))})})]})}),r.jsx(Ee,{value:"history",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Update History"})}),r.jsx(Q,{children:((ye=(xe=G==null?void 0:G.data)==null?void 0:xe.history)==null?void 0:ye.length)>0?r.jsx("div",{className:"space-y-2",children:G.data.history.map((B,ce)=>r.jsxs("div",{className:"border-l-4 border-blue-200 pl-4 py-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(J,{variant:"outline",children:B.changeType}),r.jsx("span",{className:"font-medium",children:B.fieldChanged}),r.jsxs("span",{className:"text-gray-500",children:["by ",B.updatedBy]}),r.jsx("span",{className:"text-gray-400",children:new Date(B.timestamp).toLocaleDateString()})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:B.reason})]},ce))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No update history available"})})]})})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(Y,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsx(X,{children:r.jsxs(Z,{children:["Edit Trend Requirement: ",o.name]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"trend-name",children:"Name"}),r.jsx(ue,{id:"trend-name",value:o.name,onChange:B=>l({...o,name:B.target.value})})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"trend-description",children:"Description"}),r.jsx(We,{id:"trend-description",value:o.description,onChange:B=>l({...o,description:B.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"trend-units",children:"Units"}),r.jsx(ue,{id:"trend-units",value:o.units,onChange:B=>l({...o,units:B.target.value})})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"trend-sampling",children:"Sampling Frequency"}),r.jsx(ue,{id:"trend-sampling",value:o.samplingFrequency,onChange:B=>l({...o,samplingFrequency:B.target.value})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),r.jsx(W,{onClick:H,disabled:z.isPending,children:z.isPending?"Updating...":"Update"})]})]})]})})]})}var Pp=e=>e.type==="checkbox",Ao=e=>e instanceof Date,ir=e=>e==null;const YL=e=>typeof e=="object";var fn=e=>!ir(e)&&!Array.isArray(e)&&YL(e)&&!Ao(e),QL=e=>fn(e)&&e.target?Pp(e.target)?e.target.checked:e.target.value:e,E0e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,XL=(e,t)=>e.has(E0e(t)),A0e=e=>{const t=e.constructor&&e.constructor.prototype;return fn(t)&&t.hasOwnProperty("isPrototypeOf")},rS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function In(e){let t;const n=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(rS&&(e instanceof Blob||i))&&(n||fn(e)))if(t=n?[]:{},!n&&!A0e(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=In(e[s]));else return e;return t}var jg=e=>Array.isArray(e)?e.filter(Boolean):[],cn=e=>e===void 0,Ne=(e,t,n)=>{if(!t||!fn(e))return n;const i=jg(t.split(/[,[\].]+?/)).reduce((s,a)=>ir(s)?s:s[a],e);return cn(i)||i===e?cn(e[t])?n:e[t]:i},Pr=e=>typeof e=="boolean",iS=e=>/^\w*$/.test(e),ZL=e=>jg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Et=(e,t,n)=>{let i=-1;const s=iS(t)?[t]:ZL(t),a=s.length,o=a-1;for(;++i<a;){const l=s[i];let c=n;if(i!==o){const d=e[l];c=fn(d)||Array.isArray(d)?d:isNaN(+s[i+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const kx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ni={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ys={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},JL=L.createContext(null),wg=()=>L.useContext(JL),P0e=e=>{const{children:t,...n}=e;return L.createElement(JL.Provider,{value:n},t)};var e3=(e,t,n,i=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ni.all&&(t._proxyFormState[o]=!i||Ni.all),n&&(n[o]=!0),e[o]}});return s};function O0e(e){const t=wg(),{control:n=t.control,disabled:i,name:s,exact:a}=e||{},[o,l]=L.useState(n._formState),c=L.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=L.useRef(s);return d.current=s,L.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!i&&l({...n._formState,...u})}}),[n,i,a]),L.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),L.useMemo(()=>e3(o,n,c.current,!1),[o,n])}var Zi=e=>typeof e=="string",t3=(e,t,n,i,s)=>Zi(e)?(i&&t.watch.add(e),Ne(n,e,s)):Array.isArray(e)?e.map(a=>(i&&t.watch.add(a),Ne(n,a))):(i&&(t.watchAll=!0),n);function T0e(e){const t=wg(),{control:n=t.control,name:i,defaultValue:s,disabled:a,exact:o}=e||{},l=L.useRef(i),c=L.useRef(s);l.current=i,L.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!a&&u(t3(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,a,o]);const[d,u]=L.useState(n._getWatch(i,s));return L.useEffect(()=>n._removeUnmounted()),d}function _0e(e){const t=wg(),{name:n,disabled:i,control:s=t.control,shouldUnregister:a}=e,o=XL(s._names.array,n),l=T0e({control:s,name:n,defaultValue:Ne(s._formValues,n,Ne(s._defaultValues,n,e.defaultValue)),exact:!0}),c=O0e({control:s,name:n,exact:!0}),d=L.useRef(e),u=L.useRef(s.register(n,{...e.rules,value:l,...Pr(e.disabled)?{disabled:e.disabled}:{}})),f=L.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ne(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ne(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ne(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ne(c.errors,n)}}),[c,n]),p=L.useCallback(y=>u.current.onChange({target:{value:QL(y),name:n},type:kx.CHANGE}),[n]),h=L.useCallback(()=>u.current.onBlur({target:{value:Ne(s._formValues,n),name:n},type:kx.BLUR}),[n,s._formValues]),v=L.useCallback(y=>{const b=Ne(s._fields,n);b&&y&&(b._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:g=>y.setCustomValidity(g),reportValidity:()=>y.reportValidity()})},[s._fields,n]),m=L.useMemo(()=>({name:n,value:l,...Pr(i)||c.disabled?{disabled:c.disabled||i}:{},onChange:p,onBlur:h,ref:v}),[n,i,c.disabled,p,h,v,l]);return L.useEffect(()=>{const y=s._options.shouldUnregister||a;s.register(n,{...d.current.rules,...Pr(d.current.disabled)?{disabled:d.current.disabled}:{}});const b=(g,x)=>{const N=Ne(s._fields,g);N&&N._f&&(N._f.mount=x)};if(b(n,!0),y){const g=In(Ne(s._options.defaultValues,n));Et(s._defaultValues,n,g),cn(Ne(s._formValues,n))&&Et(s._formValues,n,g)}return!o&&s.register(n),()=>{(o?y&&!s._state.action:y)?s.unregister(n):b(n,!1)}},[n,s,o,a]),L.useEffect(()=>{s._setDisabledField({disabled:i,name:n})},[i,n,s]),L.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const I0e=e=>e.render(_0e(e));var n3=(e,t,n,i,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:s||!0}}:{},Du=e=>Array.isArray(e)?e:[e],DP=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},rw=e=>ir(e)||!YL(e);function ga(e,t){if(rw(e)||rw(t))return e===t;if(Ao(e)&&Ao(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const s of n){const a=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Ao(a)&&Ao(o)||fn(a)&&fn(o)||Array.isArray(a)&&Array.isArray(o)?!ga(a,o):a!==o)return!1}}return!0}var nr=e=>fn(e)&&!Object.keys(e).length,sS=e=>e.type==="file",Si=e=>typeof e=="function",Ex=e=>{if(!rS)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},r3=e=>e.type==="select-multiple",aS=e=>e.type==="radio",R0e=e=>aS(e)||Pp(e),Gy=e=>Ex(e)&&e.isConnected;function M0e(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=cn(e)?i++:e[t[i++]];return e}function $0e(e){for(const t in e)if(e.hasOwnProperty(t)&&!cn(e[t]))return!1;return!0}function bn(e,t){const n=Array.isArray(t)?t:iS(t)?[t]:ZL(t),i=n.length===1?e:M0e(e,n),s=n.length-1,a=n[s];return i&&delete i[a],s!==0&&(fn(i)&&nr(i)||Array.isArray(i)&&$0e(i))&&bn(e,n.slice(0,-1)),e}var i3=e=>{for(const t in e)if(Si(e[t]))return!0;return!1};function Ax(e,t={}){const n=Array.isArray(e);if(fn(e)||n)for(const i in e)Array.isArray(e[i])||fn(e[i])&&!i3(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Ax(e[i],t[i])):ir(e[i])||(t[i]=!0);return t}function s3(e,t,n){const i=Array.isArray(e);if(fn(e)||i)for(const s in e)Array.isArray(e[s])||fn(e[s])&&!i3(e[s])?cn(t)||rw(n[s])?n[s]=Array.isArray(e[s])?Ax(e[s],[]):{...Ax(e[s])}:s3(e[s],ir(t)?{}:t[s],n[s]):n[s]=!ga(e[s],t[s]);return n}var lu=(e,t)=>s3(e,t,Ax(t));const FP={value:!1,isValid:!1},LP={value:!0,isValid:!0};var a3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!cn(e[0].attributes.value)?cn(e[0].value)||e[0].value===""?LP:{value:e[0].value,isValid:!0}:LP:FP}return FP},o3=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>cn(e)?e:t?e===""?NaN:e&&+e:n&&Zi(e)?new Date(e):i?i(e):e;const qP={isValid:!1,value:null};var l3=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,qP):qP;function zP(e){const t=e.ref;return sS(t)?t.files:aS(t)?l3(e.refs).value:r3(t)?[...t.selectedOptions].map(({value:n})=>n):Pp(t)?a3(e.refs).value:o3(cn(t.value)?e.ref.value:t.value,e)}var D0e=(e,t,n,i)=>{const s={};for(const a of e){const o=Ne(t,a);o&&Et(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:i}},Px=e=>e instanceof RegExp,cu=e=>cn(e)?e:Px(e)?e.source:fn(e)?Px(e.value)?e.value.source:e.value:e,BP=e=>({isOnSubmit:!e||e===Ni.onSubmit,isOnBlur:e===Ni.onBlur,isOnChange:e===Ni.onChange,isOnAll:e===Ni.all,isOnTouch:e===Ni.onTouched});const UP="AsyncFunction";var F0e=e=>!!e&&!!e.validate&&!!(Si(e.validate)&&e.validate.constructor.name===UP||fn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===UP)),L0e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),VP=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Fu=(e,t,n,i)=>{for(const s of n||Object.keys(e)){const a=Ne(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!i)return!0;if(o.ref&&t(o.ref,o.name)&&!i)return!0;if(Fu(l,t))break}else if(fn(l)&&Fu(l,t))break}}};function WP(e,t,n){const i=Ne(e,n);if(i||iS(n))return{error:i,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=Ne(t,a),l=Ne(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var q0e=(e,t,n,i)=>{n(e);const{name:s,...a}=e;return nr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!i||Ni.all))},z0e=(e,t,n)=>!e||!t||e===t||Du(e).some(i=>i&&(n?i===t:i.startsWith(t)||t.startsWith(i))),B0e=(e,t,n,i,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?i.isOnBlur:s.isOnBlur)?!e:(n?i.isOnChange:s.isOnChange)?e:!0,U0e=(e,t)=>!jg(Ne(e,t)).length&&bn(e,t),V0e=(e,t,n)=>{const i=Du(Ne(e,n));return Et(i,"root",t[n]),Et(e,n,i),e},Bm=e=>Zi(e);function HP(e,t,n="validate"){if(Bm(e)||Array.isArray(e)&&e.every(Bm)||Pr(e)&&!e)return{type:n,message:Bm(e)?e:"",ref:t}}var Ol=e=>fn(e)&&!Px(e)?e:{value:e,message:""},GP=async(e,t,n,i,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:p,pattern:h,validate:v,name:m,valueAsNumber:y,mount:b}=e._f,g=Ne(n,m);if(!b||t.has(m))return{};const x=l?l[0]:o,N=A=>{s&&x.reportValidity&&(x.setCustomValidity(Pr(A)?"":A||""),x.reportValidity())},w={},k=aS(o),E=Pp(o),S=k||E,C=(y||sS(o))&&cn(o.value)&&cn(g)||Ex(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,_=n3.bind(null,m,i,w),P=(A,O,I,F=ys.maxLength,$=ys.minLength)=>{const G=A?O:I;w[m]={type:A?F:$,message:G,ref:o,..._(A?F:$,G)}};if(a?!Array.isArray(g)||!g.length:c&&(!S&&(C||ir(g))||Pr(g)&&!g||E&&!a3(l).isValid||k&&!l3(l).isValid)){const{value:A,message:O}=Bm(c)?{value:!!c,message:c}:Ol(c);if(A&&(w[m]={type:ys.required,message:O,ref:x,..._(ys.required,O)},!i))return N(O),w}if(!C&&(!ir(f)||!ir(p))){let A,O;const I=Ol(p),F=Ol(f);if(!ir(g)&&!isNaN(g)){const $=o.valueAsNumber||g&&+g;ir(I.value)||(A=$>I.value),ir(F.value)||(O=$<F.value)}else{const $=o.valueAsDate||new Date(g),G=D=>new Date(new Date().toDateString()+" "+D),z=o.type=="time",H=o.type=="week";Zi(I.value)&&g&&(A=z?G(g)>G(I.value):H?g>I.value:$>new Date(I.value)),Zi(F.value)&&g&&(O=z?G(g)<G(F.value):H?g<F.value:$<new Date(F.value))}if((A||O)&&(P(!!A,I.message,F.message,ys.max,ys.min),!i))return N(w[m].message),w}if((d||u)&&!C&&(Zi(g)||a&&Array.isArray(g))){const A=Ol(d),O=Ol(u),I=!ir(A.value)&&g.length>+A.value,F=!ir(O.value)&&g.length<+O.value;if((I||F)&&(P(I,A.message,O.message),!i))return N(w[m].message),w}if(h&&!C&&Zi(g)){const{value:A,message:O}=Ol(h);if(Px(A)&&!g.match(A)&&(w[m]={type:ys.pattern,message:O,ref:o,..._(ys.pattern,O)},!i))return N(O),w}if(v){if(Si(v)){const A=await v(g,n),O=HP(A,x);if(O&&(w[m]={...O,..._(ys.validate,O.message)},!i))return N(O.message),w}else if(fn(v)){let A={};for(const O in v){if(!nr(A)&&!i)break;const I=HP(await v[O](g,n),x,O);I&&(A={...I,..._(O,I.message)},N(I.message),i&&(w[m]=A))}if(!nr(A)&&(w[m]={ref:x,...A},!i))return w}}return N(!0),w};const W0e={mode:Ni.onSubmit,reValidateMode:Ni.onChange,shouldFocusError:!0};function H0e(e={}){let t={...W0e,...e},n={submitCount:0,isDirty:!1,isLoading:Si(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const i={};let s=fn(t.defaultValues)||fn(t.values)?In(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:In(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:DP(),state:DP()},h=BP(t.mode),v=BP(t.reValidateMode),m=t.criteriaMode===Ni.all,y=T=>V=>{clearTimeout(d),d=setTimeout(T,V)},b=async T=>{if(!t.disabled&&(u.isValid||f.isValid||T)){const V=t.resolver?nr((await C()).errors):await P(i,!0);V!==n.isValid&&p.state.next({isValid:V})}},g=(T,V)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((T||Array.from(l.mount)).forEach(q=>{q&&(V?Et(n.validatingFields,q,V):bn(n.validatingFields,q))}),p.state.next({validatingFields:n.validatingFields,isValidating:!nr(n.validatingFields)}))},x=(T,V=[],q,ne,re=!0,oe=!0)=>{if(ne&&q&&!t.disabled){if(o.action=!0,oe&&Array.isArray(Ne(i,T))){const M=q(Ne(i,T),ne.argA,ne.argB);re&&Et(i,T,M)}if(oe&&Array.isArray(Ne(n.errors,T))){const M=q(Ne(n.errors,T),ne.argA,ne.argB);re&&Et(n.errors,T,M),U0e(n.errors,T)}if((u.touchedFields||f.touchedFields)&&oe&&Array.isArray(Ne(n.touchedFields,T))){const M=q(Ne(n.touchedFields,T),ne.argA,ne.argB);re&&Et(n.touchedFields,T,M)}(u.dirtyFields||f.dirtyFields)&&(n.dirtyFields=lu(s,a)),p.state.next({name:T,isDirty:O(T,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Et(a,T,V)},N=(T,V)=>{Et(n.errors,T,V),p.state.next({errors:n.errors})},w=T=>{n.errors=T,p.state.next({errors:n.errors,isValid:!1})},k=(T,V,q,ne)=>{const re=Ne(i,T);if(re){const oe=Ne(a,T,cn(q)?Ne(s,T):q);cn(oe)||ne&&ne.defaultChecked||V?Et(a,T,V?oe:zP(re._f)):$(T,oe),o.mount&&b()}},E=(T,V,q,ne,re)=>{let oe=!1,M=!1;const fe={name:T};if(!t.disabled){if(!q||ne){(u.isDirty||f.isDirty)&&(M=n.isDirty,n.isDirty=fe.isDirty=O(),oe=M!==fe.isDirty);const Ze=ga(Ne(s,T),V);M=!!Ne(n.dirtyFields,T),Ze?bn(n.dirtyFields,T):Et(n.dirtyFields,T,!0),fe.dirtyFields=n.dirtyFields,oe=oe||(u.dirtyFields||f.dirtyFields)&&M!==!Ze}if(q){const Ze=Ne(n.touchedFields,T);Ze||(Et(n.touchedFields,T,q),fe.touchedFields=n.touchedFields,oe=oe||(u.touchedFields||f.touchedFields)&&Ze!==q)}oe&&re&&p.state.next(fe)}return oe?fe:{}},S=(T,V,q,ne)=>{const re=Ne(n.errors,T),oe=(u.isValid||f.isValid)&&Pr(V)&&n.isValid!==V;if(t.delayError&&q?(c=y(()=>N(T,q)),c(t.delayError)):(clearTimeout(d),c=null,q?Et(n.errors,T,q):bn(n.errors,T)),(q?!ga(re,q):re)||!nr(ne)||oe){const M={...ne,...oe&&Pr(V)?{isValid:V}:{},errors:n.errors,name:T};n={...n,...M},p.state.next(M)}},C=async T=>{g(T,!0);const V=await t.resolver(a,t.context,D0e(T||l.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return g(T),V},_=async T=>{const{errors:V}=await C(T);if(T)for(const q of T){const ne=Ne(V,q);ne?Et(n.errors,q,ne):bn(n.errors,q)}else n.errors=V;return V},P=async(T,V,q={valid:!0})=>{for(const ne in T){const re=T[ne];if(re){const{_f:oe,...M}=re;if(oe){const fe=l.array.has(oe.name),Ze=re._f&&F0e(re._f);Ze&&u.validatingFields&&g([ne],!0);const pt=await GP(re,l.disabled,a,m,t.shouldUseNativeValidation&&!V,fe);if(Ze&&u.validatingFields&&g([ne]),pt[oe.name]&&(q.valid=!1,V))break;!V&&(Ne(pt,oe.name)?fe?V0e(n.errors,pt,oe.name):Et(n.errors,oe.name,pt[oe.name]):bn(n.errors,oe.name))}!nr(M)&&await P(M,V,q)}}return q.valid},A=()=>{for(const T of l.unMount){const V=Ne(i,T);V&&(V._f.refs?V._f.refs.every(q=>!Gy(q)):!Gy(V._f.ref))&&le(T)}l.unMount=new Set},O=(T,V)=>!t.disabled&&(T&&V&&Et(a,T,V),!ga(R(),s)),I=(T,V,q)=>t3(T,l,{...o.mount?a:cn(V)?s:Zi(T)?{[T]:V}:V},q,V),F=T=>jg(Ne(o.mount?a:s,T,t.shouldUnregister?Ne(s,T,[]):[])),$=(T,V,q={})=>{const ne=Ne(i,T);let re=V;if(ne){const oe=ne._f;oe&&(!oe.disabled&&Et(a,T,o3(V,oe)),re=Ex(oe.ref)&&ir(V)?"":V,r3(oe.ref)?[...oe.ref.options].forEach(M=>M.selected=re.includes(M.value)):oe.refs?Pp(oe.ref)?oe.refs.length>1?oe.refs.forEach(M=>(!M.defaultChecked||!M.disabled)&&(M.checked=Array.isArray(re)?!!re.find(fe=>fe===M.value):re===M.value)):oe.refs[0]&&(oe.refs[0].checked=!!re):oe.refs.forEach(M=>M.checked=M.value===re):sS(oe.ref)?oe.ref.value="":(oe.ref.value=re,oe.ref.type||p.state.next({name:T,values:In(a)})))}(q.shouldDirty||q.shouldTouch)&&E(T,re,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&U(T)},G=(T,V,q)=>{for(const ne in V){const re=V[ne],oe=`${T}.${ne}`,M=Ne(i,oe);(l.array.has(T)||fn(re)||M&&!M._f)&&!Ao(re)?G(oe,re,q):$(oe,re,q)}},z=(T,V,q={})=>{const ne=Ne(i,T),re=l.array.has(T),oe=In(V);Et(a,T,oe),re?(p.array.next({name:T,values:In(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&p.state.next({name:T,dirtyFields:lu(s,a),isDirty:O(T,oe)})):ne&&!ne._f&&!ir(oe)?G(T,oe,q):$(T,oe,q),VP(T,l)&&p.state.next({...n}),p.state.next({name:o.mount?T:void 0,values:In(a)})},H=async T=>{o.mount=!0;const V=T.target;let q=V.name,ne=!0;const re=Ne(i,q),oe=M=>{ne=Number.isNaN(M)||Ao(M)&&isNaN(M.getTime())||ga(M,Ne(a,q,M))};if(re){let M,fe;const Ze=V.type?zP(re._f):QL(T),pt=T.type===kx.BLUR||T.type===kx.FOCUS_OUT,oo=!L0e(re._f)&&!t.resolver&&!Ne(n.errors,q)&&!re._f.deps||B0e(pt,Ne(n.touchedFields,q),n.isSubmitted,v,h),lo=VP(q,l,pt);Et(a,q,Ze),pt?(re._f.onBlur&&re._f.onBlur(T),c&&c(0)):re._f.onChange&&re._f.onChange(T);const ia=E(q,Ze,pt),qd=!nr(ia)||lo;if(!pt&&p.state.next({name:q,type:T.type,values:In(a)}),oo)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?pt&&b():pt||b()),qd&&p.state.next({name:q,...lo?{}:ia});if(!pt&&lo&&p.state.next({...n}),t.resolver){const{errors:jl}=await C([q]);if(oe(Ze),ne){const zd=WP(n.errors,i,q),wl=WP(jl,i,zd.name||q);M=wl.error,q=wl.name,fe=nr(jl)}}else g([q],!0),M=(await GP(re,l.disabled,a,m,t.shouldUseNativeValidation))[q],g([q]),oe(Ze),ne&&(M?fe=!1:(u.isValid||f.isValid)&&(fe=await P(i,!0)));ne&&(re._f.deps&&U(re._f.deps),S(q,fe,M,ia))}},D=(T,V)=>{if(Ne(n.errors,V)&&T.focus)return T.focus(),1},U=async(T,V={})=>{let q,ne;const re=Du(T);if(t.resolver){const oe=await _(cn(T)?T:re);q=nr(oe),ne=T?!re.some(M=>Ne(oe,M)):q}else T?(ne=(await Promise.all(re.map(async oe=>{const M=Ne(i,oe);return await P(M&&M._f?{[oe]:M}:M)}))).every(Boolean),!(!ne&&!n.isValid)&&b()):ne=q=await P(i);return p.state.next({...!Zi(T)||(u.isValid||f.isValid)&&q!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:q}:{},errors:n.errors}),V.shouldFocus&&!ne&&Fu(i,D,T?re:l.mount),ne},R=T=>{const V={...o.mount?a:s};return cn(T)?V:Zi(T)?Ne(V,T):T.map(q=>Ne(V,q))},se=(T,V)=>({invalid:!!Ne((V||n).errors,T),isDirty:!!Ne((V||n).dirtyFields,T),error:Ne((V||n).errors,T),isValidating:!!Ne(n.validatingFields,T),isTouched:!!Ne((V||n).touchedFields,T)}),ge=T=>{T&&Du(T).forEach(V=>bn(n.errors,V)),p.state.next({errors:T?n.errors:{}})},te=(T,V,q)=>{const ne=(Ne(i,T,{_f:{}})._f||{}).ref,re=Ne(n.errors,T)||{},{ref:oe,message:M,type:fe,...Ze}=re;Et(n.errors,T,{...Ze,...V,ref:ne}),p.state.next({name:T,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&ne&&ne.focus&&ne.focus()},we=(T,V)=>Si(T)?p.state.subscribe({next:q=>T(I(void 0,V),q)}):I(T,V,!0),me=T=>p.state.subscribe({next:V=>{z0e(T.name,V.name,T.exact)&&q0e(V,T.formState||u,Nt,T.reRenderRoot)&&T.callback({values:{...a},...n,...V})}}).unsubscribe,Se=T=>(o.mount=!0,f={...f,...T.formState},me({...T,formState:f})),le=(T,V={})=>{for(const q of T?Du(T):l.mount)l.mount.delete(q),l.array.delete(q),V.keepValue||(bn(i,q),bn(a,q)),!V.keepError&&bn(n.errors,q),!V.keepDirty&&bn(n.dirtyFields,q),!V.keepTouched&&bn(n.touchedFields,q),!V.keepIsValidating&&bn(n.validatingFields,q),!t.shouldUnregister&&!V.keepDefaultValue&&bn(s,q);p.state.next({values:In(a)}),p.state.next({...n,...V.keepDirty?{isDirty:O()}:{}}),!V.keepIsValid&&b()},xe=({disabled:T,name:V})=>{(Pr(T)&&o.mount||T||l.disabled.has(V))&&(T?l.disabled.add(V):l.disabled.delete(V))},ye=(T,V={})=>{let q=Ne(i,T);const ne=Pr(V.disabled)||Pr(t.disabled);return Et(i,T,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:T}},name:T,mount:!0,...V}}),l.mount.add(T),q?xe({disabled:Pr(V.disabled)?V.disabled:t.disabled,name:T}):k(T,!0,V.value),{...ne?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:cu(V.min),max:cu(V.max),minLength:cu(V.minLength),maxLength:cu(V.maxLength),pattern:cu(V.pattern)}:{},name:T,onChange:H,onBlur:H,ref:re=>{if(re){ye(T,V),q=Ne(i,T);const oe=cn(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,M=R0e(oe),fe=q._f.refs||[];if(M?fe.find(Ze=>Ze===oe):oe===q._f.ref)return;Et(i,T,{_f:{...q._f,...M?{refs:[...fe.filter(Gy),oe,...Array.isArray(Ne(s,T))?[{}]:[]],ref:{type:oe.type,name:T}}:{ref:oe}}}),k(T,!1,void 0,oe)}else q=Ne(i,T,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(XL(l.array,T)&&o.action)&&l.unMount.add(T)}}},B=()=>t.shouldFocusError&&Fu(i,D,l.mount),ce=T=>{Pr(T)&&(p.state.next({disabled:T}),Fu(i,(V,q)=>{const ne=Ne(i,q);ne&&(V.disabled=ne._f.disabled||T,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(re=>{re.disabled=ne._f.disabled||T}))},0,!1))},de=(T,V)=>async q=>{let ne;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let re=In(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:M}=await C();n.errors=oe,re=M}else await P(i);if(l.disabled.size)for(const oe of l.disabled)Et(re,oe,void 0);if(bn(n.errors,"root"),nr(n.errors)){p.state.next({errors:{}});try{await T(re,q)}catch(oe){ne=oe}}else V&&await V({...n.errors},q),B(),setTimeout(B);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nr(n.errors)&&!ne,submitCount:n.submitCount+1,errors:n.errors}),ne)throw ne},Pe=(T,V={})=>{Ne(i,T)&&(cn(V.defaultValue)?z(T,In(Ne(s,T))):(z(T,V.defaultValue),Et(s,T,In(V.defaultValue))),V.keepTouched||bn(n.touchedFields,T),V.keepDirty||(bn(n.dirtyFields,T),n.isDirty=V.defaultValue?O(T,In(Ne(s,T))):O()),V.keepError||(bn(n.errors,T),u.isValid&&b()),p.state.next({...n}))},Ce=(T,V={})=>{const q=T?In(T):s,ne=In(q),re=nr(T),oe=re?s:ne;if(V.keepDefaultValues||(s=q),!V.keepValues){if(V.keepDirtyValues){const M=new Set([...l.mount,...Object.keys(lu(s,a))]);for(const fe of Array.from(M))Ne(n.dirtyFields,fe)?Et(oe,fe,Ne(a,fe)):z(fe,Ne(oe,fe))}else{if(rS&&cn(T))for(const M of l.mount){const fe=Ne(i,M);if(fe&&fe._f){const Ze=Array.isArray(fe._f.refs)?fe._f.refs[0]:fe._f.ref;if(Ex(Ze)){const pt=Ze.closest("form");if(pt){pt.reset();break}}}}for(const M of l.mount)z(M,Ne(oe,M))}a=In(oe),p.array.next({values:{...oe}}),p.state.next({values:{...oe}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:re?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!ga(T,s)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:V.keepDirtyValues?V.keepDefaultValues&&a?lu(s,a):n.dirtyFields:V.keepDefaultValues&&T?lu(s,T):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Xe=(T,V)=>Ce(Si(T)?T(a):T,V),st=(T,V={})=>{const q=Ne(i,T),ne=q&&q._f;if(ne){const re=ne.refs?ne.refs[0]:ne.ref;re.focus&&(re.focus(),V.shouldSelect&&Si(re.select)&&re.select())}},Nt=T=>{n={...n,...T}},kn={control:{register:ye,unregister:le,getFieldState:se,handleSubmit:de,setError:te,_subscribe:me,_runSchema:C,_getWatch:I,_getDirty:O,_setValid:b,_setFieldArray:x,_setDisabledField:xe,_setErrors:w,_getFieldArray:F,_reset:Ce,_resetDefaultValues:()=>Si(t.defaultValues)&&t.defaultValues().then(T=>{Xe(T,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:ce,_subjects:p,_proxyFormState:u,get _fields(){return i},get _formValues(){return a},get _state(){return o},set _state(T){o=T},get _defaultValues(){return s},get _names(){return l},set _names(T){l=T},get _formState(){return n},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:Se,trigger:U,register:ye,handleSubmit:de,watch:we,setValue:z,getValues:R,reset:Xe,resetField:Pe,clearErrors:ge,unregister:le,setError:te,setFocus:st,getFieldState:se};return{...kn,formControl:kn}}function oS(e={}){const t=L.useRef(void 0),n=L.useRef(void 0),[i,s]=L.useState({isDirty:!1,isValidating:!1,isLoading:Si(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Si(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:H0e(e),formState:i},e.formControl&&e.defaultValues&&!Si(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,L.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),L.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),L.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==i.isDirty&&a._subjects.state.next({isDirty:o})}},[a,i.isDirty]),L.useEffect(()=>{e.values&&!ga(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),L.useEffect(()=>{e.errors&&!nr(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),L.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),L.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=e3(i,a),t.current}const KP=(e,t,n)=>{if(e&&"reportValidity"in e){const i=Ne(n,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},c3=(e,t)=>{for(const n in t.fields){const i=t.fields[n];i&&i.ref&&"reportValidity"in i.ref?KP(i.ref,n,e):i.refs&&i.refs.forEach(s=>KP(s,n,e))}},G0e=(e,t)=>{t.shouldUseNativeValidation&&c3(e,t);const n={};for(const i in e){const s=Ne(t.fields,i),a=Object.assign(e[i]||{},{ref:s&&s.ref});if(K0e(t.names||Object.keys(e),i)){const o=Object.assign({},Ne(n,i));Et(o,"root",a),Et(n,i,o)}else Et(n,i,a)}return n},K0e=(e,t)=>e.some(n=>n.startsWith(t+"."));var Y0e=function(e,t){for(var n={};e.length;){var i=e[0],s=i.code,a=i.message,o=i.path.join(".");if(!n[o])if("unionErrors"in i){var l=i.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in i&&i.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,d=c&&c[i.code];n[o]=n3(o,t,n,s,d?[].concat(d,i.message):i.message)}e.shift()}return n},lS=function(e,t,n){return n===void 0&&(n={}),function(i,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(d){return a.shouldUseNativeValidation&&c3({},a),{errors:{},values:n.raw?i:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:G0e(Y0e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},wt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function i(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=i,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(wt||(wt={}));var iw;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(iw||(iw={}));const Re=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cs=e=>{switch(typeof e){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return isNaN(e)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(e)?Re.array:e===null?Re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Re.promise:typeof Map<"u"&&e instanceof Map?Re.map:typeof Set<"u"&&e instanceof Set?Re.set:typeof Date<"u"&&e instanceof Date?Re.date:Re.object;default:return Re.unknown}},pe=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Q0e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Fr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},i={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)i._errors.push(n(o));else{let l=i,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),i}static assert(t){if(!(t instanceof Fr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Fr.create=e=>new Fr(e);const xd=(e,t)=>{let n;switch(e.code){case pe.invalid_type:e.received===Re.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case pe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,wt.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:n=`Unrecognized key(s) in object: ${wt.joinValues(e.keys,", ")}`;break;case pe.invalid_union:n="Invalid input";break;case pe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${wt.joinValues(e.options)}`;break;case pe.invalid_enum_value:n=`Invalid enum value. Expected ${wt.joinValues(e.options)}, received '${e.received}'`;break;case pe.invalid_arguments:n="Invalid function arguments";break;case pe.invalid_return_type:n="Invalid function return type";break;case pe.invalid_date:n="Invalid date";break;case pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:wt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case pe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case pe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case pe.custom:n="Invalid input";break;case pe.invalid_intersection_types:n="Intersection results could not be merged";break;case pe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case pe.not_finite:n="Number must be finite";break;default:n=t.defaultError,wt.assertNever(e)}return{message:n}};let d3=xd;function X0e(e){d3=e}function Ox(){return d3}const Tx=e=>{const{data:t,path:n,errorMaps:i,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=i.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},Z0e=[];function ke(e,t){const n=Ox(),i=Tx({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===xd?void 0:xd].filter(s=>!!s)});e.common.issues.push(i)}class Xn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const s of n){if(s.status==="aborted")return at;s.status==="dirty"&&t.dirty(),i.push(s.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const s of n){const a=await s.key,o=await s.value;i.push({key:a,value:o})}return Xn.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return at;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(i[a.value]=o.value)}return{status:t.value,value:i}}}const at=Object.freeze({status:"aborted"}),Jl=e=>({status:"dirty",value:e}),dr=e=>({status:"valid",value:e}),sw=e=>e.status==="aborted",aw=e=>e.status==="dirty",ll=e=>e.status==="valid",Bf=e=>typeof Promise<"u"&&e instanceof Promise;function _x(e,t,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function u3(e,t,n,i,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Ge;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ge||(Ge={}));var yu,bu;class us{constructor(t,n,i,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const YP=(e,t)=>{if(ll(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Fr(e.common.issues);return this._error=n,this._error}}};function ft(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:s}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??i)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class vt{get description(){return this._def.description}_getType(t){return Cs(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Cs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Xn,ctx:{common:t.parent.common,data:t.data,parsedType:Cs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Bf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){var i;const s={common:{issues:[],async:(i=n==null?void 0:n.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cs(t)},a=this._parseSync({data:t,path:s.path,parent:s});return YP(s,a)}"~validate"(t){var n,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cs(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return ll(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((i=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>ll(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cs(t)},s=this._parse({data:t,path:i.path,parent:i}),a=await(Bf(s)?s:Promise.resolve(s));return YP(i,a)}refine(t,n){const i=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:pe.custom,...i(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((i,s)=>t(i)?!0:(s.addIssue(typeof n=="function"?n(i,s):n),!1))}_refinement(t){return new Mi({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ss.create(this,this._def)}nullable(){return Xa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oi.create(this)}promise(){return gd.create(this,this._def)}or(t){return Hf.create([this,t],this._def)}and(t){return Gf.create(this,t,this._def)}transform(t){return new Mi({...ft(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Zf({...ft(this._def),innerType:this,defaultValue:n,typeName:it.ZodDefault})}brand(){return new cS({typeName:it.ZodBranded,type:this,...ft(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Jf({...ft(this._def),innerType:this,catchValue:n,typeName:it.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Op.create(this,t)}readonly(){return ep.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const J0e=/^c[^\s-]{8,}$/i,ebe=/^[0-9a-z]+$/,tbe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nbe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rbe=/^[a-z0-9_-]{21}$/i,ibe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,sbe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,abe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,obe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ky;const lbe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cbe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dbe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ube=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fbe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pbe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,f3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mbe=new RegExp(`^${f3}$`);function p3(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function hbe(e){return new RegExp(`^${p3(e)}$`)}function m3(e){let t=`${f3}T${p3(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function xbe(e,t){return!!((t==="v4"||!t)&&lbe.test(e)||(t==="v6"||!t)&&dbe.test(e))}function vbe(e,t){if(!ibe.test(e))return!1;try{const[n]=e.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function gbe(e,t){return!!((t==="v4"||!t)&&cbe.test(e)||(t==="v6"||!t)&&ube.test(e))}class ki extends vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Re.string){const a=this._getOrReturnCtx(t);return ke(a,{code:pe.invalid_type,expected:Re.string,received:a.parsedType}),at}const i=new Xn;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?ke(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ke(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")abe.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"email",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")Ky||(Ky=new RegExp(obe,"u")),Ky.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"emoji",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")nbe.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"uuid",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")rbe.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"nanoid",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")J0e.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cuid",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")ebe.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cuid2",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")tbe.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"ulid",code:pe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ke(s,{validation:"url",code:pe.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"regex",code:pe.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?m3(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?mbe.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?hbe(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?sbe.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"duration",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?xbe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"ip",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?vbe(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"jwt",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?gbe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cidr",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?fbe.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"base64",code:pe.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?pbe.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"base64url",code:pe.invalid_string,message:a.message}),i.dirty()):wt.assertNever(a);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(s=>t.test(s),{validation:n,code:pe.invalid_string,...Ge.errToObj(i)})}_addCheck(t){return new ki({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ge.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ge.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ge.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ge.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ge.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ge.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ge.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ge.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ge.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ge.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ge.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ge.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ge.errToObj(t)})}datetime(t){var n,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(i=t==null?void 0:t.local)!==null&&i!==void 0?i:!1,...Ge.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ge.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ge.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ge.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ge.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ge.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ge.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ge.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ge.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ge.errToObj(n)})}nonempty(t){return this.min(1,Ge.errToObj(t))}trim(){return new ki({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ki.create=e=>{var t;return new ki({checks:[],typeName:it.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ft(e)})};function ybe(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,s=n>i?n:i,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class Ka extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Re.number){const a=this._getOrReturnCtx(t);return ke(a,{code:pe.invalid_type,expected:Re.number,received:a.parsedType}),at}let i;const s=new Xn;for(const a of this._def.checks)a.kind==="int"?wt.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),ke(i,{code:pe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),ke(i,{code:pe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),ke(i,{code:pe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?ybe(t.data,a.value)!==0&&(i=this._getOrReturnCtx(t,i),ke(i,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),ke(i,{code:pe.not_finite,message:a.message}),s.dirty()):wt.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ge.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ge.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ge.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ge.toString(n))}setLimit(t,n,i,s){return new Ka({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Ge.toString(s)}]})}_addCheck(t){return new Ka({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ge.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ge.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&wt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ka.create=e=>new Ka({checks:[],typeName:it.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ft(e)});class Ya extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Re.bigint)return this._getInvalidInput(t);let i;const s=new Xn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),ke(i,{code:pe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),ke(i,{code:pe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),ke(i,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):wt.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ke(n,{code:pe.invalid_type,expected:Re.bigint,received:n.parsedType}),at}gte(t,n){return this.setLimit("min",t,!0,Ge.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ge.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ge.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ge.toString(n))}setLimit(t,n,i,s){return new Ya({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Ge.toString(s)}]})}_addCheck(t){return new Ya({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ya.create=e=>{var t;return new Ya({checks:[],typeName:it.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ft(e)})};class Uf extends vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Re.boolean){const i=this._getOrReturnCtx(t);return ke(i,{code:pe.invalid_type,expected:Re.boolean,received:i.parsedType}),at}return dr(t.data)}}Uf.create=e=>new Uf({typeName:it.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ft(e)});class cl extends vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Re.date){const a=this._getOrReturnCtx(t);return ke(a,{code:pe.invalid_type,expected:Re.date,received:a.parsedType}),at}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ke(a,{code:pe.invalid_date}),at}const i=new Xn;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):wt.assertNever(a);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new cl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ge.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ge.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}cl.create=e=>new cl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:it.ZodDate,...ft(e)});class Ix extends vt{_parse(t){if(this._getType(t)!==Re.symbol){const i=this._getOrReturnCtx(t);return ke(i,{code:pe.invalid_type,expected:Re.symbol,received:i.parsedType}),at}return dr(t.data)}}Ix.create=e=>new Ix({typeName:it.ZodSymbol,...ft(e)});class Vf extends vt{_parse(t){if(this._getType(t)!==Re.undefined){const i=this._getOrReturnCtx(t);return ke(i,{code:pe.invalid_type,expected:Re.undefined,received:i.parsedType}),at}return dr(t.data)}}Vf.create=e=>new Vf({typeName:it.ZodUndefined,...ft(e)});class Wf extends vt{_parse(t){if(this._getType(t)!==Re.null){const i=this._getOrReturnCtx(t);return ke(i,{code:pe.invalid_type,expected:Re.null,received:i.parsedType}),at}return dr(t.data)}}Wf.create=e=>new Wf({typeName:it.ZodNull,...ft(e)});class vd extends vt{constructor(){super(...arguments),this._any=!0}_parse(t){return dr(t.data)}}vd.create=e=>new vd({typeName:it.ZodAny,...ft(e)});class Wo extends vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return dr(t.data)}}Wo.create=e=>new Wo({typeName:it.ZodUnknown,...ft(e)});class Zs extends vt{_parse(t){const n=this._getOrReturnCtx(t);return ke(n,{code:pe.invalid_type,expected:Re.never,received:n.parsedType}),at}}Zs.create=e=>new Zs({typeName:it.ZodNever,...ft(e)});class Rx extends vt{_parse(t){if(this._getType(t)!==Re.undefined){const i=this._getOrReturnCtx(t);return ke(i,{code:pe.invalid_type,expected:Re.void,received:i.parsedType}),at}return dr(t.data)}}Rx.create=e=>new Rx({typeName:it.ZodVoid,...ft(e)});class Oi extends vt{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),s=this._def;if(n.parsedType!==Re.array)return ke(n,{code:pe.invalid_type,expected:Re.array,received:n.parsedType}),at;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(ke(n,{code:o?pe.too_big:pe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ke(n,{code:pe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ke(n,{code:pe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new us(n,o,n.path,l)))).then(o=>Xn.mergeArray(i,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new us(n,o,n.path,l)));return Xn.mergeArray(i,a)}get element(){return this._def.type}min(t,n){return new Oi({...this._def,minLength:{value:t,message:Ge.toString(n)}})}max(t,n){return new Oi({...this._def,maxLength:{value:t,message:Ge.toString(n)}})}length(t,n){return new Oi({...this._def,exactLength:{value:t,message:Ge.toString(n)}})}nonempty(t){return this.min(1,t)}}Oi.create=(e,t)=>new Oi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...ft(t)});function Ml(e){if(e instanceof tn){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=ss.create(Ml(i))}return new tn({...e._def,shape:()=>t})}else return e instanceof Oi?new Oi({...e._def,type:Ml(e.element)}):e instanceof ss?ss.create(Ml(e.unwrap())):e instanceof Xa?Xa.create(Ml(e.unwrap())):e instanceof fs?fs.create(e.items.map(t=>Ml(t))):e}class tn extends vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=wt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Re.object){const d=this._getOrReturnCtx(t);return ke(d,{code:pe.invalid_type,expected:Re.object,received:d.parsedType}),at}const{status:i,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Zs&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new us(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Zs){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(ke(s,{code:pe.unrecognized_keys,keys:l}),i.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new us(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,p=await u.value;d.push({key:f,value:p,alwaysSet:u.alwaysSet})}return d}).then(d=>Xn.mergeObjectSync(i,d)):Xn.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(t){return Ge.errToObj,new tn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,i).message)!==null&&o!==void 0?o:i.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ge.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new tn({...this._def,unknownKeys:"strip"})}passthrough(){return new tn({...this._def,unknownKeys:"passthrough"})}extend(t){return new tn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new tn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:it.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new tn({...this._def,catchall:t})}pick(t){const n={};return wt.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new tn({...this._def,shape:()=>n})}omit(t){const n={};return wt.objectKeys(this.shape).forEach(i=>{t[i]||(n[i]=this.shape[i])}),new tn({...this._def,shape:()=>n})}deepPartial(){return Ml(this)}partial(t){const n={};return wt.objectKeys(this.shape).forEach(i=>{const s=this.shape[i];t&&!t[i]?n[i]=s:n[i]=s.optional()}),new tn({...this._def,shape:()=>n})}required(t){const n={};return wt.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof ss;)a=a._def.innerType;n[i]=a}}),new tn({...this._def,shape:()=>n})}keyof(){return h3(wt.objectKeys(this.shape))}}tn.create=(e,t)=>new tn({shape:()=>e,unknownKeys:"strip",catchall:Zs.create(),typeName:it.ZodObject,...ft(t)});tn.strictCreate=(e,t)=>new tn({shape:()=>e,unknownKeys:"strict",catchall:Zs.create(),typeName:it.ZodObject,...ft(t)});tn.lazycreate=(e,t)=>new tn({shape:e,unknownKeys:"strip",catchall:Zs.create(),typeName:it.ZodObject,...ft(t)});class Hf extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Fr(l.ctx.common.issues));return ke(n,{code:pe.invalid_union,unionErrors:o}),at}if(n.common.async)return Promise.all(i.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of i){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Fr(c));return ke(n,{code:pe.invalid_union,unionErrors:l}),at}}get options(){return this._def.options}}Hf.create=(e,t)=>new Hf({options:e,typeName:it.ZodUnion,...ft(t)});const js=e=>e instanceof Yf?js(e.schema):e instanceof Mi?js(e.innerType()):e instanceof Qf?[e.value]:e instanceof Qa?e.options:e instanceof Xf?wt.objectValues(e.enum):e instanceof Zf?js(e._def.innerType):e instanceof Vf?[void 0]:e instanceof Wf?[null]:e instanceof ss?[void 0,...js(e.unwrap())]:e instanceof Xa?[null,...js(e.unwrap())]:e instanceof cS||e instanceof ep?js(e.unwrap()):e instanceof Jf?js(e._def.innerType):[];class Ng extends vt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.object)return ke(n,{code:pe.invalid_type,expected:Re.object,received:n.parsedType}),at;const i=this.discriminator,s=n.data[i],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(ke(n,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),at)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,i){const s=new Map;for(const a of n){const o=js(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new Ng({typeName:it.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...ft(i)})}}function ow(e,t){const n=Cs(e),i=Cs(t);if(e===t)return{valid:!0,data:e};if(n===Re.object&&i===Re.object){const s=wt.objectKeys(t),a=wt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=ow(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Re.array&&i===Re.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=ow(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Re.date&&i===Re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gf extends vt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),s=(a,o)=>{if(sw(a)||sw(o))return at;const l=ow(a.value,o.value);return l.valid?((aw(a)||aw(o))&&n.dirty(),{status:n.value,value:l.data}):(ke(i,{code:pe.invalid_intersection_types}),at)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Gf.create=(e,t,n)=>new Gf({left:e,right:t,typeName:it.ZodIntersection,...ft(n)});class fs extends vt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.array)return ke(i,{code:pe.invalid_type,expected:Re.array,received:i.parsedType}),at;if(i.data.length<this._def.items.length)return ke(i,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&i.data.length>this._def.items.length&&(ke(i,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new us(i,o,i.path,l)):null}).filter(o=>!!o);return i.common.async?Promise.all(a).then(o=>Xn.mergeArray(n,o)):Xn.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new fs({...this._def,rest:t})}}fs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fs({items:e,typeName:it.ZodTuple,rest:null,...ft(t)})};class Kf extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.object)return ke(i,{code:pe.invalid_type,expected:Re.object,received:i.parsedType}),at;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in i.data)s.push({key:a._parse(new us(i,l,i.path,l)),value:o._parse(new us(i,i.data[l],i.path,l)),alwaysSet:l in i.data});return i.common.async?Xn.mergeObjectAsync(n,s):Xn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof vt?new Kf({keyType:t,valueType:n,typeName:it.ZodRecord,...ft(i)}):new Kf({keyType:ki.create(),valueType:t,typeName:it.ZodRecord,...ft(n)})}}class Mx extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.map)return ke(i,{code:pe.invalid_type,expected:Re.map,received:i.parsedType}),at;const s=this._def.keyType,a=this._def.valueType,o=[...i.data.entries()].map(([l,c],d)=>({key:s._parse(new us(i,l,i.path,[d,"key"])),value:a._parse(new us(i,c,i.path,[d,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return at;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return at;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}Mx.create=(e,t,n)=>new Mx({valueType:t,keyType:e,typeName:it.ZodMap,...ft(n)});class dl extends vt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.set)return ke(i,{code:pe.invalid_type,expected:Re.set,received:i.parsedType}),at;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(ke(i,{code:pe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(ke(i,{code:pe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return at;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...i.data.values()].map((c,d)=>a._parse(new us(i,c,i.path,d)));return i.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new dl({...this._def,minSize:{value:t,message:Ge.toString(n)}})}max(t,n){return new dl({...this._def,maxSize:{value:t,message:Ge.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}dl.create=(e,t)=>new dl({valueType:e,minSize:null,maxSize:null,typeName:it.ZodSet,...ft(t)});class xc extends vt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.function)return ke(n,{code:pe.invalid_type,expected:Re.function,received:n.parsedType}),at;function i(l,c){return Tx({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ox(),xd].filter(d=>!!d),issueData:{code:pe.invalid_arguments,argumentsError:c}})}function s(l,c){return Tx({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ox(),xd].filter(d=>!!d),issueData:{code:pe.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof gd){const l=this;return dr(async function(...c){const d=new Fr([]),u=await l._def.args.parseAsync(c,a).catch(h=>{throw d.addIssue(i(c,h)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,a).catch(h=>{throw d.addIssue(s(f,h)),d})})}else{const l=this;return dr(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Fr([i(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,a);if(!f.success)throw new Fr([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new xc({...this._def,args:fs.create(t).rest(Wo.create())})}returns(t){return new xc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,i){return new xc({args:t||fs.create([]).rest(Wo.create()),returns:n||Wo.create(),typeName:it.ZodFunction,...ft(i)})}}class Yf extends vt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yf.create=(e,t)=>new Yf({getter:e,typeName:it.ZodLazy,...ft(t)});class Qf extends vt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ke(n,{received:n.data,code:pe.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:t.data}}get value(){return this._def.value}}Qf.create=(e,t)=>new Qf({value:e,typeName:it.ZodLiteral,...ft(t)});function h3(e,t){return new Qa({values:e,typeName:it.ZodEnum,...ft(t)})}class Qa extends vt{constructor(){super(...arguments),yu.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return ke(n,{expected:wt.joinValues(i),received:n.parsedType,code:pe.invalid_type}),at}if(_x(this,yu)||u3(this,yu,new Set(this._def.values)),!_x(this,yu).has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return ke(n,{received:n.data,code:pe.invalid_enum_value,options:i}),at}return dr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Qa.create(t,{...this._def,...n})}exclude(t,n=this._def){return Qa.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}yu=new WeakMap;Qa.create=h3;class Xf extends vt{constructor(){super(...arguments),bu.set(this,void 0)}_parse(t){const n=wt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Re.string&&i.parsedType!==Re.number){const s=wt.objectValues(n);return ke(i,{expected:wt.joinValues(s),received:i.parsedType,code:pe.invalid_type}),at}if(_x(this,bu)||u3(this,bu,new Set(wt.getValidEnumValues(this._def.values))),!_x(this,bu).has(t.data)){const s=wt.objectValues(n);return ke(i,{received:i.data,code:pe.invalid_enum_value,options:s}),at}return dr(t.data)}get enum(){return this._def.values}}bu=new WeakMap;Xf.create=(e,t)=>new Xf({values:e,typeName:it.ZodNativeEnum,...ft(t)});class gd extends vt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.promise&&n.common.async===!1)return ke(n,{code:pe.invalid_type,expected:Re.promise,received:n.parsedType}),at;const i=n.parsedType===Re.promise?n.data:Promise.resolve(n.data);return dr(i.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}gd.create=(e,t)=>new gd({type:e,typeName:it.ZodPromise,...ft(t)});class Mi extends vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{ke(i,o),o.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(i.data,a);if(i.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return at;const c=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return c.status==="aborted"?at:c.status==="dirty"||n.value==="dirty"?Jl(c.value):c});{if(n.value==="aborted")return at;const l=this._def.schema._parseSync({data:o,path:i.path,parent:i});return l.status==="aborted"?at:l.status==="dirty"||n.value==="dirty"?Jl(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?at:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?at:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!ll(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>ll(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);wt.assertNever(s)}}Mi.create=(e,t,n)=>new Mi({schema:e,typeName:it.ZodEffects,effect:t,...ft(n)});Mi.createWithPreprocess=(e,t,n)=>new Mi({schema:t,effect:{type:"preprocess",transform:e},typeName:it.ZodEffects,...ft(n)});class ss extends vt{_parse(t){return this._getType(t)===Re.undefined?dr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ss.create=(e,t)=>new ss({innerType:e,typeName:it.ZodOptional,...ft(t)});class Xa extends vt{_parse(t){return this._getType(t)===Re.null?dr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xa.create=(e,t)=>new Xa({innerType:e,typeName:it.ZodNullable,...ft(t)});class Zf extends vt{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===Re.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Zf.create=(e,t)=>new Zf({innerType:e,typeName:it.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ft(t)});class Jf extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Bf(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fr(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Jf.create=(e,t)=>new Jf({innerType:e,typeName:it.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ft(t)});class $x extends vt{_parse(t){if(this._getType(t)!==Re.nan){const i=this._getOrReturnCtx(t);return ke(i,{code:pe.invalid_type,expected:Re.nan,received:i.parsedType}),at}return{status:"valid",value:t.data}}}$x.create=e=>new $x({typeName:it.ZodNaN,...ft(e)});const bbe=Symbol("zod_brand");class cS extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Op extends vt{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?at:a.status==="dirty"?(n.dirty(),Jl(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?at:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(t,n){return new Op({in:t,out:n,typeName:it.ZodPipeline})}}class ep extends vt{_parse(t){const n=this._def.innerType._parse(t),i=s=>(ll(s)&&(s.value=Object.freeze(s.value)),s);return Bf(n)?n.then(s=>i(s)):i(n)}unwrap(){return this._def.innerType}}ep.create=(e,t)=>new ep({innerType:e,typeName:it.ZodReadonly,...ft(t)});function QP(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function x3(e,t={},n){return e?vd.create().superRefine((i,s)=>{var a,o;const l=e(i);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const f=QP(t,i),p=(u=(d=f.fatal)!==null&&d!==void 0?d:n)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...f,fatal:p})}});if(!l){const c=QP(t,i),d=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):vd.create()}const jbe={object:tn.lazycreate};var it;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(it||(it={}));const wbe=(e,t={message:`Input not instance of ${e.name}`})=>x3(n=>n instanceof e,t),v3=ki.create,g3=Ka.create,Nbe=$x.create,Sbe=Ya.create,y3=Uf.create,Cbe=cl.create,kbe=Ix.create,Ebe=Vf.create,Abe=Wf.create,Pbe=vd.create,Obe=Wo.create,Tbe=Zs.create,_be=Rx.create,Ibe=Oi.create,Rbe=tn.create,Mbe=tn.strictCreate,$be=Hf.create,Dbe=Ng.create,Fbe=Gf.create,Lbe=fs.create,qbe=Kf.create,zbe=Mx.create,Bbe=dl.create,Ube=xc.create,Vbe=Yf.create,Wbe=Qf.create,Hbe=Qa.create,Gbe=Xf.create,Kbe=gd.create,XP=Mi.create,Ybe=ss.create,Qbe=Xa.create,Xbe=Mi.createWithPreprocess,Zbe=Op.create,Jbe=()=>v3().optional(),eje=()=>g3().optional(),tje=()=>y3().optional(),nje={string:e=>ki.create({...e,coerce:!0}),number:e=>Ka.create({...e,coerce:!0}),boolean:e=>Uf.create({...e,coerce:!0}),bigint:e=>Ya.create({...e,coerce:!0}),date:e=>cl.create({...e,coerce:!0})},rje=at;var Ae=Object.freeze({__proto__:null,defaultErrorMap:xd,setErrorMap:X0e,getErrorMap:Ox,makeIssue:Tx,EMPTY_PATH:Z0e,addIssueToContext:ke,ParseStatus:Xn,INVALID:at,DIRTY:Jl,OK:dr,isAborted:sw,isDirty:aw,isValid:ll,isAsync:Bf,get util(){return wt},get objectUtil(){return iw},ZodParsedType:Re,getParsedType:Cs,ZodType:vt,datetimeRegex:m3,ZodString:ki,ZodNumber:Ka,ZodBigInt:Ya,ZodBoolean:Uf,ZodDate:cl,ZodSymbol:Ix,ZodUndefined:Vf,ZodNull:Wf,ZodAny:vd,ZodUnknown:Wo,ZodNever:Zs,ZodVoid:Rx,ZodArray:Oi,ZodObject:tn,ZodUnion:Hf,ZodDiscriminatedUnion:Ng,ZodIntersection:Gf,ZodTuple:fs,ZodRecord:Kf,ZodMap:Mx,ZodSet:dl,ZodFunction:xc,ZodLazy:Yf,ZodLiteral:Qf,ZodEnum:Qa,ZodNativeEnum:Xf,ZodPromise:gd,ZodEffects:Mi,ZodTransformer:Mi,ZodOptional:ss,ZodNullable:Xa,ZodDefault:Zf,ZodCatch:Jf,ZodNaN:$x,BRAND:bbe,ZodBranded:cS,ZodPipeline:Op,ZodReadonly:ep,custom:x3,Schema:vt,ZodSchema:vt,late:jbe,get ZodFirstPartyTypeKind(){return it},coerce:nje,any:Pbe,array:Ibe,bigint:Sbe,boolean:y3,date:Cbe,discriminatedUnion:Dbe,effect:XP,enum:Hbe,function:Ube,instanceof:wbe,intersection:Fbe,lazy:Vbe,literal:Wbe,map:zbe,nan:Nbe,nativeEnum:Gbe,never:Tbe,null:Abe,nullable:Qbe,number:g3,object:Rbe,oboolean:tje,onumber:eje,optional:Ybe,ostring:Jbe,pipeline:Zbe,preprocess:Xbe,promise:Kbe,record:qbe,set:Bbe,strictObject:Mbe,string:v3,symbol:kbe,transformer:XP,tuple:Lbe,undefined:Ebe,union:$be,unknown:Obe,void:_be,NEVER:rje,ZodIssueCode:pe,quotelessJson:Q0e,ZodError:Fr});const dS=P0e,b3=j.createContext({}),Fe=({...e})=>r.jsx(b3.Provider,{value:{name:e.name},children:r.jsx(I0e,{...e})}),Sg=()=>{const e=j.useContext(b3),t=j.useContext(j3),{getFieldState:n,formState:i}=wg(),s=n(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},j3=j.createContext({}),Me=j.forwardRef(({className:e,...t},n)=>{const i=j.useId();return r.jsx(j3.Provider,{value:{id:i},children:r.jsx("div",{ref:n,className:Qe("space-y-2",e),...t})})});Me.displayName="FormItem";const Ie=j.forwardRef(({className:e,...t},n)=>{const{error:i,formItemId:s}=Sg();return r.jsx(ie,{ref:n,className:Qe(i&&"text-destructive",e),htmlFor:s,...t})});Ie.displayName="FormLabel";const $e=j.forwardRef(({...e},t)=>{const{error:n,formItemId:i,formDescriptionId:s,formMessageId:a}=Sg();return r.jsx(lI,{ref:t,id:i,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});$e.displayName="FormControl";const ije=j.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:i}=Sg();return r.jsx("p",{ref:n,id:i,className:Qe("text-sm text-muted-foreground",e),...t})});ije.displayName="FormDescription";const De=j.forwardRef(({className:e,children:t,...n},i)=>{const{error:s,formMessageId:a}=Sg(),o=s?String((s==null?void 0:s.message)??""):t;return o?r.jsx("p",{ref:i,id:a,className:Qe("text-sm font-medium text-destructive",e),...n,children:o}):null});De.displayName="FormMessage";var uS="Collapsible",[sje,fNe]=Ur(uS),[aje,fS]=sje(uS),w3=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c=!1,d]=Us({prop:i,defaultProp:s,onChange:o});return r.jsx(aje,{scope:n,disabled:a,contentId:ts(),open:c,onOpenToggle:j.useCallback(()=>d(u=>!u),[d]),children:r.jsx(nt.div,{"data-state":mS(c),"data-disabled":a?"":void 0,...l,ref:t})})});w3.displayName=uS;var N3="CollapsibleTrigger",S3=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,...i}=e,s=fS(N3,n);return r.jsx(nt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":mS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:He(e.onClick,s.onOpenToggle)})});S3.displayName=N3;var pS="CollapsibleContent",C3=j.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=fS(pS,e.__scopeCollapsible);return r.jsx(oi,{present:n||s.open,children:({present:a})=>r.jsx(oje,{...i,ref:t,present:a})})});C3.displayName=pS;var oje=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:i,children:s,...a}=e,o=fS(pS,n),[l,c]=j.useState(i),d=j.useRef(null),u=yt(t,d),f=j.useRef(0),p=f.current,h=j.useRef(0),v=h.current,m=o.open||l,y=j.useRef(m),b=j.useRef(void 0);return j.useEffect(()=>{const g=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(g)},[]),pn(()=>{const g=d.current;if(g){b.current=b.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const x=g.getBoundingClientRect();f.current=x.height,h.current=x.width,y.current||(g.style.transitionDuration=b.current.transitionDuration,g.style.animationName=b.current.animationName),c(i)}},[o.open,i]),r.jsx(nt.div,{"data-state":mS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:m&&s})});function mS(e){return e?"open":"closed"}var lje=w3;const cje=lje,dje=S3,uje=C3,fje=Ae.object({equipmentGroupId:Ae.number().min(1,"Equipment Group is required"),equipmentTypeId:Ae.number().min(1,"Equipment Type is required"),subtypeId:Ae.number().optional(),equipmentCode:Ae.string().min(1,"Equipment Code is required"),failureCode:Ae.string().optional(),componentFailureMode:Ae.string().min(1,"Component/Failure Mode is required"),riskRankingId:Ae.number().optional(),riskRankingLabel:Ae.string().optional(),requiredTrendDataEvidence:Ae.string().optional(),aiOrInvestigatorQuestions:Ae.string().optional(),attachmentsEvidenceRequired:Ae.string().optional(),rootCauseLogic:Ae.string().optional(),primaryRootCause:Ae.string().optional(),contributingFactor:Ae.string().optional(),latentCause:Ae.string().optional(),detectionGap:Ae.string().optional(),confidenceLevel:Ae.string().optional(),faultSignaturePattern:Ae.string().optional(),applicableToOtherEquipment:Ae.string().optional(),eliminatedIfTheseFailuresConfirmed:Ae.string().optional(),whyItGetsEliminated:Ae.string().optional(),evidenceGapFlag:Ae.string().optional(),diagnosticValue:Ae.string().optional(),industryRelevance:Ae.string().optional(),evidencePriority:Ae.string().optional(),timeToCollect:Ae.string().optional(),collectionCost:Ae.string().optional(),analysisComplexity:Ae.string().optional(),seasonalFactor:Ae.string().optional(),relatedFailureModes:Ae.string().optional(),prerequisiteEvidence:Ae.string().optional(),followupActions:Ae.string().optional(),industryBenchmark:Ae.string().optional()}),ZP="__NONE__";function pje({initialData:e,onSubmit:t,onCancel:n,isLoading:i=!1,isEdit:s=!1}){const[a,o]=j.useState(()=>{const x=localStorage.getItem("evidenceForm.showAdvanced");return x?JSON.parse(x):!1}),[l,c]=j.useState(e==null?void 0:e.equipmentGroupId),[d,u]=j.useState(e==null?void 0:e.equipmentTypeId);j.useEffect(()=>{localStorage.setItem("evidenceForm.showAdvanced",JSON.stringify(a))},[a]);const f=oS({resolver:lS(fje),defaultValues:{equipmentGroupId:e==null?void 0:e.equipmentGroupId,equipmentTypeId:e==null?void 0:e.equipmentTypeId,subtypeId:e==null?void 0:e.subtypeId,equipmentCode:(e==null?void 0:e.equipmentCode)||"",failureCode:(e==null?void 0:e.failureCode)||"",componentFailureMode:(e==null?void 0:e.componentFailureMode)||"",riskRankingId:e==null?void 0:e.riskRankingId,riskRankingLabel:(e==null?void 0:e.riskRankingLabel)||"",requiredTrendDataEvidence:(e==null?void 0:e.requiredTrendDataEvidence)||"",aiOrInvestigatorQuestions:(e==null?void 0:e.aiOrInvestigatorQuestions)||"",attachmentsEvidenceRequired:(e==null?void 0:e.attachmentsEvidenceRequired)||"",rootCauseLogic:(e==null?void 0:e.rootCauseLogic)||"",primaryRootCause:(e==null?void 0:e.primaryRootCause)||"",contributingFactor:(e==null?void 0:e.contributingFactor)||"",latentCause:(e==null?void 0:e.latentCause)||"",detectionGap:(e==null?void 0:e.detectionGap)||"",confidenceLevel:(e==null?void 0:e.confidenceLevel)||"",faultSignaturePattern:(e==null?void 0:e.faultSignaturePattern)||"",applicableToOtherEquipment:(e==null?void 0:e.applicableToOtherEquipment)||"",eliminatedIfTheseFailuresConfirmed:(e==null?void 0:e.eliminatedIfTheseFailuresConfirmed)||"",whyItGetsEliminated:(e==null?void 0:e.whyItGetsEliminated)||"",evidenceGapFlag:(e==null?void 0:e.evidenceGapFlag)||"",diagnosticValue:(e==null?void 0:e.diagnosticValue)||"",industryRelevance:(e==null?void 0:e.industryRelevance)||"",evidencePriority:(e==null?void 0:e.evidencePriority)||"",timeToCollect:(e==null?void 0:e.timeToCollect)||"",collectionCost:(e==null?void 0:e.collectionCost)||"",analysisComplexity:(e==null?void 0:e.analysisComplexity)||"",seasonalFactor:(e==null?void 0:e.seasonalFactor)||"",relatedFailureModes:(e==null?void 0:e.relatedFailureModes)||"",prerequisiteEvidence:(e==null?void 0:e.prerequisiteEvidence)||"",followupActions:(e==null?void 0:e.followupActions)||"",industryBenchmark:(e==null?void 0:e.industryBenchmark)||""}}),{data:p=[]}=Oe({queryKey:["/api/equipment-groups"]}),{data:h=[]}=Oe({queryKey:["/api/equipment-types/by-group",l],enabled:!!l}),{data:v=[]}=Oe({queryKey:["/api/equipment-subtypes/by-type",d],enabled:!!d}),{data:m=[]}=Oe({queryKey:["/api/risk-rankings"]}),y=x=>{const N={...x,subtypeId:x.subtypeId===null?void 0:x.subtypeId,failureCode:x.failureCode||null,riskRankingLabel:x.riskRankingLabel||null,requiredTrendDataEvidence:x.requiredTrendDataEvidence||null,aiOrInvestigatorQuestions:x.aiOrInvestigatorQuestions||null,attachmentsEvidenceRequired:x.attachmentsEvidenceRequired||null,rootCauseLogic:x.rootCauseLogic||null,primaryRootCause:x.primaryRootCause||null,contributingFactor:x.contributingFactor||null,latentCause:x.latentCause||null,detectionGap:x.detectionGap||null,confidenceLevel:x.confidenceLevel||null,faultSignaturePattern:x.faultSignaturePattern||null,applicableToOtherEquipment:x.applicableToOtherEquipment||null,eliminatedIfTheseFailuresConfirmed:x.eliminatedIfTheseFailuresConfirmed||null,whyItGetsEliminated:x.whyItGetsEliminated||null,evidenceGapFlag:x.evidenceGapFlag||null,diagnosticValue:x.diagnosticValue||null,industryRelevance:x.industryRelevance||null,evidencePriority:x.evidencePriority||null,timeToCollect:x.timeToCollect||null,collectionCost:x.collectionCost||null,analysisComplexity:x.analysisComplexity||null,seasonalFactor:x.seasonalFactor||null,relatedFailureModes:x.relatedFailureModes||null,prerequisiteEvidence:x.prerequisiteEvidence||null,followupActions:x.followupActions||null,industryBenchmark:x.industryBenchmark||null};t(N)},b=f.watch("riskRankingId"),g=m.find(x=>x.id===b);return r.jsx(dS,{...f,children:r.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-6 max-w-4xl",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"1. Classification"}),r.jsx(ve,{children:"Equipment identification and categorization"})]}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Fe,{control:f.control,name:"equipmentGroupId",render:({field:x})=>{var N;return r.jsxs(Me,{children:[r.jsx(Ie,{children:"Equipment Group *"}),r.jsxs(Be,{value:(N=x.value)==null?void 0:N.toString(),onValueChange:w=>{const k=parseInt(w);x.onChange(k),c(k),f.setValue("equipmentTypeId",void 0),f.setValue("subtypeId",void 0),u(void 0)},children:[r.jsx($e,{children:r.jsx(qe,{"data-testid":"select-equipment-group",children:r.jsx(Ue,{placeholder:"Select Equipment Group"})})}),r.jsx(Ve,{children:p.map(w=>r.jsx(ee,{value:w.id.toString(),children:w.name},w.id))})]}),r.jsx(De,{})]})}}),r.jsx(Fe,{control:f.control,name:"equipmentTypeId",render:({field:x})=>{var N;return r.jsxs(Me,{children:[r.jsx(Ie,{children:"Equipment Type *"}),r.jsxs(Be,{value:(N=x.value)==null?void 0:N.toString(),onValueChange:w=>{const k=parseInt(w);x.onChange(k),u(k),f.setValue("subtypeId",void 0)},disabled:!l,children:[r.jsx($e,{children:r.jsx(qe,{"data-testid":"select-equipment-type",children:r.jsx(Ue,{placeholder:"Select Equipment Type"})})}),r.jsx(Ve,{children:h.map(w=>r.jsx(ee,{value:w.id.toString(),children:w.name},w.id))})]}),r.jsx(De,{})]})}}),r.jsx(Fe,{control:f.control,name:"subtypeId",render:({field:x})=>{var N;return r.jsxs(Me,{children:[r.jsx(Ie,{children:"Subtype (Optional)"}),r.jsxs(Be,{value:((N=x.value)==null?void 0:N.toString())||"",onValueChange:w=>{x.onChange(w===ZP?void 0:parseInt(w))},disabled:!d,children:[r.jsx($e,{children:r.jsx(qe,{"data-testid":"select-equipment-subtype",children:r.jsx(Ue,{placeholder:"Select Subtype (Optional)"})})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:ZP,children:"None"}),v.map(w=>r.jsx(ee,{value:w.id.toString(),children:w.name},w.id))]})]}),r.jsx(De,{})]})}})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"2. Identity & Codes"}),r.jsx(ve,{children:"Equipment identification and failure classification"})]}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Fe,{control:f.control,name:"equipmentCode",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Equipment Code *"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., PUMP-001","data-testid":"input-equipment-code",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"failureCode",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Failure Code"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., BRG-OVHT-001","data-testid":"input-failure-code",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"componentFailureMode",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Component / Failure Mode *"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Bearing Overheating","data-testid":"input-component-failure-mode",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"3. Risk"}),r.jsx(ve,{children:"Risk assessment and ranking"})]}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Fe,{control:f.control,name:"riskRankingId",render:({field:x})=>{var N;return r.jsxs(Me,{children:[r.jsx(Ie,{children:"Risk Ranking"}),r.jsxs(Be,{value:(N=x.value)==null?void 0:N.toString(),onValueChange:w=>{const k=parseInt(w);x.onChange(k);const E=m.find(S=>S.id===k);E&&f.setValue("riskRankingLabel",E.label)},children:[r.jsx($e,{children:r.jsx(qe,{"data-testid":"select-risk-ranking",children:r.jsx(Ue,{placeholder:"Select Risk Ranking"})})}),r.jsx(Ve,{children:m.map(w=>r.jsx(ee,{value:w.id.toString(),children:r.jsx(J,{variant:w.label==="Critical"?"destructive":w.label==="High"?"default":w.label==="Medium"?"secondary":"outline",children:w.label})},w.id))})]}),r.jsx(De,{})]})}}),r.jsx(Fe,{control:f.control,name:"riskRankingLabel",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Risk Ranking Label"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"Auto-filled or custom text","data-testid":"input-risk-label",...x,readOnly:!!g})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"4. Evidence Requirements"}),r.jsx(ve,{children:"Required data and investigation questions"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(Fe,{control:f.control,name:"requiredTrendDataEvidence",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Required Trend Data / Evidence"}),r.jsx($e,{children:r.jsx(We,{placeholder:"e.g., vibration; IR; oil analysis",className:"min-h-[100px] resize-none","data-testid":"textarea-trend-data",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"aiOrInvestigatorQuestions",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"AI or Investigator Questions"}),r.jsx($e,{children:r.jsx(We,{placeholder:`e.g., When did overheating start?
Any recent alignment work?`,className:"min-h-[100px] resize-none","data-testid":"textarea-questions",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"attachmentsEvidenceRequired",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Attachments / Evidence Required"}),r.jsx($e,{children:r.jsx(We,{placeholder:"e.g., Vibration spectrum, IR images",className:"min-h-[100px] resize-none","data-testid":"textarea-attachments",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(cje,{open:a,onOpenChange:o,children:[r.jsx(dje,{asChild:!0,children:r.jsxs(W,{type:"button",variant:"outline",className:"w-full flex items-center justify-between","data-testid":"toggle-advanced-fields",children:[r.jsx("span",{children:"Show Advanced Fields"}),a?r.jsx(FI,{className:"h-4 w-4"}):r.jsx(hN,{className:"h-4 w-4"})]})}),r.jsxs(uje,{className:"space-y-6 mt-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"5. RCA Logic & Causes"}),r.jsx(ve,{children:"Root cause analysis logic and identified causes"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(Fe,{control:f.control,name:"rootCauseLogic",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Root Cause Logic"}),r.jsx($e,{children:r.jsx(We,{placeholder:"e.g., If IR > threshold and spectrum shows 2x line frequency...",className:"min-h-[100px] resize-none","data-testid":"textarea-root-cause-logic",...x})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Fe,{control:f.control,name:"primaryRootCause",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Primary Root Cause"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Lubrication failure","data-testid":"input-primary-root-cause",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"contributingFactor",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Contributing Factor"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., High ambient temperature","data-testid":"input-contributing-factor",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"latentCause",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Latent Cause"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., PM interval too long","data-testid":"input-latent-cause",...x})}),r.jsx(De,{})]})})]})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"6. Detection & Confidence"}),r.jsx(ve,{children:"Detection gaps and confidence assessment"})]}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Fe,{control:f.control,name:"detectionGap",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Detection Gap"}),r.jsx($e,{children:r.jsx(We,{placeholder:"e.g., No online temp alarm at DE",className:"min-h-[100px] resize-none","data-testid":"textarea-detection-gap",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"confidenceLevel",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Confidence Level"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., 80% or High","data-testid":"input-confidence-level",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"7. Patterns & Applicability"}),r.jsx(ve,{children:"Fault patterns and equipment applicability"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(Fe,{control:f.control,name:"faultSignaturePattern",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Fault Signature Pattern"}),r.jsx($e,{children:r.jsx(We,{placeholder:"e.g., High 1× with sidebands; IR hotspot at DE cap",className:"min-h-[100px] resize-none","data-testid":"textarea-fault-signature",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"applicableToOtherEquipment",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Applicable to Other Equipment"}),r.jsx($e,{children:r.jsx(We,{placeholder:"e.g., P-102; all ANSI pump skids",className:"min-h-[100px] resize-none","data-testid":"textarea-applicable-equipment",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"8. Elimination Logic"}),r.jsx(ve,{children:"Logic for eliminating potential causes"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(Fe,{control:f.control,name:"eliminatedIfTheseFailuresConfirmed",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Eliminated If These Failures Confirmed"}),r.jsx($e,{children:r.jsx(We,{placeholder:"e.g., Misalignment; Soft foot",className:"min-h-[100px] resize-none","data-testid":"textarea-eliminated-if",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"whyItGetsEliminated",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Why It Gets Eliminated"}),r.jsx($e,{children:r.jsx(We,{placeholder:"e.g., If backlash within spec and temp normal, misalignment unlikely",className:"min-h-[100px] resize-none","data-testid":"textarea-why-eliminated",...x})}),r.jsx(De,{})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{className:"text-lg",children:"9. Additional Information"}),r.jsx(ve,{children:"Flags, evaluation metrics, and additional details"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx(Fe,{control:f.control,name:"evidenceGapFlag",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Evidence Gap Flag"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"Yes/No/Unknown","data-testid":"input-evidence-gap-flag",...x})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(Fe,{control:f.control,name:"diagnosticValue",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Diagnostic Value"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., High","data-testid":"input-diagnostic-value",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"industryRelevance",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Industry Relevance"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Petrochemical","data-testid":"input-industry-relevance",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"evidencePriority",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Evidence Priority"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Critical","data-testid":"input-evidence-priority",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"timeToCollect",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Time to Collect"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., 2 hours","data-testid":"input-time-to-collect",...x})}),r.jsx(De,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(Fe,{control:f.control,name:"collectionCost",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Collection Cost"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., $500","data-testid":"input-collection-cost",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"analysisComplexity",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Analysis Complexity"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Medium","data-testid":"input-analysis-complexity",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"seasonalFactor",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Seasonal Factor"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., Summer peaks","data-testid":"input-seasonal-factor",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"industryBenchmark",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Industry Benchmark"}),r.jsx($e,{children:r.jsx(ue,{placeholder:"e.g., API 610","data-testid":"input-industry-benchmark",...x})}),r.jsx(De,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Fe,{control:f.control,name:"relatedFailureModes",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Related Failure Modes"}),r.jsx($e,{children:r.jsx(We,{placeholder:"Related failure modes",className:"min-h-[80px] resize-none","data-testid":"textarea-related-failures",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"prerequisiteEvidence",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Prerequisite Evidence"}),r.jsx($e,{children:r.jsx(We,{placeholder:"Required prerequisite evidence",className:"min-h-[80px] resize-none","data-testid":"textarea-prerequisite-evidence",...x})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:f.control,name:"followupActions",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Followup Actions"}),r.jsx($e,{children:r.jsx(We,{placeholder:"Recommended followup actions",className:"min-h-[80px] resize-none","data-testid":"textarea-followup-actions",...x})}),r.jsx(De,{})]})})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[r.jsxs(W,{type:"button",variant:"outline",onClick:n,"data-testid":"button-cancel",children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Cancel"]}),r.jsxs(W,{type:"submit",disabled:i,"data-testid":"button-save",children:[r.jsx(Fo,{className:"h-4 w-4 mr-2"}),i?"Saving...":s?"Update Evidence":"Add Evidence"]})]})]})})}function Fi(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ul(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const k3=6048e5,mje=864e5;let hje={};function Cg(){return hje}function tp(e,t){var l,c,d,u;const n=Cg(),i=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Fi(e),a=s.getDay(),o=(a<i?7:0)+a-i;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Dx(e){return tp(e,{weekStartsOn:1})}function E3(e){const t=Fi(e),n=t.getFullYear(),i=ul(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=Dx(i),a=ul(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Dx(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function JP(e){const t=Fi(e);return t.setHours(0,0,0,0),t}function eO(e){const t=Fi(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function xje(e,t){const n=JP(e),i=JP(t),s=+n-eO(n),a=+i-eO(i);return Math.round((s-a)/mje)}function vje(e){const t=E3(e),n=ul(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Dx(n)}function gje(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yje(e){if(!gje(e)&&typeof e!="number")return!1;const t=Fi(e);return!isNaN(Number(t))}function bje(e){const t=Fi(e),n=ul(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const jje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wje=(e,t,n)=>{let i;const s=jje[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Yy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Nje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Cje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kje={date:Yy({formats:Nje,defaultWidth:"full"}),time:Yy({formats:Sje,defaultWidth:"full"}),dateTime:Yy({formats:Cje,defaultWidth:"full"})},Eje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Aje=(e,t,n,i)=>Eje[e];function du(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Pje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Oje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_je={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ije={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Mje=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$je={ordinalNumber:Mje,era:du({values:Pje,defaultWidth:"wide"}),quarter:du({values:Oje,defaultWidth:"wide",argumentCallback:e=>e-1}),month:du({values:Tje,defaultWidth:"wide"}),day:du({values:_je,defaultWidth:"wide"}),dayPeriod:du({values:Ije,defaultWidth:"wide",formattingValues:Rje,defaultFormattingWidth:"wide"})};function uu(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Fje(l,f=>f.test(o)):Dje(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Dje(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Fje(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Lje(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const qje=/^(\d+)(th|st|nd|rd)?/i,zje=/\d+/i,Bje={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Uje={any:[/^b/i,/^(a|c)/i]},Vje={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wje={any:[/1/i,/2/i,/3/i,/4/i]},Hje={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gje={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kje={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yje={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qje={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xje={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zje={ordinalNumber:Lje({matchPattern:qje,parsePattern:zje,valueCallback:e=>parseInt(e,10)}),era:uu({matchPatterns:Bje,defaultMatchWidth:"wide",parsePatterns:Uje,defaultParseWidth:"any"}),quarter:uu({matchPatterns:Vje,defaultMatchWidth:"wide",parsePatterns:Wje,defaultParseWidth:"any",valueCallback:e=>e+1}),month:uu({matchPatterns:Hje,defaultMatchWidth:"wide",parsePatterns:Gje,defaultParseWidth:"any"}),day:uu({matchPatterns:Kje,defaultMatchWidth:"wide",parsePatterns:Yje,defaultParseWidth:"any"}),dayPeriod:uu({matchPatterns:Qje,defaultMatchWidth:"any",parsePatterns:Xje,defaultParseWidth:"any"})},Jje={code:"en-US",formatDistance:wje,formatLong:kje,formatRelative:Aje,localize:$je,match:Zje,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ewe(e){const t=Fi(e);return xje(t,bje(t))+1}function twe(e){const t=Fi(e),n=+Dx(t)-+vje(t);return Math.round(n/k3)+1}function A3(e,t){var u,f,p,h;const n=Fi(e),i=n.getFullYear(),s=Cg(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(p=s.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=ul(e,0);o.setFullYear(i+1,0,a),o.setHours(0,0,0,0);const l=tp(o,t),c=ul(e,0);c.setFullYear(i,0,a),c.setHours(0,0,0,0);const d=tp(c,t);return n.getTime()>=l.getTime()?i+1:n.getTime()>=d.getTime()?i:i-1}function nwe(e,t){var l,c,d,u;const n=Cg(),i=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=A3(e,t),a=ul(e,0);return a.setFullYear(s,0,i),a.setHours(0,0,0,0),tp(a,t)}function rwe(e,t){const n=Fi(e),i=+tp(n,t)-+nwe(n,t);return Math.round(i/k3)+1}function Tt(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const la={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Tt(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Tt(n+1,2)},d(e,t){return Tt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Tt(e.getHours()%12||12,t.length)},H(e,t){return Tt(e.getHours(),t.length)},m(e,t){return Tt(e.getMinutes(),t.length)},s(e,t){return Tt(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Tt(s,t.length)}},Tl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tO={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return la.y(e,t)},Y:function(e,t,n,i){const s=A3(e,i),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Tt(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Tt(a,t.length)},R:function(e,t){const n=E3(e);return Tt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Tt(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Tt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Tt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return la.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Tt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=rwe(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Tt(s,t.length)},I:function(e,t,n){const i=twe(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Tt(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):la.d(e,t)},D:function(e,t,n){const i=ewe(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Tt(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Tt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Tt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Tt(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=Tl.noon:i===0?s=Tl.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=Tl.evening:i>=12?s=Tl.afternoon:i>=4?s=Tl.morning:s=Tl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return la.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):la.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Tt(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Tt(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):la.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):la.s(e,t)},S:function(e,t){return la.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return rO(i);case"XXXX":case"XX":return go(i);case"XXXXX":case"XXX":default:return go(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return rO(i);case"xxxx":case"xx":return go(i);case"xxxxx":case"xxx":default:return go(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nO(i,":");case"OOOO":default:return"GMT"+go(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nO(i,":");case"zzzz":default:return"GMT"+go(i,":")}},t:function(e,t,n){const i=Math.trunc(e.getTime()/1e3);return Tt(i,t.length)},T:function(e,t,n){const i=e.getTime();return Tt(i,t.length)}};function nO(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),a=i%60;return a===0?n+String(s):n+String(s)+t+Tt(a,2)}function rO(e,t){return e%60===0?(e>0?"-":"+")+Tt(Math.abs(e)/60,2):go(e,t)}function go(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Tt(Math.trunc(i/60),2),a=Tt(i%60,2);return n+s+t+a}const iO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},P3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},iwe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return iO(e,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",iO(i,t)).replace("{{time}}",P3(s,t))},swe={p:P3,P:iwe},awe=/^D+$/,owe=/^Y+$/,lwe=["D","DD","YY","YYYY"];function cwe(e){return awe.test(e)}function dwe(e){return owe.test(e)}function uwe(e,t,n){const i=fwe(e,t,n);if(console.warn(i),lwe.includes(e))throw new RangeError(i)}function fwe(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hwe=/^'([^]*?)'?$/,xwe=/''/g,vwe=/[a-zA-Z]/;function np(e,t,n){var u,f,p,h;const i=Cg(),s=i.locale??Jje,a=i.firstWeekContainsDate??((f=(u=i.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=i.weekStartsOn??((h=(p=i.locale)==null?void 0:p.options)==null?void 0:h.weekStartsOn)??0,l=Fi(e);if(!yje(l))throw new RangeError("Invalid time value");let c=t.match(mwe).map(v=>{const m=v[0];if(m==="p"||m==="P"){const y=swe[m];return y(v,s.formatLong)}return v}).join("").match(pwe).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const m=v[0];if(m==="'")return{isToken:!1,value:gwe(v)};if(tO[m])return{isToken:!0,value:v};if(m.match(vwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const m=v.value;(dwe(m)||cwe(m))&&uwe(m,t,String(e));const y=tO[m[0]];return y(l,m,s.localize,d)}).join("")}function gwe(e){const t=e.match(hwe);return t?t[1].replace(xwe,"'"):e}const sO=[{key:"equipmentCode",label:"Equipment Code",width:120,maxWidth:180,sortable:!0,type:"text"},{key:"equipmentGroup",label:"Equipment Group",width:130,maxWidth:200,sortable:!0,type:"text"},{key:"equipmentType",label:"Equipment Type",width:130,maxWidth:200,sortable:!0,type:"text"},{key:"subtype",label:"Subtype",width:100,maxWidth:150,sortable:!0,type:"text"},{key:"componentFailureMode",label:"Component/Failure Mode",width:180,maxWidth:300,sortable:!0,type:"text"},{key:"failureCode",label:"Failure Code",width:100,maxWidth:150,sortable:!0,type:"text"},{key:"riskRanking",label:"Risk Ranking",width:100,maxWidth:150,sortable:!0,type:"badge"},{key:"requiredTrendDataEvidence",label:"Required Trend Data",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"aiOrInvestigatorQuestions",label:"AI/Investigator Questions",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"attachmentsEvidenceRequired",label:"Attachments Required",width:180,maxWidth:250,sortable:!1,type:"text"},{key:"rootCauseLogic",label:"Root Cause Logic",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"primaryRootCause",label:"Primary Root Cause",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"contributingFactor",label:"Contributing Factor",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"latentCause",label:"Latent Cause",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"detectionGap",label:"Detection Gap",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"faultSignaturePattern",label:"Fault Signature Pattern",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"applicableToOtherEquipment",label:"Applicable to Other Equipment",width:180,maxWidth:250,sortable:!1,type:"text"},{key:"evidenceGapFlag",label:"Evidence Gap Flag",width:120,maxWidth:200,sortable:!1,type:"text"},{key:"eliminatedIfTheseFailuresConfirmed",label:"Eliminated If Failures Confirmed",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"whyItGetsEliminated",label:"Why It Gets Eliminated",width:180,maxWidth:280,sortable:!1,type:"text"},{key:"confidenceLevel",label:"Confidence Level",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"diagnosticValue",label:"Diagnostic Value",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"industryRelevance",label:"Industry Relevance",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"evidencePriority",label:"Evidence Priority",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"timeToCollect",label:"Time to Collect",width:110,maxWidth:160,sortable:!1,type:"text"},{key:"collectionCost",label:"Collection Cost",width:110,maxWidth:160,sortable:!1,type:"text"},{key:"analysisComplexity",label:"Analysis Complexity",width:130,maxWidth:190,sortable:!1,type:"text"},{key:"seasonalFactor",label:"Seasonal Factor",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"relatedFailureModes",label:"Related Failure Modes",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"prerequisiteEvidence",label:"Prerequisite Evidence",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"followupActions",label:"Followup Actions",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"industryBenchmark",label:"Industry Benchmark",width:140,maxWidth:220,sortable:!1,type:"text"},{key:"isActive",label:"Status",width:80,maxWidth:100,sortable:!0,type:"boolean"},{key:"lastUpdated",label:"Last Updated",width:120,maxWidth:150,sortable:!0,type:"date"},{key:"updatedBy",label:"Updated By",width:100,maxWidth:140,sortable:!1,type:"text"},{key:"createdAt",label:"Created At",width:120,maxWidth:150,sortable:!0,type:"date"}],ywe=`
.enhanced-evidence-table {
  --table-border: 1px solid hsl(var(--border));
}

.enhanced-evidence-table table {
  border-collapse: separate;
  border-spacing: 0;
  border: var(--table-border);
}

.enhanced-evidence-table th,
.enhanced-evidence-table td {
  vertical-align: top !important;
  padding: 8px 12px;
  border-bottom: var(--table-border);
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  white-space: normal;
}

.enhanced-evidence-table th {
  background-color: hsl(var(--muted) / 0.5);
  font-weight: 600;
  font-size: 0.75rem;
  line-height: 1.2;
  position: sticky;
  top: 0;
  z-index: 10;
}

.enhanced-evidence-table td {
  font-size: 0.875rem;
  line-height: 1.4;
  background-color: hsl(var(--background));
}

.enhanced-evidence-table .text-content {
  word-break: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  hyphens: auto;
}

.enhanced-evidence-table .border-r {
  border-right: var(--table-border);
}

/* Horizontal scroll styling */
.enhanced-evidence-table > div::-webkit-scrollbar {
  height: 8px;
}

.enhanced-evidence-table > div::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.3);
}

.enhanced-evidence-table > div::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.5);
  border-radius: 4px;
}

.enhanced-evidence-table > div::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.8);
}
`;function bwe({data:e,onEdit:t,onDelete:n,onBulkDelete:i,searchTerm:s,onSearchChange:a,selectedItems:o,onSelectionChange:l,isLoading:c=!1}){const d=j.useRef(null),[u,f]=j.useState({}),[p,h]=j.useState(null),[v,m]=j.useState("asc"),[y,b]=j.useState(sO);j.useEffect(()=>{const A={};sO.forEach(O=>{A[O.key]=O.width}),f(A)},[]);const g=()=>{if(!d.current)return;const A={};y.forEach(O=>{let I=O.label.length*8+40;e.forEach(F=>{const $=String(F[O.key]||""),G=Math.min($.length*7+40,O.maxWidth);I=Math.max(I,G)}),A[O.key]=Math.min(Math.max(I,80),O.maxWidth)}),f(A)},x=()=>{const A={};y.forEach(O=>{A[O.key]=O.width}),f(A)},N=A=>{p===A?m(O=>O==="asc"?"desc":"asc"):(h(A),m("asc"))},w=j.useMemo(()=>p?[...e].sort((A,O)=>{const I=A[p],F=O[p];if(I==null)return 1;if(F==null)return-1;const $=String(I).localeCompare(String(F));return v==="asc"?$:-$}):e,[e,p,v]),k=A=>{l(A?e.map(O=>O.id):[])},E=(A,O)=>{l(O?[...o,A]:o.filter(I=>I!==A))},S=(A,O)=>{const I=A[O.key];switch(O.type){case"badge":return r.jsx(J,{variant:"outline",className:"text-xs whitespace-normal",children:String(I||"")});case"date":return r.jsx("span",{className:"text-sm",children:I?np(new Date(String(I)),"MMM dd, yyyy"):""});case"boolean":return r.jsx(J,{variant:I?"default":"secondary",className:"text-xs",children:I?"Active":"Inactive"});default:const F=String(I||"");return r.jsx("div",{className:"text-sm leading-tight text-content",title:F.length>50?F:void 0,children:F})}},C=A=>A.sortable?p===A.key?v==="asc"?r.jsx($I,{className:"h-3 w-3 ml-1"}):r.jsx(MI,{className:"h-3 w-3 ml-1"}):r.jsx(uz,{className:"h-3 w-3 ml-1 opacity-50"}):null,_=e.length>0&&o.length===e.length,P=o.length>0&&o.length<e.length;return r.jsxs("div",{className:"enhanced-evidence-table space-y-4",children:[r.jsx("style",{children:ywe}),r.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(_i,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ue,{placeholder:"Search evidence library...",value:s,onChange:A=>a(A.target.value),className:"pl-8 w-[300px]","data-testid":"search-evidence"})]}),o.length>0&&r.jsxs(W,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete ${o.length} selected items?`)&&i(o)},"data-testid":"bulk-delete-button",children:[r.jsx(Lo,{className:"h-4 w-4 mr-1"}),"Delete Selected (",o.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:g,"data-testid":"auto-resize-columns",children:[r.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Auto-Fit Columns"]}),r.jsx(W,{variant:"outline",size:"sm",onClick:x,"data-testid":"reset-columns",children:"Reset Widths"})]})]}),r.jsx("div",{ref:d,className:"rounded-md border bg-background",style:{maxHeight:"70vh",overflowX:"auto",overflowY:"auto",width:"100%"},children:r.jsxs(Ki,{className:"relative",style:{minWidth:"4000px"},children:[r.jsx(Yi,{className:"sticky top-0 bg-muted/50 z-10",children:r.jsxs(en,{children:[r.jsx(rt,{className:"w-12 p-2",children:r.jsx(Yn,{checked:_||P,onCheckedChange:k,"aria-label":"Select all","data-testid":"select-all-checkbox"})}),y.map(A=>r.jsx(rt,{className:`p-2 align-top border-r ${A.sortable?"cursor-pointer hover:bg-muted/50":""}`,style:{width:u[A.key]||"auto",maxWidth:A.maxWidth,minWidth:80,verticalAlign:"top",whiteSpace:"normal"},onClick:()=>A.sortable&&N(A.key),children:r.jsxs("div",{className:"flex flex-col items-start gap-1",children:[r.jsx("div",{className:"font-medium text-xs leading-tight break-words",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",hyphens:"auto"},children:A.label}),C(A)]})},A.key)),r.jsx(rt,{className:"w-24 p-2 text-center",children:"Actions"})]})}),r.jsx(Qi,{children:c?r.jsx(en,{children:r.jsx(Je,{colSpan:y.length+2,className:"h-32 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Kn,{className:"h-4 w-4 animate-spin mr-2"}),"Loading evidence library..."]})})}):w.length===0?r.jsx(en,{children:r.jsx(Je,{colSpan:y.length+2,className:"h-32 text-center text-muted-foreground",children:s?`No evidence found matching "${s}"`:"No evidence library entries found"})}):w.map((A,O)=>r.jsxs(en,{className:`${o.includes(A.id)?"bg-muted/50":""} hover:bg-muted/30`,"data-testid":`evidence-row-${A.id}`,children:[r.jsx(Je,{className:"p-2",children:r.jsx(Yn,{checked:o.includes(A.id),onCheckedChange:I=>E(A.id,!!I),"aria-label":`Select ${A.equipmentCode}`,"data-testid":`select-item-${A.id}`})}),y.map(I=>r.jsx(Je,{className:"p-2 align-top border-r",style:{width:u[I.key]||"auto",maxWidth:I.maxWidth,minWidth:80,verticalAlign:"top",whiteSpace:"normal"},children:S(A,I)},I.key)),r.jsx(Je,{className:"p-2 align-top",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>t(A),"data-testid":`edit-evidence-${A.id}`,className:"h-8 w-8 p-0",children:r.jsx(ov,{className:"h-3 w-3"})}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n(A),"data-testid":`delete-evidence-${A.id}`,className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:r.jsx(Lo,{className:"h-3 w-3"})})]})})]},A.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Showing ",w.length," of ",e.length," entries",o.length>0&&` (${o.length} selected)`]}),r.jsxs("div",{children:[y.length," columns displayed"]})]})]})}function aO(){const{toast:e}=Dt(),[t,n]=j.useState(""),[i,s]=j.useState(null),[a,o]=j.useState(!1),[l,c]=j.useState(!1),d=j.useRef(null),[u,f]=j.useState([]),[p,h]=j.useState([]),[v,m]=j.useState([]),[y,b]=j.useState([]),[g,x]=j.useState(!1),N=async te=>{c(!0);try{i?(await lt(`/api/evidence-library/${i.id}`,{method:"PUT",body:JSON.stringify(te)}),e({title:"Success",description:"Evidence item updated successfully"})):(await lt("/api/evidence-library",{method:"POST",body:JSON.stringify(te)}),e({title:"Success",description:"Evidence item created successfully"})),Ot.invalidateQueries({queryKey:["/api/evidence-library"]}),o(!1),s(null)}catch(we){console.error("Form submission error:",we),e({title:"Error",description:i?"Failed to update evidence item":"Failed to create evidence item",variant:"destructive"})}finally{c(!1)}},[w,k]=j.useState(null),[E,S]=j.useState("asc");j.useState(null);const[C,_]=j.useState(null),{data:P=[],isLoading:A,refetch:O}=Oe({queryKey:["/api/evidence-library",t],staleTime:0,gcTime:0,refetchOnMount:!0,queryFn:async()=>{const te=await fetch("/api/evidence-library",{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!te.ok)throw new Error("Failed to fetch evidence library");return te.json()},retry:!1,refetchOnWindowFocus:!1});Oe({queryKey:["/api/equipment-types"],staleTime:5*60*1e3,queryFn:async()=>{const te=await fetch("/api/equipment-types");return te.ok?te.json():[]}}),Oe({queryKey:["/api/equipment-subtypes"],staleTime:5*60*1e3,queryFn:async()=>{const te=await fetch("/api/equipment-subtypes");return te.ok?te.json():[]}});const{data:I=[]}=Oe({queryKey:["/api/equipment-groups"],queryFn:async()=>{const te=await fetch("/api/equipment-groups");return te.ok?te.json():[]},staleTime:5*60*1e3});console.log("Equipment Groups:",I,"Loading:",A);const{data:F=[]}=Oe({queryKey:["/api/risk-rankings"],queryFn:async()=>{const te=await fetch("/api/risk-rankings");return te.ok?te.json():[]},staleTime:5*60*1e3});console.log("Risk Rankings:",F,"Loading:",A),Ye({mutationFn:async te=>lt(`/api/evidence-library/${te}`,{method:"DELETE"}),onSuccess:()=>{Ot.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:"Evidence item deleted successfully"})},onError:te=>{e({title:"Error",description:"Failed to delete evidence item",variant:"destructive"})}});const $=Ye({mutationFn:async te=>{const we=new FormData;we.append("file",te);const me=await fetch("/api/evidence-library/import",{method:"POST",body:we});if(!me.ok){const Se=await me.json();throw new Error(Se.message||"Import failed")}return me.json()},onSuccess:te=>{Ot.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:`Imported ${te.imported} items successfully`}),d.current&&(d.current.value="")},onError:te=>{e({title:"Import Error",description:te.message||"Failed to import CSV file",variant:"destructive"})}}),G=P.filter(te=>{const we={equipmentGroup:te.equipmentGroup==="DELETED"?"Unknown":te.equipmentGroup||"",equipmentType:te.equipmentType==="DELETED"?"Unknown":te.equipmentType||"",componentFailureMode:te.componentFailureMode||"",equipmentCode:te.equipmentCode||"",failureCode:te.failureCode||""},me=t===""||we.equipmentGroup.toLowerCase().includes(t.toLowerCase())||we.equipmentType.toLowerCase().includes(t.toLowerCase())||we.componentFailureMode.toLowerCase().includes(t.toLowerCase())||we.equipmentCode.toLowerCase().includes(t.toLowerCase())||we.failureCode.toLowerCase().includes(t.toLowerCase()),Se=u.length===0||u.includes(we.equipmentGroup),le=p.length===0||p.includes(we.equipmentType),xe=v.length===0||v.includes(te.subtype||"");return me&&Se&&le&&xe});w&&G.sort((te,we)=>{const me=(te[w]||"").toString(),Se=(we[w]||"").toString(),le=me.localeCompare(Se);return E==="asc"?le:-le});const z=te=>{var me;const we=(me=te.target.files)==null?void 0:me[0];we&&$.mutate(we)},H=Ye({mutationFn:async te=>{const we=te.map(me=>lt(`/api/evidence-library/${me}`,{method:"DELETE"}));return Promise.all(we)},onSuccess:()=>{Ot.invalidateQueries({queryKey:["/api/evidence-library"]}),b([]),x(!1),e({title:"Success",description:`Deleted ${y.length} evidence items successfully`})},onError:te=>{e({title:"Error",description:"Failed to delete selected evidence items",variant:"destructive"})}}),D=()=>{y.length!==0&&confirm(`Are you sure you want to delete ${y.length} selected evidence items?`)&&H.mutate(y)},U=async()=>{try{const te=await fetch("/api/evidence-library/export/csv");if(!te.ok)throw new Error("Export failed");const we=await te.blob(),me=window.URL.createObjectURL(we),Se=document.createElement("a");Se.href=me,Se.download=`evidence-library-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(me),e({title:"Success",description:"Evidence Library exported successfully"})}catch{e({title:"Error",description:"Failed to export Evidence Library",variant:"destructive"})}},R=Array.from(new Set(P.map(te=>te.equipmentGroup).filter(te=>te!=null&&te!=="DELETED"))),se=Array.from(new Set(P.map(te=>te.equipmentType).filter(te=>te!=null&&te!=="DELETED"))),ge=Array.from(new Set(P.map(te=>te.subtype).filter(te=>te!=null)));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Evidence Library Management"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[r.jsx(zI,{className:"h-8 w-8 mr-3 text-primary"}),"Evidence Library Management"]}),r.jsx("p",{className:"text-muted-foreground",children:"Manage and configure evidence requirements for root cause analysis"})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs(J,{variant:P!=null&&P.length?"default":"outline",children:[(P==null?void 0:P.length)||0," Items"]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Z,{className:"flex items-center gap-2",children:["Evidence Library",A?r.jsx(J,{variant:"secondary",children:"Loading..."}):r.jsxs(J,{variant:"outline",children:[G.length," of ",P.length," items"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{ref:d,type:"file",accept:".csv,.xlsx,.xls",onChange:z,className:"hidden",id:"csv-import"}),r.jsx("label",{htmlFor:"csv-import",children:r.jsx(W,{variant:"outline",size:"sm",asChild:!0,children:r.jsxs("span",{children:[r.jsx(Va,{className:"h-4 w-4 mr-2"}),"Import CSV"]})})}),r.jsxs(W,{variant:"outline",size:"sm",onClick:U,children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),y.length>0&&r.jsxs(W,{variant:"destructive",size:"sm",onClick:D,disabled:H.isPending,children:[r.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Delete Selected (",y.length,")"]}),r.jsxs(hc,{open:a,onOpenChange:o,children:[r.jsx(Xj,{asChild:!0,children:r.jsxs(W,{onClick:()=>s(null),children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add Evidence"]})}),r.jsxs(Bo,{className:"max-w-6xl max-h-[95vh] overflow-y-auto",children:[r.jsxs(Uo,{children:[r.jsx(Vo,{children:i?"Edit Evidence Item":"Add New Evidence Item"}),r.jsx(aL,{children:i?"Update all evidence library fields below. All fields except timestamps are available for editing.":"Create a comprehensive evidence library entry. Required fields are marked with *."})]}),r.jsx(pje,{initialData:i,onSubmit:N,onCancel:()=>o(!1),isLoading:l,isEdit:!!i})]})]})]})]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(_i,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(ue,{placeholder:"Search equipment, failure modes, codes...",value:t,onChange:te=>n(te.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(Be,{value:"",onValueChange:te=>{te&&f([...u,te])},children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Filter by Equipment Group"})}),r.jsx(Ve,{children:R.map(te=>r.jsx(ee,{value:te,children:te},te))})]}),r.jsxs(Be,{value:"",onValueChange:te=>{te&&h([...p,te])},children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Filter by Equipment Type"})}),r.jsx(Ve,{children:se.map(te=>r.jsx(ee,{value:te,children:te},te))})]}),r.jsxs(Be,{value:"",onValueChange:te=>{te&&m([...v,te])},children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Filter by Subtype"})}),r.jsx(Ve,{children:ge.map(te=>r.jsx(ee,{value:te,children:te},te))})]})]}),(u.length>0||p.length>0||v.length>0)&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map(te=>r.jsxs(J,{variant:"secondary",className:"flex items-center gap-1",children:[te,r.jsx("button",{onClick:()=>f(u.filter(we=>we!==te)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:"×"})]},te)),p.map(te=>r.jsxs(J,{variant:"secondary",className:"flex items-center gap-1",children:[te,r.jsx("button",{onClick:()=>h(p.filter(we=>we!==te)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:"×"})]},te)),v.map(te=>r.jsxs(J,{variant:"secondary",className:"flex items-center gap-1",children:[te,r.jsx("button",{onClick:()=>m(v.filter(we=>we!==te)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:"×"})]},te)),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{f([]),h([]),m([])},children:"Clear All"})]})]}),r.jsx(bwe,{data:G,onEdit:te=>{s(te),o(!0)},onDelete:te=>_(te),onBulkDelete:D,searchTerm:t,onSearchChange:n,selectedItems:y,onSelectionChange:b,isLoading:A})]})]})]})}function jwe({isOpen:e,onClose:t,item:n,onSuccess:i}){const{toast:s}=Dt(),[a,o]=j.useState({equipmentGroupId:"",equipmentTypeId:"",equipmentSubtypeId:"",componentFailureMode:"",equipmentCode:"",failureCode:"",riskRankingId:"",requiredTrendDataEvidence:"",aiOrInvestigatorQuestions:"",attachmentsEvidenceRequired:"",rootCauseLogic:"",primaryRootCause:"",contributingFactor:"",latentCause:"",detectionGap:"",faultSignaturePattern:"",applicableToOtherEquipment:"",evidenceGapFlag:"",confidenceLevel:"",diagnosticValue:"",industryRelevance:"",evidencePriority:"",timeToCollect:"",collectionCost:"",analysisComplexity:"",seasonalFactor:"",relatedFailureModes:"",prerequisiteEvidence:"",followupActions:"",industryBenchmark:""}),{data:l=[]}=Oe({queryKey:["/api/equipment-groups"],queryFn:async()=>{const h=await fetch("/api/equipment-groups");return h.ok?h.json():[]}}),{data:c=[]}=Oe({queryKey:["/api/equipment-types"],queryFn:async()=>{const h=await fetch("/api/equipment-types");return h.ok?h.json():[]}}),{data:d=[]}=Oe({queryKey:["/api/risk-rankings"],queryFn:async()=>{const h=await fetch("/api/risk-rankings");return h.ok?h.json():[]}});j.useEffect(()=>{var h,v,m,y;o(n?{equipmentGroupId:((h=n.equipmentGroupId)==null?void 0:h.toString())||"",equipmentTypeId:((v=n.equipmentTypeId)==null?void 0:v.toString())||"",equipmentSubtypeId:((m=n.equipmentSubtypeId)==null?void 0:m.toString())||"",componentFailureMode:n.componentFailureMode||"",equipmentCode:n.equipmentCode||"",failureCode:n.failureCode||"",riskRankingId:((y=n.riskRankingId)==null?void 0:y.toString())||"",requiredTrendDataEvidence:n.requiredTrendDataEvidence||"",aiOrInvestigatorQuestions:n.aiOrInvestigatorQuestions||"",attachmentsEvidenceRequired:n.attachmentsEvidenceRequired||"",rootCauseLogic:n.rootCauseLogic||"",primaryRootCause:n.primaryRootCause||"",contributingFactor:n.contributingFactor||"",latentCause:n.latentCause||"",detectionGap:n.detectionGap||"",faultSignaturePattern:n.faultSignaturePattern||"",applicableToOtherEquipment:n.applicableToOtherEquipment||"",evidenceGapFlag:n.evidenceGapFlag||"",confidenceLevel:n.confidenceLevel||"",diagnosticValue:n.diagnosticValue||"",industryRelevance:n.industryRelevance||"",evidencePriority:n.evidencePriority||"",timeToCollect:n.timeToCollect||"",collectionCost:n.collectionCost||"",analysisComplexity:n.analysisComplexity||"",seasonalFactor:n.seasonalFactor||"",relatedFailureModes:n.relatedFailureModes||"",prerequisiteEvidence:n.prerequisiteEvidence||"",followupActions:n.followupActions||"",industryBenchmark:n.industryBenchmark||""}:{equipmentGroupId:"",equipmentTypeId:"",equipmentSubtypeId:"",componentFailureMode:"",equipmentCode:"",failureCode:"",riskRankingId:"",requiredTrendDataEvidence:"",aiOrInvestigatorQuestions:"",attachmentsEvidenceRequired:"",rootCauseLogic:"",primaryRootCause:"",contributingFactor:"",latentCause:"",detectionGap:"",faultSignaturePattern:"",applicableToOtherEquipment:"",evidenceGapFlag:"",confidenceLevel:"",diagnosticValue:"",industryRelevance:"",evidencePriority:"",timeToCollect:"",collectionCost:"",analysisComplexity:"",seasonalFactor:"",relatedFailureModes:"",prerequisiteEvidence:"",followupActions:"",industryBenchmark:""})},[n]);const u=Ye({mutationFn:async h=>{const v=n?`/api/evidence-library/by-failure-code/${encodeURIComponent(n.failureCode)}`:"/api/evidence-library";return lt(v,{method:n?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:h.equipmentGroupId,typeId:h.equipmentTypeId,subtypeId:h.equipmentSubtypeId==="__NONE__"?null:h.equipmentSubtypeId,equipmentCode:h.equipmentCode,componentFailureMode:h.componentFailureMode,failureCode:h.failureCode&&h.failureCode.trim()!==""?h.failureCode.trim():null,equipmentGroupId:parseInt(h.equipmentGroupId),equipmentTypeId:parseInt(h.equipmentTypeId),equipmentSubtypeId:h.equipmentSubtypeId==="__NONE__"?null:h.equipmentSubtypeId?parseInt(h.equipmentSubtypeId):null,riskRankingId:h.riskRankingId?parseInt(h.riskRankingId):null,requiredTrendDataEvidence:h.requiredTrendDataEvidence,aiOrInvestigatorQuestions:h.aiOrInvestigatorQuestions,attachmentsEvidenceRequired:h.attachmentsEvidenceRequired,rootCauseLogic:h.rootCauseLogic,primaryRootCause:h.primaryRootCause,contributingFactor:h.contributingFactor,latentCause:h.latentCause,detectionGap:h.detectionGap,confidenceLevel:h.confidenceLevel,faultSignaturePattern:h.faultSignaturePattern,applicableToOtherEquipment:h.applicableToOtherEquipment,evidenceGapFlag:h.evidenceGapFlag,diagnosticValue:h.diagnosticValue,industryRelevance:h.industryRelevance,evidencePriority:h.evidencePriority,timeToCollect:h.timeToCollect,collectionCost:h.collectionCost,analysisComplexity:h.analysisComplexity,seasonalFactor:h.seasonalFactor,relatedFailureModes:h.relatedFailureModes,prerequisiteEvidence:h.prerequisiteEvidence,followupActions:h.followupActions,industryBenchmark:h.industryBenchmark})})},onSuccess:()=>{s({title:"Success",description:n?"Evidence item updated successfully":"Evidence item added successfully"}),Ot.invalidateQueries({queryKey:["/api/evidence-library"]}),i==null||i()},onError:h=>{s({title:"Error",description:h.message||"Failed to save evidence item",variant:"destructive"})}}),f=h=>{if(h.preventDefault(),!a.equipmentGroupId||!a.equipmentTypeId||!a.componentFailureMode||!a.equipmentCode){s({title:"Validation Error",description:"Please fill in all required fields (Group, Type, Component/Failure Mode, Equipment Code)",variant:"destructive"});return}u.mutate(a)},p=(h,v)=>{o(m=>({...m,[h]:v}))};return r.jsx(hc,{open:e,onOpenChange:t,children:r.jsxs(Bo,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Uo,{children:r.jsxs(Vo,{children:[n?"Edit":"Add"," Evidence Library Item"]})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Group *"}),r.jsxs(Be,{value:a.equipmentGroupId,onValueChange:h=>p("equipmentGroupId",h),children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select equipment group"})}),r.jsx(Ve,{children:l.map(h=>r.jsx(ee,{value:h.id.toString(),children:h.name},h.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Type *"}),r.jsxs(Be,{value:a.equipmentTypeId,onValueChange:h=>p("equipmentTypeId",h),children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select equipment type"})}),r.jsx(Ve,{children:c.map(h=>r.jsx(ee,{value:h.id.toString(),children:h.name},h.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Subtype (Optional)"}),r.jsxs(Be,{value:a.equipmentSubtypeId||"__NONE__",onValueChange:h=>p("equipmentSubtypeId",h),children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select equipment subtype"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"__NONE__",children:"None"}),equipmentSubtypes.map(h=>r.jsx(ee,{value:h.id.toString(),children:h.name},h.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Component/Failure Mode *"}),r.jsx(ue,{value:a.componentFailureMode,onChange:h=>p("componentFailureMode",h.target.value),placeholder:"Enter component/failure mode"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Equipment Code *"}),r.jsx(ue,{value:a.equipmentCode,onChange:h=>p("equipmentCode",h.target.value),placeholder:"Enter equipment code"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Failure Code (Optional)"}),r.jsx(ue,{value:a.failureCode,onChange:h=>p("failureCode",h.target.value),placeholder:"Enter failure code (optional)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Risk Ranking *"}),r.jsxs(Be,{value:a.riskRankingId,onValueChange:h=>p("riskRankingId",h),children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select risk ranking"})}),r.jsx(Ve,{children:d.map(h=>r.jsx(ee,{value:h.id.toString(),children:h.name},h.id))})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Required Trend Data Evidence *"}),r.jsx(We,{value:a.requiredTrendDataEvidence,onChange:h=>p("requiredTrendDataEvidence",h.target.value),placeholder:"Enter required trend data evidence",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"AI/Investigator Questions *"}),r.jsx(We,{value:a.aiOrInvestigatorQuestions,onChange:h=>p("aiOrInvestigatorQuestions",h.target.value),placeholder:"Enter AI/investigator questions",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Attachments Evidence Required *"}),r.jsx(We,{value:a.attachmentsEvidenceRequired,onChange:h=>p("attachmentsEvidenceRequired",h.target.value),placeholder:"Enter attachments evidence required",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Root Cause Logic *"}),r.jsx(We,{value:a.rootCauseLogic,onChange:h=>p("rootCauseLogic",h.target.value),placeholder:"Enter root cause logic",rows:2})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Primary Root Cause"}),r.jsx(ue,{value:a.primaryRootCause,onChange:h=>p("primaryRootCause",h.target.value),placeholder:"Enter primary root cause"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Contributing Factor"}),r.jsx(ue,{value:a.contributingFactor,onChange:h=>p("contributingFactor",h.target.value),placeholder:"Enter contributing factor"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Confidence Level"}),r.jsx(ue,{value:a.confidenceLevel,onChange:h=>p("confidenceLevel",h.target.value),placeholder:"Enter confidence level"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Diagnostic Value"}),r.jsx(ue,{value:a.diagnosticValue,onChange:h=>p("diagnosticValue",h.target.value),placeholder:"Enter diagnostic value"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(W,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsxs(W,{type:"submit",disabled:u.isPending,children:[u.isPending?"Saving...":n?"Update":"Add"," Item"]})]})]})]})})}function Qy(){const{toast:e}=Dt(),t=j.useRef(null),[n,i]=j.useState([]),[s,a]=j.useState(!1),[o,l]=j.useState(""),[c,d]=j.useState([]),[u,f]=j.useState([]),[p,h]=j.useState([]),[v,m]=j.useState({}),[y,b]=j.useState(!1),[g,x]=j.useState(null),{data:N=[],isLoading:w,refetch:k}=Oe({queryKey:["/api/evidence-library"],staleTime:0,gcTime:0,refetchOnMount:!0,queryFn:async()=>{const R=await fetch("/api/evidence-library",{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!R.ok)throw new Error("Failed to fetch evidence library");return R.json()},retry:!1,refetchOnWindowFocus:!1}),{data:E=[]}=Oe({queryKey:["/api/equipment-groups"],queryFn:async()=>{const R=await fetch("/api/equipment-groups");return R.ok?R.json():[]}}),{data:S=[]}=Oe({queryKey:["/api/equipment-types"],queryFn:async()=>{const R=await fetch("/api/equipment-types");return R.ok?R.json():[]}}),{data:C=[]}=Oe({queryKey:["/api/equipment-subtypes"],queryFn:async()=>{const R=await fetch("/api/equipment-subtypes");return R.ok?R.json():[]}}),_=Ye({mutationFn:async R=>{const se=new FormData;se.append("file",R);const ge=await fetch("/api/evidence-library/import",{method:"POST",body:se});if(!ge.ok){const te=await ge.json();throw new Error(te.error||"Import failed")}return ge.json()},onSuccess:R=>{Ot.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Import Successful",description:`Imported ${R.imported} items, ${R.errors} errors`}),k()},onError:R=>{e({title:"Import Failed",description:R.message,variant:"destructive"})}}),P=N.filter(R=>{const se={equipmentGroup:R.equipmentGroup||"",equipmentType:R.equipmentType||"",componentFailureMode:R.componentFailureMode||"",equipmentCode:R.equipmentCode||"",failureCode:R.failureCode||""},ge=o===""||se.equipmentGroup.toLowerCase().includes(o.toLowerCase())||se.equipmentType.toLowerCase().includes(o.toLowerCase())||se.componentFailureMode.toLowerCase().includes(o.toLowerCase())||se.equipmentCode.toLowerCase().includes(o.toLowerCase())||se.failureCode.toLowerCase().includes(o.toLowerCase()),te=c.length===0||c.includes(se.equipmentGroup),we=u.length===0||u.includes(se.equipmentType),me=p.length===0||p.includes(R.subtype||"");return ge&&te&&we&&me}),A=R=>{if(n.includes(R))i(n.filter(se=>se!==R)),s&&a(!1);else{const se=[...n,R];i(se),se.length===P.length&&a(!0)}},O=()=>{s?(i([]),a(!1)):(i(P.map(R=>R.failureCode)),a(!0))},I=R=>{m(se=>({...se,[R]:!se[R]}))},F=R=>{var ge;const se=(ge=R.target.files)==null?void 0:ge[0];se&&_.mutate(se)},$=async()=>{try{const R=await fetch("/api/evidence-library/export/csv");if(!R.ok)throw new Error("Export failed");const se=await R.blob(),ge=window.URL.createObjectURL(se),te=document.createElement("a");te.href=ge,te.download=`evidence-library-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(te),te.click(),window.URL.revokeObjectURL(ge),document.body.removeChild(te),e({title:"Export Successful",description:"Evidence library exported to CSV"})}catch{e({title:"Export Failed",description:"Failed to export evidence library",variant:"destructive"})}},G=Ye({mutationFn:async R=>lt(`/api/evidence-library/by-failure-code/${encodeURIComponent(R)}`,{method:"DELETE"}),onSuccess:()=>{Ot.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:"Evidence item permanently deleted"})},onError:R=>{e({title:"Delete Failed",description:R.message||"Failed to delete evidence item",variant:"destructive"})}}),z=Ye({mutationFn:async R=>{await Promise.all(R.map(se=>lt(`/api/evidence-library/by-failure-code/${encodeURIComponent(se)}`,{method:"DELETE"})))},onSuccess:()=>{Ot.invalidateQueries({queryKey:["/api/evidence-library"]}),i([]),a(!1),e({title:"Success",description:`${n.length} items permanently deleted`})},onError:R=>{e({title:"Bulk Delete Failed",description:R.message||"Failed to delete selected items",variant:"destructive"})}}),H=()=>{n.length>0&&confirm(`Are you sure you want to permanently delete ${n.length} items? This cannot be undone.`)&&z.mutate(n)},D=()=>{if(P.length>0&&confirm(`Are you sure you want to permanently delete ALL ${P.length} items? This cannot be undone.`)){const R=P.map(se=>se.failureCode);z.mutateAsync(R).then(()=>{i([]),a(!1)})}},U=(R,se,ge,te=50)=>{const we=`${se}-${ge}`,me=v[we],Se=R||"-";return Se.length<=te?Se:r.jsx(MR,{children:r.jsxs(UU,{children:[r.jsx(VU,{asChild:!0,children:r.jsx("div",{className:"cursor-pointer hover:bg-gray-100 p-1 rounded",onClick:()=>I(we),children:me?Se:`${Se.substring(0,te)}...`})}),r.jsx($R,{className:"max-w-md",children:r.jsx("p",{className:"whitespace-pre-wrap",children:Se})})]})})};return r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(Z,{children:"Evidence Library Management"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[r.jsx(On,{className:"h-4 w-4"}),"Add Item"]}),n.length>0&&r.jsxs(W,{onClick:H,disabled:z.isPending,variant:"destructive",className:"flex items-center gap-2",children:[r.jsx(Lo,{className:"h-4 w-4"}),"Delete Selected (",n.length,")"]}),P.length>0&&r.jsxs(W,{onClick:D,disabled:z.isPending,variant:"destructive",className:"flex items-center gap-2",children:[r.jsx(Lo,{className:"h-4 w-4"}),"Delete All (",P.length,")"]})]})]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"text-xs text-green-600 mb-4 bg-green-50 p-3 rounded border border-green-200",children:["✅ ",r.jsx("strong",{children:"STEP 2 COMPLETE IMPLEMENTATION:"})," 1) Cell expansion/tooltips ✓ 2) Sticky headers ✓ 3) Dynamic filtering ✓ 4) Import/export ✓ 5) No hardcoding ✓"]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"flex-1 min-w-64",children:r.jsxs("div",{className:"relative",children:[r.jsx(_i,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(ue,{placeholder:"Search equipment group, type, code, failure code...",value:o,onChange:R=>l(R.target.value),className:"pl-10"})]})}),r.jsxs(Be,{value:c[0]||"ALL_GROUPS",onValueChange:R=>d(R==="ALL_GROUPS"?[]:[R]),children:[r.jsx(qe,{className:"w-48",children:r.jsx(Ue,{placeholder:"Equipment Group"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"ALL_GROUPS",children:"All Equipment Groups"}),E.map(R=>r.jsx(ee,{value:R.name,children:R.name},R.id))]})]}),r.jsxs(Be,{value:u[0]||"ALL_TYPES",onValueChange:R=>f(R==="ALL_TYPES"?[]:[R]),children:[r.jsx(qe,{className:"w-48",children:r.jsx(Ue,{placeholder:"Equipment Type"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"ALL_TYPES",children:"All Equipment Types"}),S.map(R=>r.jsx(ee,{value:R.name,children:R.name},R.id))]})]}),r.jsxs(Be,{value:p[0]||"ALL_SUBTYPES",onValueChange:R=>h(R==="ALL_SUBTYPES"?[]:[R]),children:[r.jsx(qe,{className:"w-48",children:r.jsx(Ue,{placeholder:"Subtype"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"ALL_SUBTYPES",children:"All Subtypes"}),C.map(R=>r.jsx(ee,{value:R.name,children:R.name},R.id))]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",P.length," of ",N.length," items",n.length>0&&` (${n.length} selected)`]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"file",ref:t,onChange:F,accept:".csv,.xlsx",className:"hidden"}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>{var R;return(R=t.current)==null?void 0:R.click()},disabled:_.isPending,children:[r.jsx(Va,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:$,children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),r.jsx("div",{className:"evidence-table-container border rounded-lg shadow-lg",style:{width:"100%",height:"80vh",overflow:"auto",position:"relative"},children:r.jsxs("table",{style:{minWidth:"20000px",width:"20000px",tableLayout:"fixed",borderCollapse:"collapse"},className:"w-full",children:[r.jsx("thead",{style:{position:"sticky",top:0,zIndex:1e3,backgroundColor:"white"},className:"bg-white shadow-sm border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"80px",minWidth:"80px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:r.jsx("input",{type:"checkbox",checked:s,onChange:O,className:"rounded border-gray-300"})}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"200px",minWidth:"200px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Group"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"200px",minWidth:"200px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Type"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Subtype"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Component/Failure Mode"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Code"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Failure Code"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Risk Ranking"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Required Trend Data"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"AI Questions"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"280px",minWidth:"280px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Attachments Required"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Root Cause Logic"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Primary Root Cause"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Contributing Factor"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Latent Cause"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Detection Gap"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Confidence Level"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Fault Signature Pattern"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"280px",minWidth:"280px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Applicable to Other Equipment"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Evidence Gap Flag"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Eliminated If These Failures Confirmed"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Why It Gets Eliminated"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Diagnostic Value"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Industry Relevance"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Evidence Priority"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Time to Collect"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Collection Cost"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Analysis Complexity"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Seasonal Factor"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Related Failure Modes"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Prerequisite Evidence"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Followup Actions"}),r.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Industry Benchmark"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"System ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Group ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Type ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Subtype ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Risk ID"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Active"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Updated"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Updated By"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Created"}),r.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Actions"})]})}),r.jsx("tbody",{children:w?r.jsx("tr",{children:r.jsx("td",{colSpan:43,className:"text-center py-8 px-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading evidence library..."})]})})}):P.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:43,className:"text-center py-8 px-4 border-b",children:r.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[r.jsx(ut,{className:"h-12 w-12 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"No evidence items found"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Add evidence items to get started"})]})]})})}):P.map(R=>{var se,ge,te;return r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 border-r",children:r.jsx("input",{type:"checkbox",checked:n.includes(R.failureCode),onChange:()=>A(R.failureCode),className:"rounded border-gray-300"})}),r.jsx("td",{className:"px-4 py-3 border-r font-medium",children:U(R.equipmentGroup==="DELETED"?"Unknown":R.equipmentGroup,R.id,"equipmentGroup",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.equipmentType==="DELETED"?"Unknown":R.equipmentType,R.id,"equipmentType",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.subtype,R.id,"subtype",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.componentFailureMode,R.id,"componentFailureMode",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.equipmentCode,R.id,"equipmentCode",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:r.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:U(R.failureCode,R.id,"failureCode",20)})}),r.jsx("td",{className:"px-4 py-3 border-r",children:r.jsx(J,{variant:((se=R.riskRanking)==null?void 0:se.toLowerCase())==="critical"||((ge=R.riskRanking)==null?void 0:ge.toLowerCase())==="high"?"destructive":((te=R.riskRanking)==null?void 0:te.toLowerCase())==="medium"?"default":"secondary",children:R.riskRanking})}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.requiredTrendDataEvidence,R.id,"requiredTrendDataEvidence",60)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.aiOrInvestigatorQuestions,R.id,"aiOrInvestigatorQuestions",60)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.attachmentsEvidenceRequired,R.id,"attachmentsEvidenceRequired",50)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.rootCauseLogic,R.id,"rootCauseLogic",50)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.primaryRootCause,R.id,"primaryRootCause",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.contributingFactor,R.id,"contributingFactor",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.latentCause,R.id,"latentCause",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.detectionGap,R.id,"detectionGap",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.confidenceLevel,R.id,"confidenceLevel",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.faultSignaturePattern,R.id,"faultSignaturePattern",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.applicableToOtherEquipment,R.id,"applicableToOtherEquipment",50)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.evidenceGapFlag,R.id,"evidenceGapFlag",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.eliminatedIfTheseFailuresConfirmed,R.id,"eliminatedIfTheseFailuresConfirmed",60)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.whyItGetsEliminated,R.id,"whyItGetsEliminated",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.diagnosticValue,R.id,"diagnosticValue",30)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.industryRelevance,R.id,"industryRelevance",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.evidencePriority,R.id,"evidencePriority",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.timeToCollect,R.id,"timeToCollect",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.collectionCost,R.id,"collectionCost",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.analysisComplexity,R.id,"analysisComplexity",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.seasonalFactor,R.id,"seasonalFactor",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.relatedFailureModes,R.id,"relatedFailureModes",40)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.prerequisiteEvidence,R.id,"prerequisiteEvidence",35)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.followupActions,R.id,"followupActions",25)}),r.jsx("td",{className:"px-4 py-3 border-r",children:U(R.industryBenchmark,R.id,"industryBenchmark",35)}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:R.id}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:R.equipmentGroupId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:R.equipmentTypeId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:R.equipmentSubtypeId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:R.riskRankingId||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:r.jsx(J,{variant:R.isActive?"default":"secondary",children:R.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:R.updatedAt?np(new Date(R.updatedAt),"MMM dd, yyyy"):"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:R.updatedBy||"-"}),r.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:R.createdAt?np(new Date(R.createdAt),"MMM dd, yyyy"):"-"}),r.jsx("td",{className:"px-4 py-3 bg-gray-50",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(W,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>x(R),children:r.jsx(Pz,{className:"h-3 w-3"})}),r.jsx(W,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-destructive hover:text-destructive",onClick:()=>{confirm("Are you sure you want to permanently delete this item? This cannot be undone.")&&G.mutate(R.failureCode)},disabled:G.isPending,children:r.jsx(Lo,{className:"h-3 w-3"})})]})})]},R.id)})})]})})]})]}),r.jsx(jwe,{isOpen:y||!!g,onClose:()=>{b(!1),x(null)},item:g,onSuccess:()=>{Ot.invalidateQueries({queryKey:["/api/evidence-library"]}),b(!1),x(null)}})]})}let _l=null,Il=null;async function oO(){try{const e=await fetch("/version.json",{cache:"no-store"});if(!e.ok)return null;const t=await e.json();return String((t==null?void 0:t.version)??"")}catch{return null}}async function wwe(e,t=3e4){const{getIsFormDirty:n,showToast:i,dismissToast:s}=e;_l=await oO(),console.log("[VERSION-WATCH] Initialized with version:",_l);const a=async()=>{const l=await oO();l&&_l&&l!==_l&&(console.log("[VERSION-WATCH] Version changed:",_l,"->",l),n()?(Il&&s(Il),Il=i("A new version is available",{actionLabel:"Reload",onAction:()=>{console.log("[VERSION-WATCH] User chose to reload"),window.location.reload()},onDismiss:()=>{Il=null,_l=l}})):(console.log("[VERSION-WATCH] Auto-reloading (no dirty forms)"),window.location.reload()))},o=setInterval(a,t);return window.addEventListener("visibilitychange",()=>{document.hidden||a()}),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(l=>l.forEach(c=>c.unregister())),()=>{clearInterval(o),Il&&s(Il)}}function Nwe(e,t){const{actionLabel:n,onAction:i,onDismiss:s}=t,a=Math.random().toString(36).substr(2,9);return oI({title:"Update Available",description:e,action:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{i()},className:"bg-primary text-primary-foreground px-3 py-1 rounded text-sm hover:bg-primary/90",children:n}),r.jsx("button",{onClick:()=>{s==null||s()},className:"bg-secondary text-secondary-foreground px-3 py-1 rounded text-sm hover:bg-secondary/90",children:"Dismiss"})]})}),a}function Swe(e){}const Cwe=()=>Oe({queryKey:["equip","groups"],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always",queryFn:async()=>{console.log("[EQUIPMENT-HOOKS] Fetching equipment groups");const e=await fetch("/api/equipment/groups?active=1",{cache:"no-store"}),t=await e.json();if(!(t!=null&&t.ok)){const n=`Failed to load Equipment Groups (${e.status}). No legacy fallback.`;throw console.error("[EQUIPMENT-HOOKS] Groups fetch failed:",t==null?void 0:t.error),new Error(n)}return console.log(`[EQUIPMENT-HOOKS] Loaded ${t.data.length} equipment groups`),t.data}}),kwe=e=>Oe({enabled:!!e,queryKey:["equip","types",e],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always",queryFn:async()=>{console.log(`[EQUIPMENT-HOOKS] Fetching equipment types for group ${e}`);const t=await fetch(`/api/equipment/types?groupId=${e}&active=1`,{cache:"no-store"}),n=await t.json();if(!(n!=null&&n.ok)){const i=`Failed to load Equipment Types (${t.status}). No legacy fallback.`;throw console.error("[EQUIPMENT-HOOKS] Types fetch failed:",n==null?void 0:n.error),new Error(i)}return console.log(`[EQUIPMENT-HOOKS] Loaded ${n.data.length} equipment types for group ${e}`),n.data}}),Ewe=e=>Oe({enabled:!!e,queryKey:["equip","subtypes",e],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always",queryFn:async()=>{console.log(`[EQUIPMENT-HOOKS] Fetching equipment subtypes for type ${e}`);const t=await fetch(`/api/equipment/subtypes?typeId=${e}&active=1`,{cache:"no-store"}),n=await t.json();if(!(n!=null&&n.ok)){const i=`Failed to load Equipment Subtypes (${t.status}). No legacy fallback.`;throw console.error("[EQUIPMENT-HOOKS] Subtypes fetch failed:",n==null?void 0:n.error),new Error(i)}return console.log(`[EQUIPMENT-HOOKS] Loaded ${n.data.length} equipment subtypes for type ${e}`),n.data}}),Awe=Ae.object({title:Ae.string().min(3,"Title must be at least 3 characters"),description:Ae.string().min(10,"Description must be at least 10 characters"),equipment_group_id:Ae.number().nullable().refine(e=>e!==null,"Equipment group is required"),equipment_type_id:Ae.number().nullable().refine(e=>e!==null,"Equipment type is required"),equipment_subtype_id:Ae.number().nullable().refine(e=>e!==null,"Equipment subtype is required"),equipmentId:Ae.string().min(1,"Equipment ID is required"),manufacturer:Ae.string().max(100,"Manufacturer must be 100 characters or less").optional(),model:Ae.string().max(100,"Model must be 100 characters or less").optional(),location:Ae.string().min(1,"Location is required"),reportedBy:Ae.string().min(1,"Reporter name is required"),incidentDateTime:Ae.string().min(1,"Incident date/time is required"),priority:Ae.enum(["Low","Medium","High","Critical"]),immediateActions:Ae.string().optional(),safetyImplications:Ae.string().optional(),operatingParameters:Ae.string().optional(),issueFrequency:Ae.enum(["First","Recurring","Unknown"]).optional(),issueSeverity:Ae.enum(["Low","Medium","High","Critical"]).optional(),initialContextualFactors:Ae.string().optional(),sequenceOfEvents:Ae.string().optional(),sequenceOfEventsFiles:Ae.array(Ae.string()).optional(),reportableStatus:Ae.enum(["not_reportable","reported","not_yet_reported"]),regulatoryAuthorityName:Ae.string().optional(),dateReported:Ae.string().optional(),reportReferenceId:Ae.string().optional(),complianceImpactSummary:Ae.string().optional(),plannedDateOfReporting:Ae.string().optional(),delayReason:Ae.string().optional(),intendedRegulatoryAuthority:Ae.string().optional(),timelineData:Ae.record(Ae.string()).optional()}).refine(e=>!(e.reportableStatus==="reported"&&(!e.regulatoryAuthorityName||e.regulatoryAuthorityName.trim()===""||!e.dateReported||e.dateReported.trim()===""||!e.complianceImpactSummary||e.complianceImpactSummary.trim()==="")||e.reportableStatus==="not_yet_reported"&&(!e.plannedDateOfReporting||e.plannedDateOfReporting.trim()===""||!e.delayReason||e.delayReason.trim()===""||!e.intendedRegulatoryAuthority||e.intendedRegulatoryAuthority.trim()==="")),{message:"Required regulatory compliance fields must be completed",path:["reportableStatus"]});function Pwe(){const{toast:e}=Dt(),[,t]=ai(),[n,i]=j.useState([]),[s,a]=j.useState(!1),l="draft:incident-report:v1",c=7*24*60*60*1e3,d=()=>{try{const C=localStorage.getItem(l);if(!C)return{};const{data:_,timestamp:P}=JSON.parse(C);return Date.now()-P>c?(localStorage.removeItem(l),{}):_}catch{return{}}},u=oS({resolver:lS(Awe),defaultValues:{title:"",description:"",equipment_group_id:null,equipment_type_id:null,equipment_subtype_id:null,equipmentId:"",manufacturer:"",model:"",location:"",reportedBy:"",incidentDateTime:"",priority:"Medium",immediateActions:"",safetyImplications:"",operatingParameters:"",issueFrequency:void 0,issueSeverity:void 0,initialContextualFactors:"",sequenceOfEvents:"",sequenceOfEventsFiles:[],reportableStatus:"not_reportable",regulatoryAuthorityName:"",dateReported:"",reportReferenceId:"",complianceImpactSummary:"",plannedDateOfReporting:"",delayReason:"",intendedRegulatoryAuthority:"",timelineData:{},...d()}}),f=u.watch("equipment_group_id"),p=u.watch("equipment_type_id"),h=u.watch("equipment_subtype_id"),{data:v=[],isLoading:m}=Cwe(),{data:y=[],isLoading:b}=kwe(f||void 0),{data:g=[],isLoading:x}=Ewe(p||void 0),N=u.watch("reportableStatus");j.useEffect(()=>{const C=u.watch(_=>{const P={data:_,timestamp:Date.now()};localStorage.setItem(l,JSON.stringify(P))});return()=>C.unsubscribe()},[u.watch,l]);const w=u.formState.isDirty||Object.keys(u.getValues()).some(C=>{const _=u.getValues()[C];return _!==""&&_!==void 0&&_!==null});j.useEffect(()=>{let C;return(async()=>{C=await wwe({getIsFormDirty:()=>w,showToast:Nwe,dismissToast:Swe})})(),()=>{C&&C()}},[w]),j.useEffect(()=>{const C=_=>{if(w)return _.preventDefault(),_.returnValue="You have unsaved changes. Are you sure you want to leave?",_.returnValue};return window.addEventListener("beforeunload",C),()=>window.removeEventListener("beforeunload",C)},[w]),j.useEffect(()=>{const C=new BroadcastChannel("incident-draft");C.onmessage=P=>{if(P.data.type==="draft-updated"&&P.data.storageKey===l){const A=d();Object.keys(A).length>0&&u.reset(A)}};const _=u.watch(()=>{C.postMessage({type:"draft-updated",storageKey:l,timestamp:Date.now()})});return()=>{C.close(),_.unsubscribe()}},[u,l]),j.useEffect(()=>{u.setValue("equipment_type_id",void 0),u.setValue("equipment_subtype_id",void 0)},[f]),j.useEffect(()=>{u.setValue("equipment_subtype_id",void 0)},[p]),j.useEffect(()=>{f&&p&&h&&k()},[f,p,h]);const k=async()=>{var C,_;try{const P=v.find(F=>F.id===f),A=y.find(F=>F.id===p),O=g.find(F=>F.id===h),I=await fetch("/api/incidents/0/generate-timeline-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({equipmentGroup:P==null?void 0:P.name,equipmentType:A==null?void 0:A.name,equipmentSubtype:O==null?void 0:O.name})});if(I.ok){const F=await I.json();i(((C=F.timelineQuestions)==null?void 0:C.questions)||[]),a(!0),console.log(`Generated ${((_=F.timelineQuestions)==null?void 0:_.totalQuestions)||0} timeline questions`)}}catch(P){console.error("Error generating timeline questions:",P)}},E=Ye({mutationFn:async C=>{console.log("Making API request to create incident...");const _=await fetch("/api/incidents",{method:"POST",body:JSON.stringify(C),headers:{"Content-Type":"application/json"}});if(!_.ok)throw new Error(`Failed to create incident: ${_.status}`);const P=await _.json();return console.log("Raw API response:",P),P},onSuccess:C=>{console.log("Incident created successfully:",C),console.log("Full response object:",JSON.stringify(C,null,2));let _;if(typeof C=="object"&&C.id?_=C.id:typeof C=="number"?_=C:typeof C=="string"?_=parseInt(C):(console.error("Unexpected response format:",C),_=null),console.log("Extracted incident ID for navigation:",_,"Type:",typeof _),!_){console.error("ERROR: No incident ID in response:",C),e({title:"Error",description:"Failed to get incident ID for navigation",variant:"destructive"});return}localStorage.removeItem(l),e({title:"Incident Reported",description:"Moving to equipment selection and symptom input..."});const P=`/equipment-selection?incident=${_}`;console.log("Navigating to:",P),console.log("About to call setLocation with:",P),t(P),console.log("setLocation called successfully")},onError:C=>{e({title:"Error",description:C.message||"Failed to create incident report",variant:"destructive"})}}),S=C=>{E.mutate(C)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(xp,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Incident Reporting"}),r.jsx("p",{className:"text-slate-600",children:"Step 1: Report the incident and provide initial details"})]})]}),r.jsx(J,{variant:"secondary",className:"text-sm",children:"Step 1 of 8"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Incident Reported"})]}),r.jsx(Ir,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Equipment Selection"})]}),r.jsx(Ir,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Collection"})]}),r.jsx("span",{className:"text-slate-400",children:"..."})]})}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"h-5 w-5 text-orange-500"}),"Incident Details"]})}),r.jsx(Q,{children:r.jsx(dS,{...u,children:r.jsxs("form",{onSubmit:u.handleSubmit(S),className:"space-y-6",children:[r.jsx(Fe,{control:u.control,name:"title",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Incident Details"}),r.jsx($e,{children:r.jsx(ue,{...C,placeholder:"e.g., Pump P-101 seal leak"})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"description",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Initial Observations"}),r.jsx($e,{children:r.jsx(We,{...C,placeholder:"Describe what was observed, when it was observed, and any initial symptoms...",rows:4})}),r.jsx(De,{})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.jsx(Fe,{control:u.control,name:"priority",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Priority Level"}),r.jsx($e,{children:r.jsxs(Be,{onValueChange:C.onChange,value:C.value,children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"Low",children:"Low"}),r.jsx(ee,{value:"Medium",children:"Medium"}),r.jsx(ee,{value:"High",children:"High"}),r.jsx(ee,{value:"Critical",children:"Critical"})]})]})}),r.jsx(De,{})]})})}),r.jsx(Fe,{control:u.control,name:"operatingParameters",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Operating Parameters at Incident Time"}),r.jsx($e,{children:r.jsx(We,{...C,placeholder:"e.g., Temperature: 85°C, Pressure: 150 PSI, Flow: 200 GPM, RPM: 1750, Vibration: 2.5 mm/s",rows:2})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Fe,{control:u.control,name:"issueFrequency",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Issue Frequency"}),r.jsxs(Be,{onValueChange:C.onChange,value:C.value,children:[r.jsx($e,{children:r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select frequency"})})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"First",children:"First Occurrence"}),r.jsx(ee,{value:"Recurring",children:"Recurring Issue"}),r.jsx(ee,{value:"Unknown",children:"Unknown"})]})]}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"issueSeverity",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Issue Severity"}),r.jsxs(Be,{onValueChange:C.onChange,value:C.value,children:[r.jsx($e,{children:r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select severity"})})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"Low",children:"Low"}),r.jsx(ee,{value:"Medium",children:"Medium"}),r.jsx(ee,{value:"High",children:"High"}),r.jsx(ee,{value:"Critical",children:"Critical"})]})]}),r.jsx(De,{})]})})]}),r.jsx(Fe,{control:u.control,name:"initialContextualFactors",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Recent Maintenance or Operational Changes"}),r.jsx($e,{children:r.jsx(We,{...C,placeholder:"e.g., Recent bearing replacement 2 weeks ago, process temperature increased last month, new operator training, environmental conditions changed",rows:2})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(Fe,{control:u.control,name:"equipment_group_id",render:({field:C})=>{var _;return r.jsxs(Me,{children:[r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(hh,{className:"w-4 h-4"}),"Equipment Group (Level 1)"]}),r.jsxs(Be,{onValueChange:P=>{const A=P?parseInt(P):null;C.onChange(A),u.setValue("equipment_type_id",void 0),u.setValue("equipment_subtype_id",void 0)},value:((_=C.value)==null?void 0:_.toString())??"",disabled:m,children:[r.jsx($e,{children:r.jsx(qe,{children:r.jsx(Ue,{placeholder:m?"Loading groups...":"Select equipment group"})})}),r.jsx(Ve,{children:v.map(P=>r.jsx(ee,{value:P.id.toString(),children:P.name},P.id))})]}),r.jsx(De,{})]})}}),r.jsx(Fe,{control:u.control,name:"equipment_type_id",render:({field:C})=>{var _;return r.jsxs(Me,{children:[r.jsx(Ie,{children:"Equipment Type (Level 2)"}),r.jsxs(Be,{onValueChange:P=>{const A=P?parseInt(P):null;C.onChange(A),u.setValue("equipment_subtype_id",void 0)},value:((_=C.value)==null?void 0:_.toString())??"",disabled:!f||b,children:[r.jsx($e,{children:r.jsx(qe,{children:r.jsx(Ue,{placeholder:f?b?"Loading types...":y.length===0?"No types found":"Select equipment type":"Select equipment group first"})})}),r.jsx(Ve,{children:y.map(P=>r.jsx(ee,{value:P.id.toString(),children:P.name},P.id))})]}),r.jsx(De,{})]})}}),r.jsx(Fe,{control:u.control,name:"equipment_subtype_id",render:({field:C})=>{var _;return r.jsxs(Me,{children:[r.jsx(Ie,{children:"Equipment Subtype (Level 3)"}),r.jsxs(Be,{onValueChange:P=>{const A=P?parseInt(P):null;C.onChange(A)},value:((_=C.value)==null?void 0:_.toString())??"",disabled:!f||!p||x,children:[r.jsx($e,{children:r.jsx(qe,{children:r.jsx(Ue,{placeholder:!f||!p?"Select equipment type first":x?"Loading subtypes...":g.length===0?"No subtypes found":"Select equipment subtype"})})}),r.jsx(Ve,{children:g.map(P=>r.jsx(ee,{value:P.id.toString(),children:P.name},P.id))})]}),r.jsx(De,{})]})}})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Fe,{control:u.control,name:"manufacturer",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Manufacturer"}),r.jsx($e,{children:r.jsx(ue,{...C,placeholder:"e.g., Siemens",maxLength:100,"data-testid":"input-manufacturer"})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"model",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Model"}),r.jsx($e,{children:r.jsx(ue,{...C,placeholder:"e.g., Simovert-M420",maxLength:100,"data-testid":"input-model"})}),r.jsx(De,{})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:r.jsx(Fe,{control:u.control,name:"equipmentId",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Equipment ID/Tag"}),r.jsx($e,{children:r.jsx(ue,{...C,placeholder:"e.g., P-101, M-205"})}),r.jsx(De,{})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(Fe,{control:u.control,name:"location",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(UI,{className:"h-4 w-4"}),"Location"]}),r.jsx($e,{children:r.jsx(ue,{...C,placeholder:"e.g., Unit 1 Process Area"})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"reportedBy",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(zc,{className:"h-4 w-4"}),"Reported By"]}),r.jsx($e,{children:r.jsx(ue,{...C,placeholder:"Your name"})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"incidentDateTime",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(Nr,{className:"h-4 w-4"}),"Incident Date/Time"]}),r.jsx($e,{children:r.jsx(ue,{...C,type:"datetime-local",max:new Date().toISOString().slice(0,16)})}),r.jsx(De,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(Fe,{control:u.control,name:"immediateActions",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{className:"flex items-center gap-2",children:[r.jsx(hh,{className:"h-4 w-4"}),"Immediate Actions Taken"]}),r.jsx($e,{children:r.jsx(We,{...C,placeholder:"Actions taken to secure the area, isolate equipment, etc...",rows:3})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"safetyImplications",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Safety Implications"}),r.jsx($e,{children:r.jsx(We,{...C,placeholder:"Any safety concerns, personnel at risk, environmental impact...",rows:3})}),r.jsx(De,{})]})})]}),r.jsx(Ds,{className:"my-6"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(YC,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Sequence of Events"})]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Please provide a chronological summary of key actions and observations related to the incident, including times if available."}),r.jsx(Fe,{control:u.control,name:"sequenceOfEvents",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Sequence of Events (Narrative)"}),r.jsx($e,{children:r.jsx(We,{...C,placeholder:`Enter the main steps as they happened, including approximate times if possible.
Example:
08:05 – Alarm activated
08:10 – Operator responded to pump room
08:12 – Leak observed at pump discharge
08:14 – Pump stopped by operator

You can include as much detail as available.`,rows:6,className:"resize-y"})}),r.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Optional, but recommended for better analysis"}),r.jsx(De,{})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Ie,{className:"text-sm font-medium",children:"Attach Sequence of Events (optional)"}),r.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-slate-400 transition-colors",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsxs("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center",children:[r.jsx("input",{type:"file",multiple:!0,accept:".pdf,.docx,.xlsx,.txt,.csv,.jpg,.png,.gif",className:"hidden",id:"sequence-files",onChange:C=>{const P=Array.from(C.target.files||[]).map(A=>A.name);u.setValue("sequenceOfEventsFiles",P)}}),r.jsx("label",{htmlFor:"sequence-files",className:"cursor-pointer",children:r.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})})]}),r.jsxs("div",{className:"text-sm text-slate-600",children:[r.jsx("label",{htmlFor:"sequence-files",className:"cursor-pointer text-blue-600 hover:text-blue-700 font-medium",children:"Upload files"}),r.jsx("span",{className:"text-slate-500",children:" or drag and drop"})]}),r.jsxs("div",{className:"text-xs text-slate-500",children:["Upload any files that detail the sequence of events. Examples include:",r.jsx("br",{}),"- Operator logs or shift handover reports",r.jsx("br",{}),"- Control room/DCS/SCADA exports",r.jsx("br",{}),"- Annotated event timelines (Word, PDF, Excel, image)",r.jsx("br",{}),"- Photos, sketches, or scanned documents"]}),r.jsx("div",{className:"text-xs text-slate-400",children:"Accepts: PDF, DOCX, XLSX, TXT, CSV, JPG, PNG, GIF"})]})}),(u.watch("sequenceOfEventsFiles")||[]).length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Uploaded Files:"}),r.jsx("div",{className:"space-y-1",children:(u.watch("sequenceOfEventsFiles")||[]).map((C,_)=>r.jsxs("div",{className:"flex items-center justify-between bg-slate-50 px-3 py-2 rounded text-sm",children:[r.jsx("span",{className:"text-slate-700",children:C}),r.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const A=(u.getValues("sequenceOfEventsFiles")||[]).filter((O,I)=>I!==_);u.setValue("sequenceOfEventsFiles",A)},className:"text-red-500 hover:text-red-700 h-6 w-6 p-0",children:"×"})]},_))})]})]})]}),r.jsx(Ds,{className:"my-6"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"h-5 w-5 text-orange-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Regulatory / Compliance Impact"})]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Identify whether this incident has regulatory implications and capture appropriate follow-up details based on reporting status."}),r.jsx(Fe,{control:u.control,name:"reportableStatus",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{children:["Reportable Incident? ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(Be,{onValueChange:C.onChange,defaultValue:C.value,children:[r.jsx($e,{children:r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select reportable status"})})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"not_reportable",children:"No – Not a reportable incident"}),r.jsx(ee,{value:"reported",children:"Yes – Reported"}),r.jsx(ee,{value:"not_yet_reported",children:"Yes – Not yet reported"})]})]}),r.jsx(De,{})]})}),N==="reported"&&r.jsxs("div",{className:"space-y-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-green-900",children:"Reported Incident Details"}),r.jsx(Fe,{control:u.control,name:"regulatoryAuthorityName",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{children:["Regulatory Authority Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ue,{...C,placeholder:"e.g., WorkSafe QLD, EPA NSW, DMIRS WA"})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"dateReported",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{children:["Date Reported ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ue,{...C,type:"date"})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"reportReferenceId",render:({field:C})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Report Reference or ID (if available)"}),r.jsx($e,{children:r.jsx(ue,{...C,placeholder:"Report reference number or ID"})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"complianceImpactSummary",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{children:["Summary of Compliance Impact ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(We,{...C,placeholder:"Describe what regulatory threshold was breached or triggered (e.g., WHS breach, environmental non-compliance, safety shutdown).",rows:4})}),r.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Describe what regulatory threshold was breached or triggered (e.g., WHS breach, environmental non-compliance, safety shutdown)."}),r.jsx(De,{})]})})]}),N==="not_yet_reported"&&r.jsxs("div",{className:"space-y-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-amber-900",children:"Pending Report Details"}),r.jsx(Fe,{control:u.control,name:"plannedDateOfReporting",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{children:["Planned Date of Reporting ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ue,{...C,type:"date"})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"delayReason",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{children:["Reason for Delay or Pending Reporting ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(We,{...C,placeholder:"State why this has not yet been reported (e.g., pending internal review, still under validation).",rows:3})}),r.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"State why this has not yet been reported (e.g., pending internal review, still under validation)."}),r.jsx(De,{})]})}),r.jsx(Fe,{control:u.control,name:"intendedRegulatoryAuthority",render:({field:C})=>r.jsxs(Me,{children:[r.jsxs(Ie,{children:["Intended Regulatory Authority ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx($e,{children:r.jsx(ue,{...C,placeholder:"e.g., WorkSafe QLD, EPA NSW, etc."})}),r.jsx(De,{})]})})]}),N==="not_reportable"&&r.jsx("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-slate-600 italic",children:"No additional regulatory compliance information required for non-reportable incidents."})})]}),r.jsx(Ds,{className:"my-6"}),s&&n.length>0&&r.jsxs("div",{className:"mt-8 p-6 border rounded-lg bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(YC,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-blue-900",children:"Structured Timeline Questions"})]}),r.jsx("p",{className:"text-sm text-blue-700 mb-6",children:"Answer these timeline questions to help AI understand the sequence of events. Generated from Evidence Library for equipment selection."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Universal Timeline Anchors"}),r.jsx("div",{className:"space-y-4",children:n.filter(C=>C.category==="Universal Timeline").map(C=>r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[C.label,C.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("p",{className:"text-xs text-slate-500 mb-3",children:C.description}),r.jsxs("div",{className:"space-y-3",children:[C.type==="datetime-local"?r.jsx(ue,{type:"datetime-local",className:"w-full",onChange:_=>{const P=u.getValues("timelineData")||{};u.setValue("timelineData",{...P,[C.id]:_.target.value})}}):r.jsx(We,{placeholder:"Describe what happened and when...",className:"w-full",onChange:_=>{const P=u.getValues("timelineData")||{};u.setValue("timelineData",{...P,[C.id]:_.target.value})}}),C.hasConfidenceField&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Data Confidence:"}),r.jsx("div",{className:"flex gap-2",children:(()=>{const P=(u.watch("timelineData")||{})[`${C.id}_confidence`];return r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${P==="evidence"?"bg-green-500 border-green-500 text-white shadow-md ring-2 ring-green-200":"bg-white hover:bg-green-50 border-gray-300 text-gray-700 hover:border-green-300"}`,onClick:()=>{const A=u.getValues("timelineData")||{};u.setValue("timelineData",{...A,[`${C.id}_confidence`]:"evidence"})},children:[P==="evidence"?"✅":"☐"," Evidence Backed"]}),r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${P==="unknown"?"bg-red-500 border-red-500 text-white shadow-md ring-2 ring-red-200":"bg-white hover:bg-red-50 border-gray-300 text-gray-700 hover:border-red-300"}`,onClick:()=>{const A=u.getValues("timelineData")||{};u.setValue("timelineData",{...A,[`${C.id}_confidence`]:"unknown"})},children:[P==="unknown"?"❌":"☐"," Not Known"]}),r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${P==="estimated"?"bg-yellow-500 border-yellow-500 text-white shadow-md ring-2 ring-yellow-200":"bg-white hover:bg-yellow-50 border-gray-300 text-gray-700 hover:border-yellow-300"}`,onClick:()=>{const A=u.getValues("timelineData")||{};u.setValue("timelineData",{...A,[`${C.id}_confidence`]:"estimated"})},children:[P==="estimated"?"🟡":"☐"," Estimated"]})]})})()})]}),C.hasOptionalExplanation&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Optional explanation or context:"}),r.jsx(We,{placeholder:"Additional details, operator memory, DCS limitations...",className:"w-full text-sm",rows:2,onChange:_=>{const P=u.getValues("timelineData")||{};u.setValue("timelineData",{...P,[`${C.id}_explanation`]:_.target.value})}})]})]}),r.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Purpose: ",C.purpose]})]},C.id))})]}),n.some(C=>C.category==="Equipment-Specific Timeline")&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Equipment-Specific Timeline"}),r.jsx("div",{className:"space-y-4",children:n.filter(C=>C.category==="Equipment-Specific Timeline").map(C=>r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[C.label,C.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("p",{className:"text-xs text-slate-500 mb-3",children:C.description}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ue,{type:"datetime-local",className:"w-full",onChange:_=>{const P=u.getValues("timelineData")||{};u.setValue("timelineData",{...P,[C.id]:_.target.value})}}),C.hasConfidenceField&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Data Confidence:"}),r.jsx("div",{className:"flex gap-2",children:(()=>{const P=(u.watch("timelineData")||{})[`${C.id}_confidence`];return r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${P==="evidence"?"bg-green-500 border-green-500 text-white shadow-md ring-2 ring-green-200":"bg-white hover:bg-green-50 border-gray-300 text-gray-700 hover:border-green-300"}`,onClick:()=>{const A=u.getValues("timelineData")||{};u.setValue("timelineData",{...A,[`${C.id}_confidence`]:"evidence"})},children:[P==="evidence"?"✅":"☐"," Evidence Backed"]}),r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${P==="unknown"?"bg-red-500 border-red-500 text-white shadow-md ring-2 ring-red-200":"bg-white hover:bg-red-50 border-gray-300 text-gray-700 hover:border-red-300"}`,onClick:()=>{const A=u.getValues("timelineData")||{};u.setValue("timelineData",{...A,[`${C.id}_confidence`]:"unknown"})},children:[P==="unknown"?"❌":"☐"," Not Known"]}),r.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${P==="estimated"?"bg-yellow-500 border-yellow-500 text-white shadow-md ring-2 ring-yellow-200":"bg-white hover:bg-yellow-50 border-gray-300 text-gray-700 hover:border-yellow-300"}`,onClick:()=>{const A=u.getValues("timelineData")||{};u.setValue("timelineData",{...A,[`${C.id}_confidence`]:"estimated"})},children:[P==="estimated"?"🟡":"☐"," Estimated"]})]})})()})]}),C.hasOptionalExplanation&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Optional explanation or context:"}),r.jsx(We,{placeholder:"Additional details, operator memory, DCS limitations...",className:"w-full text-sm",rows:2,onChange:_=>{const P=u.getValues("timelineData")||{};u.setValue("timelineData",{...P,[`${C.id}_explanation`]:_.target.value})}})]})]}),r.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[C.equipmentContext," - ",C.purpose]})]},C.id))})]}),r.jsxs("div",{className:"bg-slate-100 rounded-lg p-4 mt-6",children:[r.jsxs("p",{className:"text-sm text-slate-600",children:[r.jsx("strong",{children:"Enhanced Timeline Analysis:"})," The AI will use this structured data to:"]}),r.jsxs("ul",{className:"text-xs text-slate-500 mt-2 space-y-1",children:[r.jsx("li",{children:"• Reconstruct the sequence of events with confidence scoring"}),r.jsx("li",{children:"• Detect lead-lag relationships between symptoms and failures"}),r.jsx("li",{children:'• Calculate timeline data quality and flag "Low Evidence Certainty"'}),r.jsx("li",{children:"• Disqualify failure modes that occurred after the primary event"}),r.jsx("li",{children:"• Track evidence quality: ✔️ Evidence-backed, 🟡 Estimated, ❌ Unknown"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mt-3",children:r.jsxs("p",{className:"text-xs text-blue-700",children:[r.jsx("strong",{children:"Data Confidence Impact:"}),' Questions marked as "Not known" or "Estimated" will reduce AI confidence scores and flag investigation gaps that may require additional evidence collection.']})})]})]}),r.jsx("div",{className:"flex justify-end pt-6",children:r.jsx(W,{type:"submit",disabled:E.isPending,className:"min-w-48",children:E.isPending?"Creating Incident...":r.jsxs(r.Fragment,{children:["Proceed to Equipment Selection",r.jsx(Ir,{className:"ml-2 h-4 w-4"})]})})})]})})})]})]})})}const Owe=Ae.object({specificPart:Ae.string().min(1,"Specific part/component is required"),symptomDescription:Ae.string().min(10,"Detailed symptom description is required"),operatingConditions:Ae.string().min(10,"Operating conditions are required"),whenObserved:Ae.string().min(1,"When symptoms were observed is required"),frequency:Ae.enum(["Continuous","Intermittent","One-time","Increasing"]),severity:Ae.enum(["Minor","Moderate","Significant","Severe"]),contextualFactors:Ae.string().optional()});function Twe(){const{toast:e}=Dt(),[,t]=ai(),n=new URLSearchParams(window.location.search),i=new URLSearchParams(window.location.hash.replace("#","")),s=window.location.pathname.split("/").pop();let a=null;n.get("incident")?(a=parseInt(n.get("incident")),console.log("Found incident ID in URL params:",a)):i.get("incident")?(a=parseInt(i.get("incident")),console.log("Found incident ID in hash params:",a)):s&&!isNaN(parseInt(s))&&(a=parseInt(s),console.log("Found incident ID in path:",a)),console.log("DEBUG: Full URL:",window.location.href),console.log("DEBUG: Search params:",window.location.search),console.log("DEBUG: Hash:",window.location.hash),console.log("DEBUG: Final incident ID:",a);const[o,l]=j.useState(null),c=oS({resolver:lS(Owe),defaultValues:{specificPart:"",symptomDescription:"",operatingConditions:"",whenObserved:"",frequency:"Continuous",severity:"Moderate",contextualFactors:""}}),{data:d,isLoading:u,error:f}=Oe({queryKey:[`/api/incidents/${a}`],queryFn:async()=>{console.log("Fetching incident:",a);const x=await fetch(`/api/incidents/${a}`);if(console.log("Response status:",x.status,x.statusText),!x.ok){const w=await x.text();throw console.error("API Error:",w),new Error(`Failed to fetch incident: ${x.status} ${w}`)}const N=await x.json();return console.log("Incident data:",N),console.log("Is incident valid?",!!N,"Has equipment group?",!!(N!=null&&N.equipmentGroup)),N},enabled:!!a,retry:1,retryDelay:1e3}),{data:p,isLoading:h}=Oe({queryKey:["/api/evidence-library/search-with-elimination",d==null?void 0:d.equipmentGroup,d==null?void 0:d.equipmentType,d==null?void 0:d.equipmentSubtype,d==null?void 0:d.description],queryFn:async()=>{var k,E;if(!(d!=null&&d.equipmentGroup)||!(d!=null&&d.equipmentType)||!(d!=null&&d.equipmentSubtype)||!(d!=null&&d.description))return console.log("Missing data for elimination analysis - Group:",d==null?void 0:d.equipmentGroup,"Type:",d==null?void 0:d.equipmentType,"Subtype:",d==null?void 0:d.equipmentSubtype,"Description:",!!(d!=null&&d.description)),null;const x=`/api/evidence-library/search-with-elimination?equipmentGroup=${encodeURIComponent(d.equipmentGroup)}&equipmentType=${encodeURIComponent(d.equipmentType)}&equipmentSubtype=${encodeURIComponent(d.equipmentSubtype)}&symptoms=${encodeURIComponent(d.description)}`;console.log("Searching evidence library with elimination logic:",x);const N=await fetch(x);if(!N.ok)return console.error("Elimination search failed:",N.status,N.statusText),null;const w=await N.json();return console.log(`Elimination results: ${((k=w.remainingFailureModes)==null?void 0:k.length)||0} remaining, ${((E=w.eliminatedFailureModes)==null?void 0:E.length)||0} eliminated`),w},enabled:!!(d!=null&&d.equipmentGroup)&&!!(d!=null&&d.equipmentType)&&!!(d!=null&&d.equipmentSubtype)&&!!(d!=null&&d.description)}),v=(p==null?void 0:p.remainingFailureModes)||[],m=(p==null?void 0:p.eliminatedFailureModes)||[],y=p==null?void 0:p.eliminationSummary,b=Ye({mutationFn:async x=>{var w;const N={...x,workflowStatus:"universal_rca_ready",currentStep:2};return console.log(`[UNIVERSAL RCA INTEGRATION] Updating incident ${a} with symptom description length: ${((w=x.symptomDescription)==null?void 0:w.length)||0}`),console.log("[UNIVERSAL RCA INTEGRATION] Will trigger Universal RCA analysis with AI hypothesis generation"),await lt(`/api/incidents/${a}/equipment-symptoms`,{method:"PUT",body:JSON.stringify(N),headers:{"Content-Type":"application/json"}})},onSuccess:()=>{e({title:"Equipment & Symptoms Updated",description:"Proceeding to Universal RCA Analysis - AI will analyze your incident description"}),t(`/evidence-checklist?incident=${a}`)},onError:x=>{e({title:"Error",description:x.message||"Failed to update equipment details",variant:"destructive"})}}),g=x=>{if(!x.symptomDescription||x.symptomDescription.trim().length<20){e({title:"More Details Needed",description:"Please provide a detailed symptom description (at least 20 characters) for Universal RCA AI analysis",variant:"destructive"});return}console.log(`[UNIVERSAL RCA] Submitting incident with ${x.symptomDescription.length} character symptom description - sufficient for Universal RCA Engine`);const N={...x,equipmentLibraryId:o==null?void 0:o.id};b.mutate(N)};return a?f?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error loading incident"}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",a]}),r.jsx("div",{className:"text-sm text-red-500 mt-1",children:f.message})]})}):u?(console.log("Loading incident data..."),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading incident data..."}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",a]}),r.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"Fetching from server..."})]})})):!d&&!u?(console.log("No incident found after loading complete"),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Incident Not Found"}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",a]})]})})):(console.log("RENDERING MAIN CONTENT - incident:",d==null?void 0:d.title,"ID:",a),console.log("Current location:",window.location.pathname,window.location.search),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Equipment Selection & Symptom Input"}),r.jsx("p",{className:"text-slate-600",children:"Step 2: Select specific equipment part and describe symptoms"})]})]}),r.jsx(J,{variant:"secondary",className:"text-sm",children:"Step 2 of 8"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),r.jsx("span",{className:"ml-2 text-sm text-green-600",children:"Incident Reported"})]}),r.jsx(Ir,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Equipment Selection"})]}),r.jsx(Ir,{className:"h-4 w-4 text-slate-400"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),r.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Checklist"})]}),r.jsx("span",{className:"text-slate-400",children:"..."})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(_i,{className:"h-5 w-5 text-blue-500"}),"Equipment Library Selection"]}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Select from evidence library for ",d==null?void 0:d.equipmentGroup," - ",d==null?void 0:d.equipmentType]})]}),r.jsxs(Q,{children:[y&&r.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-semibold text-green-800",children:"Intelligent Elimination Applied"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-slate-700",children:y.totalAnalyzed}),r.jsx("div",{className:"text-slate-600",children:"Total Analyzed"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-red-600",children:y.eliminated}),r.jsx("div",{className:"text-red-600",children:"Eliminated"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-green-600",children:y.remaining}),r.jsx("div",{className:"text-green-600",children:"Remaining"})]})]}),r.jsx("div",{className:"mt-2 text-center",children:r.jsxs(J,{variant:"secondary",className:"bg-green-100 text-green-800",children:["+",y.confidenceBoost,"% Confidence Boost"]})})]}),v.length>0?r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsx("div",{className:"mb-3",children:r.jsx("h4",{className:"font-medium text-green-700 mb-2",children:"🎯 Remaining Failure Modes (Focus Here)"})}),v.map(x=>r.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${(o==null?void 0:o.id)===x.id?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,onClick:()=>l(x),children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-medium text-slate-900",children:x.equipmentType}),r.jsx(J,{variant:x.riskRanking==="Critical"?"destructive":"secondary",children:x.riskRanking})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:x.componentFailureMode}),r.jsx("p",{className:"text-xs text-green-600",children:"✅ Active for investigation"})]},x.id)),m.length>0&&r.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200",children:r.jsxs("details",{className:"cursor-pointer",children:[r.jsxs("summary",{className:"font-medium text-red-700 mb-2",children:["❌ Eliminated Failure Modes (",m.length,") - Click to view"]}),r.jsx("div",{className:"space-y-2 mt-3",children:m.map(x=>r.jsxs("div",{className:"p-3 border border-red-200 rounded-lg bg-red-50 opacity-75",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-medium text-red-800",children:x.equipmentType}),r.jsx(J,{variant:"destructive",className:"opacity-75",children:"Eliminated"})]}),r.jsx("p",{className:"text-sm text-red-700 mb-1",children:x.componentFailureMode}),r.jsxs("p",{className:"text-xs text-red-600 italic",children:["Reason: ",x.eliminationReason]})]},x.id))})]})})]}):r.jsxs("div",{className:"text-center py-8 text-blue-500",children:[r.jsx(Zt,{className:"h-12 w-12 mx-auto mb-3 text-blue-300"}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[r.jsx("p",{className:"font-semibold text-blue-900 mb-2",children:"🤖 Universal RCA Ready"}),r.jsx("p",{className:"text-sm text-blue-700",children:"No equipment-specific templates needed. Our AI will analyze your incident description directly using Universal RCA Engine."}),r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"→ Fill in symptom details to activate AI analysis"})]})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(hh,{className:"h-5 w-5 text-orange-500"}),"Symptom Details"]})}),r.jsx(Q,{children:r.jsx(dS,{...c,children:r.jsxs("form",{onSubmit:c.handleSubmit(g),className:"space-y-6",children:[r.jsx(Fe,{control:c.control,name:"specificPart",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Specific Part/Component"}),r.jsx($e,{children:r.jsx(ue,{...x,placeholder:"e.g., Mechanical seal, Bearing, Impeller"})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:c.control,name:"symptomDescription",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Detailed Symptom Description"}),r.jsx($e,{children:r.jsx(We,{...x,placeholder:"Describe exactly what you observed: leaks, noises, vibrations, performance issues...",rows:4})}),r.jsx(De,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Fe,{control:c.control,name:"frequency",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Frequency"}),r.jsx($e,{children:r.jsxs(Be,{onValueChange:x.onChange,value:x.value,children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"Continuous",children:"Continuous"}),r.jsx(ee,{value:"Intermittent",children:"Intermittent"}),r.jsx(ee,{value:"One-time",children:"One-time"}),r.jsx(ee,{value:"Increasing",children:"Increasing"})]})]})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:c.control,name:"severity",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Severity"}),r.jsx($e,{children:r.jsxs(Be,{onValueChange:x.onChange,value:x.value,children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"Minor",children:"Minor"}),r.jsx(ee,{value:"Moderate",children:"Moderate"}),r.jsx(ee,{value:"Significant",children:"Significant"}),r.jsx(ee,{value:"Severe",children:"Severe"})]})]})}),r.jsx(De,{})]})})]}),r.jsx(Fe,{control:c.control,name:"operatingConditions",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Operating Conditions"}),r.jsx($e,{children:r.jsx(We,{...x,placeholder:"Temperature, pressure, flow rate, load conditions when issue occurred...",rows:3})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:c.control,name:"whenObserved",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"When First Observed"}),r.jsx($e,{children:r.jsx(ue,{...x,placeholder:"During startup, at high load, after maintenance..."})}),r.jsx(De,{})]})}),r.jsx(Fe,{control:c.control,name:"contextualFactors",render:({field:x})=>r.jsxs(Me,{children:[r.jsx(Ie,{children:"Additional Context (Optional)"}),r.jsx($e,{children:r.jsx(We,{...x,placeholder:"Recent maintenance, weather conditions, process changes...",rows:2})}),r.jsx(De,{})]})}),o&&r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(wr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-900",children:"Selected from Library:"})]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[o.equipmentType," - ",o.componentFailureMode]})]}),r.jsx("div",{className:"flex justify-end pt-6",children:r.jsx(W,{type:"submit",disabled:b.isPending,className:"min-w-48",children:b.isPending?"Processing...":r.jsxs(r.Fragment,{children:["Generate Evidence Checklist",r.jsx(Ir,{className:"ml-2 h-4 w-4"})]})})})]})})})]})]})]})})):(console.log("SHOWING NO INCIDENT ID ERROR - URL:",window.location.href),console.log("URL Search:",window.location.search),console.log("Incident ID parsed as:",a),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error: No Incident ID"}),r.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Please access this page from the incident reporting workflow."}),r.jsxs("div",{className:"text-xs text-slate-400 mt-4",children:["Debug: URL = ",window.location.href]})]})}))}function _we({incidentId:e,aiHypotheses:t,instructions:n,onHypothesesConfirmed:i}){const{toast:s}=Dt(),[a,o]=j.useState({}),[l,c]=j.useState([""]),[d,u]=j.useState(""),[f,p]=j.useState(!1),h=(x,N)=>{console.log(`[HYPOTHESIS REVIEW] ${N} hypothesis ${x}`),o(w=>({...w,[x]:N}))},v=()=>{c(x=>[...x,""])},m=(x,N)=>{c(w=>w.map((k,E)=>E===x?N:k))},y=x=>{c(N=>N.filter((w,k)=>k!==x))},b=async()=>{const x=Object.values(a).filter(w=>w==="accept").length,N=l.filter(w=>w.trim().length>0);if(x===0&&N.length===0){s({title:"Selection Required",description:"Please accept at least one AI hypothesis or add a custom failure mode",variant:"destructive"});return}p(!0);try{console.log("[HYPOTHESIS REVIEW] Submitting feedback:",{hypothesesFeedback:a,customFailureModes:N,userReasoning:d});const w=await fetch(`/api/incidents/${e}/hypothesis-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hypothesesFeedback:a,customFailureModes:N,userReasoning:d})});if(!w.ok)throw new Error(`HTTP ${w.status}: ${w.statusText}`);const k=await w.json();s({title:"Hypotheses Confirmed",description:k.message||`${k.confirmedHypotheses} hypotheses confirmed for evidence collection`}),i(k.evidenceItems||[])}catch(w){console.error("[HYPOTHESIS REVIEW] Feedback submission failed:",w),s({title:"Submission Failed",description:w instanceof Error?w.message:"Failed to process hypothesis feedback",variant:"destructive"})}finally{p(!1)}},g=x=>x>=70?"bg-green-100 text-green-800":x>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Y,{children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(wr,{className:"h-5 w-5 text-blue-500"}),"Human-AI Collaborative Analysis"]}),r.jsx(ve,{children:n})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"AI-Generated Failure Hypotheses"}),t.map(x=>{const N=a[x.id];return r.jsxs(Y,{className:`border-2 ${N==="accept"?"border-green-200 bg-green-50":N==="reject"?"border-red-200 bg-red-50":"border-gray-200"}`,children:[r.jsx(X,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Z,{className:"text-base",children:x.hypothesis}),r.jsx(ve,{className:"mt-2",children:x.reasoning})]}),r.jsxs(J,{className:g(x.aiConfidence),children:[x.aiConfidence,"% AI Confidence"]})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[x.suggestedEvidence.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Suggested Evidence:"}),r.jsx("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:x.suggestedEvidence.map((w,k)=>r.jsx("li",{children:w},k))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>h(x.id,"accept"),variant:N==="accept"?"default":"outline",size:"sm",className:N==="accept"?"bg-green-600 hover:bg-green-700":"",children:[r.jsx(Ct,{className:"h-4 w-4 mr-1"}),"Accept ✅"]}),r.jsxs(W,{onClick:()=>h(x.id,"reject"),variant:N==="reject"?"default":"outline",size:"sm",className:N==="reject"?"bg-red-600 hover:bg-red-700":"",children:[r.jsx(Jo,{className:"h-4 w-4 mr-1"}),"Reject ❌"]})]})]})})]},x.id)})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(On,{className:"h-5 w-5"}),"Add Custom Failure Modes"]}),r.jsx(ve,{children:"Add your own failure hypotheses based on engineering experience"})]}),r.jsxs(Q,{className:"space-y-4",children:[l.map((x,N)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ue,{value:x,onChange:w=>m(N,w.target.value),placeholder:"Enter custom failure mode...",className:"flex-1"}),l.length>1&&r.jsx(W,{onClick:()=>y(N),variant:"outline",size:"sm",children:"Remove"})]},N)),r.jsxs(W,{onClick:v,variant:"outline",size:"sm",children:[r.jsx(On,{className:"h-4 w-4 mr-1"}),"Add Another"]})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Engineering Rationale"}),r.jsx(ve,{children:"Provide your reasoning for the selected hypotheses (optional)"})]}),r.jsx(Q,{children:r.jsx(We,{value:d,onChange:x=>u(x.target.value),placeholder:"Explain your engineering reasoning for the selected failure modes...",rows:4})})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(W,{onClick:b,disabled:f,size:"lg",className:"px-8",children:f?"Processing...":"Confirm Hypotheses & Generate Evidence Requirements"})})]})}function Iwe({incidentId:e,aiHypotheses:t,onConfirmationComplete:n}){const[i,s]=j.useState(Object.fromEntries(t.map(x=>[x.id,"pending"]))),[a,o]=j.useState([]),[l,c]=j.useState(""),[d,u]=j.useState(!1),{toast:f}=Dt(),p=(x,N)=>{s(w=>({...w,[x]:N}))},h=()=>{l.trim()&&(o(x=>[...x,l.trim()]),c(""),f({title:"Custom Hypothesis Added",description:"Your additional failure mode hypothesis has been recorded."}))},v=x=>{o(N=>N.filter((w,k)=>k!==x))},m=()=>{const x=t.filter(k=>i[k.id]==="agreed"),N=x.length>0,w=a.length>0;if(!N&&!w){f({title:"No Hypotheses Selected",description:"Please agree with at least one AI hypothesis or add a custom hypothesis to proceed.",variant:"destructive"});return}u(!0),console.log(`[HUMAN CONFIRMATION FLOW] Investigator confirmed ${x.length} AI hypotheses`),console.log(`[HUMAN CONFIRMATION FLOW] Investigator added ${a.length} custom hypotheses`),console.log("[HUMAN CONFIRMATION FLOW] Proceeding to Step 5: Evidence Collection Interface"),n(x,a)},y=Object.values(i).filter(x=>x==="pending").length,b=Object.values(i).filter(x=>x==="agreed").length,g=Object.values(i).filter(x=>x==="disagreed").length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_t,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Step 4: Human Confirmation Flow"})]}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Review AI-generated POTENTIAL causes before evidence collection. Agree, disagree, or add your own hypotheses."}),r.jsxs("div",{className:"flex gap-4 mt-3",children:[r.jsxs(J,{variant:"outline",className:"text-green-700 border-green-300",children:["✅ Agreed: ",b]}),r.jsxs(J,{variant:"outline",className:"text-red-700 border-red-300",children:["❌ Disagreed: ",g]}),r.jsxs(J,{variant:"outline",className:"text-gray-700 border-gray-300",children:["⏳ Pending: ",y]}),a.length>0&&r.jsxs(J,{variant:"outline",className:"text-purple-700 border-purple-300",children:["➕ Custom: ",a.length]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-md font-medium flex items-center gap-2",children:[r.jsx(_t,{className:"h-4 w-4"}),"AI-Generated POTENTIAL Causes (",t.length,")"]}),t.map((x,N)=>r.jsxs(Y,{className:`border-2 ${i[x.id]==="agreed"?"border-green-200 bg-green-50 dark:bg-green-950":i[x.id]==="disagreed"?"border-red-200 bg-red-50 dark:bg-red-950":"border-gray-200"}`,children:[r.jsx(X,{children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"text-lg flex items-center gap-2",children:[r.jsx(J,{variant:"outline",className:"text-xs",children:"AI Generated"}),x.failureMode]}),r.jsxs(ve,{className:"mt-1",children:["Confidence: ",x.confidence,"% | ",x.faultSignature]})]}),r.jsxs(J,{variant:"secondary",children:[x.confidence,"%"]})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:x.description.split(" | AI Reasoning: ")[0]})}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded border",children:[r.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-200 mb-1",children:"AI Reasoning:"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:x.aiReasoning})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Required Evidence:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:x.requiredEvidence.map((w,k)=>r.jsx(J,{variant:"outline",className:"text-xs",children:w},k))})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(W,{size:"sm",variant:i[x.id]==="agreed"?"default":"outline",onClick:()=>p(x.id,"agreed"),className:"flex items-center gap-1",children:[r.jsx(Ct,{className:"h-4 w-4"}),"Agree"]}),r.jsxs(W,{size:"sm",variant:i[x.id]==="disagreed"?"destructive":"outline",onClick:()=>p(x.id,"disagreed"),className:"flex items-center gap-1",children:[r.jsx(Jo,{className:"h-4 w-4"}),"Disagree"]})]})]})})]},x.id))]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"text-md flex items-center gap-2",children:[r.jsx(On,{className:"h-4 w-4"}),"Add Custom Hypothesis"]}),r.jsx(ve,{children:"Add your own failure mode hypothesis based on your engineering expertise"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(We,{placeholder:"Describe your additional failure mode hypothesis...",value:l,onChange:x=>c(x.target.value),rows:3}),r.jsxs(W,{onClick:h,disabled:!l.trim(),className:"flex items-center gap-1",children:[r.jsx(On,{className:"h-4 w-4"}),"Add Hypothesis"]})]}),a.length>0&&r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:"Your Custom Hypotheses:"}),a.map((x,N)=>r.jsxs("div",{className:"flex items-center justify-between bg-purple-50 dark:bg-purple-950 p-2 rounded border",children:[r.jsx("span",{className:"text-sm",children:x}),r.jsx(W,{size:"sm",variant:"ghost",onClick:()=>v(N),children:r.jsx(Jo,{className:"h-4 w-4"})})]},N))]})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(W,{onClick:m,disabled:d,size:"lg",className:"flex items-center gap-2",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):r.jsxs(r.Fragment,{children:["Proceed to Evidence Collection",r.jsx(ut,{className:"h-4 w-4"})]})})})]})}function Rwe(){var kn;const[,e]=ai(),[t,n]=j.useState(null),[i,s]=j.useState([]),[a,o]=j.useState([]),[l,c]=j.useState(null),[d,u]=j.useState(!1),[f,p]=j.useState(0),[h,v]=j.useState(!1),[m,y]=j.useState(null),[b,g]=j.useState(!1);j.useState([]);const[x,N]=j.useState({}),[w,k]=j.useState([]),[E,S]=j.useState(""),[C,_]=j.useState(!1),[P,A]=j.useState("initial"),[O,I]=j.useState([]),[F,$]=j.useState([]),[G,z]=j.useState([]),{toast:H}=Dt();j.useEffect(()=>{const V=new URLSearchParams(window.location.search).get("incident");V&&n(parseInt(V))},[]);const{data:D,isLoading:U}=Oe({queryKey:["/api/incidents",t],enabled:!!t}),R=Ye({mutationFn:async T=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Generating AI hypotheses for human confirmation"),console.log(`[AI HYPOTHESIS GENERATOR] Incident: "${T.symptomDescription||T.title}"`);const V=await fetch(`/api/incidents/${T.id}/generate-ai-hypotheses`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!V.ok)throw new Error(`Failed to generate AI hypotheses: ${V.status}`);return await V.json()},onSuccess:T=>{var V,q;console.log(`[AI HYPOTHESIS GENERATOR] Generated ${((V=T.aiHypotheses)==null?void 0:V.length)||0} hypotheses for human confirmation`),I(T.aiHypotheses||[]),A("human-confirmation"),H({title:"AI Analysis Complete",description:`Generated ${((q=T.aiHypotheses)==null?void 0:q.length)||0} potential causes for your review`})},onError:T=>{console.error("[AI HYPOTHESIS GENERATOR] Error:",T),H({title:"AI Analysis Failed",description:"Failed to generate AI hypotheses. Please try again.",variant:"destructive"})}}),se=Ye({mutationFn:async({confirmedHypotheses:T,customHypotheses:V})=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 5: Generating evidence checklist from confirmed hypotheses");const q=await fetch(`/api/incidents/${t}/generate-evidence-checklist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmedHypotheses:T,customHypotheses:V})});if(!q.ok)throw new Error(`Failed to generate evidence checklist: ${q.status}`);return await q.json()},onSuccess:T=>{var V,q;console.log(`[EVIDENCE COLLECTION] Generated ${((V=T.evidenceItems)==null?void 0:V.length)||0} evidence items from confirmed hypotheses`),s(T.evidenceItems||[]),A("evidence-collection"),H({title:"Evidence Collection Ready",description:`Generated ${((q=T.evidenceItems)==null?void 0:q.length)||0} evidence requirements based on your confirmed hypotheses`})},onError:T=>{console.error("[EVIDENCE COLLECTION] Error:",T),H({title:"Evidence Generation Failed",description:"Failed to generate evidence checklist. Please try again.",variant:"destructive"})}}),ge=(T,V)=>{console.log("[HUMAN CONFIRMATION FLOW] Human confirmation completed"),console.log(`[HUMAN CONFIRMATION FLOW] Confirmed: ${T.length}, Custom: ${V.length}`),$(T),z(V),A("ai-generating"),se.mutate({confirmedHypotheses:T,customHypotheses:V})},te=Ye({mutationFn:async T=>{const V=await fetch(`/api/incidents/${T.id}/generate-evidence-checklist-legacy`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!V.ok)throw new Error(`Failed to generate legacy checklist: ${V.status}`);return await V.json()},onSuccess:T=>{var V;if(console.log("Incident-only evidence checklist generated:",T),T&&T.evidenceItems)if(s(T.evidenceItems),console.log(`[INCIDENT-ONLY EVIDENCE] Generated ${T.evidenceItems.length} symptom-based evidence items`),T.fallbackAnalysis&&T.fallbackAnalysis.inferredFailureModes)console.log("[FALLBACK LOGIC] Evidence Library confidence LOW - showing AI-inferred failure modes"),y({extractedSymptoms:T.fallbackAnalysis.inferredFailureModes.map(q=>({keyword:q.failureMode,confidence:q.confidence,context:q.reasoning})),aiHypotheses:T.fallbackAnalysis.inferredFailureModes.map(q=>({id:q.id||(()=>{const ne=new Date().getTime(),re=ne%1e4;return`fallback-${ne}-${re}`})(),hypothesis:q.failureMode,reasoning:q.reasoning,aiConfidence:q.confidence,confidenceSource:q.confidenceSource||"AI-Inferred"})),fallbackMode:!0,generationMethod:T.generationMethod}),g(!0);else if(T.backwardCompatible||T.generationMethod==="legacy-compatibility")console.log("[BACKWARD COMPATIBILITY] Legacy evidence generation completed"),s(T.evidenceItems),g(!1),_(!1);else if(T.universalRCAFlow&&((V=T.aiAnalysis)!=null&&V.aiHypotheses))console.log("[Universal RCA] Showing hypothesis review interface"),y(T.aiAnalysis),_(!0);else if(T.aiAnalysis){let q=[];T.aiAnalysis.aiHypotheses&&Array.isArray(T.aiAnalysis.aiHypotheses)&&(q=T.aiAnalysis.aiHypotheses.map((ne,re)=>({...ne,id:ne.id||`hypothesis-${new Date().getTime()}-${re}`}))),y({...T.aiAnalysis,aiHypotheses:q}),g(T.requiresHumanVerification||!1),console.log("[INCIDENT-ONLY EVIDENCE] AI analysis ready for human verification"),console.log("Hypotheses with IDs:",q),console.log("Full AI analysis:",T.aiAnalysis)}else s(T.evidenceItems);else console.error("Invalid incident-only evidence format:",T),s([]);u(!1)},onError:T=>{console.error("Failed to generate evidence checklist:",T),u(!1)}}),we=Ye({mutationFn:async T=>lt(`/api/incidents/${T.incidentId}/evidence-progress`,{method:"PUT",body:JSON.stringify({currentStep:3,workflowStatus:"evidence_checklist_complete",evidenceChecklist:T.evidenceItems})})});j.useEffect(()=>{D&&typeof D=="object"&&"id"in D&&P==="initial"&&(console.log(`[UNIVERSAL RCA INSTRUCTION] Starting Universal RCA workflow for incident ${D.id}`),!D.symptomDescription||D.symptomDescription.trim().length<20||D.workflowStatus==="equipment_selected"?(console.log(`[BACKWARD COMPATIBILITY] Using legacy workflow for incident ${D.id}`),u(!0),te.mutate(D)):(console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Starting AI hypothesis generation"),A("ai-generating"),R.mutate(D)))},[D,P]),j.useEffect(()=>{if(i&&Array.isArray(i)&&i.length>0){const T=i.filter(q=>{var ne;return q.completed||q.isUnavailable&&((ne=q.unavailableReason)==null?void 0:ne.trim())}).length,V=Math.round(T/i.length*100);p(V)}},[i]);const me=(T,V)=>{s(q=>q.map(ne=>ne.id===T?{...ne,completed:V}:ne))},Se=(T,V)=>{s(q=>q.map(ne=>ne.id===T?{...ne,notes:V}:ne))},le=(T,V)=>{s(q=>q.map(ne=>ne.id===T?{...ne,files:[...ne.files||[],...V],completed:!0}:ne))},xe=(T,V)=>{s(q=>q.map(ne=>ne.id===T?{...ne,files:(ne.files||[]).filter((re,oe)=>oe!==V)}:ne))},ye=(T,V,q)=>{s(ne=>ne.map(re=>re.id===T?{...re,isUnavailable:V,unavailableReason:q||"",completed:V&&(q!=null&&q.trim())?!0:re.completed,files:V?[]:re.files}:re))},B=()=>{t&&i.length>0&&we.mutate({incidentId:t,evidenceItems:i},{onSuccess:()=>{e(`/evidence-collection?incident=${t}`)}})},ce=(i==null?void 0:i.filter(T=>T.priority==="Critical"))||[],de=(i==null?void 0:i.filter(T=>T.priority==="High"))||[],Pe=(i==null?void 0:i.filter(T=>T.priority==="Medium"))||[],Ce=(i==null?void 0:i.filter(T=>T.priority==="Low"))||[],Xe=ce.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())||T.files&&T.files.length>0}),st=de.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())||T.files&&T.files.length>0}),Nt=Math.floor(de.length*.8)+(de.length*.8%1>0?1:0),mn=Xe.length===ce.length&&st.length>=Nt;if(console.log(`[EVIDENCE PROGRESS] Critical: ${Xe.length}/${ce.length}, High: ${st.length}/${de.length} (need ${Nt}), Can Proceed: ${mn}`),!mn&&i.length>0){console.log("[EVIDENCE PROGRESS] Blocking items:"),ce.forEach(V=>{var q;!V.completed&&!(V.isUnavailable&&((q=V.unavailableReason)!=null&&q.trim()))&&console.log(`- Critical item "${V.title}" not completed`)});const T=Nt-st.length;T>0&&console.log(`- Need ${T} more high priority items completed`)}return U||!D?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading incident details..."})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(W,{variant:"ghost",onClick:()=>e("/"),children:"← Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),r.jsx("h1",{className:"text-xl font-bold",children:"Step 3: AI Evidence Checklist"})]})]}),r.jsxs(J,{variant:"outline",className:"text-sm",children:["Incident #",D==null?void 0:D.id]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(Y,{className:"mb-8",children:r.jsxs(X,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),D==null?void 0:D.title]}),r.jsxs(ve,{children:["Equipment: ",D==null?void 0:D.equipmentGroup," → ",D==null?void 0:D.equipmentType," (",D==null?void 0:D.equipmentId,")"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[f,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Complete"})]})]}),r.jsx(Rr,{value:f,className:"mt-4"})]})}),P==="ai-generating"&&r.jsxs(Y,{className:"mb-8",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(_t,{className:"h-5 w-5 animate-spin"}),"Step 2: AI Hypothesis Generation"]}),r.jsx(ve,{children:"AI is analyzing the incident and generating potential causes using GPT..."})]}),r.jsx(Q,{children:r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Generating AI-driven POTENTIAL causes"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"STRICT RULE: NO HARD CODING"})]})})})]}),P==="human-confirmation"&&O.length>0&&r.jsx("div",{className:"mb-8",children:r.jsx(Iwe,{incidentId:t,aiHypotheses:O,onConfirmationComplete:ge})}),P==="evidence-collection"&&i.length>0&&r.jsx("div",{className:"mb-8",children:r.jsx(Y,{children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),"Step 5: Evidence Collection Interface"]}),r.jsx(ve,{children:"Collect evidence for confirmed hypotheses based on human verification"})]})})}),C&&(m==null?void 0:m.aiHypotheses)&&r.jsx(_we,{incidentId:t,aiHypotheses:m.aiHypotheses,instructions:m.instructions||"Review AI-generated failure hypotheses and select which ones to investigate further",onHypothesesConfirmed:T=>{console.log("[Universal RCA] Hypotheses confirmed, received evidence:",T),s(T),_(!1),H({title:"Hypotheses Confirmed",description:"Evidence collection requirements generated for confirmed failure modes"})}}),b&&m&&!C&&r.jsxs(Y,{className:"mb-6 border-orange-200 bg-orange-50",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(_t,{className:"h-5 w-5 text-orange-600"}),m!=null&&m.fallbackMode?"AI-Inferred Analysis (Low Confidence)":"Human Verification Required"]}),r.jsx(ve,{children:m!=null&&m.fallbackMode?"Evidence Library confidence LOW. AI has inferred potential failure modes using engineering knowledge. INVESTIGATOR VERIFICATION REQUIRED.":"AI has analyzed the incident description and generated hypotheses. Please review and approve before proceeding."}),(m==null?void 0:m.fallbackMode)&&r.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800 text-sm",children:[r.jsx("strong",{children:"FALLBACK LOGIC ACTIVE:"})," No high-confidence Evidence Library matches found. Analysis based on AI engineering inference only."]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Extracted Symptoms:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(kn=m.extractedSymptoms)==null?void 0:kn.map((T,V)=>r.jsxs(J,{variant:"outline",className:m.fallbackMode?"bg-yellow-50":"bg-blue-50",children:[T.keyword," (",T.confidence,"% ",m.fallbackMode?"AI-inferred":"confidence",")"]},V))})]}),m.aiHypotheses&&Array.isArray(m.aiHypotheses)&&m.aiHypotheses.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:m!=null&&m.fallbackMode?"AI-Inferred Failure Modes (Review Required):":"AI Failure Hypotheses (Review Required):"}),r.jsx("div",{className:"space-y-3",children:m.aiHypotheses.map((T,V)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-white",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h5",{className:"font-medium",children:T.hypothesis}),r.jsxs(J,{variant:T.aiConfidence>80?"default":"secondary",children:[T.aiConfidence,"% ",T.confidenceSource||"AI Confidence"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T.reasoning}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{size:"sm",variant:x[T.id]==="accept"?"default":"outline",className:"text-green-600 hover:bg-green-50",onClick:q=>{q.preventDefault(),console.log("Accept clicked for hypothesis:",T.id,T),N(ne=>{const re={...ne,[T.id]:"accept"};return console.log("Updated feedback state:",re),re})},children:"✅ Accept"}),r.jsx(W,{size:"sm",variant:x[T.id]==="reject"?"default":"outline",className:"text-red-600 hover:bg-red-50",onClick:q=>{q.preventDefault(),console.log("Reject clicked for hypothesis:",T.id,T),N(ne=>{const re={...ne,[T.id]:"reject"};return console.log("Updated feedback state:",re),re})},children:"❌ Reject"}),r.jsx(W,{size:"sm",variant:x[T.id]==="modify"?"default":"outline",className:"text-blue-600 hover:bg-blue-50",onClick:q=>{q.preventDefault(),console.log("Modify clicked for hypothesis:",T.id,T),N(ne=>{const re={...ne,[T.id]:"modify"};return console.log("Updated feedback state:",re),re})},children:"✏️ Modify"})]})]},T.id||V))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Add Custom Failure Modes (Optional):"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:E,onChange:T=>S(T.target.value),placeholder:"Enter custom failure mode based on your experience",className:"flex-1 px-3 py-2 border rounded-md text-sm"}),r.jsx(W,{size:"sm",onClick:()=>{E.trim()&&(k(T=>[...T,E.trim()]),S(""))},disabled:!E.trim(),children:"Add"})]}),w.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((T,V)=>r.jsxs(J,{variant:"secondary",className:"bg-green-50",children:[T,r.jsx("button",{className:"ml-1 text-red-500 hover:text-red-700",onClick:()=>k(q=>q.filter((ne,re)=>re!==V)),children:"×"})]},V))})]})]}),r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx(W,{onClick:async()=>{var q,ne;const T=((q=m==null?void 0:m.aiHypotheses)==null?void 0:q.filter(re=>x[re.id]==="accept").map(re=>re.hypothesis))||[],V=((ne=m==null?void 0:m.aiHypotheses)==null?void 0:ne.filter(re=>x[re.id]==="reject").map(re=>re.hypothesis))||[];if(m!=null&&m.fallbackMode)try{const re=await fetch(`/api/incidents/${t}/fallback-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmedCauses:T,disagreedCauses:V,alternativeCauses:[],customFailureModes:w,userReasoning:"User feedback on AI-inferred failure modes"})});if(re.ok){const oe=await re.json();console.log("[FALLBACK LOGIC] Feedback submitted successfully:",oe),g(!1)}}catch(re){console.error("[FALLBACK LOGIC] Failed to submit feedback:",re)}else g(!1),console.log("[HUMAN VERIFICATION] User proceeding with incident-only analysis")},className:"w-full",disabled:(m==null?void 0:m.aiHypotheses)&&m.aiHypotheses.length>0&&Object.keys(x).length===0&&w.length===0,children:m!=null&&m.fallbackMode?"Submit Investigator Feedback":"Proceed with Verified Hypotheses"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:m!=null&&m.fallbackMode?"Your feedback helps improve future analysis and may be reviewed for Evidence Library enhancement":"Please provide feedback on at least one hypothesis to continue"})]})]})})]}),d&&r.jsxs(Kt,{className:"mb-6",children:[r.jsx(_t,{className:"h-4 w-4 animate-spin"}),r.jsxs(Yt,{children:[r.jsx("strong",{children:"Incident-Only AI Analysis:"})," Extracting symptoms from incident description (no equipment assumptions)..."]})]}),i.length>0&&r.jsxs(Kt,{className:"mb-6 border-blue-200 bg-blue-50",children:[r.jsx(BI,{className:"h-4 w-4"}),r.jsxs(Yt,{children:[r.jsx("strong",{children:"AI Incident Analysis:"})," Based on the incident description, our AI has identified ",(i==null?void 0:i.length)||0," evidence items. Focus on completing all Critical items and at least 80% of High priority items.",l&&r.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-green-800",children:[r.jsx("strong",{children:"Elimination Analysis:"})," Professional engineering logic eliminated ",l.totalEliminated," failure modes, providing +",l.confidenceBoost,"% confidence boost to focus investigation on primary causes."]})]})]}),a.length>0&&r.jsxs(Y,{className:"mb-6 border-orange-200 bg-orange-50",children:[r.jsxs(X,{className:"pb-3",children:[r.jsxs(Z,{className:"flex items-center justify-between text-orange-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"h-5 w-5"}),"Eliminated Failure Modes (",a.length,")"]}),r.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>v(!h),className:"text-orange-700 hover:text-orange-900",children:[h?"Hide":"Show"," Details"]})]}),r.jsx(ve,{className:"text-orange-700",children:"These failure modes were automatically eliminated by engineering logic and do not require evidence collection."})]}),h&&r.jsx(Q,{className:"pt-0",children:r.jsx("div",{className:"space-y-3",children:a.map(T=>r.jsx("div",{className:"p-3 bg-white rounded border border-orange-200 opacity-75",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-600 line-through",children:T.title}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.description}),T.eliminationReason&&r.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600",children:[r.jsx("strong",{children:"Eliminated:"})," ",T.eliminationReason]})]}),r.jsx(J,{variant:"secondary",className:"ml-2 bg-orange-100 text-orange-800",children:"Eliminated"})]})},T.id))})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ce.length>0&&r.jsxs(Y,{className:"border-red-200",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2 text-red-700",children:[r.jsx(ut,{className:"h-5 w-5"}),"Critical Evidence (",ce.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())}).length,"/",ce.length,")"]}),r.jsx(ve,{children:"Required for accurate analysis"})]}),r.jsx(Q,{className:"space-y-4",children:ce.map(T=>r.jsx(jm,{item:T,onToggle:me,onNotesUpdate:Se,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:ye},T.id))})]}),de.length>0&&r.jsxs(Y,{className:"border-orange-200",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2 text-orange-700",children:[r.jsx(ut,{className:"h-5 w-5"}),"High Priority Evidence (",de.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())}).length,"/",de.length,")"]}),r.jsx(ve,{children:"Complete at least 80% for optimal analysis"})]}),r.jsx(Q,{className:"space-y-4",children:de.map(T=>r.jsx(jm,{item:T,onToggle:me,onNotesUpdate:Se,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:ye},T.id))})]}),Pe.length>0&&r.jsxs(Y,{className:"border-yellow-200",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2 text-yellow-700",children:[r.jsx(Zt,{className:"h-5 w-5"}),"Medium Priority Evidence (",Pe.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())}).length,"/",Pe.length,")"]}),r.jsx(ve,{children:"Helpful for comprehensive analysis"})]}),r.jsx(Q,{className:"space-y-4",children:Pe.map(T=>r.jsx(jm,{item:T,onToggle:me,onNotesUpdate:Se,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:ye},T.id))})]}),Ce.length>0&&r.jsxs(Y,{className:"border-green-200",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2 text-green-700",children:[r.jsx(Zt,{className:"h-5 w-5"}),"Additional Evidence (",Ce.filter(T=>{var V;return T.completed||T.isUnavailable&&((V=T.unavailableReason)==null?void 0:V.trim())}).length,"/",Ce.length,")"]}),r.jsx(ve,{children:"Optional but valuable context"})]}),r.jsx(Q,{className:"space-y-4",children:Ce.map(T=>r.jsx(jm,{item:T,onToggle:me,onNotesUpdate:Se,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:ye},T.id))})]})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/equipment-selection?incident=${t}`),children:"← Back to Equipment Selection"}),r.jsx(W,{onClick:B,disabled:!mn||we.isPending,className:"flex items-center gap-2",children:we.isPending?r.jsxs(r.Fragment,{children:[r.jsx(_t,{className:"h-4 w-4 animate-spin"}),"Saving Progress..."]}):r.jsxs(r.Fragment,{children:["Proceed to Evidence Collection",r.jsx(hp,{className:"h-4 w-4"})]})})]}),!mn&&i.length>0&&r.jsxs(Kt,{className:"mt-4 border-amber-200 bg-amber-50",children:[r.jsx(ut,{className:"h-4 w-4"}),r.jsxs(Yt,{children:[r.jsx("strong",{children:"Requirements to Proceed:"}),r.jsx("br",{}),"• Critical Items: ",Xe.length,"/",ce.length," completed ",ce.length>0&&Xe.length<ce.length?"(Missing items need to be completed or marked unavailable)":"✓",r.jsx("br",{}),"• High Priority Items: ",st.length,"/",de.length," completed (need ",Nt,") ",st.length>=Nt?"✓":`(Need ${Nt-st.length} more)`,r.jsx("br",{}),r.jsx("em",{children:"Tip: After uploading files, make sure to check the completion checkbox for each evidence item."})]})]})]})]})}function jm({item:e,onToggle:t,onNotesUpdate:n,onFileUpload:i,onFileRemove:s,onUnavailabilityChange:a}){const[o,l]=j.useState(e.unavailableReason||""),{getRootProps:c,getInputProps:d,isDragActive:u}=nS({onDrop:f=>{f.length>0&&i(e.id,f)},accept:{"application/pdf":[".pdf"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/csv":[".csv"],"image/*":[".png",".jpg",".jpeg"],"text/plain":[".txt"]},maxFiles:5,disabled:e.isUnavailable});return r.jsx("div",{className:`p-4 border rounded-lg ${e.isUnavailable?"bg-orange-50 border-orange-200":e.completed?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Yn,{checked:e.completed,onCheckedChange:f=>t(e.id,!!f),className:"mt-1",disabled:e.isUnavailable}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h4",{className:"font-medium",children:e.title}),r.jsx(J,{variant:e.priority==="Critical"?"destructive":e.priority==="High"?"default":e.priority==="Medium"?"secondary":"outline",children:e.priority}),e.aiGenerated&&r.jsxs(J,{variant:"outline",className:"text-xs",children:[r.jsx(_t,{className:"h-3 w-3 mr-1"}),"AI Generated"]}),e.isUnavailable&&r.jsx(J,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800 text-xs",children:"Not Available"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),e.examples&&e.examples.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx(ie,{className:"text-xs font-medium text-muted-foreground",children:"Examples:"}),r.jsx("ul",{className:"text-xs text-muted-foreground mt-1 ml-4",children:e.examples.map((f,p)=>r.jsx("li",{className:"list-disc",children:f},p))})]}),r.jsx("div",{className:"mb-3 border rounded-lg p-3 bg-orange-50 border-orange-200",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yn,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:f=>{a(e.id,f,o)}}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(ie,{htmlFor:`unavailable-${e.id}`,className:"text-xs font-medium cursor-pointer flex items-center gap-2",children:[r.jsx(wr,{className:"h-3 w-3 text-orange-600"}),"This evidence is not available or accessible"]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&r.jsxs("div",{className:"mt-2",children:[r.jsx(ie,{htmlFor:`reason-${e.id}`,className:"text-xs font-medium",children:"Why is this evidence unavailable? *"}),r.jsx(We,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:o,onChange:f=>{l(f.target.value),a(e.id,!0,f.target.value)},className:"mt-1 text-xs",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&r.jsxs("div",{className:"mb-3",children:[r.jsx(ie,{className:"text-xs font-medium",children:"Upload Evidence Files"}),r.jsxs("div",{...c(),className:`mt-1 border-2 border-dashed rounded-lg p-3 text-center transition-colors cursor-pointer ${u?"border-primary bg-primary/5":"border-gray-300 hover:border-primary/50"}`,children:[r.jsx("input",{...d()}),r.jsx(Va,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-600",children:u?"Drop files here":"Drag files or click to browse"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, Excel, CSV, Images, Text files"})]})]}),!e.isUnavailable&&e.files&&e.files.length>0&&r.jsxs("div",{className:"mb-3",children:[r.jsxs(ie,{className:"text-xs font-medium",children:["Uploaded Files (",e.files.length,")"]}),r.jsx("div",{className:"mt-1 space-y-1",children:e.files.map((f,p)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 rounded text-xs",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-3 w-3"}),f.name," (",(f.size/1024).toFixed(1)," KB)"]}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>s(e.id,p),className:"h-6 w-6 p-0 text-gray-500 hover:text-red-500",children:r.jsx(Ws,{className:"h-3 w-3"})})]},p))})]}),r.jsxs("div",{children:[r.jsx(ie,{className:"text-xs font-medium",children:"Notes (optional)"}),r.jsx(We,{placeholder:"Add notes about this evidence item...",value:e.notes||"",onChange:f=>n(e.id,f.target.value),className:"mt-1 text-sm",rows:2})]})]})]})})}function lO(){const[,e]=ai(),{toast:t}=Dt();j.useState(null);const[n,i]=j.useState({}),[s,a]=j.useState({}),l=new URLSearchParams(window.location.search).get("incident"),{data:c,isLoading:d}=Oe({queryKey:["/api/incidents",l],enabled:!!l}),{data:u=[],isLoading:f,refetch:p}=Oe({queryKey:["/api/incidents",l,"evidence-files"],enabled:!!l,refetchOnWindowFocus:!0,refetchInterval:parseInt("3000")}),h=Ye({mutationFn:async g=>(console.log("[REVIEW ACTION] Submitting:",g),await lt(`/api/incidents/${l}/review-evidence`,{method:"POST",body:JSON.stringify(g)})),onSuccess:g=>{console.log("[REVIEW ACTION] Success:",g),p(),Ot.invalidateQueries({queryKey:["/api/incidents",l,"evidence-files"]}),t({title:"Review Submitted",description:"Evidence file review status updated successfully"});const x=g,{fileId:N,action:w}=(x==null?void 0:x.data)||{};N&&w&&a(k=>({...k,[N]:w}))},onError:g=>{console.error("[REVIEW ACTION] Error:",g),t({title:"Error",description:g.message||"Failed to submit review",variant:"destructive"})}}),v=Array.isArray(u)&&u.length>0&&u.every(g=>{const x=s[g.id]||g.reviewStatus;return x==="ACCEPTED"||x==="REPLACED"}),m=Array.isArray(u)?u.filter(g=>{const x=s[g.id]||g.reviewStatus;return x==="ACCEPTED"||x==="REPLACED"}).length:0,y=(g,x,N)=>{if(console.log("[CHECKBOX REVIEW] Checkbox changed:",{fileId:g,action:x,checked:N}),N){if(h.isPending){console.log("[CHECKBOX REVIEW] Already pending, ignoring click"),t({title:"Please Wait",description:"Review submission in progress...",variant:"default"});return}a(k=>({...k,[g]:x}));const w=n[g]||"";console.log("[CHECKBOX REVIEW] Submitting with comments:",w),h.mutate({fileId:g,action:x,comments:w})}else a(w=>({...w,[g]:"UNREVIEWED"}))},b=()=>{v?e(`/ai-analysis?incident=${l}`):t({title:"Review Required",description:`Please review all evidence files (${m}/${Array.isArray(u)?u.length:0} completed) before proceeding to AI analysis`,variant:"destructive"})};return l?d||f?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading evidence files..."}),r.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Preparing human review panel..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(vn,{href:"/",children:r.jsx(W,{variant:"outline",size:"sm",children:"← Back to Home"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Stage 3B & 4B: Human Review Panel"}),r.jsx("p",{className:"text-slate-600",children:"Review and confirm all uploaded evidence files before AI analysis"})]})]}),r.jsxs(J,{variant:"secondary",className:"text-sm",children:["Incident #",l]})]}),r.jsxs(Y,{className:"mb-8",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Nr,{className:"h-5 w-5 text-blue-600"}),"Review Progress"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[m,r.jsxs("span",{className:"text-slate-500",children:["/",Array.isArray(u)?u.length:0]})]}),r.jsx("div",{className:"text-sm text-slate-600",children:"Files Reviewed"})]}),v?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-green-600 font-medium",children:"All Files Reviewed"}),r.jsx(W,{onClick:b,className:"ml-4",children:"Proceed to AI Analysis →"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"h-5 w-5 text-amber-600"}),r.jsx("span",{className:"text-amber-600 font-medium",children:"Review Required"})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Array.isArray(u)&&u.map(g=>r.jsxs(Y,{className:`transition-all ${g.reviewStatus==="ACCEPTED"?"border-green-300 bg-green-50":g.reviewStatus==="REPLACED"?"border-blue-300 bg-blue-50":g.reviewStatus==="NEEDS_MORE_INFO"?"border-amber-300 bg-amber-50":"border-slate-300"}`,children:[r.jsxs(X,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Z,{className:"flex items-center gap-2 text-sm",children:[r.jsx(Zt,{className:"h-4 w-4"}),g.fileName]}),r.jsx(J,{variant:g.reviewStatus==="ACCEPTED"?"default":g.reviewStatus==="REPLACED"?"secondary":g.reviewStatus==="NEEDS_MORE_INFO"?"destructive":"outline",className:g.reviewStatus==="ACCEPTED"?"bg-green-600 text-white":g.reviewStatus==="REPLACED"?"bg-blue-600 text-white":g.reviewStatus==="NEEDS_MORE_INFO"?"bg-amber-600 text-white":"bg-gray-200 text-gray-700",children:g.reviewStatus})]}),r.jsxs("div",{className:"text-xs text-slate-500",children:[g.category||g.evidenceCategory||"General Evidence"," • ",g.mimeType||g.fileType||"Unknown"," • ",new Date(g.uploadedAt).toLocaleString()]})]}),r.jsxs(Q,{className:"space-y-4",children:[g.parsedSummary&&r.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm",children:[r.jsxs("div",{className:"font-medium text-blue-700 mb-1 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Python Backend Analysis:"]}),r.jsx("div",{className:"text-slate-600",children:g.parsedSummary})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-purple-700 mb-1 flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"LLM/AI Diagnostic Interpretation:"]}),g.llmInterpretation?r.jsxs("div",{className:"bg-purple-50 p-3 rounded space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Most Likely Root Causes:"}),r.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(g.llmInterpretation.mostLikelyRootCauses||[]).map((x,N)=>r.jsx("li",{children:x},N))})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Recommendations:"}),r.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(g.llmInterpretation.pinnpointedRecommendations||[]).map((x,N)=>r.jsx("li",{children:x},N))})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("span",{children:["LLM Confidence: ",r.jsxs(J,{variant:"outline",className:"text-xs",children:[g.llmInterpretation.confidence||0,"%"]})]}),r.jsxs("span",{children:["Missing Evidence: ",(g.llmInterpretation.missingEvidence||[]).length," items"]})]}),r.jsx("div",{className:"text-xs text-purple-600 bg-purple-100 p-2 rounded",children:g.llmInterpretation.diagnosticSummary||"LLM diagnostic analysis completed"})]}):r.jsxs("div",{className:"bg-red-50 p-3 rounded text-sm",children:[r.jsx("div",{className:"text-red-700 font-medium flex items-center gap-2",children:"⚠️ Protocol Violation: Missing LLM Analysis"}),r.jsx("div",{className:"text-red-600 text-xs mt-1",children:"Universal Protocol Standard requires BOTH Python parsing AND LLM diagnostic interpretation. This file cannot be reviewed until LLM analysis is completed."})]})]}),g.adequacyScore!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-slate-600",children:"Adequacy Score:"}),r.jsxs(J,{variant:g.adequacyScore>=80?"default":g.adequacyScore>=60?"secondary":"destructive",children:[g.adequacyScore,"%"]})]}),g.analysisFeatures&&r.jsxs("div",{className:"text-xs text-slate-500",children:["Features: ",Object.keys(g.analysisFeatures).join(", ")]}),r.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[r.jsx(We,{placeholder:"Add review comments (optional)...",value:n[g.id]||"",onChange:x=>i(N=>({...N,[g.id]:x.target.value})),rows:2,className:"text-sm"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:`accept-${g.id}`,checked:s[g.id]==="ACCEPTED"||g.reviewStatus==="ACCEPTED",onCheckedChange:x=>y(g.id,"ACCEPTED",!!x),disabled:h.isPending,className:"data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),r.jsx(ie,{htmlFor:`accept-${g.id}`,className:"text-sm font-medium text-green-700 cursor-pointer",children:"✓ Accept Evidence File - Ready for AI Analysis"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:`need-info-${g.id}`,checked:s[g.id]==="NEEDS_MORE_INFO"||g.reviewStatus==="NEEDS_MORE_INFO",onCheckedChange:x=>y(g.id,"NEEDS_MORE_INFO",!!x),disabled:h.isPending,className:"data-[state=checked]:bg-amber-600 data-[state=checked]:border-amber-600"}),r.jsx(ie,{htmlFor:`need-info-${g.id}`,className:"text-sm font-medium text-amber-700 cursor-pointer",children:"? Needs More Information - Additional Data Required"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:`replace-${g.id}`,checked:s[g.id]==="REPLACED"||g.reviewStatus==="REPLACED",onCheckedChange:x=>y(g.id,"REPLACED",!!x),disabled:h.isPending,className:"data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"}),r.jsx(ie,{htmlFor:`replace-${g.id}`,className:"text-sm font-medium text-red-700 cursor-pointer",children:"↻ Replace File - Upload Different Evidence"})]})]}),(s[g.id]||g.reviewStatus!=="UNREVIEWED")&&r.jsxs("div",{className:`p-3 rounded text-sm font-medium ${(s[g.id]||g.reviewStatus)==="ACCEPTED"?"bg-green-100 text-green-800":(s[g.id]||g.reviewStatus)==="REPLACED"?"bg-red-100 text-red-800":(s[g.id]||g.reviewStatus)==="NEEDS_MORE_INFO"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:["Status: ",s[g.id]||g.reviewStatus,h.isPending&&" (Updating...)"]})]}),g.userComments&&r.jsxs("div",{className:"bg-slate-100 p-2 rounded text-xs",children:[r.jsx("div",{className:"font-medium text-slate-600",children:"Review Comments:"}),r.jsx("div",{className:"text-slate-700",children:g.userComments})]})]})]},g.id))}),(!Array.isArray(u)||u.length===0)&&r.jsx(Y,{children:r.jsxs(Q,{className:"text-center py-12",children:[r.jsx(Va,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),r.jsx("div",{className:"text-lg font-medium text-slate-600 mb-2",children:"No Evidence Files Found"}),r.jsx("div",{className:"text-sm text-slate-500 mb-4",children:"Please upload evidence files in the previous steps before proceeding to human review."}),r.jsx(W,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${l}`),children:"← Back to Evidence Collection"})]})}),r.jsxs(Y,{className:"mt-8",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(kz,{className:"h-5 w-5 text-blue-600"}),"Review Instructions"]})}),r.jsxs(Q,{className:"text-sm text-slate-600 space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ACCEPT:"})," File analysis is correct and adequate for RCA"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"NEEDS MORE INFO:"})," File is parsed but requires additional context or clarification"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"REPLACE:"})," File should be replaced with a better version or different file type"]}),r.jsx("div",{className:"text-amber-600 font-medium mt-4",children:"⚠️ All files must be reviewed before AI analysis can proceed (Universal RCA Requirement)"})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error: No Incident ID"}),r.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Please access this page from the evidence collection workflow."})]})})}function cO(){var x,N,w,k,E,S,C,_,P,A;const[,e]=ai(),[,t]=tv("/incidents/:id/analysis"),n=new URLSearchParams(window.location.search),i=t!=null&&t.id?parseInt(t.id):n.get("incident")?parseInt(n.get("incident")):null,[s,a]=j.useState("initializing"),[o,l]=j.useState(0),[c,d]=j.useState(null),[u,f]=j.useState(!1),{data:p,isLoading:h}=Oe({queryKey:[`/api/incidents/${i}`],enabled:!!i}),v=Ye({mutationFn:async O=>{const I=await fetch(`/api/incidents/${O}/rca-synthesis`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!I.ok)throw new Error(`RCA synthesis failed: ${I.status}`);return await I.json()},onSuccess:O=>{var I,F,$,G,z;if(console.log("RCA Synthesis completed:",O),O.data&&O.data.recommendations){const H=O.data,D={overallConfidence:H.overallConfidence||0,analysisDate:new Date(H.analysisDate)||new Date,rootCauses:((I=H.recommendations)==null?void 0:I.map((U,R)=>({id:U.faultId||`fault-${R}`,description:U.specificFault||"Unknown fault",confidence:U.confidence||0,category:"Deterministic AI",evidence:U.evidenceSupport||[],likelihood:U.confidence>=80?"Very High":U.confidence>=60?"High":"Medium",impact:"Critical",priority:R+1})))||[],recommendations:((F=H.recommendations)==null?void 0:F.flatMap((U,R)=>{var se;return((se=U.recommendedActions)==null?void 0:se.map((ge,te)=>({id:`${U.faultId}-action-${te}`,title:`${U.specificFault} - Action ${te+1}`,description:ge,priority:U.confidence>=80?"Immediate":"Short-term",category:"Deterministic",estimatedCost:"TBD",timeframe:U.confidence>=80?"Immediate":"1-2 weeks",responsible:"Engineering Team",preventsProbability:U.confidence})))||[]}))||[],crossMatchResults:{libraryMatches:(($=H.recommendations)==null?void 0:$.length)||0,patternSimilarity:H.overallConfidence||0,historicalData:[`Analysis Method: ${H.analysisMethod}`,`Determinism Check: ${H.determinismCheck}`]},evidenceGaps:((G=H.recommendations)==null?void 0:G.filter(U=>{var R;return((R=U.requiredEvidence)==null?void 0:R.length)>0}).flatMap(U=>U.requiredEvidence))||[],additionalInvestigation:((z=H.recommendations)==null?void 0:z.map(U=>U.analysisRationale).filter(Boolean))||[]};d(D)}a("completed"),l(100),f(!1)},onError:O=>{console.error("Universal RCA Analysis failed:",O),a("error"),f(!1),O.message.includes("No reviewed evidence files")&&a("no_reviewed_evidence")}}),{data:m,isLoading:y}=Oe({queryKey:[`/api/incidents/${i}/analysis`],enabled:!!i});j.useEffect(()=>{p&&m&&!y&&(m&&Object.keys(m).length>0?(console.log("Loading existing analysis results:",m),d(m),a("completed"),l(100),f(!1)):!c&&!u&&i&&(console.log("Starting Universal RCA analysis for incident:",i),f(!0),b(),v.mutate(i)))},[p,m,y]);const b=()=>{const O=[{name:"Steps 1-3: AI Hypothesis Generation",duration:parseInt("2000")},{name:"Step 4: Evidence Status Validation",duration:parseInt("2000")},{name:"Step 5: Data Analysis with Confidence Assessment",duration:parseInt("3000")},{name:"Step 6: Low-Confidence Fallback (if needed)",duration:parseInt("2000")},{name:"Steps 7-9: Enhanced RCA with PSM Integration",duration:parseInt("3000")}];let I=0;O.forEach((F,$)=>{setTimeout(()=>{a(F.name),l(($+1)*20)},I),I+=F.duration})},g=()=>{i&&e(`/analysis-details/${i}`)};return h||y||!p?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading incident details..."})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(W,{variant:"ghost",onClick:()=>e("/"),children:"← Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),r.jsx("h1",{className:"text-xl font-bold",children:"Steps 5-6: AI Analysis & Draft RCA"})]})]}),r.jsxs(J,{variant:"outline",className:"text-sm",children:["Incident #",(p==null?void 0:p.id)||i]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u&&r.jsxs(Y,{className:"mb-8",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(_t,{className:"h-5 w-5 animate-spin"}),"AI Analysis in Progress"]}),r.jsx(ve,{children:"Advanced root cause analysis using evidence library cross-matching and pattern recognition"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:s}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"%"]})]}),r.jsx(Rr,{value:o,className:"h-2"})]})})]}),c&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(Y,{children:r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ls,{className:"h-5 w-5"}),"Analysis Complete"]}),r.jsxs(ve,{children:[p==null?void 0:p.title," - ",p==null?void 0:p.equipmentGroup," → ",p==null?void 0:p.equipmentType]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-3xl font-bold text-primary",children:[c.overallConfidence,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"})]})]})})}),r.jsxs(Zn,{defaultValue:"root-causes",className:"w-full",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-4",children:[r.jsx(Te,{value:"root-causes",children:"Root Causes"}),r.jsx(Te,{value:"recommendations",children:"Recommendations"}),r.jsx(Te,{value:"cross-match",children:"Library Match"}),r.jsx(Te,{value:"gaps",children:"Evidence Gaps"})]}),r.jsx(Ee,{value:"root-causes",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Identified Root Causes"}),r.jsx(ve,{children:"Ranked by confidence and impact assessment"})]}),r.jsx(Q,{className:"space-y-4",children:c.rootCauses&&c.rootCauses.length>0?c.rootCauses.map((O,I)=>r.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(J,{variant:"outline",className:"font-mono",children:["#",I+1]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:O.description}),r.jsx("p",{className:"text-sm text-muted-foreground",children:O.category})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[O.confidence,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Likelihood"}),r.jsx(J,{variant:O.likelihood==="Very High"?"destructive":O.likelihood==="High"?"default":O.likelihood==="Medium"?"secondary":"outline",className:"ml-2",children:O.likelihood})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Impact"}),r.jsx(J,{variant:O.impact==="Critical"?"destructive":O.impact==="High"?"default":O.impact==="Medium"?"secondary":"outline",className:"ml-2",children:O.impact})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Supporting Evidence"}),r.jsx("ul",{className:"mt-1 text-sm text-muted-foreground",children:O.evidence&&O.evidence.length>0?O.evidence.map((F,$)=>r.jsxs("li",{className:"list-disc list-inside",children:["• ",F]},$)):r.jsx("li",{className:"text-amber-600",children:"• No direct evidence available - analysis based on symptoms and patterns"})})]}),O.aiRemarks&&r.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(_t,{className:"h-4 w-4 text-amber-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-amber-800",children:"AI Analysis Note"}),r.jsx("p",{className:"text-sm text-amber-700 mt-1",children:O.aiRemarks})]})]})})]})]},O.id)):r.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[r.jsx(ls,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"Analysis Results Available"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["RCA synthesis completed with ",c.overallConfidence,"% confidence. Check other tabs for recommendations and detailed analysis."]})]})})]})}),r.jsx(Ee,{value:"recommendations",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Corrective Recommendations"}),r.jsx(ve,{children:"Prioritized action items to prevent recurrence"})]}),r.jsx(Q,{className:"space-y-4",children:c.recommendations&&c.recommendations.length>0?c.recommendations.map((O,I)=>r.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(J,{variant:O.priority==="Immediate"?"destructive":O.priority==="Short-term"?"default":"secondary",children:O.priority}),r.jsx("h4",{className:"font-semibold",children:O.title})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:O.description})]}),r.jsxs("div",{className:"text-right text-sm",children:[r.jsx("div",{className:"font-medium",children:O.estimatedCost}),r.jsx("div",{className:"text-muted-foreground",children:O.timeframe})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Category:"})," ",O.category]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Responsible:"})," ",O.responsible]})]}),r.jsx("div",{className:"mt-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs font-medium",children:"Prevention Effectiveness:"}),r.jsx(Rr,{value:O.preventsProbability,className:"flex-1 h-2"}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[O.preventsProbability,"%"]})]})})]},O.id)):r.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[r.jsx(_t,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),r.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"No Specific Recommendations Generated"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Due to limited evidence, AI could not generate specific corrective actions. Consider uploading additional technical data for more detailed recommendations."})]})})]})}),r.jsx(Ee,{value:"cross-match",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(vp,{className:"h-5 w-5"}),"Evidence Library Cross-Match Results"]}),r.jsx(ve,{children:"Comparison with historical equipment failures and patterns"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary",children:((x=c.crossMatchResults)==null?void 0:x.libraryMatches)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Similar Cases Found"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("div",{className:"text-3xl font-bold text-primary",children:[((N=c.crossMatchResults)==null?void 0:N.patternSimilarity)||0,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Pattern Similarity"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary",children:((k=(w=c.crossMatchResults)==null?void 0:w.historicalData)==null?void 0:k.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Historical References"})]})]}),(((S=(E=c.crossMatchResults)==null?void 0:E.historicalData)==null?void 0:S.length)||0)>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Historical Data References"}),r.jsx("ul",{className:"space-y-2",children:(((C=c.crossMatchResults)==null?void 0:C.historicalData)||[]).map((O,I)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Ct,{className:"h-4 w-4 text-green-600"}),O]},I))})]})]})]})}),r.jsx(Ee,{value:"gaps",className:"space-y-4",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"h-5 w-5"}),"Evidence Gaps & Additional Investigation"]}),r.jsx(ve,{children:"Areas requiring further investigation for complete analysis"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(_t,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"AI Evidence Analysis Summary"}),r.jsx("p",{className:"text-sm text-blue-700",children:c.overallConfidence>=80?"Analysis completed with adequate evidence. High confidence in root cause identification.":c.overallConfidence>=50?"Analysis completed with moderate evidence. Some assumptions required for root cause analysis.":"Analysis based primarily on hypothesis due to limited evidence. Results should be validated with additional data."}),r.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Evidence Adequacy: ",c.overallConfidence,"% | Files Analyzed: ",((_=c.crossMatchResults)==null?void 0:_.libraryMatches)||0," | Confidence Level: ",c.overallConfidence>=80?"High":c.overallConfidence>=50?"Medium":"Low"]})]})]})}),(((P=c.evidenceGaps)==null?void 0:P.length)||0)>0?r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-orange-700",children:"Evidence Gaps Identified"}),r.jsx("ul",{className:"space-y-2",children:(c.evidenceGaps||[]).map((O,I)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(ut,{className:"h-4 w-4 text-orange-500 mt-0.5"}),O]},I))})]}):r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-green-700",children:"Evidence Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[r.jsx(Ct,{className:"h-4 w-4"}),"No critical evidence gaps identified based on available data"]})]}),(((A=c.additionalInvestigation)==null?void 0:A.length)||0)>0?r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Additional Investigation Recommended"}),r.jsx("ul",{className:"space-y-2",children:(c.additionalInvestigation||[]).map((O,I)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(Ci,{className:"h-4 w-4 text-blue-500 mt-0.5"}),O]},I))})]}):r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Investigation Status"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[r.jsx(Ct,{className:"h-4 w-4"}),"Current analysis appears complete based on available evidence"]})]})]})]})})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${i}`),children:"← Back to Evidence Collection"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/summary-report/${i}`),children:"📋 Generate Summary Report"}),r.jsxs(W,{onClick:g,className:"flex items-center gap-2",children:["Proceed to Engineer Review",r.jsx(hp,{className:"h-4 w-4"})]})]})]})]})]})]})}function Mwe(){var c,d,u,f,p,h;const[,e]=tv("/incidents/:id/fallback-analysis"),t=e==null?void 0:e.id,[n,i]=j.useState(null),[s,a]=j.useState(!1),{data:o}=Oe({queryKey:[`/api/incidents/${t}`],enabled:!!t}),l=Ye({mutationFn:async()=>{a(!0);const v={},m=(o==null?void 0:o.evidenceResponses)||[],y=await fetch(`/api/incidents/${t}/fallback-analysis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({evidenceAvailability:v,uploadedFiles:m})});if(!y.ok)throw new Error(`Fallback analysis failed: ${y.status}`);return y.json()},onSuccess:v=>{console.log("Fallback analysis completed:",v),i(v),a(!1)},onError:v=>{console.error("Fallback analysis failed:",v),a(!1)}});return j.useEffect(()=>{o&&!n&&!s&&l.mutate()},[o]),o?r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx(vn,{href:`/incidents/${t}/evidence-collection`,children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(_t,{className:"h-6 w-6 text-purple-600"}),"AI Fallback Analysis"]}),r.jsx("p",{className:"text-muted-foreground",children:"Universal RCA Fallback and Hybrid Inference Logic"})]})]}),r.jsxs(Kt,{className:"border-purple-200 bg-purple-50",children:[r.jsx(_t,{className:"h-4 w-4"}),r.jsxs(Yt,{children:[r.jsx("strong",{children:"AI Fallback Mode:"})," When Evidence Library matching fails (<80% confidence), this system uses GPT to generate plausible failure hypotheses and engineering assumptions. Analysis proceeds with documented limitations and confidence flags."]})]})]}),s&&r.jsx(Y,{className:"mb-6",children:r.jsx(Q,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Running AI Fallback Analysis..."}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Extracting symptoms → Checking Evidence Library → Generating AI hypotheses → Assessing evidence → Creating analysis"})]})]})})}),n&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),"Fallback Analysis Complete"]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((c=n.fallbackAnalysis)==null?void 0:c.confidence)||"N/A","%"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Confidence"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((d=n.hypotheses)==null?void 0:d.length)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Hypotheses"})]}),r.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-amber-600",children:((f=(u=n.fallbackAnalysis)==null?void 0:u.confidenceFlags)==null?void 0:f.length)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Flags"})]})]}),((p=n.fallbackAnalysis)==null?void 0:p.primaryRootCause)&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Primary Root Cause (AI Inferred)"}),r.jsx("p",{className:"text-green-700 font-medium",children:n.fallbackAnalysis.primaryRootCause}),n.fallbackAnalysis.aiReasoning&&r.jsx("p",{className:"text-sm text-green-600 mt-2",children:n.fallbackAnalysis.aiReasoning})]}),((h=n.fallbackAnalysis)==null?void 0:h.confidenceFlags)&&n.fallbackAnalysis.confidenceFlags.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[r.jsx(ut,{className:"h-4 w-4 text-amber-600"}),"Analysis Limitations"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.fallbackAnalysis.confidenceFlags.map((v,m)=>r.jsx(J,{variant:"outline",className:"text-amber-700 border-amber-300 bg-amber-50",children:v.replace(/_/g," ")},m))})]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(vn,{href:`/incidents/${t}/evidence-collection`,children:r.jsxs(W,{variant:"outline",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),r.jsx(vn,{href:`/incidents/${t}/analysis`,children:r.jsx(W,{children:"View Standard Analysis →"})})]})]})]}):r.jsx("div",{className:"max-w-4xl mx-auto p-6",children:r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading incident..."})})})}function $we(){var b,g,x;const[,e]=ai(),[t,n]=j.useState(null),[i,s]=j.useState(!1),[a,o]=j.useState({reviewerId:"ENG001",reviewerName:"Senior RCA Engineer",reviewDate:new Date,approved:!1,comments:"",modifications:{rootCauses:[],recommendations:[]},additionalFindings:"",followUpActions:[],signoffRequired:!0});j.useEffect(()=>{const w=new URLSearchParams(window.location.search).get("incident");w&&n(parseInt(w))},[]);const{data:l,isLoading:c}=Oe({queryKey:["/api/incidents",t],enabled:!!t}),{data:d}=Oe({queryKey:["/api/incidents",t,"analysis"],enabled:!!t}),{data:u,refetch:f}=Oe({queryKey:["/api/incidents",t,"completeness-check"],enabled:!!t}),p=Ye({mutationFn:async N=>lt(`/api/incidents/${t}/engineer-review`,{method:"POST",body:JSON.stringify({...N,currentStep:8,workflowStatus:N.approved?"approved":"under_review"})}),onSuccess:N=>{a.approved&&e(`/final-rca?incident=${t}`)},onError:N=>{var w;(w=N==null?void 0:N.message)!=null&&w.includes("minimum evidence")&&console.error("Investigation completeness validation failed:",N)}}),h=Ye({mutationFn:async()=>lt(`/api/incidents/${t}/generate-final-report`,{method:"POST",body:JSON.stringify({engineerReview:a})}),onSuccess:N=>{window.open(N.reportUrl,"_blank")}}),v=N=>{o(w=>({...w,approved:N}))},m=()=>{p.mutate(a)},y=()=>{h.mutate()};return c||!l?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(zc,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{children:"Loading engineer review..."})]})}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(W,{variant:"ghost",onClick:()=>e("/"),children:"← Back to Home"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zc,{className:"h-5 w-5 text-primary"}),r.jsx("h1",{className:"text-xl font-bold",children:"Step 8: Engineer Review & Finalization"})]})]}),r.jsxs(J,{variant:"outline",className:"text-sm",children:["Incident #",l.id]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx(Y,{className:"mb-8",children:r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),"Final RCA Review"]}),r.jsxs(ve,{children:[l.title," - ",l.equipmentGroup," → ",l.equipmentType]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(W,{variant:"outline",onClick:()=>s(!i),className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4"}),i?"View Mode":"Edit Mode"]}),a.approved&&r.jsxs(J,{variant:"default",className:"bg-green-600",children:[r.jsx(Ct,{className:"h-3 w-3 mr-1"}),"Approved"]})]})]})})}),r.jsxs(Zn,{defaultValue:"review",className:"w-full",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-4",children:[r.jsx(Te,{value:"review",children:"Review Summary"}),r.jsx(Te,{value:"findings",children:"AI Findings"}),r.jsx(Te,{value:"modifications",children:"Modifications"}),r.jsx(Te,{value:"approval",children:"Final Approval"})]}),r.jsx(Ee,{value:"review",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Review Summary"}),r.jsx(ve,{children:"Engineer assessment of AI analysis and findings"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Reviewer Name"}),r.jsx(ue,{value:a.reviewerName,onChange:N=>o(w=>({...w,reviewerName:N.target.value})),disabled:!i})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Reviewer ID"}),r.jsx(ue,{value:a.reviewerId,onChange:N=>o(w=>({...w,reviewerId:N.target.value})),disabled:!i})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Review Comments"}),r.jsx(We,{placeholder:"Provide detailed comments on the AI analysis, evidence quality, and findings...",value:a.comments,onChange:N=>o(w=>({...w,comments:N.target.value})),disabled:!i,rows:4})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Additional Engineering Findings"}),r.jsx(We,{placeholder:"Any additional findings or observations not captured by the AI analysis...",value:a.additionalFindings,onChange:N=>o(w=>({...w,additionalFindings:N.target.value})),disabled:!i,rows:3})]})]})]})}),r.jsx(Ee,{value:"findings",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"AI Analysis Review"}),r.jsx(ve,{children:"Review and validate AI-generated findings"})]}),r.jsx(Q,{children:d?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Root Causes Identified"}),(b=d.rootCauses)==null?void 0:b.map((N,w)=>r.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:N.description}),r.jsxs(J,{variant:"outline",children:[N.confidence,"% confidence"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.category})]},w))]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Recommendations Generated"}),(g=d.recommendations)==null?void 0:g.map((N,w)=>r.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:N.title}),r.jsx(J,{variant:N.priority==="Immediate"?"destructive":"default",children:N.priority})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.description})]},w))]})]}):r.jsxs(Kt,{children:[r.jsx(ut,{className:"h-4 w-4"}),r.jsx(Yt,{children:"AI analysis results are not available. Please complete the AI analysis step first."})]})})]})}),r.jsx(Ee,{value:"modifications",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Engineering Modifications"}),r.jsx(ve,{children:"Modify or add to AI findings based on engineering judgment"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs(Kt,{children:[r.jsx(Jr,{className:"h-4 w-4"}),r.jsx(Yt,{children:"Use this section to document any modifications to the AI analysis based on engineering expertise."})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Modified Root Causes"}),r.jsx(We,{placeholder:"Document any changes to root cause analysis...",disabled:!i,rows:3})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Modified Recommendations"}),r.jsx(We,{placeholder:"Document any changes to recommendations...",disabled:!i,rows:3})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Additional Preventive Measures"}),r.jsx(We,{placeholder:"Additional preventive measures recommended by engineering...",disabled:!i,rows:3})]})]})]})}),r.jsxs(Ee,{value:"approval",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"h-5 w-5"}),"Investigation Completeness Assessment"]}),r.jsx(ve,{children:"Review completeness before finalizing investigation"})]}),r.jsx(Q,{children:u?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${u.canBeClosed?"bg-green-500":"bg-amber-500"}`}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:u.canBeClosed?"Ready for Closure":"Closure Available with Theoretical Analysis"}),r.jsx("p",{className:"text-sm text-gray-600",children:u.closureReason})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[u.overallCompleteness,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Complete"})]})]}),u.issues.length>0&&r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-amber-700 mb-2",children:"Outstanding Issues"}),r.jsx("ul",{className:"space-y-1",children:u.issues.map((N,w)=>r.jsxs("li",{className:"text-sm text-amber-600 flex items-start gap-2",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full mt-2 flex-shrink-0"}),N]},w))})]}),u.theoreticalAnalysisRecommended&&r.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[r.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"Theoretical Analysis Available"}),u.theoreticalAnalysis&&r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-blue-600",children:"Approach:"}),r.jsx("p",{className:"text-blue-700 mt-1",children:u.theoreticalAnalysis.approach})]}),((x=u.theoreticalAnalysis.theoreticalConclusions)==null?void 0:x.length)>0&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-blue-600",children:"Engineering Conclusions:"}),r.jsx("ul",{className:"mt-1 space-y-1",children:u.theoreticalAnalysis.theoreticalConclusions.slice(0,2).map((N,w)=>r.jsx("li",{className:"text-blue-700 pl-2",children:N},w))})]})]})]}),u.inconclusiveFindings&&u.unansweredCriticalQuestions.length>0&&r.jsxs("div",{className:"border rounded-lg p-4 bg-orange-50",children:[r.jsx("h4",{className:"font-medium text-orange-700 mb-3",children:"Inconclusive Findings Documentation"}),r.jsxs("div",{className:"text-sm space-y-2",children:[r.jsx("p",{className:"text-orange-700",children:u.inconclusiveFindings.summary}),u.inconclusiveFindings.confidenceImpact&&r.jsx("p",{className:"text-orange-600 font-medium",children:u.inconclusiveFindings.confidenceImpact})]})]}),u.potentialFailureModes.length>0&&r.jsxs("details",{className:"border rounded-lg p-4",children:[r.jsxs("summary",{className:"font-medium cursor-pointer text-gray-700",children:["Alternative Failure Modes Considered (",u.potentialFailureModes.length,")"]}),r.jsx("div",{className:"mt-3 space-y-2",children:u.potentialFailureModes.slice(0,3).map((N,w)=>r.jsxs("div",{className:"text-sm p-2 bg-gray-50 rounded",children:[r.jsx("div",{className:"font-medium",children:N.mode}),N.causes&&r.jsxs("div",{className:"text-gray-600 mt-1",children:["Potential causes: ",N.causes.slice(0,2).join(", ")]})]},w))})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ut,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"Loading completeness assessment..."})]})})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Final Approval"}),r.jsx(ve,{children:"Complete the review and approve the RCA for publication"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"approve",checked:a.approved,onCheckedChange:v}),r.jsx(ie,{htmlFor:"approve",className:"font-medium",children:"I approve this RCA analysis for publication"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"signoff",checked:a.signoffRequired,onCheckedChange:N=>o(w=>({...w,signoffRequired:!!N}))}),r.jsx(ie,{htmlFor:"signoff",children:"Additional management signoff required"})]}),!a.approved&&r.jsxs(Kt,{className:"border-amber-200 bg-amber-50",children:[r.jsx(ut,{className:"h-4 w-4"}),r.jsx(Yt,{children:"Please review all findings and provide approval to proceed with RCA publication."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(W,{onClick:m,disabled:p.isPending,className:"flex items-center gap-2",children:[r.jsx(Fo,{className:"h-4 w-4"}),p.isPending?"Saving...":"Submit Review"]}),a.approved&&r.jsxs(W,{onClick:y,disabled:h.isPending,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),h.isPending?"Generating...":"Generate Final Report"]})]})]})]})]})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx(W,{variant:"outline",onClick:()=>e(`/ai-analysis?incident=${t}`),children:"← Back to AI Analysis"}),a.approved&&r.jsxs(W,{onClick:()=>e("/"),className:"flex items-center gap-2",children:["Complete Investigation",r.jsx(Ct,{className:"h-4 w-4"})]})]})]})]})}function Dwe(){const[e,t]=j.useState({equipmentType:"",failureMode:"",existingEvidence:[]}),{data:n,isLoading:i}=Oe({queryKey:["/api/nlp/analyze-questions"]}),{data:s,isLoading:a}=Oe({queryKey:["/api/nlp/analyze-root-cause-logic"]}),o=async()=>{if(!(!e.equipmentType||!e.failureMode))try{const l=await fetch("/api/nlp/generate-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(l.ok){const c=await l.json();console.log("Generated suggestions:",c)}}catch(l){console.error("Error generating questions:",l)}};return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",className:"flex items-center gap-2",children:[r.jsx(as,{className:"h-4 w-4"}),"Back to Home"]})}),r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[r.jsx(xp,{className:"h-4 w-4"}),"Home"]})})]}),r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[r.jsx(_t,{className:"h-8 w-8 text-blue-600"}),"NLP Analysis Dashboard"]}),r.jsx("p",{className:"text-gray-600",children:"Natural Language Processing analysis of Evidence Library patterns for intelligent question generation"})]}),r.jsxs(Zn,{defaultValue:"question-patterns",className:"space-y-6",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-3",children:[r.jsx(Te,{value:"question-patterns",children:"Question Patterns"}),r.jsx(Te,{value:"logic-analysis",children:"Root Cause Logic"}),r.jsx(Te,{value:"question-generator",children:"Question Generator"})]}),r.jsxs(Ee,{value:"question-patterns",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(VI,{className:"h-5 w-5"}),"Question Type Classification"]})}),r.jsx(Q,{children:i?r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}):n!=null&&n.questionTypes?r.jsx("div",{className:"space-y-4",children:n.questionTypes.slice(0,8).map((l,c)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold capitalize",children:l.type.replace("-"," ")}),r.jsxs(J,{variant:"secondary",children:[l.frequency," questions"]})]}),r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:l.examples.slice(0,3).map((d,u)=>r.jsxs("div",{className:"bg-gray-50 p-2 rounded italic",children:['"',d,'"']},u))})]},c))}):r.jsx(Kt,{children:r.jsx(Yt,{children:"No question patterns found. Make sure Evidence Library has AI/Investigator Questions data."})})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Ci,{className:"h-5 w-5"}),"Technical Terms Frequency"]})}),r.jsx(Q,{children:n!=null&&n.keyTerms?r.jsx("div",{className:"flex flex-wrap gap-2",children:n.keyTerms.slice(0,20).map((l,c)=>r.jsxs(J,{variant:"outline",className:"text-xs",children:[l.term," (",l.frequency,")"]},c))}):r.jsx("p",{className:"text-gray-500",children:"No technical terms identified"})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Equipment-Specific Question Patterns"})}),r.jsx(Q,{children:n!=null&&n.equipmentSpecificPatterns?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.equipmentSpecificPatterns.slice(0,6).map((l,c)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:l.equipment}),r.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:l.commonQuestions.slice(0,3).map((d,u)=>r.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:["• ",d]},u))})]},c))}):r.jsx("p",{className:"text-gray-500",children:"No equipment-specific patterns identified"})})]})]}),r.jsxs(Ee,{value:"logic-analysis",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(_i,{className:"h-5 w-5"}),"Logic Structure Patterns"]})}),r.jsx(Q,{children:a?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):s!=null&&s.logicStructures?r.jsx("div",{className:"space-y-4",children:s.logicStructures.map((l,c)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold capitalize",children:l.structure.replace("-"," ")}),r.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}),r.jsxs(J,{className:"bg-green-100 text-green-800",children:[l.frequency," cases"]})]},c))}):r.jsx(Kt,{children:r.jsx(Yt,{children:"No logic structure patterns found. Check Root Cause Logic data in Evidence Library."})})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Common Reasoning Patterns"})}),r.jsx(Q,{children:s!=null&&s.commonPatterns?r.jsx("div",{className:"space-y-3",children:s.commonPatterns.slice(0,6).map((l,c)=>r.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("p",{className:"font-medium",children:l.pattern}),r.jsxs(J,{variant:"secondary",children:[l.frequency,"x"]})]}),r.jsx("div",{className:"text-sm text-gray-600",children:l.examples.slice(0,2).map((d,u)=>r.jsxs("div",{className:"mt-1 italic",children:['"',d,'"']},u))})]},c))}):r.jsx("p",{className:"text-gray-500",children:"No common patterns identified"})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Causal Language Analysis"})}),r.jsx(Q,{children:s!=null&&s.causalWords?r.jsx("div",{className:"flex flex-wrap gap-2",children:s.causalWords.map((l,c)=>r.jsxs(J,{variant:"outline",className:"bg-orange-50",children:[l.word," (",l.frequency,")"]},c))}):r.jsx("p",{className:"text-gray-500",children:"No causal words identified"})})]})]}),r.jsx(Ee,{value:"question-generator",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(BI,{className:"h-5 w-5"}),"Intelligent Question Generator"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"equipment-type",children:"Equipment Type"}),r.jsx(ue,{id:"equipment-type",placeholder:"e.g., equipment type from database",value:e.equipmentType,onChange:l=>t(c=>({...c,equipmentType:l.target.value}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"failure-mode",children:"Failure Mode"}),r.jsx(ue,{id:"failure-mode",placeholder:"e.g., Seal Leak, Bearing Failure",value:e.failureMode,onChange:l=>t(c=>({...c,failureMode:l.target.value}))})]})]}),r.jsx(W,{onClick:o,disabled:!e.equipmentType||!e.failureMode,className:"w-full",children:"Generate Contextual Questions"}),r.jsx(Kt,{children:r.jsx(Yt,{children:"Enter equipment type and failure mode to generate contextual follow-up questions based on Evidence Library patterns. The NLP engine will analyze similar cases and suggest relevant questions to gather missing evidence."})})]})]})})]})]})}function Fwe(){const{incidentId:e}=sN(),{data:t,isLoading:n}=Oe({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Generating comprehensive summary report..."})]})})});if(!(t!=null&&t.report))return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx(Y,{className:"border-red-200",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-red-600",children:[r.jsx(ut,{className:"h-5 w-5"}),r.jsx("span",{children:"Failed to generate summary report. Please try again."})]})})})});const i=t.report;return r.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Zt,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Incident Summary Report"}),r.jsxs("p",{className:"text-gray-600",children:["Investigation ID: ",i.metadata.investigationId]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",asChild:!0,children:r.jsx(vn,{href:"/",children:"← Back to Home"})}),r.jsxs(W,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Export PDF"]})]})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-medium",children:"1"}),"Incident Overview"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Incident Title"}),r.jsx("p",{className:"text-gray-900",children:i.incidentOverview.incidentTitle})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Date of Incident"}),r.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[r.jsx(mz,{className:"h-4 w-4"}),i.incidentOverview.dateOfIncident]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Reported By"}),r.jsx("p",{className:"text-gray-900",children:i.incidentOverview.reportedBy})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Equipment Tag"}),r.jsx("p",{className:"text-gray-900 font-mono",children:i.incidentOverview.equipmentTag})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"Location"}),r.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[r.jsx(UI,{className:"h-4 w-4"}),i.incidentOverview.location]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"System/Process"}),r.jsx(J,{variant:"outline",className:"text-sm",children:i.incidentOverview.systemProcess})]})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:"2"}),"Incident Description"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"What Failed?"}),r.jsx("p",{className:"text-gray-900 mb-3",children:i.incidentDescription.whatFailed}),r.jsx("label",{className:"font-semibold text-gray-700",children:"When did it happen?"}),r.jsx("p",{className:"text-gray-900",children:i.incidentDescription.whenHappened})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700",children:"How was it discovered?"}),r.jsx("p",{className:"text-gray-900 mb-3",children:i.incidentDescription.howDiscovered}),r.jsx("label",{className:"font-semibold text-gray-700",children:"Initial Consequence"}),r.jsx("p",{className:"text-gray-900",children:i.incidentDescription.initialConsequence})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm font-medium",children:"3"}),"Impact Summary"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-red-600 mb-2",children:"Safety"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.safety})]}),r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-green-600 mb-2",children:"Environment"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.environment})]}),r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"Production"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.production})]}),r.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2 lg:col-span-1",children:[r.jsx("h4",{className:"font-semibold text-purple-600 mb-2",children:"Cost Estimate"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.costEstimate})]}),r.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2",children:[r.jsx("h4",{className:"font-semibold text-orange-600 mb-2",children:"Regulatory/Compliance"}),r.jsx("p",{className:"text-sm text-gray-700",children:i.impactSummary.regulatory})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-sm font-medium",children:"4"}),"Timeline of Events"]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:i.timeline.map((s,a)=>r.jsxs("div",{className:"flex gap-4 p-3 border-l-4 border-blue-200 bg-gray-50 rounded-r-lg",children:[r.jsx("div",{className:"font-mono text-sm font-semibold text-blue-600 min-w-[60px]",children:s.time}),r.jsx("div",{className:"text-gray-900",children:s.event})]},a))})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-sm font-medium",children:"5"}),"Evidence Collected"]})}),r.jsx(Q,{children:i.evidenceCollected.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Source / File"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Observations"})]})}),r.jsx("tbody",{children:i.evidenceCollected.map((s,a)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.jsx(J,{variant:"outline",className:"text-xs",children:s.type})}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 font-mono text-sm",children:s.source}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.observations})]},a))})]})}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Zt,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),r.jsx("p",{children:"No evidence files collected yet"})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-sm font-medium",children:"6"}),"Root Cause Summary"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Primary Root Cause"}),r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-900",children:i.rootCauseSummary.primaryRootCause})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Contributing Factors"}),r.jsx("div",{className:"space-y-2",children:i.rootCauseSummary.contributingFactors.length>0?i.rootCauseSummary.contributingFactors.map((s,a)=>r.jsx("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded text-sm",children:r.jsx("p",{className:"text-orange-900",children:s})},a)):r.jsx("p",{className:"text-gray-500 text-sm",children:"No contributing factors identified"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Latent/Systemic Cause"}),r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsx("p",{className:"text-yellow-900",children:i.rootCauseSummary.latentCause})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Detection Gaps"}),r.jsx("div",{className:"space-y-2",children:i.rootCauseSummary.detectionGaps.length>0?i.rootCauseSummary.detectionGaps.map((s,a)=>r.jsx("div",{className:"p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:r.jsx("p",{className:"text-blue-900",children:s})},a)):r.jsx("p",{className:"text-gray-500 text-sm",children:"No detection gaps identified"})})]})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-cyan-100 text-cyan-800 px-2 py-1 rounded text-sm font-medium",children:"7"}),"Root Cause Analysis Methodology"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Method Used"}),r.jsx(J,{className:"mb-3",children:i.rcaMethodology.method}),r.jsx("p",{className:"text-sm text-gray-600",children:i.rcaMethodology.description})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-semibold",children:"Confidence Level"}),r.jsxs(J,{variant:i.rcaMethodology.confidenceLevel>80?"default":"secondary",children:[i.rcaMethodology.confidenceLevel,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-semibold",children:"Evidence Library Used"}),r.jsx(Ct,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-semibold block mb-1",children:"ISO Compliance"}),r.jsx("span",{className:"text-xs text-gray-600",children:i.rcaMethodology.isoCompliance})]})]})]})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-emerald-100 text-emerald-800 px-2 py-1 rounded text-sm font-medium",children:"8"}),"Corrective and Preventive Actions (CAPA)"]})}),r.jsx(Q,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Action"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Owner"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Due Date"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Status"})]})}),r.jsx("tbody",{children:i.correctiveActions.map((s,a)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.action}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.jsx(J,{variant:s.type==="Corrective"?"destructive":"default",className:"text-xs",children:s.type})}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.owner}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm font-mono",children:s.dueDate}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.jsx(J,{variant:"outline",className:"text-xs",children:s.status})})]},a))})]})})})]}),r.jsxs(Y,{className:"mb-6",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"bg-teal-100 text-teal-800 px-2 py-1 rounded text-sm font-medium",children:"9"}),"Lessons Learned"]})}),r.jsx(Q,{children:r.jsx("ul",{className:"space-y-3",children:i.lessonsLearned.map((s,a)=>r.jsxs("li",{className:"flex items-start gap-3 p-3 border-l-4 border-teal-200 bg-teal-50 rounded-r-lg",children:[r.jsx(Ct,{className:"h-5 w-5 text-teal-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-900",children:s})]},a))})})]}),r.jsx(Y,{className:"border-gray-200",children:r.jsx(Q,{className:"pt-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:["Report Generated: ",new Date(i.metadata.reportGeneratedDate).toLocaleString()]}),r.jsx(Ds,{orientation:"vertical",className:"h-4"}),r.jsxs("span",{children:["Generated by: ",i.metadata.reportGeneratedBy]}),r.jsx(Ds,{orientation:"vertical",className:"h-4"}),r.jsxs("span",{children:["Evidence Files: ",i.metadata.totalEvidenceFiles]}),r.jsx(Ds,{orientation:"vertical",className:"h-4"}),r.jsxs("span",{children:["Overall Confidence: ",i.metadata.overallConfidence,"%"]})]})})})]})}function Lwe(){var u;const{incidentId:e}=sN(),{data:t,isLoading:n}=Oe({queryKey:[`/api/incidents/${e}`],enabled:!!e}),{data:i,isLoading:s}=Oe({queryKey:[`/api/incidents/${e}/analysis`],enabled:!!e}),{data:a,isLoading:o}=Oe({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n||s)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading analysis details..."})]})})});if(!t||!i)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx(Y,{className:"border-yellow-200",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[r.jsx(ut,{className:"h-5 w-5"}),r.jsx("span",{children:"Incident or analysis not found."})]})})})});if(!i||Object.keys(i).length===0)return r.jsx("div",{className:"container mx-auto p-6",children:r.jsx(Y,{className:"border-yellow-200",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[r.jsx(ut,{className:"h-5 w-5"}),r.jsx("span",{children:"Analysis data not available. Please complete the analysis first."})]})})})});const l=((i==null?void 0:i.overallConfidence)||0)>=80?"text-green-600":((i==null?void 0:i.overallConfidence)||0)>=60?"text-yellow-600":"text-red-600",c=f=>new Date(f).toLocaleString(),d=f=>{switch(f){case"finalized":case"completed":return r.jsx(J,{className:"bg-green-100 text-green-800",children:"Completed"});case"analysis_complete":return r.jsx(J,{className:"bg-blue-100 text-blue-800",children:"Analysis Complete"});case"under_review":return r.jsx(J,{className:"bg-yellow-100 text-yellow-800",children:"Under Review"});default:return r.jsx(J,{className:"bg-gray-100 text-gray-800",children:"In Progress"})}};return r.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(W,{variant:"ghost",size:"sm",asChild:!0,children:r.jsxs(vn,{href:"/",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analysis Details"}),r.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.equipmentId)||"N/A"," • ",(t==null?void 0:t.equipmentGroup)||"N/A"," → ",(t==null?void 0:t.equipmentType)||"N/A",t!=null&&t.equipmentSubtype?` → ${t.equipmentSubtype}`:""]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right mr-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Confidence:"}),r.jsxs("span",{className:`text-2xl font-bold ${l}`,children:[(i==null?void 0:i.overallConfidence)||0,"%"]})]}),d((t==null?void 0:t.workflowStatus)||"in_progress")]}),r.jsxs(W,{className:"flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Export"]})]})]}),r.jsxs(Zn,{defaultValue:"overview",className:"w-full",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-8",children:[r.jsx(Te,{value:"overview",children:"Overview"}),r.jsx(Te,{value:"diagrams",children:"Diagrams"}),r.jsx(Te,{value:"rca-tree",children:"RCA Tree"}),r.jsx(Te,{value:"evidence",children:"Evidence"}),r.jsx(Te,{value:"reasoning",children:"AI Reasoning"}),r.jsx(Te,{value:"engineer-review",children:"Engineer Review"}),r.jsx(Te,{value:"export",children:"Export"}),r.jsx(Te,{value:"history",children:"History"})]}),r.jsxs(Ee,{value:"overview",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),"Issue Description"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.title)||"No title"}),r.jsx("p",{className:"text-gray-600 mt-2",children:(t==null?void 0:t.description)||"No description"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Reported:"}),r.jsx("p",{className:"font-medium",children:t!=null&&t.incidentDateTime?c(t.incidentDateTime):"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Priority:"}),r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.priority)||"Medium"})]})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Equipment Details"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Type:"}),r.jsxs("p",{className:"font-medium",children:[t.equipmentGroup," → ",t.equipmentType,t.equipmentSubtype?` → ${t.equipmentSubtype}`:""]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"ID:"}),r.jsx("p",{className:"font-medium",children:t.equipmentId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Manufacturer:"}),r.jsx("p",{className:"font-medium",children:t.manufacturerSnapshot||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Model:"}),r.jsx("p",{className:"font-medium",children:t.modelSnapshot||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Location:"}),r.jsx("p",{className:"font-medium",children:t.location})]})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ls,{className:"h-5 w-5"}),"Root Cause Analysis"]})}),r.jsx(Q,{children:i.rootCauses&&i.rootCauses.length>0?r.jsx("div",{className:"space-y-4",children:i.rootCauses.map((f,p)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:f.description}),r.jsxs(J,{variant:"outline",className:"ml-2",children:[f.confidence,"% confidence"]})]}),r.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[r.jsx("span",{className:"font-medium",children:"Category:"})," ",f.category," •",r.jsx("span",{className:"font-medium ml-2",children:"Impact:"})," ",f.impact," •",r.jsx("span",{className:"font-medium ml-2",children:"Likelihood:"})," ",f.likelihood]}),f.evidence&&f.evidence.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Evidence:"}),r.jsx("ul",{className:"text-sm text-gray-600 ml-4 mt-1",children:f.evidence.map((h,v)=>r.jsx("li",{className:"list-disc",children:h},v))})]})]},f.id||p))}):r.jsx("p",{className:"text-gray-500 italic",children:"No root causes identified yet."})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(vp,{className:"h-5 w-5"}),"Recommendations"]})}),r.jsx(Q,{children:i.recommendations&&i.recommendations.length>0?r.jsx("div",{className:"space-y-4",children:i.recommendations.map((f,p)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:f.title}),r.jsx(J,{variant:f.priority==="Immediate"?"destructive":f.priority==="Short-term"?"default":"secondary",children:f.priority})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:f.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Cost:"}),r.jsx("p",{className:"font-medium",children:f.estimatedCost})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Timeframe:"}),r.jsx("p",{className:"font-medium",children:f.timeframe})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Responsible:"}),r.jsx("p",{className:"font-medium",children:f.responsible})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Prevention:"}),r.jsxs("p",{className:"font-medium",children:[f.preventsProbability,"%"]})]})]})]},f.id||p))}):r.jsx("p",{className:"text-gray-500 italic",children:"No recommendations available."})})]})]}),r.jsx(Ee,{value:"evidence",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Evidence Collection Summary"})}),r.jsx(Q,{children:t.evidenceChecklist&&t.evidenceChecklist.length>0?r.jsx("div",{className:"space-y-4",children:t.evidenceChecklist.map((f,p)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[r.jsx("div",{className:"mt-0.5",children:f.completed?r.jsx(Ct,{className:"h-5 w-5 text-green-600"}):r.jsx(ut,{className:"h-5 w-5 text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:f.title}),r.jsx("p",{className:"text-sm text-gray-600",children:f.description}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsxs(J,{variant:"outline",className:"text-xs",children:[f.priority," Priority"]}),r.jsx(J,{variant:"outline",className:"text-xs",children:f.category})]}),f.files&&f.files.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Files: "}),r.jsxs("span",{className:"text-xs",children:[f.files.length," uploaded"]})]})]})]},f.id||p))}):r.jsx("p",{className:"text-gray-500 italic",children:"No evidence checklist available."})})]})}),r.jsxs(Ee,{value:"reasoning",className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(oc,{className:"h-5 w-5"}),"Analysis Metrics"]})}),r.jsx(Q,{children:i.crossMatchResults&&r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.crossMatchResults.libraryMatches||0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Library Matches"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[i.crossMatchResults.patternSimilarity||0,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Pattern Similarity"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[i.overallConfidence,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Overall Confidence"})]})]})})]}),i.evidenceGaps&&i.evidenceGaps.length>0&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"h-5 w-5 text-yellow-500"}),"Evidence Gaps"]})}),r.jsx(Q,{children:r.jsx("ul",{className:"space-y-2",children:i.evidenceGaps.map((f,p)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),r.jsx("span",{className:"text-gray-700",children:f})]},p))})})]}),((u=i.crossMatchResults)==null?void 0:u.historicalData)&&i.crossMatchResults.historicalData.length>0&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Is,{className:"h-5 w-5"}),"Historical References"]})}),r.jsx(Q,{children:r.jsx("ul",{className:"space-y-2",children:i.crossMatchResults.historicalData.map((f,p)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsx("span",{className:"text-gray-700",children:f})]},p))})})]})]}),r.jsx(Ee,{value:"rca-tree",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(qc,{className:"h-5 w-5"}),"RCA Tree Visualization"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Interactive root cause analysis tree with cause-and-effect relationships"})]}),r.jsx(Q,{children:i?r.jsx(FF,{analysis:i,incident:t}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No analysis data available for RCA Tree visualization"})]})})]})}),r.jsx(Ee,{value:"diagrams",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(oc,{className:"h-5 w-5"}),"Interactive RCA Diagrams"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Multiple diagram views: Fault Tree, Fishbone, Timeline, and Bowtie analysis"})]}),r.jsx(Q,{children:i?r.jsx(oL,{analysisData:i,investigationType:"equipment_failure",onNodeUpdate:(f,p)=>console.log("Node updated:",f,p),onNodeAdd:(f,p)=>console.log("Node added:",f,p),onNodeDelete:f=>console.log("Node deleted:",f)}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(oc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No analysis data available for diagram visualization"})]})})]})}),r.jsx(Ee,{value:"engineer-review",className:"space-y-6",children:r.jsx(qwe,{incident:t,analysis:i})}),r.jsx(Ee,{value:"export",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Export Options"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive reports in various formats"})]}),r.jsx(Q,{children:!o&&a?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(W,{className:"h-12 flex items-center gap-3",variant:"outline",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Summary Report"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Comprehensive 9-section report"})]})]}),r.jsxs(W,{className:"h-12 flex items-center gap-3",variant:"outline",children:[r.jsx(cr,{className:"h-5 w-5"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Export PDF"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Professional format"})]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Preparing export options..."})]})})]})}),r.jsx(Ee,{value:"history",className:"space-y-6",children:r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Is,{className:"h-5 w-5"}),"Investigation Timeline"]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:"Analysis Completed"}),r.jsx("div",{className:"text-sm text-gray-600",children:c(i.analysisDate)})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Ct,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:"Investigation Started"}),r.jsx("div",{className:"text-sm text-gray-600",children:c(t.createdAt)})]})]})]})})]})})]})]})}function qwe({incident:e,analysis:t}){var d,u,f,p,h,v,m;const{toast:n}=Dt(),[i,s]=j.useState(!1),[a,o]=j.useState({reviewerId:"",reviewerName:"",reviewDate:new Date().toISOString(),approved:!1,comments:"",additionalFindings:"",signoffRequired:!1}),l=Ye({mutationFn:async y=>lt(`/api/incidents/${e.id}/engineer-review`,{method:"POST",body:JSON.stringify({...y,workflowStatus:y.approved?"finalized":"under_review"})}),onSuccess:()=>{n({title:"Review Submitted",description:a.approved?"Investigation approved and finalized.":"Review comments saved."}),s(!1)},onError:y=>{n({title:"Error",description:"Failed to submit review: "+y.message,variant:"destructive"})}}),c=()=>{if(!a.reviewerName||!a.reviewerId){n({title:"Required Fields",description:"Please provide reviewer name and ID.",variant:"destructive"});return}l.mutate(a)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Y,{children:r.jsx(X,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(os,{className:"h-5 w-5"}),"Engineer Review & Approval"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Investigation Status: ",(e==null?void 0:e.workflowStatus)==="finalized"?"Approved":"Pending Review"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(J,{variant:(e==null?void 0:e.workflowStatus)==="finalized"?"default":"secondary",children:(e==null?void 0:e.workflowStatus)==="finalized"?"Finalized":"Needs Review"}),r.jsxs(W,{variant:"outline",onClick:()=>s(!i),className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4"}),i?"View Mode":"Review Mode"]})]})]})})}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Investigation Review"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide professional engineering review and approval for this RCA investigation"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Reviewer Name"}),r.jsx(ue,{value:a.reviewerName,onChange:y=>o(b=>({...b,reviewerName:y.target.value})),disabled:!i,placeholder:"Enter your full name"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Reviewer ID / License"}),r.jsx(ue,{value:a.reviewerId,onChange:y=>o(b=>({...b,reviewerId:y.target.value})),disabled:!i,placeholder:"Engineer ID or License #"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-3",children:"AI Analysis Summary"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Confidence:"}),r.jsxs("p",{className:"font-medium",children:[(t==null?void 0:t.overallConfidence)||0,"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Failure Mode:"}),r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.failureMode)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Severity:"}),r.jsx("p",{className:"font-medium",children:(t==null?void 0:t.severity)||"N/A"})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("span",{className:"text-gray-600",children:"Root Causes:"}),r.jsx("ul",{className:"list-disc list-inside mt-1",children:((d=t==null?void 0:t.rootCauses)==null?void 0:d.slice(0,3).map((y,b)=>r.jsxs("li",{className:"text-sm",children:[(y==null?void 0:y.description)||"N/A"," (",(y==null?void 0:y.confidence)||0,"%)"]},b)))||r.jsx("li",{className:"text-sm",children:"No root causes available"})})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Review Comments & Professional Assessment"}),r.jsx(We,{placeholder:"Provide detailed engineering review of the AI analysis, evidence quality, methodology, and conclusions...",value:a.comments,onChange:y=>o(b=>({...b,comments:y.target.value})),disabled:!i,rows:4,className:"mt-2"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Additional Engineering Findings"}),r.jsx(We,{placeholder:"Any additional findings, observations, or recommendations not captured by the AI analysis...",value:a.additionalFindings,onChange:y=>o(b=>({...b,additionalFindings:y.target.value})),disabled:!i,rows:3,className:"mt-2"})]}),i&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Final Approval"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"approved",checked:a.approved,onCheckedChange:y=>o(b=>({...b,approved:!!y}))}),r.jsx(ie,{htmlFor:"approved",className:"font-medium",children:"I approve this RCA investigation and findings"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Yn,{id:"signoff",checked:a.signoffRequired,onCheckedChange:y=>o(b=>({...b,signoffRequired:!!y}))}),r.jsx(ie,{htmlFor:"signoff",children:"Additional management signoff required"})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsxs(W,{onClick:c,disabled:l.isPending,className:"flex items-center gap-2",children:[r.jsx(Fo,{className:"h-4 w-4"}),l.isPending?"Submitting...":"Submit Review"]}),r.jsx(W,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]}),(e==null?void 0:e.engineerReview)&&!i&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Current Review Status"}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(zc,{className:"h-4 w-4"}),r.jsxs("span",{className:"font-medium",children:["Reviewed by: ",((u=e==null?void 0:e.engineerReview)==null?void 0:u.reviewerName)||"N/A"]})]}),r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:((f=e==null?void 0:e.engineerReview)==null?void 0:f.comments)||"No comments"}),((p=e==null?void 0:e.engineerReview)==null?void 0:p.additionalFindings)&&r.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("strong",{children:"Additional findings:"})," ",e.engineerReview.additionalFindings]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsx(J,{variant:(h=e==null?void 0:e.engineerReview)!=null&&h.approved?"default":"secondary",children:(v=e==null?void 0:e.engineerReview)!=null&&v.approved?"Approved":"Under Review"}),r.jsxs("span",{className:"text-gray-600",children:["Reviewed: ",(m=e==null?void 0:e.engineerReview)!=null&&m.reviewDate?new Date(e.engineerReview.reviewDate).toLocaleString():"N/A"]})]})]})]})]})]})]})}function zwe(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(Y,{className:"w-full max-w-md mx-4",children:r.jsxs(Q,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(wr,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Bwe(){return r.jsx("div",{className:"min-h-screen p-6",children:r.jsxs(Y,{className:"max-w-4xl mx-auto",children:[r.jsx(X,{children:r.jsx(Z,{children:"Debug Routes Page"})}),r.jsxs(Q,{children:[r.jsx("p",{children:"This page loads to test if routing is working."}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(vn,{href:"/",className:"block text-blue-600 hover:underline",children:"Go to Home"}),r.jsx(vn,{href:"/incident-reporting",className:"block text-blue-600 hover:underline",children:"Go to Incident Reporting"}),r.jsx(vn,{href:"/equipment-selection",className:"block text-blue-600 hover:underline",children:"Go to Equipment Selection"})]})]})]})})}function Uwe(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[s,a]=j.useState(!1),[o,l]=j.useState(null),[c,d]=j.useState(!1),[u,f]=j.useState(null),{toast:p}=Dt(),h=Br(),{data:v=[],isLoading:m}=Oe({queryKey:["/api/admin/fault-reference-library"],retry:!1}),{data:y=[]}=Oe({queryKey:["/api/admin/fault-reference-library/search",{q:e,evidenceType:n}],enabled:e.length>0||n.length>0,retry:!1}),b=e||n?y:v,g=Ye({mutationFn:async C=>await lt("/api/admin/fault-reference-library","POST"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),a(!1),p({title:"Success",description:"Fault reference entry created successfully"})},onError:C=>{p({title:"Error",description:C.message||"Failed to create entry",variant:"destructive"})}}),x=Ye({mutationFn:async({id:C,data:_})=>await lt(`/api/admin/fault-reference-library/${C}`,"PUT"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),l(null),p({title:"Success",description:"Fault reference entry updated successfully"})},onError:C=>{p({title:"Error",description:C.message||"Failed to update entry",variant:"destructive"})}}),N=Ye({mutationFn:async C=>await lt(`/api/admin/fault-reference-library/${C}`,"DELETE"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),p({title:"Success",description:"Fault reference entry deleted successfully"})},onError:C=>{p({title:"Error",description:C.message||"Failed to delete entry",variant:"destructive"})}}),w=Ye({mutationFn:async C=>{const _=new FormData;_.append("file",C);const P=await fetch("/api/admin/fault-reference-library/import",{method:"POST",body:_});if(!P.ok){const A=await P.json();throw new Error(A.message||"Import failed")}return P.json()},onSuccess:C=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),d(!1),f(null),p({title:"Import Complete",description:`Successfully imported ${C.imported} entries. ${C.errors>0?`${C.errors} errors encountered.`:""}`})},onError:C=>{p({title:"Import Failed",description:C.message||"Failed to import entries",variant:"destructive"})}}),k=async C=>{try{const _=await fetch(`/api/admin/fault-reference-library/export/${C}`);if(!_.ok)throw new Error("Export failed");const P=await _.blob(),A=window.URL.createObjectURL(P),O=document.createElement("a");O.style.display="none",O.href=A,O.download=`fault-reference-library.${C==="csv"?"csv":"xlsx"}`,document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(A),p({title:"Success",description:`Library exported as ${C.toUpperCase()}`})}catch{p({title:"Export Failed",description:"Failed to export library",variant:"destructive"})}},E=()=>{u&&w.mutate(u)},S=({entry:C,onSubmit:_,onCancel:P})=>{const[A,O]=j.useState({evidenceType:(C==null?void 0:C.evidenceType)||"",pattern:(C==null?void 0:C.pattern)||"",matchingCriteria:(C==null?void 0:C.matchingCriteria)||"",probableFault:(C==null?void 0:C.probableFault)||"",confidence:(C==null?void 0:C.confidence)||0,recommendations:(C==null?void 0:C.recommendations)||"",referenceStandard:(C==null?void 0:C.referenceStandard)||"",notes:(C==null?void 0:C.notes)||""}),I=F=>{F.preventDefault(),_(A)};return r.jsxs("form",{onSubmit:I,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"evidenceType",children:"Evidence Type *"}),r.jsxs(Be,{value:A.evidenceType,onValueChange:F=>O({...A,evidenceType:F}),children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select evidence type"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"vibration",children:"Vibration"}),r.jsx(ee,{value:"temperature",children:"Temperature"}),r.jsx(ee,{value:"pressure",children:"Pressure"}),r.jsx(ee,{value:"acoustic",children:"Acoustic"}),r.jsx(ee,{value:"visual",children:"Visual"}),r.jsx(ee,{value:"electrical",children:"Database-Driven"}),r.jsx(ee,{value:"chemical",children:"Chemical"}),r.jsx(ee,{value:"process",children:"Process"}),r.jsx(ee,{value:"operational",children:"Operational"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"confidence",children:"Confidence (%) *"}),r.jsx(ue,{type:"number",min:"0",max:"100",value:A.confidence,onChange:F=>O({...A,confidence:parseInt(F.target.value)||0}),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"pattern",children:"Pattern *"}),r.jsx(ue,{value:A.pattern,onChange:F=>O({...A,pattern:F.target.value}),placeholder:"e.g., High frequency vibration at 2x RPM",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"probableFault",children:"Probable Fault *"}),r.jsx(ue,{value:A.probableFault,onChange:F=>O({...A,probableFault:F.target.value}),placeholder:"e.g., Bearing misalignment",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"matchingCriteria",children:"Matching Criteria *"}),r.jsx(We,{value:A.matchingCriteria,onChange:F=>O({...A,matchingCriteria:F.target.value}),placeholder:"Describe the conditions that must be met for this pattern to match...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"recommendations",children:"Recommendations"}),r.jsx(We,{value:A.recommendations,onChange:F=>O({...A,recommendations:F.target.value}),placeholder:"Recommended actions and next steps..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"referenceStandard",children:"Reference Standard"}),r.jsx(ue,{value:A.referenceStandard,onChange:F=>O({...A,referenceStandard:F.target.value}),placeholder:"e.g., ISO 14224, API 610"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"notes",children:"Notes"}),r.jsx(ue,{value:A.notes,onChange:F=>O({...A,notes:F.target.value}),placeholder:"Additional notes..."})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(W,{type:"button",variant:"outline",onClick:P,children:"Cancel"}),r.jsxs(W,{type:"submit",disabled:g.isPending||x.isPending,children:[C?"Update":"Create"," Entry"]})]})]})};return r.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(os,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Fault Reference Library"}),r.jsx("p",{className:"text-muted-foreground",children:"Admin-only Feature-to-Fault mapping knowledge base"})]})]}),r.jsxs(J,{variant:"secondary",className:"flex items-center space-x-1",children:[r.jsx(Gn,{className:"h-4 w-4"}),r.jsxs("span",{children:[v.length," entries"]})]})]}),r.jsx(Y,{children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 flex gap-3",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(_i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(ue,{placeholder:"Search patterns, faults, criteria...",value:e,onChange:C=>t(C.target.value),className:"pl-10"})]}),r.jsxs(Be,{value:n,onValueChange:i,children:[r.jsx(qe,{className:"w-40",children:r.jsx(Ue,{placeholder:"Evidence Type"})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"",children:"All Types"}),r.jsx(ee,{value:"vibration",children:"Vibration"}),r.jsx(ee,{value:"temperature",children:"Temperature"}),r.jsx(ee,{value:"pressure",children:"Pressure"}),r.jsx(ee,{value:"acoustic",children:"Acoustic"}),r.jsx(ee,{value:"visual",children:"Visual"}),r.jsx(ee,{value:"electrical",children:"Database-Driven"}),r.jsx(ee,{value:"chemical",children:"Chemical"}),r.jsx(ee,{value:"process",children:"Process"}),r.jsx(ee,{value:"operational",children:"Operational"})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(hc,{open:s,onOpenChange:a,children:[r.jsx(Xj,{asChild:!0,children:r.jsxs(W,{className:"flex items-center space-x-2",children:[r.jsx(On,{className:"h-4 w-4"}),r.jsx("span",{children:"Add Entry"})]})}),r.jsxs(Bo,{className:"max-w-2xl",children:[r.jsx(Uo,{children:r.jsx(Vo,{children:"Create New Fault Reference Entry"})}),r.jsx(S,{onSubmit:C=>g.mutate(C),onCancel:()=>a(!1)})]})]}),r.jsxs(hc,{open:c,onOpenChange:d,children:[r.jsx(Xj,{asChild:!0,children:r.jsxs(W,{variant:"outline",className:"flex items-center space-x-2",children:[r.jsx(Va,{className:"h-4 w-4"}),r.jsx("span",{children:"Import"})]})}),r.jsxs(Bo,{children:[r.jsx(Uo,{children:r.jsx(Vo,{children:"Import Fault Reference Library"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:C=>{var _;return f(((_=C.target.files)==null?void 0:_[0])||null)},className:"hidden",id:"import-file"}),r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(Va,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload CSV or Excel file"})]}),u&&r.jsxs("p",{className:"mt-2 text-sm text-green-600",children:["Selected: ",u.name]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(W,{variant:"outline",onClick:()=>{d(!1),f(null)},children:"Cancel"}),r.jsx(W,{onClick:E,disabled:!u||w.isPending,children:"Import"})]})]})]})]}),r.jsxs(W,{variant:"outline",onClick:()=>k("csv"),className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-4 w-4"}),r.jsx("span",{children:"CSV"})]}),r.jsxs(W,{variant:"outline",onClick:()=>k("excel"),className:"flex items-center space-x-2",children:[r.jsx(qI,{className:"h-4 w-4"}),r.jsx("span",{children:"Excel"})]})]})]})})}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Knowledge Base Entries"}),r.jsx(ve,{children:"Dynamic fault pattern mapping for evidence analysis"})]}),r.jsx(Q,{children:m?r.jsx("div",{className:"text-center py-8",children:"Loading fault reference library..."}):b.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e||n?"No entries match your search criteria":"No fault reference entries found. Create your first entry to get started."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ki,{children:[r.jsx(Yi,{children:r.jsxs(en,{children:[r.jsx(rt,{children:"Evidence Type"}),r.jsx(rt,{children:"Pattern"}),r.jsx(rt,{children:"Probable Fault"}),r.jsx(rt,{children:"Confidence"}),r.jsx(rt,{children:"Reference"}),r.jsx(rt,{children:"Actions"})]})}),r.jsx(Qi,{children:b.map(C=>r.jsxs(en,{children:[r.jsx(Je,{children:r.jsx(J,{variant:"outline",children:C.evidenceType})}),r.jsx(Je,{className:"max-w-xs truncate",title:C.pattern,children:C.pattern}),r.jsx(Je,{className:"max-w-xs truncate",title:C.probableFault,children:C.probableFault}),r.jsx(Je,{children:r.jsxs(J,{variant:C.confidence>=80?"default":C.confidence>=60?"secondary":"outline",children:[C.confidence,"%"]})}),r.jsx(Je,{children:C.referenceStandard||"N/A"}),r.jsx(Je,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>l(C),children:r.jsx(ov,{className:"h-4 w-4"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this entry?")&&N.mutate(C.id)},children:r.jsx(Lo,{className:"h-4 w-4"})})]})})]},C.id))})]})})})]}),o&&r.jsx(hc,{open:!!o,onOpenChange:()=>l(null),children:r.jsxs(Bo,{className:"max-w-2xl",children:[r.jsx(Uo,{children:r.jsx(Vo,{children:"Edit Fault Reference Entry"})}),r.jsx(S,{entry:o,onSubmit:C=>x.mutate({id:o.id,data:C}),onCancel:()=>l(null)})]})})]})}function Vwe(){var v;Dt(),Br();const[e,t]=j.useState(null),[n,i]=j.useState(null),{data:s,isLoading:a}=Oe({queryKey:["/api/taxonomy/groups"],queryFn:()=>fetch("/api/taxonomy/groups").then(m=>m.json())}),{data:o,isLoading:l}=Oe({queryKey:["/api/taxonomy/types",e],queryFn:()=>e?fetch(`/api/taxonomy/types?groupId=${e}`).then(m=>m.json()):Promise.resolve([]),enabled:!!e}),{data:c,isLoading:d}=Oe({queryKey:["/api/taxonomy/subtypes",n],queryFn:()=>n?fetch(`/api/taxonomy/subtypes?typeId=${n}`).then(m=>m.json()):Promise.resolve([]),enabled:!!n}),{data:u,isLoading:f}=Oe({queryKey:["/api/taxonomy/risks"],queryFn:()=>fetch("/api/taxonomy/risks").then(m=>m.json())}),{data:p,isLoading:h}=Oe({queryKey:["/api/test-direct"],queryFn:()=>fetch("/api/test-direct").then(m=>m.json())});return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(vn,{href:"/",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(as,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),r.jsx(vn,{href:"/admin",children:r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(xp,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((v=wi.find(m=>m.id==="taxonomy"))==null?void 0:v.label)||"Taxonomy Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage equipment classification and risk ranking lookup tables"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gn,{className:"h-5 w-5"}),r.jsx(J,{variant:p!=null&&p.success?"default":"destructive",children:h?"Testing...":p!=null&&p.success?"API Connected":"API Error"})]})]}),r.jsx(Y,{className:"border-l-4 border-l-blue-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Universal Protocol Standard - Zero Hardcoding Compliance"})]}),r.jsx(ve,{children:"All taxonomy data is loaded dynamically from database lookup tables. No hardcoded business vocabulary allowed."})]})}),r.jsxs(Zn,{defaultValue:"groups",className:"space-y-4",children:[r.jsx(Ln,{className:"grid w-full grid-cols-4",children:Rl.map(m=>r.jsxs(Te,{value:m.id,"data-testid":`tab-${m.id}`,children:[m.label," (",m.id==="groups"?(s==null?void 0:s.length)||0:m.id==="types"?(o==null?void 0:o.length)||0:m.id==="subtypes"?(c==null?void 0:c.length)||0:m.id==="risks"&&(u==null?void 0:u.length)||0,")"]},m.id))}),r.jsx(Ee,{value:"groups",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Equipment Groups"}),r.jsx(ve,{children:"Top-level equipment classifications from your database"})]}),r.jsx(Q,{children:a?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Kn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading equipment groups..."})]}):r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s==null?void 0:s.map(m=>r.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Z,{className:"text-lg",children:m.name}),r.jsx(J,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(m.id),"data-testid":`select-group-${m.id}`,children:"View Types"})]})})]},m.id))})})})]})}),r.jsx(Ee,{value:"types",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Equipment Types"}),r.jsxs(ve,{children:["Equipment types within selected group",e&&r.jsxs(J,{variant:"outline",className:"ml-2",children:["Group ID: ",e]})]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ie,{htmlFor:"group-select",children:"Select Equipment Group:"}),r.jsxs(Be,{value:(e==null?void 0:e.toString())||"",onValueChange:m=>t(parseInt(m)),children:[r.jsx(qe,{className:"w-[200px]","data-testid":"select-group-dropdown",children:r.jsx(Ue,{placeholder:"Choose group..."})}),r.jsx(Ve,{children:s==null?void 0:s.map(m=>r.jsx(ee,{value:m.id.toString(),children:m.name},m.id))})]})]}),e&&r.jsx(r.Fragment,{children:l?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Kn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading equipment types..."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o==null?void 0:o.map(m=>r.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Z,{className:"text-lg",children:m.name}),r.jsx(J,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>i(m.id),"data-testid":`select-type-${m.id}`,children:"View Subtypes"})]})})]},m.id))})})]})})]})}),r.jsx(Ee,{value:"subtypes",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Equipment Subtypes"}),r.jsxs(ve,{children:["Equipment subtypes within selected type",n&&r.jsxs(J,{variant:"outline",className:"ml-2",children:["Type ID: ",n]})]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ie,{htmlFor:"group-select",children:"Equipment Group:"}),r.jsxs(Be,{value:(e==null?void 0:e.toString())||"",onValueChange:m=>t(parseInt(m)),children:[r.jsx(qe,{className:"w-[200px]",children:r.jsx(Ue,{placeholder:"Choose group..."})}),r.jsx(Ve,{children:s==null?void 0:s.map(m=>r.jsx(ee,{value:m.id.toString(),children:m.name},m.id))})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ie,{htmlFor:"type-select",children:"Equipment Type:"}),r.jsxs(Be,{value:(n==null?void 0:n.toString())||"",onValueChange:m=>i(parseInt(m)),disabled:!e,children:[r.jsx(qe,{className:"w-[200px]","data-testid":"select-type-dropdown",children:r.jsx(Ue,{placeholder:"Choose type..."})}),r.jsx(Ve,{children:o==null?void 0:o.map(m=>r.jsx(ee,{value:m.id.toString(),children:m.name},m.id))})]})]})]}),n&&r.jsx(r.Fragment,{children:d?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Kn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading equipment subtypes..."})]}):(c==null?void 0:c.length)===0?r.jsx(Y,{className:"border-dashed",children:r.jsx(Q,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Subtypes Found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"No equipment subtypes exist for the selected type."}),r.jsxs(W,{"data-testid":"add-subtype-button",children:[r.jsx(On,{className:"h-4 w-4 mr-2"}),"Add First Subtype"]})]})})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c==null?void 0:c.map(m=>r.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Z,{className:"text-lg",children:m.name}),r.jsx(J,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),r.jsxs("div",{className:"text-sm",children:["Type: ",m.equipmentTypeName]}),r.jsxs("div",{className:"text-sm",children:["Group: ",m.equipmentGroupName]})]})})]},m.id))})})]})})]})}),r.jsx(Ee,{value:"risks",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Risk Rankings"}),r.jsx(ve,{children:"Risk classification levels for incident assessment"})]}),r.jsx(Q,{children:f?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx(Kn,{className:"h-6 w-6 animate-spin"}),r.jsx("span",{className:"ml-2",children:"Loading risk rankings..."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u==null?void 0:u.map(m=>r.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[r.jsx(X,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Z,{className:"text-lg",children:m.label}),r.jsx(J,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]})})]},m.id))})})]})})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Taxonomy Overview"}),r.jsx(ve,{children:"Current database statistics and API connectivity status"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Groups"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:(o==null?void 0:o.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Types"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(c==null?void 0:c.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Subtypes"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(u==null?void 0:u.length)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Risk Rankings"})]})]})})]})]})}function dO(){var x,N,w,k,E;const{toast:e}=Dt();Br();const[t,n]=j.useState({incidentId:`DEMO_${Date.now()}`,symptoms:[],incidentDescription:""}),[i,s]=j.useState(""),[a,o]=j.useState(null),{data:l,isLoading:c}=Oe({queryKey:["/api/taxonomy/groups"],queryFn:()=>fetch("/api/taxonomy/groups").then(S=>S.json())}),{data:d,isLoading:u}=Oe({queryKey:["/api/taxonomy/types",t.equipmentGroupId],queryFn:()=>t.equipmentGroupId?fetch(`/api/taxonomy/types?groupId=${t.equipmentGroupId}`).then(S=>S.json()):Promise.resolve([]),enabled:!!t.equipmentGroupId});Oe({queryKey:["/api/taxonomy/subtypes",t.equipmentTypeId],queryFn:()=>t.equipmentTypeId?fetch(`/api/taxonomy/subtypes?typeId=${t.equipmentTypeId}`).then(S=>S.json()):Promise.resolve([]),enabled:!!t.equipmentTypeId});const{data:f,isLoading:p}=Oe({queryKey:["/api/taxonomy/risks"],queryFn:()=>fetch("/api/taxonomy/risks").then(S=>S.json())}),h=Ye({mutationFn:async S=>lt("/api/evidence-analysis",{method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json"}}),onSuccess:S=>{S.success?(o(S.analysis),e({title:"Analysis Complete",description:`Found ${S.analysis.primaryFailureModes.length} primary failure modes with ${S.analysis.confidence}% confidence`})):e({title:"Analysis Failed",description:S.message||"Unknown error occurred",variant:"destructive"})},onError:S=>{e({title:"Analysis Error",description:S.message||"Failed to perform analysis",variant:"destructive"})}}),v=()=>{i.trim()&&!t.symptoms.includes(i.trim())&&(n(S=>({...S,symptoms:[...S.symptoms,i.trim()]})),s(""))},m=S=>{n(C=>({...C,symptoms:C.symptoms.filter(_=>_!==S)}))},y=()=>{if(!t.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}h.mutate(t)},b=S=>{switch(S){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},g=S=>S>=80?"text-green-600":S>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((x=wi.find(S=>S.id==="analysis"))==null?void 0:x.label)||"Analysis Engine"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 6: Taxonomy-driven evidence analysis with dynamic failure mode identification"})]}),r.jsxs(J,{variant:"outline",className:"text-blue-600",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"AI-Powered Analysis"]})]}),r.jsx(Y,{className:"border-l-4 border-l-purple-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-purple-500"}),r.jsxs("span",{children:["Step 6: ",((N=wi.find(S=>S.id==="analysis"))==null?void 0:N.label)||"Analysis Engine"," - Zero Hardcoding Intelligence"]})]}),r.jsx(ve,{children:"Dynamic analysis based on equipment taxonomy and evidence library patterns. All failure modes and logic loaded from database - no hardcoded rules."})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Analysis Configuration"}),r.jsx(ve,{children:"Configure the analysis parameters and incident details"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentId",children:"Incident ID"}),r.jsx(ue,{id:"incidentId",value:t.incidentId,onChange:S=>n(C=>({...C,incidentId:S.target.value})),placeholder:"Enter incident ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentDescription",children:"Incident Description *"}),r.jsx(We,{id:"incidentDescription",value:t.incidentDescription,onChange:S=>n(C=>({...C,incidentDescription:S.target.value})),placeholder:"Describe the incident, observed problems, and initial findings...",rows:4})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Equipment Classification"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Group"}),r.jsxs(Be,{value:((w=t.equipmentGroupId)==null?void 0:w.toString())||"",onValueChange:S=>{n(C=>({...C,equipmentGroupId:S?parseInt(S):void 0,equipmentTypeId:void 0,equipmentSubtypeId:void 0}))},children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select equipment group"})}),r.jsx(Ve,{children:l==null?void 0:l.map(S=>r.jsx(ee,{value:S.id.toString(),children:S.name},S.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Type"}),r.jsxs(Be,{value:((k=t.equipmentTypeId)==null?void 0:k.toString())||"",onValueChange:S=>{n(C=>({...C,equipmentTypeId:S?parseInt(S):void 0,equipmentSubtypeId:void 0}))},disabled:!t.equipmentGroupId,children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select equipment type"})}),r.jsx(Ve,{children:d==null?void 0:d.map(S=>r.jsx(ee,{value:S.id.toString(),children:S.name},S.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Risk Ranking"}),r.jsxs(Be,{value:((E=t.riskRankingId)==null?void 0:E.toString())||"",onValueChange:S=>{n(C=>({...C,riskRankingId:S?parseInt(S):void 0}))},children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select risk ranking"})}),r.jsx(Ve,{children:f==null?void 0:f.map(S=>r.jsx(ee,{value:S.id.toString(),children:S.label},S.id))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Observed Symptoms"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:i,onChange:S=>s(S.target.value),placeholder:"Enter symptom (e.g., 'vibration', 'overheating')",onKeyPress:S=>S.key==="Enter"&&v()}),r.jsx(W,{onClick:v,variant:"outline",children:"Add"})]}),t.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.symptoms.map((S,C)=>r.jsxs(J,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>m(S),children:[S," ✕"]},C))})]}),r.jsx(W,{onClick:y,disabled:h.isPending||!t.incidentDescription.trim(),className:"w-full","data-testid":"run-analysis-button",children:h.isPending?r.jsxs(r.Fragment,{children:[r.jsx($n,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(vp,{className:"h-4 w-4 mr-2"}),"Run Evidence Analysis"]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Analysis Results"}),r.jsx(ve,{children:"Real-time evidence analysis with failure mode identification"})]}),r.jsx(Q,{children:h.isPending?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx($n,{className:"h-8 w-8 animate-spin text-blue-500"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium",children:"Processing Analysis..."}),r.jsx(Rr,{value:75,className:"w-full"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Applying taxonomy filters and evidence correlation..."})]})]}):a?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsxs("div",{className:`text-3xl font-bold ${g(a.confidence)}`,children:[a.confidence,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Confidence"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-green-600",children:a.primaryFailureModes.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Primary Modes"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-gray-500",children:a.eliminatedFailureModes.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Eliminated"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold text-orange-600",children:a.evidenceGaps.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Evidence Gaps"})]})]}),a.taxonomyContext&&r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-sm font-semibold mb-2",children:"Taxonomy Context:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[a.taxonomyContext.equipmentGroup&&r.jsxs("div",{children:["Group: ",a.taxonomyContext.equipmentGroup]}),a.taxonomyContext.equipmentType&&r.jsxs("div",{children:["Type: ",a.taxonomyContext.equipmentType]}),a.taxonomyContext.riskRanking&&r.jsxs("div",{children:["Risk: ",a.taxonomyContext.riskRanking]})]})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:'Configure analysis parameters and click "Run Evidence Analysis" to start'})]})})]})]}),a&&r.jsxs(Zn,{defaultValue:"failure-modes",className:"space-y-4",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-4",children:[r.jsxs(Te,{value:"failure-modes",children:["Failure Modes (",a.primaryFailureModes.length,")"]}),r.jsxs(Te,{value:"eliminated",children:["Eliminated (",a.eliminatedFailureModes.length,")"]}),r.jsxs(Te,{value:"actions",children:["Actions (",a.recommendedActions.length,")"]}),r.jsxs(Te,{value:"evidence-gaps",children:["Evidence Gaps (",a.evidenceGaps.length,")"]})]}),r.jsx(Ee,{value:"failure-modes",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Primary Failure Modes"}),r.jsx(ve,{children:"High-confidence failure modes identified by the analysis engine"})]}),r.jsx(Q,{children:a.primaryFailureModes.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(ut,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"No primary failure modes identified. Consider expanding the analysis criteria."})]}):r.jsx("div",{className:"space-y-4",children:a.primaryFailureModes.map((S,C)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:S.componentFailureMode}),r.jsxs(J,{variant:S.confidence>=75?"default":"secondary",children:[S.confidence,"% confidence"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Failure Code: ",S.failureCode]}),r.jsx("div",{className:"text-sm mb-3",children:S.reasoning}),S.requiredEvidence.length>0&&r.jsxs("div",{className:"text-xs",children:[r.jsx("strong",{children:"Required Evidence:"}),r.jsx("ul",{className:"list-disc list-inside mt-1",children:S.requiredEvidence.map((_,P)=>r.jsx("li",{children:_},P))})]})]},C))})})]})}),r.jsx(Ee,{value:"eliminated",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Eliminated Failure Modes"}),r.jsx(ve,{children:"Failure modes ruled out by the analysis engine"})]}),r.jsx(Q,{children:a.eliminatedFailureModes.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"No failure modes eliminated. All possibilities remain under consideration."})]}):r.jsx("div",{className:"space-y-3",children:a.eliminatedFailureModes.map((S,C)=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-gray-700",children:S.componentFailureMode}),r.jsxs(J,{variant:"outline",children:[S.confidence,"% confidence"]})]}),r.jsx("div",{className:"text-sm text-gray-600",children:S.reasoning})]},C))})})]})}),r.jsx(Ee,{value:"actions",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Recommended Actions"}),r.jsx(ve,{children:"AI-generated action plan based on analysis results"})]}),r.jsx(Q,{children:a.recommendedActions.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Zt,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:"No specific actions recommended at this time."})]}):r.jsx("div",{className:"space-y-4",children:a.recommendedActions.map((S,C)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs(J,{variant:b(S.priority),children:[S.priority," Priority"]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Nr,{className:"h-4 w-4 mr-1"}),S.timeframe]})]}),r.jsx("div",{className:"font-medium mb-2",children:S.action}),S.cost&&r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[r.jsx(QC,{className:"h-4 w-4 mr-1"}),S.cost]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Resources:"})," ",S.resources.join(", ")]})]},C))})})]})}),r.jsx(Ee,{value:"evidence-gaps",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Evidence Gaps"}),r.jsx(ve,{children:"Missing evidence that could improve analysis confidence"})]}),r.jsx(Q,{children:a.evidenceGaps.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),r.jsx("p",{children:"No significant evidence gaps identified. Analysis is well-supported."})]}):r.jsx("div",{className:"space-y-4",children:a.evidenceGaps.map((S,C)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(J,{variant:b(S.priority),children:S.priority}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Nr,{className:"h-4 w-4 mr-1"}),S.collectionTime]})]}),r.jsx("div",{className:"font-medium mb-2",children:S.evidenceType}),r.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:S.description}),S.cost&&r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(QC,{className:"h-4 w-4 mr-1"}),"Estimated cost: ",S.cost]})]},C))})})]})})]})]})}var hS="Switch",[Wwe,pNe]=Ur(hS),[Hwe,Gwe]=Wwe(hS),O3=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:i,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[p,h]=j.useState(null),v=yt(t,x=>h(x)),m=j.useRef(!1),y=p?u||!!p.closest("form"):!0,[b=!1,g]=Us({prop:s,defaultProp:a,onChange:d});return r.jsxs(Hwe,{scope:n,checked:b,disabled:l,children:[r.jsx(nt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":I3(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:He(e.onClick,x=>{g(N=>!N),y&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),y&&r.jsx(Kwe,{control:p,bubbles:!m.current,name:i,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});O3.displayName=hS;var T3="SwitchThumb",_3=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...i}=e,s=Gwe(T3,n);return r.jsx(nt.span,{"data-state":I3(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})});_3.displayName=T3;var Kwe=e=>{const{control:t,checked:n,bubbles:i=!0,...s}=e,a=j.useRef(null),o=L1(n),l=CN(t);return j.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const p=new Event("click",{bubbles:i});f.call(c,n),c.dispatchEvent(p)}},[o,n,i]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function I3(e){return e?"checked":"unchecked"}var R3=O3,Ywe=_3;const xr=j.forwardRef(({className:e,...t},n)=>r.jsx(R3,{className:Qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(Ywe,{className:Qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xr.displayName=R3.displayName;function uO(){var N,w,k,E,S,C,_,P;const{toast:e}=Dt();Br();const[t,n]=j.useState({incidentId:`RCA_${Date.now()}`,symptoms:[],incidentDescription:"",analysisDepth:"comprehensive",priorityLevel:"high",timeConstraint:"standard",includeRecommendations:!0,generateReport:!0}),[i,s]=j.useState(""),[a,o]=j.useState(null),{data:l,isLoading:c}=Oe({queryKey:["/api/taxonomy/groups"],queryFn:()=>fetch("/api/taxonomy/groups").then(A=>A.json())}),{data:d,isLoading:u}=Oe({queryKey:["/api/taxonomy/types",t.equipmentGroupId],queryFn:()=>t.equipmentGroupId?fetch(`/api/taxonomy/types?groupId=${t.equipmentGroupId}`).then(A=>A.json()):Promise.resolve([]),enabled:!!t.equipmentGroupId}),{data:f,isLoading:p}=Oe({queryKey:["/api/taxonomy/risks"],queryFn:()=>fetch("/api/taxonomy/risks").then(A=>A.json())}),h=Ye({mutationFn:async A=>lt("/api/rca-analysis",{method:"POST",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}),onSuccess:A=>{A.success?(o(A.rca),e({title:"RCA Analysis Complete",description:`Generated ${A.rca.rootCauseHypotheses.length} root cause hypotheses with ${A.rca.qualityMetrics.overallScore}% quality score`})):e({title:"RCA Analysis Failed",description:A.message||"Unknown error occurred",variant:"destructive"})},onError:A=>{e({title:"RCA Analysis Error",description:A.message||"Failed to perform RCA analysis",variant:"destructive"})}}),v=()=>{i.trim()&&!t.symptoms.includes(i.trim())&&(n(A=>({...A,symptoms:[...A.symptoms,i.trim()]})),s(""))},m=A=>{n(O=>({...O,symptoms:O.symptoms.filter(I=>I!==A)}))},y=()=>{if(!t.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}h.mutate(t)},b=A=>{switch(A){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},g=A=>A>=80?"text-green-600":A>=60?"text-yellow-600":"text-red-600",x=A=>{switch(A){case"pattern_recognition":return r.jsx(oc,{className:"h-4 w-4"});case"historical_correlation":return r.jsx(Vs,{className:"h-4 w-4"});case"risk_assessment":return r.jsx(os,{className:"h-4 w-4"});case"failure_progression":return r.jsx(Ci,{className:"h-4 w-4"});default:return r.jsx(_t,{className:"h-4 w-4"})}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((N=wi.find(A=>A.id==="ai"))==null?void 0:N.label)||"AI-Powered RCA"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 7: Comprehensive root cause analysis with AI insights and preventive recommendations"})]}),r.jsxs(J,{variant:"outline",className:"text-purple-600",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),((w=wi.find(A=>A.id==="ai"))==null?void 0:w.label)||"AI-Powered RCA"," Engine"]})]}),r.jsx(Y,{className:"border-l-4 border-l-purple-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-purple-500"}),r.jsxs("span",{children:["Step 7: ",((k=wi.find(A=>A.id==="ai"))==null?void 0:k.label)||"AI-Powered RCA"," - Complete Investigation Suite"]})]}),r.jsx(ve,{children:"Advanced analysis combining evidence analysis, AI insights, root cause hypotheses, and comprehensive preventive action recommendations with quality validation."})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"RCA Configuration"}),r.jsx(ve,{children:"Configure comprehensive root cause analysis parameters"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentId",children:"Incident ID"}),r.jsx(ue,{id:"incidentId",value:t.incidentId,onChange:A=>n(O=>({...O,incidentId:A.target.value})),placeholder:"Enter incident ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentDescription",children:"Incident Description *"}),r.jsx(We,{id:"incidentDescription",value:t.incidentDescription,onChange:A=>n(O=>({...O,incidentDescription:A.target.value})),placeholder:"Provide detailed incident description including symptoms, timeline, and initial observations...",rows:4})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Equipment Classification"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Group"}),r.jsxs(Be,{value:((E=t.equipmentGroupId)==null?void 0:E.toString())||"",onValueChange:A=>{n(O=>({...O,equipmentGroupId:A?parseInt(A):void 0,equipmentTypeId:void 0}))},children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select equipment group"})}),r.jsx(Ve,{children:l==null?void 0:l.map(A=>r.jsx(ee,{value:A.id.toString(),children:A.name},A.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Equipment Type"}),r.jsxs(Be,{value:((S=t.equipmentTypeId)==null?void 0:S.toString())||"",onValueChange:A=>{n(O=>({...O,equipmentTypeId:A?parseInt(A):void 0}))},disabled:!t.equipmentGroupId,children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select equipment type"})}),r.jsx(Ve,{children:d==null?void 0:d.map(A=>r.jsx(ee,{value:A.id.toString(),children:A.name},A.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Risk Ranking"}),r.jsxs(Be,{value:((C=t.riskRankingId)==null?void 0:C.toString())||"",onValueChange:A=>{n(O=>({...O,riskRankingId:A?parseInt(A):void 0}))},children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Select risk ranking"})}),r.jsx(Ve,{children:f==null?void 0:f.map(A=>r.jsx(ee,{value:A.id.toString(),children:A.label},A.id))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Analysis Parameters"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Analysis Depth"}),r.jsxs(Be,{value:t.analysisDepth,onValueChange:A=>n(O=>({...O,analysisDepth:A})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"basic",children:"Basic"}),r.jsx(ee,{value:"comprehensive",children:"Comprehensive"}),r.jsx(ee,{value:"expert",children:"Expert"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Priority Level"}),r.jsxs(Be,{value:t.priorityLevel,onValueChange:A=>n(O=>({...O,priorityLevel:A})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"low",children:"Low"}),r.jsx(ee,{value:"medium",children:"Medium"}),r.jsx(ee,{value:"high",children:"High"}),r.jsx(ee,{value:"critical",children:"Critical"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Include Recommendations"}),r.jsx(xr,{checked:t.includeRecommendations,onCheckedChange:A=>n(O=>({...O,includeRecommendations:A}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Generate Report"}),r.jsx(xr,{checked:t.generateReport,onCheckedChange:A=>n(O=>({...O,generateReport:A}))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Observed Symptoms"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:i,onChange:A=>s(A.target.value),placeholder:"Enter symptom (e.g., 'high vibration', 'bearing noise')",onKeyPress:A=>A.key==="Enter"&&v()}),r.jsx(W,{onClick:v,variant:"outline",children:"Add"})]}),t.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.symptoms.map((A,O)=>r.jsxs(J,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>m(A),children:[A," ✕"]},O))})]}),r.jsx(W,{onClick:y,disabled:h.isPending||!t.incidentDescription.trim(),className:"w-full","data-testid":"run-rca-analysis-button",children:h.isPending?r.jsxs(r.Fragment,{children:[r.jsx($n,{className:"h-4 w-4 mr-2 animate-spin"}),"Performing RCA Analysis..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Run ",((_=wi.find(A=>A.id==="ai"))==null?void 0:_.label)||"AI-Powered RCA"," Analysis"]})})]})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"RCA Results Overview"}),r.jsx(ve,{children:"Comprehensive analysis results with quality metrics"})]}),r.jsx(Q,{children:h.isPending?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(_t,{className:"h-8 w-8 animate-pulse text-purple-500"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium",children:"Processing Comprehensive RCA..."}),r.jsx(Rr,{value:85,className:"w-full"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Generating AI insights and root cause hypotheses..."})]})]}):a?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[r.jsx("div",{className:`text-2xl font-bold ${g(a.qualityMetrics.overallScore)}`,children:a.qualityMetrics.overallScore}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Quality"})]}),r.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[r.jsxs("div",{className:`text-2xl font-bold ${g(a.confidence)}`,children:[a.confidence,"%"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Analysis Confidence"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.rootCauseHypotheses.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Hypotheses"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:a.aiInsights.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"AI Insights"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:a.preventiveActions.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Actions"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-orange-600",children:a.evidenceGaps.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Evidence Gaps"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-semibold",children:"Quality Metrics:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Data Completeness:"}),r.jsxs("span",{className:g(a.qualityMetrics.dataCompleteness),children:[a.qualityMetrics.dataCompleteness,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Evidence Quality:"}),r.jsxs("span",{className:g(a.qualityMetrics.evidenceQuality),children:[a.qualityMetrics.evidenceQuality,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Recommendation Reliability:"}),r.jsxs("span",{className:g(a.qualityMetrics.recommendationReliability),children:[a.qualityMetrics.recommendationReliability,"%"]})]})]})]}),a.validationStatus.validationRequired&&r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(wr,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-sm font-semibold text-yellow-800",children:"Validation Required"})]}),r.jsxs("div",{className:"text-sm text-yellow-700",children:["Estimated time: ",a.validationStatus.estimatedValidationTime," | Cost: ",a.validationStatus.validationCost]})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsxs("p",{children:['Configure RCA parameters and click "Run ',((P=wi.find(A=>A.id==="ai"))==null?void 0:P.label)||"AI-Powered RCA",' Analysis" to start']})]})})]})]}),a&&r.jsxs(Zn,{defaultValue:"hypotheses",className:"space-y-4",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-6",children:[r.jsxs(Te,{value:"hypotheses",children:["Root Causes (",a.rootCauseHypotheses.length,")"]}),r.jsxs(Te,{value:"insights",children:["AI Insights (",a.aiInsights.length,")"]}),r.jsxs(Te,{value:"actions",children:["Preventive Actions (",a.preventiveActions.length,")"]}),r.jsxs(Te,{value:"failure-modes",children:["Failure Modes (",a.primaryFailureModes.length,")"]}),r.jsx(Te,{value:"report",children:"Executive Report"}),r.jsx(Te,{value:"validation",children:"Validation"})]}),r.jsx(Ee,{value:"hypotheses",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Root Cause Hypotheses"}),r.jsx(ve,{children:"AI-generated root cause hypotheses ranked by probability"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:a.rootCauseHypotheses.map((A,O)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:b(A.priority),children:A.priority}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[A.probability,"% probability"]})]}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Nr,{className:"h-4 w-4 mr-1"}),A.timeToConfirm]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:A.hypothesis}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Supporting Evidence:"})," ",A.supportingFailureModes.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Required Validation:"})," ",A.requiredValidation.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Estimated Cost:"})," ",A.cost]})]})]})]},O))})})]})}),r.jsx(Ee,{value:"insights",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"AI Analysis Insights"}),r.jsx(ve,{children:"Advanced AI insights from pattern recognition and historical analysis"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:a.aiInsights.map((A,O)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[x(A.category),r.jsx("span",{className:"font-semibold capitalize",children:A.category.replace("_"," ")})]}),r.jsxs(J,{variant:"secondary",children:[A.confidence,"% confidence"]})]}),r.jsx("p",{className:"mb-3",children:A.insight}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Supporting Evidence:"})," ",A.supportingEvidence.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Data Source:"})," ",A.dataSource]})]})]},O))})})]})}),r.jsx(Ee,{value:"actions",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Preventive Actions"}),r.jsx(ve,{children:"Comprehensive preventive action plan with implementation details"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:a.preventiveActions.map((A,O)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs(J,{variant:b(A.priority),children:[A.priority," Priority"]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.effectiveness,"% effectiveness"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:A.action}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Implementation Time:"})," ",A.implementationTime]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cost:"})," ",A.cost]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Target Modes:"})," ",A.targetFailureModes.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Dependencies:"})," ",A.dependencies.join(", ")]})]})]})]},O))})})]})}),r.jsx(Ee,{value:"failure-modes",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Failure Mode Analysis"}),r.jsx(ve,{children:"Detailed failure mode analysis results"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:a.primaryFailureModes.map((A,O)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:A.componentFailureMode}),r.jsxs(J,{variant:A.confidence>=75?"default":"secondary",children:[A.confidence,"% confidence"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Failure Code: ",A.failureCode]}),r.jsx("div",{className:"text-sm mb-3",children:A.reasoning}),A.requiredEvidence&&A.requiredEvidence.length>0&&r.jsxs("div",{className:"text-xs",children:[r.jsx("strong",{children:"Required Evidence:"}),r.jsx("ul",{className:"list-disc list-inside mt-1",children:A.requiredEvidence.map((I,F)=>r.jsx("li",{children:I},F))})]})]},O))})})]})}),r.jsx(Ee,{value:"report",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Executive Summary Report"}),r.jsx(ve,{children:"Comprehensive analysis summary for management review"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Executive Summary"}),r.jsx("p",{className:"text-sm",children:a.reportSummary.executiveSummary})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Key Findings"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.keyFindings.map((A,O)=>r.jsx("li",{children:A},O))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Immediate Actions"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.immediateActions.map((A,O)=>r.jsx("li",{children:A},O))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Long-Term Recommendations"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.longTermRecommendations.map((A,O)=>r.jsx("li",{children:A},O))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Risk Mitigation"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.riskMitigation.map((A,O)=>r.jsx("li",{children:A},O))})]})]})]})}),r.jsx(Ee,{value:"validation",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Validation Requirements"}),r.jsx(ve,{children:"Analysis validation status and required actions"})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center space-x-2",children:a.validationStatus.validationRequired?r.jsxs(r.Fragment,{children:[r.jsx(wr,{className:"h-5 w-5 text-yellow-500"}),r.jsx("span",{className:"font-semibold text-yellow-700",children:"Validation Required"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ct,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"font-semibold text-green-700",children:"Analysis Validated"})]})}),a.validationStatus.validationRequired&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Estimated Time:"})," ",a.validationStatus.estimatedValidationTime]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Estimated Cost:"})," ",a.validationStatus.validationCost]})]})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Validation Steps"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.validationStatus.validationSteps.map((A,O)=>r.jsx("li",{children:A},O))})]}),a.validationStatus.criticalGaps.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Critical Gaps"}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-600",children:a.validationStatus.criticalGaps.map((A,O)=>r.jsx("li",{children:A},O))})]})]})]})]})})]})]})}function fO(){var k,E;const{toast:e}=Dt();Br();const[t,n]=j.useState({workflowId:`WF_${Date.now()}`,initiatorUserId:"current_user",incidentData:{incidentId:`INC_${Date.now()}`,symptoms:[],incidentDescription:"",analysisDepth:"comprehensive",priorityLevel:"high",timeConstraint:"standard",includeRecommendations:!0,generateReport:!0},workflowType:"standard",approvalRequired:!0,stakeholders:[],notifications:{emailNotifications:!0,smsAlerts:!1,dashboardUpdates:!0,stakeholderUpdates:!0,escalationThreshold:24},scheduleConfig:{startImmediately:!0,milestoneReminders:!0,businessHoursOnly:!1},documentationLevel:"comprehensive"}),[i,s]=j.useState(""),[a,o]=j.useState(""),[l,c]=j.useState(null),d=Ye({mutationFn:async S=>lt("/api/workflows",{method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json"}}),onSuccess:S=>{S.success?(c(S.workflow),e({title:"Workflow Initiated",description:`Workflow ${S.workflow.workflowId} started successfully`})):e({title:"Workflow Initiation Failed",description:S.message||"Unknown error occurred",variant:"destructive"})},onError:S=>{e({title:"Workflow Error",description:S.message||"Failed to initiate workflow",variant:"destructive"})}}),u=Ye({mutationFn:async({workflowId:S,stageId:C})=>lt(`/api/workflows/${S}/execute/${C}`,{method:"POST",headers:{"Content-Type":"application/json"}}),onSuccess:S=>{S.success&&(c(S.workflow),e({title:"Stage Executed",description:"Stage completed successfully"}))},onError:S=>{e({title:"Stage Execution Error",description:S.message||"Failed to execute stage",variant:"destructive"})}}),{data:f,refetch:p}=Oe({queryKey:["/api/workflows",l==null?void 0:l.workflowId],queryFn:()=>l?fetch(`/api/workflows/${l.workflowId}`).then(S=>S.json()):Promise.resolve(null),enabled:!!l,refetchInterval:5e3});j.useEffect(()=>{f!=null&&f.success&&f.workflow&&c(f.workflow)},[f]);const h=()=>{i.trim()&&!t.incidentData.symptoms.includes(i.trim())&&(n(S=>({...S,incidentData:{...S.incidentData,symptoms:[...S.incidentData.symptoms,i.trim()]}})),s(""))},v=S=>{n(C=>({...C,incidentData:{...C.incidentData,symptoms:C.incidentData.symptoms.filter(_=>_!==S)}}))},m=()=>{a.trim()&&!t.stakeholders.includes(a.trim())&&(n(S=>({...S,stakeholders:[...S.stakeholders,a.trim()]})),o(""))},y=S=>{n(C=>({...C,stakeholders:C.stakeholders.filter(_=>_!==S)}))},b=()=>{if(!t.incidentData.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}d.mutate(t)},g=S=>{l&&u.mutate({workflowId:l.workflowId,stageId:S})},x=S=>{switch(S){case"active":return"text-blue-600";case"completed":return"text-green-600";case"failed":return"text-red-600";case"pending":return"text-yellow-600";case"cancelled":return"text-gray-600";default:return"text-gray-600"}},N=S=>{switch(S){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},w=S=>{switch(S){case"initiation":return r.jsx(ZC,{className:"h-4 w-4"});case"analysis":return r.jsx(Vs,{className:"h-4 w-4"});case"review":return r.jsx(Lc,{className:"h-4 w-4"});case"approval":return r.jsx(Ct,{className:"h-4 w-4"});case"implementation":return r.jsx($n,{className:"h-4 w-4"});case"closure":return r.jsx(fz,{className:"h-4 w-4"});default:return r.jsx(qc,{className:"h-4 w-4"})}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((k=wi.find(S=>S.id==="integrations"))==null?void 0:k.label)||"Workflow Integration"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 8: Complete workflow management with automated process orchestration and progress tracking"})]}),r.jsxs(J,{variant:"outline",className:"text-indigo-600",children:[r.jsx(ek,{className:"h-4 w-4 mr-2"}),"Workflow Engine v2.0"]})]}),r.jsx(Y,{className:"border-l-4 border-l-indigo-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-indigo-500"}),r.jsxs("span",{children:["Step 8: ",((E=wi.find(S=>S.id==="integrations"))==null?void 0:E.label)||"Workflow Integration"," - Complete Process Automation Suite"]})]}),r.jsx(ve,{children:"Advanced workflow management integrating RCA analysis with automated process orchestration, stakeholder management, approval workflows, and comprehensive documentation generation."})]})}),l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[w(l.status.phase),r.jsxs("span",{children:["Workflow: ",l.workflowId]})]}),r.jsx(J,{variant:"outline",className:x(l.status.state),children:l.status.state.toUpperCase()})]}),r.jsxs(ve,{children:["Current Phase: ",l.status.phase," | Processing Time: ",l.status.processingTime," | Completion: ",l.completionPercentage,"%"]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.completionPercentage,"%"]})]}),r.jsx(Rr,{value:l.completionPercentage,className:"w-full"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:l.nextActions.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending Actions"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:l.generatedDocuments.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Documents"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:l.approvals.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Approvals"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-orange-600",children:l.notifications.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Notifications"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Estimated Completion"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(l.estimatedCompletion).toLocaleString()})]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>c(null),children:[r.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Close Workflow"]})]})]})})]}),r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{children:["Current Stage: ",l.currentStage.stageName]}),r.jsx(ve,{children:l.currentStage.description})]}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{variant:l.currentStage.status==="active"?"default":"secondary",children:l.currentStage.status}),l.currentStage.status==="pending"&&r.jsxs(W,{onClick:()=>g(l.currentStage.stageId),disabled:u.isPending,size:"sm",children:[u.isPending?r.jsx($n,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(ZC,{className:"h-4 w-4 mr-1"}),"Execute Stage"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold mb-2",children:"Requirements:"}),r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.currentStage.requirements.map((S,C)=>r.jsx("li",{children:S},C))})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold mb-2",children:"Deliverables:"}),r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.currentStage.deliverables.map((S,C)=>r.jsx("li",{children:S},C))})]})]})]})]}),r.jsxs(Zn,{defaultValue:"actions",className:"space-y-4",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-6",children:[r.jsxs(Te,{value:"actions",children:["Actions (",l.nextActions.length,")"]}),r.jsxs(Te,{value:"approvals",children:["Approvals (",l.approvals.length,")"]}),r.jsxs(Te,{value:"documents",children:["Documents (",l.generatedDocuments.length,")"]}),r.jsxs(Te,{value:"notifications",children:["Notifications (",l.notifications.length,")"]}),r.jsx(Te,{value:"quality",children:"Quality Checks"}),r.jsx(Te,{value:"timeline",children:"Timeline"})]}),r.jsx(Ee,{value:"actions",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Pending Actions"}),r.jsx(ve,{children:"Actions requiring attention or completion"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[l.nextActions.map((S,C)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(J,{variant:N(S.priority),children:S.priority}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(Iz,{className:"h-3 w-3 mr-1"}),"Due: ",new Date(S.dueDate).toLocaleDateString()]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:S.description}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Assigned to:"})," ",S.assignedTo]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",S.actionType]}),S.dependencies.length>0&&r.jsxs("div",{children:[r.jsx("strong",{children:"Dependencies:"})," ",S.dependencies.join(", ")]})]})]})]},C)),l.nextActions.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No pending actions at this time"})]})]})})]})}),r.jsx(Ee,{value:"approvals",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Approval Status"}),r.jsx(ve,{children:"Required approvals and their current status"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[l.approvals.map((S,C)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:S.status==="approved"?"default":"secondary",children:S.status.replace("_"," ")}),r.jsx("span",{className:"text-sm font-medium capitalize",children:S.approvalType.replace("_"," ")})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:S.approver})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Requirements:"})," ",S.requirements.join(", ")]}),S.submittedDate&&r.jsxs("div",{children:[r.jsx("strong",{children:"Submitted:"})," ",new Date(S.submittedDate).toLocaleString()]}),S.comments&&r.jsxs("div",{children:[r.jsx("strong",{children:"Comments:"})," ",S.comments]})]})]},C)),l.approvals.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(os,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No approvals required for this workflow"})]})]})})]})}),r.jsx(Ee,{value:"documents",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Generated Documents"}),r.jsx(ve,{children:"Documents created during the workflow process"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[l.generatedDocuments.map((S,C)=>r.jsx("div",{className:"p-3 border rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:S.title}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Type: ",S.documentType.replace("_"," ")," | Format: ",S.format.toUpperCase()]}),r.jsxs("div",{children:["Size: ",S.size," | Generated: ",new Date(S.generatedAt).toLocaleString()]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:S.status==="ready"?"default":"secondary",children:S.status}),S.status==="ready"&&r.jsxs(W,{variant:"outline",size:"sm",children:[r.jsx(cr,{className:"h-3 w-3 mr-1"}),"Download"]})]})]})},C)),l.generatedDocuments.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Zt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No documents generated yet"})]})]})})]})}),r.jsx(Ee,{value:"notifications",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Notification Log"}),r.jsx(ve,{children:"Communication history and status updates"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[l.notifications.map((S,C)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(GC,{className:"h-3 w-3"}),r.jsx("span",{className:"text-sm font-medium",children:S.subject})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:S.status==="sent"?"default":"secondary",children:S.status}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(S.sentAt).toLocaleTimeString()})]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsxs("div",{children:["To: ",S.recipient," | Type: ",S.type]}),r.jsx("div",{className:"mt-1",children:S.message})]})]},C)),l.notifications.length===0&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(GC,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No notifications sent yet"})]})]})})]})}),r.jsx(Ee,{value:"quality",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Quality Checks"}),r.jsx(ve,{children:"Automated quality validation and compliance checks"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-3",children:l.qualityChecks.map((S,C)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium capitalize",children:S.checkType.replace("_"," ")}),r.jsx(J,{variant:S.status==="passed"?"default":S.status==="failed"?"destructive":S.status==="warning"?"secondary":"outline",children:S.status})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("div",{children:S.description}),r.jsxs("div",{children:[r.jsx("strong",{children:"Details:"})," ",S.details]}),S.checkedAt&&r.jsxs("div",{children:[r.jsx("strong",{children:"Checked:"})," ",new Date(S.checkedAt).toLocaleString()]}),S.checkedBy&&r.jsxs("div",{children:[r.jsx("strong",{children:"By:"})," ",S.checkedBy]})]})]},C))})})]})}),r.jsx(Ee,{value:"timeline",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Workflow Timeline"}),r.jsx(ve,{children:"Process execution timeline and milestones"})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-muted rounded-lg",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Workflow Initiated"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.status.lastUpdated).toLocaleString()})]})]}),l.currentStage.startTime&&r.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Vs,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium",children:["Current Stage Started: ",l.currentStage.stageName]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.currentStage.startTime).toLocaleString()})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 p-3 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx(Nr,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Estimated Completion"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.estimatedCompletion).toLocaleString()})]})]})]})})]})})]})]}):r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Workflow Configuration"}),r.jsx(ve,{children:"Configure comprehensive workflow automation parameters"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Workflow Settings"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"workflowId",children:"Workflow ID"}),r.jsx(ue,{id:"workflowId",value:t.workflowId,onChange:S=>n(C=>({...C,workflowId:S.target.value})),placeholder:"Enter workflow ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Workflow Type"}),r.jsxs(Be,{value:t.workflowType,onValueChange:S=>n(C=>({...C,workflowType:S})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"standard",children:"Standard (24h)"}),r.jsx(ee,{value:"expedited",children:"Expedited (8h)"}),r.jsx(ee,{value:"comprehensive",children:"Comprehensive (72h)"}),r.jsx(ee,{value:"emergency",children:"Emergency (4h)"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Documentation Level"}),r.jsxs(Be,{value:t.documentationLevel,onValueChange:S=>n(C=>({...C,documentationLevel:S})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"basic",children:"Basic"}),r.jsx(ee,{value:"detailed",children:"Detailed"}),r.jsx(ee,{value:"comprehensive",children:"Comprehensive"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xr,{id:"approvalRequired",checked:t.approvalRequired,onCheckedChange:S=>n(C=>({...C,approvalRequired:S}))}),r.jsx(ie,{htmlFor:"approvalRequired",children:"Approval Required"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Incident Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentId",children:"Incident ID"}),r.jsx(ue,{id:"incidentId",value:t.incidentData.incidentId,onChange:S=>n(C=>({...C,incidentData:{...C.incidentData,incidentId:S.target.value}})),placeholder:"Enter incident ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"incidentDescription",children:"Incident Description *"}),r.jsx(We,{id:"incidentDescription",value:t.incidentData.incidentDescription,onChange:S=>n(C=>({...C,incidentData:{...C.incidentData,incidentDescription:S.target.value}})),placeholder:"Provide detailed incident description including symptoms, timeline, and initial observations...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Analysis Depth"}),r.jsxs(Be,{value:t.incidentData.analysisDepth,onValueChange:S=>n(C=>({...C,incidentData:{...C.incidentData,analysisDepth:S}})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"basic",children:"Basic"}),r.jsx(ee,{value:"comprehensive",children:"Comprehensive"}),r.jsx(ee,{value:"expert",children:"Expert"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Priority Level"}),r.jsxs(Be,{value:t.incidentData.priorityLevel,onValueChange:S=>n(C=>({...C,incidentData:{...C.incidentData,priorityLevel:S}})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"low",children:"Low"}),r.jsx(ee,{value:"medium",children:"Medium"}),r.jsx(ee,{value:"high",children:"High"}),r.jsx(ee,{value:"critical",children:"Critical"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Time Constraint"}),r.jsxs(Be,{value:t.incidentData.timeConstraint,onValueChange:S=>n(C=>({...C,incidentData:{...C.incidentData,timeConstraint:S}})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"immediate",children:"Immediate"}),r.jsx(ee,{value:"standard",children:"Standard"}),r.jsx(ee,{value:"thorough",children:"Thorough"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ie,{children:"Observed Symptoms"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:i,onChange:S=>s(S.target.value),placeholder:"Enter symptom (e.g., 'high vibration', 'bearing noise')",onKeyPress:S=>S.key==="Enter"&&h()}),r.jsx(W,{onClick:h,variant:"outline",children:"Add"})]}),t.incidentData.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.incidentData.symptoms.map((S,C)=>r.jsxs(J,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>v(S),children:[S," ✕"]},C))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Stakeholders & Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ue,{value:a,onChange:S=>o(S.target.value),placeholder:"Add stakeholder (e.g., 'Engineering Manager', 'Safety Officer')",onKeyPress:S=>S.key==="Enter"&&m()}),r.jsx(W,{onClick:m,variant:"outline",children:"Add"})]}),t.stakeholders.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.stakeholders.map((S,C)=>r.jsxs(J,{variant:"outline",className:"cursor-pointer hover:bg-red-100",onClick:()=>y(S),children:[r.jsx(xN,{className:"h-3 w-3 mr-1"}),S," ✕"]},C))}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Email Notifications"}),r.jsx(xr,{checked:t.notifications.emailNotifications,onCheckedChange:S=>n(C=>({...C,notifications:{...C.notifications,emailNotifications:S}}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Dashboard Updates"}),r.jsx(xr,{checked:t.notifications.dashboardUpdates,onCheckedChange:S=>n(C=>({...C,notifications:{...C.notifications,dashboardUpdates:S}}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Stakeholder Updates"}),r.jsx(xr,{checked:t.notifications.stakeholderUpdates,onCheckedChange:S=>n(C=>({...C,notifications:{...C.notifications,stakeholderUpdates:S}}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Milestone Reminders"}),r.jsx(xr,{checked:t.scheduleConfig.milestoneReminders,onCheckedChange:S=>n(C=>({...C,scheduleConfig:{...C.scheduleConfig,milestoneReminders:S}}))})]})]})]})]}),r.jsx(W,{onClick:b,disabled:d.isPending||!t.incidentData.incidentDescription.trim(),className:"w-full",size:"lg","data-testid":"initiate-workflow-button",children:d.isPending?r.jsxs(r.Fragment,{children:[r.jsx($n,{className:"h-4 w-4 mr-2 animate-spin"}),"Initiating Workflow..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ek,{className:"h-4 w-4 mr-2"}),"Initiate Workflow Process"]})})]})]})]})}function Qwe(){var S,C,_,P,A,O,I,F,$,G,z,H;const{toast:e}=Dt();Br();const[t,n]=j.useState({sourceId:`DS_${Date.now()}`,sourceName:"",sourceType:"api",connectionConfig:{timeout:3e4,retryAttempts:3},dataMapping:{sourceFields:[],transformationRules:[],validationRules:[],targetSchema:"incidents"},syncSchedule:{frequency:"manual",isEnabled:!1},isActive:!1,syncStatus:"idle"}),[i,s]=j.useState(null),[a,o]=j.useState([]),{data:l,isLoading:c,refetch:d}=Oe({queryKey:["/api/data-sources"],queryFn:()=>fetch("/api/data-sources").then(D=>D.json())}),{data:u,isLoading:f}=Oe({queryKey:["/api/integrations"],queryFn:()=>fetch("/api/integrations").then(D=>D.json())}),p=Ye({mutationFn:async D=>lt("/api/data-sources",{method:"POST",body:JSON.stringify(D),headers:{"Content-Type":"application/json"}}),onSuccess:D=>{D!=null&&D.success?(e({title:"Data Source Registered",description:(D==null?void 0:D.message)||"Data source registered successfully"}),d(),n({sourceId:`DS_${Date.now()}`,sourceName:"",sourceType:"api",connectionConfig:{timeout:3e4,retryAttempts:3},dataMapping:{sourceFields:[],transformationRules:[],validationRules:[],targetSchema:"incidents"},syncSchedule:{frequency:"manual",isEnabled:!1},isActive:!1,syncStatus:"idle"})):e({title:"Registration Failed",description:(D==null?void 0:D.message)||"Unknown error occurred",variant:"destructive"})},onError:D=>{e({title:"Registration Error",description:D.message||"Failed to register data source",variant:"destructive"})}}),h=Ye({mutationFn:async({sourceId:D,options:U})=>lt(`/api/data-sources/${D}/sync`,{method:"POST",body:JSON.stringify(U||{}),headers:{"Content-Type":"application/json"}}),onSuccess:D=>{var U;D!=null&&D.success&&(e({title:"Sync Completed",description:((U=D==null?void 0:D.syncResult)==null?void 0:U.summary)||"Sync completed successfully"}),d(),i&&v(i.sourceId))},onError:D=>{e({title:"Sync Failed",description:D.message||"Failed to execute sync",variant:"destructive"})}}),v=async D=>{try{const R=await(await fetch(`/api/data-sources/${D}/history`)).json();R!=null&&R.success&&o((R==null?void 0:R.syncHistory)||[])}catch(U){console.error("Failed to fetch sync history:",U)}},m=()=>{var D,U,R;if(!((D=t.sourceName)!=null&&D.trim())){e({title:"Missing Information",description:"Please provide a data source name",variant:"destructive"});return}if(!((R=(U=t.connectionConfig)==null?void 0:U.endpoint)!=null&&R.trim())&&t.sourceType!=="file_system"){e({title:"Missing Information",description:"Please provide connection endpoint",variant:"destructive"});return}p.mutate(t)},y=D=>{h.mutate({sourceId:D})},b=()=>{t.dataMapping&&n(D=>({...D,dataMapping:{...D.dataMapping,sourceFields:[...D.dataMapping.sourceFields,{sourceField:"",targetField:"",dataType:"string",isRequired:!1}]}}))},g=D=>{t.dataMapping&&n(U=>({...U,dataMapping:{...U.dataMapping,sourceFields:U.dataMapping.sourceFields.filter((R,se)=>se!==D)}}))},x=(D,U)=>{t.dataMapping&&n(R=>({...R,dataMapping:{...R.dataMapping,sourceFields:R.dataMapping.sourceFields.map((se,ge)=>ge===D?{...se,...U}:se)}}))},N=D=>{switch(D){case"active":case"completed":case"success":return"text-green-600";case"syncing":return"text-blue-600";case"error":case"failed":return"text-red-600";case"idle":case"inactive":return"text-gray-600";default:return"text-gray-600"}},w=D=>{switch(D){case"cmms":return r.jsx($n,{className:"h-4 w-4"});case"historian":return r.jsx(oc,{className:"h-4 w-4"});case"scada":return r.jsx(Vs,{className:"h-4 w-4"});case"api":return r.jsx(Cz,{className:"h-4 w-4"});case"database":return r.jsx(Gn,{className:"h-4 w-4"});case"file_system":return r.jsx(jz,{className:"h-4 w-4"});case"sensor_network":return r.jsx(Rz,{className:"h-4 w-4"});default:return r.jsx(JC,{className:"h-4 w-4"})}},k=(l==null?void 0:l.dataSources)||[],E=(u==null?void 0:u.integrations)||[];return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Data Integration & External Connectivity"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 9: Connect external systems and automate data synchronization for comprehensive RCA analysis"})]}),r.jsxs(J,{variant:"outline",className:"text-cyan-600",children:[r.jsx(vz,{className:"h-4 w-4 mr-2"}),"Integration Pipeline v1.0"]})]}),r.jsx(Y,{className:"border-l-4 border-l-cyan-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-cyan-500"}),r.jsx("span",{children:"Step 9: Data Integration - External System Connectivity Suite"})]}),r.jsx(ve,{children:"Advanced data integration pipeline connecting CMMS, process historians, SCADA systems, and external APIs with automated synchronization, transformation, and validation capabilities."})]})}),r.jsxs(Zn,{defaultValue:"sources",className:"space-y-4",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-5",children:[r.jsxs(Te,{value:"sources",children:["Data Sources (",k.length,")"]}),r.jsx(Te,{value:"new-source",children:"New Source"}),r.jsxs(Te,{value:"integrations",children:["Available Integrations (",E.length,")"]}),r.jsx(Te,{value:"sync-history",children:"Sync History"}),r.jsx(Te,{value:"monitoring",children:"Monitoring"})]}),r.jsx(Ee,{value:"sources",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Registered Data Sources"}),r.jsx(ve,{children:"Manage external data sources and their synchronization status"})]}),r.jsx(Q,{children:c?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(Kn,{className:"h-8 w-8 animate-spin text-cyan-500"})}):k.length>0?r.jsx("div",{className:"space-y-4",children:k.map((D,U)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[w(D.sourceType),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:D.sourceName}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Type: ",D.sourceType.toUpperCase()," | Target: ",D.dataMapping.targetSchema]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:D.isActive?"default":"secondary",children:D.isActive?"Active":"Inactive"}),r.jsx(J,{variant:"outline",className:N(D.syncStatus),children:D.syncStatus})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Endpoint:"})," ",D.connectionConfig.endpoint||"Not configured"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Sync Schedule:"})," ",D.syncSchedule.frequency]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Last Sync:"})," ",D.lastSync?new Date(D.lastSync).toLocaleString():"Never"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>y(D.sourceId),disabled:h.isPending,children:[h.isPending?r.jsx(Kn,{className:"h-3 w-3 mr-1 animate-spin"}):r.jsx(Oz,{className:"h-3 w-3 mr-1"}),"Sync Now"]}),r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>{s(D),v(D.sourceId)},children:[r.jsx(Is,{className:"h-3 w-3 mr-1"}),"View History"]}),r.jsxs(W,{size:"sm",variant:"outline",children:[r.jsx($n,{className:"h-3 w-3 mr-1"}),"Configure"]})]})]},U))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Gn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No data sources configured yet"}),r.jsx("p",{className:"text-sm",children:"Add a new data source to get started"})]})})]})}),r.jsx(Ee,{value:"new-source",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Register New Data Source"}),r.jsx(ve,{children:"Configure a new external data source for integration"})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Basic Configuration"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"sourceName",children:"Source Name *"}),r.jsx(ue,{id:"sourceName",value:t.sourceName||"",onChange:D=>n(U=>({...U,sourceName:D.target.value})),placeholder:"Enter descriptive name (e.g., 'Production CMMS')"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Source Type"}),r.jsxs(Be,{value:t.sourceType,onValueChange:D=>n(U=>({...U,sourceType:D})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"cmms",children:"CMMS (Maintenance Management)"}),r.jsx(ee,{value:"historian",children:"Process Historian"}),r.jsx(ee,{value:"scada",children:"SCADA System"}),r.jsx(ee,{value:"api",children:"REST API"}),r.jsx(ee,{value:"database",children:"Database"}),r.jsx(ee,{value:"file_system",children:"File System"}),r.jsx(ee,{value:"sensor_network",children:"Sensor Network"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"endpoint",children:"Connection Endpoint"}),r.jsx(ue,{id:"endpoint",value:((S=t.connectionConfig)==null?void 0:S.endpoint)||"",onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,endpoint:D.target.value}})),placeholder:"https://api.system.com or server:port"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"targetSchema",children:"Target Schema"}),r.jsxs(Be,{value:((C=t.dataMapping)==null?void 0:C.targetSchema)||"incidents",onValueChange:D=>n(U=>({...U,dataMapping:{...U.dataMapping,targetSchema:D}})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"incidents",children:"Incident Reports"}),r.jsx(ee,{value:"sensor_data",children:"Sensor Data"}),r.jsx(ee,{value:"maintenance_records",children:"Maintenance Records"}),r.jsx(ee,{value:"asset_data",children:"Asset Information"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"timeout",children:"Timeout (ms)"}),r.jsx(ue,{id:"timeout",type:"number",value:((_=t.connectionConfig)==null?void 0:_.timeout)||3e4,onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,timeout:parseInt(D.target.value)}}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"retryAttempts",children:"Retry Attempts"}),r.jsx(ue,{id:"retryAttempts",type:"number",value:((P=t.connectionConfig)==null?void 0:P.retryAttempts)||3,onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,retryAttempts:parseInt(D.target.value)}}))})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[r.jsx(xr,{id:"isActive",checked:t.isActive||!1,onCheckedChange:D=>n(U=>({...U,isActive:D}))}),r.jsx(ie,{htmlFor:"isActive",children:"Active"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Authentication"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"apiKey",children:"API Key"}),r.jsx(ue,{id:"apiKey",type:"password",value:((A=t.connectionConfig)==null?void 0:A.apiKey)||"",onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,apiKey:D.target.value}})),placeholder:"Enter API key if required"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"username",children:"Username"}),r.jsx(ue,{id:"username",value:((O=t.connectionConfig)==null?void 0:O.username)||"",onChange:D=>n(U=>({...U,connectionConfig:{...U.connectionConfig,username:D.target.value}})),placeholder:"Enter username if required"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-semibold",children:"Field Mapping"}),r.jsxs(W,{onClick:b,size:"sm",variant:"outline",children:[r.jsx(On,{className:"h-3 w-3 mr-1"}),"Add Field"]})]}),r.jsxs("div",{className:"space-y-3",children:[(I=t.dataMapping)==null?void 0:I.sourceFields.map((D,U)=>r.jsxs("div",{className:"grid grid-cols-6 gap-2 items-end",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(ie,{className:"text-xs",children:"Source Field"}),r.jsx(ue,{value:D.sourceField,onChange:R=>x(U,{sourceField:R.target.value}),placeholder:"source_field",className:"h-8"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ie,{className:"text-xs",children:"Target Field"}),r.jsx(ue,{value:D.targetField,onChange:R=>x(U,{targetField:R.target.value}),placeholder:"targetField",className:"h-8"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ie,{className:"text-xs",children:"Data Type"}),r.jsxs(Be,{value:D.dataType,onValueChange:R=>x(U,{dataType:R}),children:[r.jsx(qe,{className:"h-8",children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"string",children:"String"}),r.jsx(ee,{value:"number",children:"Number"}),r.jsx(ee,{value:"date",children:"Date"}),r.jsx(ee,{value:"boolean",children:"Boolean"}),r.jsx(ee,{value:"json",children:"JSON"})]})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ie,{className:"text-xs",children:"Default Value"}),r.jsx(ue,{value:D.defaultValue||"",onChange:R=>x(U,{defaultValue:R.target.value}),placeholder:"default",className:"h-8"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xr,{checked:D.isRequired,onCheckedChange:R=>x(U,{isRequired:R})}),r.jsx(ie,{className:"text-xs",children:"Required"})]}),r.jsx("div",{children:r.jsx(W,{onClick:()=>g(U),size:"sm",variant:"outline",className:"h-8",children:r.jsx(Ws,{className:"h-3 w-3"})})})]},U)),(!((F=t.dataMapping)!=null&&F.sourceFields)||t.dataMapping.sourceFields.length===0)&&r.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:'No field mappings configured yet. Click "Add Field" to start.'})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold",children:"Sync Schedule"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{children:"Frequency"}),r.jsxs(Be,{value:(($=t.syncSchedule)==null?void 0:$.frequency)||"manual",onValueChange:D=>n(U=>({...U,syncSchedule:{...U.syncSchedule,frequency:D}})),children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"realtime",children:"Real-time"}),r.jsx(ee,{value:"hourly",children:"Hourly"}),r.jsx(ee,{value:"daily",children:"Daily"}),r.jsx(ee,{value:"weekly",children:"Weekly"}),r.jsx(ee,{value:"manual",children:"Manual"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:"interval",children:"Interval (minutes)"}),r.jsx(ue,{id:"interval",type:"number",value:((G=t.syncSchedule)==null?void 0:G.interval)||"",onChange:D=>n(U=>({...U,syncSchedule:{...U.syncSchedule,interval:parseInt(D.target.value)}})),placeholder:"60",disabled:((z=t.syncSchedule)==null?void 0:z.frequency)==="manual"})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[r.jsx(xr,{checked:((H=t.syncSchedule)==null?void 0:H.isEnabled)||!1,onCheckedChange:D=>n(U=>({...U,syncSchedule:{...U.syncSchedule,isEnabled:D}}))}),r.jsx(ie,{children:"Enable Schedule"})]})]})]}),r.jsx(W,{onClick:m,disabled:p.isPending,className:"w-full",size:"lg",children:p.isPending?r.jsxs(r.Fragment,{children:[r.jsx($n,{className:"h-4 w-4 mr-2 animate-spin"}),"Registering Data Source..."]}):r.jsxs(r.Fragment,{children:[r.jsx(lb,{className:"h-4 w-4 mr-2"}),"Register Data Source"]})})]})]})}),r.jsx(Ee,{value:"integrations",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Available System Integrations"}),r.jsx(ve,{children:"Pre-configured integration templates for common external systems"})]}),r.jsx(Q,{children:f?r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx(Kn,{className:"h-8 w-8 animate-spin text-cyan-500"})}):E.length>0?r.jsx("div",{className:"space-y-4",children:E.map((D,U)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(JC,{className:"h-6 w-6 text-blue-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:D.systemName}),r.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:D.systemType.replace("_"," ")})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:D.isConfigured?"default":"secondary",children:D.isConfigured?"Configured":"Not Configured"}),r.jsx(J,{variant:"outline",className:N(D.status),children:D.status})]})]}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium mb-2",children:"Capabilities:"}),r.jsx("div",{className:"space-y-2",children:D.capabilities.map((R,se)=>r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium",children:R.name}),r.jsx("div",{className:"text-muted-foreground",children:R.description}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx("span",{className:"text-xs",children:"Data Types:"}),R.dataTypes.map((ge,te)=>r.jsx(J,{variant:"outline",className:"text-xs",children:ge},te))]})]},se))})]})}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[r.jsxs(W,{size:"sm",variant:"outline",children:[r.jsx($n,{className:"h-3 w-3 mr-1"}),"Configure"]}),r.jsxs(W,{size:"sm",variant:"outline",children:[r.jsx(Zt,{className:"h-3 w-3 mr-1"}),"Documentation"]}),r.jsxs(W,{size:"sm",variant:"outline",children:[r.jsx(vp,{className:"h-3 w-3 mr-1"}),"Test Connection"]})]})]},U))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(lb,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No integrations available"})]})})]})}),r.jsx(Ee,{value:"sync-history",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Synchronization History"}),r.jsx(ve,{children:"Review past synchronization results and performance metrics"})]}),r.jsx(Q,{children:i?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-semibold",children:["History for: ",i.sourceName]}),r.jsxs(W,{onClick:()=>v(i.sourceId),size:"sm",variant:"outline",children:[r.jsx(Kn,{className:"h-3 w-3 mr-1"}),"Refresh"]})]}),a.length>0?r.jsx("div",{className:"space-y-3",children:a.map((D,U)=>r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J,{variant:D.status==="success"?"default":D.status==="error"?"destructive":"secondary",children:D.status}),r.jsxs("span",{className:"text-sm font-medium",children:["Sync ID: ",D.syncId]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(D.startTime).toLocaleString()})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Processed:"})," ",D.recordsProcessed]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Created:"})," ",D.recordsCreated]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Updated:"})," ",D.recordsUpdated]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Skipped:"})," ",D.recordsSkipped]})]}),r.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:D.summary}),D.errors.length>0&&r.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-700",children:[r.jsx("strong",{children:"Errors:"})," ",D.errors.length," errors occurred during sync"]})]},U))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Is,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No sync history available for this data source"})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Is,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Select a data source from the Sources tab to view its sync history"})]})})]})}),r.jsx(Ee,{value:"monitoring",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Integration Monitoring"}),r.jsx(ve,{children:"Real-time monitoring of data integration pipeline performance"})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.filter(D=>D.isActive).length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Sources"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k.filter(D=>D.syncStatus==="completed").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Recent Syncs"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:k.filter(D=>D.syncStatus==="syncing").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Syncs"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:k.filter(D=>D.syncStatus==="error").length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed Syncs"})]})]}),r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Vs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Real-time monitoring dashboard"}),r.jsx("p",{className:"text-sm",children:"Integration metrics and performance data will appear here"})]})]})]})})]})]})}function pO(){Dt();const{data:e,isLoading:t,refetch:n,error:i}=Oe({queryKey:["/api/deployment/status"],queryFn:()=>fetch("/api/deployment/status").then(p=>p.json()),refetchInterval:3e4}),s=(e==null?void 0:e.deploymentStatus)||null,a=p=>{switch(p){case"passed":return r.jsx(Ct,{className:"h-4 w-4 text-green-600"});case"warning":return r.jsx(ut,{className:"h-4 w-4 text-yellow-600"});case"failed":return r.jsx(Jo,{className:"h-4 w-4 text-red-600"});case"pending":return r.jsx(Nr,{className:"h-4 w-4 text-gray-600"});default:return r.jsx(Nr,{className:"h-4 w-4 text-gray-600"})}},o=p=>{switch(p){case"production":return"text-green-600 bg-green-50";case"staging":return"text-blue-600 bg-blue-50";case"testing":return"text-yellow-600 bg-yellow-50";case"development":return"text-gray-600 bg-gray-50";case"maintenance":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},l=p=>{switch(p){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},c=p=>{switch(p){case"compliant":return"text-green-600";case"partial":return"text-yellow-600";case"non-compliant":return"text-red-600";default:return"text-gray-600"}},d=p=>p>=95?{level:"Production Ready",color:"text-green-600",icon:iy}:p>=85?{level:"Staging Ready",color:"text-blue-600",icon:_z}:p>=70?{level:"Testing Ready",color:"text-yellow-600",icon:Vs}:{level:"In Development",color:"text-gray-600",icon:$n};if(t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Kn,{className:"h-8 w-8 animate-spin text-blue-500"}),r.jsx("span",{className:"text-lg",children:"Assessing deployment readiness..."})]})});if(i||!s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs(Y,{className:"max-w-md",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2 text-red-600",children:[r.jsx(wr,{className:"h-5 w-5"}),r.jsx("span",{children:"Assessment Failed"})]}),r.jsx(ve,{children:"Unable to retrieve deployment status. Please check system connectivity."})]}),r.jsx(Q,{children:r.jsxs(W,{onClick:()=>n(),className:"w-full",children:[r.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Retry Assessment"]})})]})});const u=d(s.readinessScore),f=u.icon;return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Deployment Readiness Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Step 10: Complete system assessment and production deployment optimization"})]}),r.jsxs(W,{onClick:()=>n(),variant:"outline",children:[r.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Refresh Assessment"]})]}),r.jsx(Y,{className:"border-l-4 border-l-green-500",children:r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(ls,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{children:"Step 10: Final Deployment Optimization - System Integration Complete"})]}),r.jsx(ve,{children:"Comprehensive deployment readiness assessment with performance optimization, security validation, and compliance verification across all system components."})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(Y,{className:"col-span-1 md:col-span-2",children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Overall Readiness"}),r.jsx(f,{className:`h-6 w-6 ${u.color}`})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-3xl font-bold",children:[s.readinessScore,"%"]}),r.jsx(J,{className:o(s.deploymentStage),children:s.deploymentStage.toUpperCase()})]}),r.jsx(Rr,{value:s.readinessScore,className:"w-full"}),r.jsx("div",{className:`text-lg font-semibold ${u.color}`,children:u.level})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{children:"System Checks"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Passed"}),r.jsx("span",{className:"font-bold text-green-600",children:s.completedChecks.filter(p=>p.status==="passed").length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Warnings"}),r.jsx("span",{className:"font-bold text-yellow-600",children:s.completedChecks.filter(p=>p.status==="warning").length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed"}),r.jsx("span",{className:"font-bold text-red-600",children:s.completedChecks.filter(p=>p.status==="failed").length})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(os,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Security Score"})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[s.securityStatus.overallScore,"%"]}),r.jsx(Rr,{value:s.securityStatus.overallScore,className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.securityStatus.vulnerabilities.length," vulnerabilities"]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(Y,{children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Vs,{className:"h-4 w-4"}),r.jsx("span",{children:"API Response"})]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.apiResponseTimes.averageResponseTime,"ms"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Average response time"})]})]}),r.jsxs(Y,{children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Gn,{className:"h-4 w-4"}),r.jsx("span",{children:"DB Efficiency"})]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.databasePerformance.indexEfficiency,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Index efficiency"})]})]}),r.jsxs(Y,{children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Ez,{className:"h-4 w-4"}),r.jsx("span",{children:"Memory Usage"})]})}),r.jsxs(Q,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.systemResources.memoryUsage,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"System memory"})]})]}),r.jsxs(Y,{children:[r.jsx(X,{className:"pb-3",children:r.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[r.jsx(Ci,{className:"h-4 w-4"}),r.jsx("span",{children:"Throughput"})]})}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.performanceMetrics.apiResponseTimes.throughput}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests/second"})]})]})]}),r.jsxs(Zn,{defaultValue:"checks",className:"space-y-4",children:[r.jsxs(Ln,{className:"grid w-full grid-cols-5",children:[r.jsxs(Te,{value:"checks",children:["System Checks (",s.completedChecks.length,")"]}),r.jsx(Te,{value:"performance",children:"Performance"}),r.jsx(Te,{value:"security",children:"Security"}),r.jsx(Te,{value:"compliance",children:"Compliance"}),r.jsxs(Te,{value:"optimizations",children:["Optimizations (",s.optimizations.length,")"]})]}),r.jsx(Ee,{value:"checks",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"Deployment Checks"}),r.jsx(ve,{children:"Comprehensive system validation across all functional areas"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:s.completedChecks.map((p,h)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[a(p.status),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:p.checkName}),r.jsxs("div",{className:"text-sm text-muted-foreground capitalize",children:[p.checkType," • Priority: ",p.priority]})]})]}),r.jsx(J,{variant:l(p.priority),children:p.status.toUpperCase()})]}),r.jsx("p",{className:"text-sm mb-2",children:p.description}),p.result&&r.jsxs("div",{className:"text-sm bg-muted p-2 rounded mb-2",children:[r.jsx("strong",{children:"Result:"})," ",p.result]}),p.recommendations&&p.recommendations.length>0&&r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Recommendations:"}),r.jsx("ul",{className:"list-disc list-inside ml-2 mt-1",children:p.recommendations.map((v,m)=>r.jsx("li",{children:v},m))})]}),p.timestamp&&r.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Checked: ",new Date(p.timestamp).toLocaleString()]})]},h))})})]})}),r.jsx(Ee,{value:"performance",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"API Performance"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Average Response Time:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.averageResponseTime,"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"95th Percentile:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.p95ResponseTime,"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"99th Percentile:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.p99ResponseTime,"ms"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Throughput:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.throughput," req/s"]})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Database Performance"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Connection Pool Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.connectionPoolUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Index Efficiency:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.indexEfficiency,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Storage Utilization:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.storageUtilization,"%"]})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Frontend Performance"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Bundle Size:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.bundleSize,"MB"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Render Performance:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.renderPerformance,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Interactivity Score:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.interactivityScore,"%"]})]})]})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"System Resources"})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Memory Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.memoryUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"CPU Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.cpuUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Disk Usage:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.diskUsage,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Network Latency:"}),r.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.networkLatency,"ms"]})]})]})})]})]})}),r.jsx(Ee,{value:"security",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2",children:[r.jsx(os,{className:"h-5 w-5"}),r.jsx("span",{children:"Security Assessment"})]}),r.jsxs(ve,{children:["Overall security score: ",s.securityStatus.overallScore,"%"]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Security Score"}),r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[s.securityStatus.overallScore,"%"]})]}),r.jsx(Rr,{value:s.securityStatus.overallScore,className:"w-full"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Vulnerabilities"}),r.jsx("div",{className:"text-sm",children:s.securityStatus.vulnerabilities.length===0?r.jsx("div",{className:"text-green-600",children:"No critical vulnerabilities detected"}):r.jsxs("div",{children:[s.securityStatus.vulnerabilities.length," issues found"]})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Last Assessment"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.securityStatus.lastAssessmentDate).toLocaleString()})]})]})]})})]})}),r.jsx(Ee,{value:"compliance",children:r.jsx("div",{className:"space-y-4",children:Object.entries(s.complianceStatus).map(([p,h])=>r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center justify-between",children:[r.jsx("span",{className:"capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),r.jsx(J,{variant:"outline",className:c(h.status),children:h.status.toUpperCase()})]})}),r.jsx(Q,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Compliance Score:"}),r.jsxs("span",{className:"font-bold",children:[h.score,"%"]})]}),r.jsx(Rr,{value:h.score,className:"w-full"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-sm mb-1",children:["Checked Items (",h.checkedItems.length,")"]}),r.jsxs("ul",{className:"text-sm space-y-1",children:[h.checkedItems.slice(0,3).map((v,m)=>r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Ct,{className:"h-3 w-3 text-green-600"}),r.jsx("span",{children:v})]},m)),h.checkedItems.length>3&&r.jsxs("li",{className:"text-muted-foreground",children:["+",h.checkedItems.length-3," more"]})]})]}),h.failedItems.length>0&&r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-sm mb-1 text-red-600",children:["Failed Items (",h.failedItems.length,")"]}),r.jsx("ul",{className:"text-sm space-y-1",children:h.failedItems.map((v,m)=>r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Jo,{className:"h-3 w-3 text-red-600"}),r.jsx("span",{children:v})]},m))})]})]}),h.recommendations.length>0&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-sm mb-1",children:"Recommendations"}),r.jsx("ul",{className:"text-sm space-y-1",children:h.recommendations.map((v,m)=>r.jsxs("li",{className:"flex items-start space-x-2",children:[r.jsx(ut,{className:"h-3 w-3 text-yellow-600 mt-0.5"}),r.jsx("span",{children:v})]},m))})]})]})})]},p))})}),r.jsx(Ee,{value:"optimizations",children:r.jsxs(Y,{children:[r.jsxs(X,{children:[r.jsx(Z,{children:"System Optimizations"}),r.jsx(ve,{children:"Performance improvements and resource optimizations"})]}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-4",children:s.optimizations.map((p,h)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vp,{className:"h-4 w-4 text-blue-500"}),r.jsxs("span",{className:"font-semibold capitalize",children:[p.optimizationType.replace("_"," ")," Optimization"]})]}),r.jsx(J,{variant:p.implementationStatus==="deployed"?"default":p.implementationStatus==="implemented"?"secondary":"outline",children:p.implementationStatus.replace("_"," ")})]}),r.jsx("p",{className:"text-sm mb-3",children:p.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Impact: "}),r.jsx(J,{variant:p.impact==="high"?"default":p.impact==="medium"?"secondary":"outline",children:p.impact})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Performance Gain:"})," ",p.performanceGain]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("strong",{children:"Resource Savings:"})," ",p.resourceSavings]})]})]},h))})})]})})]}),s.readinessScore>=95&&r.jsxs(Y,{className:"border-green-200 bg-green-50",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center space-x-2 text-green-700",children:[r.jsx(iy,{className:"h-5 w-5"}),r.jsx("span",{children:"Ready for Production Deployment"})]}),r.jsx(ve,{children:"System has passed all critical checks and is ready for production deployment."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(W,{className:"bg-green-600 hover:bg-green-700",children:[r.jsx(iy,{className:"h-4 w-4 mr-2"}),"Deploy to Production"]}),r.jsxs(W,{variant:"outline",children:[r.jsx(LI,{className:"h-4 w-4 mr-2"}),"Generate Deployment Report"]})]})})]})]})}function Xwe(){const{toast:e}=Dt(),t=Br(),[n,i]=j.useState(null),[s,a]=j.useState({workflowType:"Standard",documentationLevel:"Standard",analysisDepth:"Standard",priority:"Medium",requiresApproval:!1,observedSymptoms:"",stakeholders:[],enableNotifications:!0,enableMilestoneReminders:!0}),[o,l]=j.useState(""),[c,d]=j.useState(!1),{data:u,isLoading:f}=Oe({queryKey:["/api/incidents"],queryFn:async()=>{const x=await fetch("/api/incidents");if(!x.ok)throw new Error("Failed to fetch incidents");return x.json()}}),{data:p,isLoading:h}=Oe({queryKey:["/api/workflows/notification-preview",n,s],queryFn:async()=>{if(!n)return null;const x=await fetch(`/api/workflows/${n}/notifications/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!x.ok)throw new Error("Failed to get preview");return x.json()},enabled:c&&!!n}),v=Ye({mutationFn:async x=>{const N=await fetch("/api/workflows/initiate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!N.ok){const w=await N.json();throw new Error(w.message||"Failed to initiate workflow")}return N.json()},onSuccess:x=>{e({title:"Workflow Initiated",description:`Workflow ${x.workflowId} created successfully. Due by ${np(new Date(x.dueAt),"PPP")}`}),i(null),a({workflowType:"Standard",documentationLevel:"Standard",analysisDepth:"Standard",priority:"Medium",requiresApproval:!1,observedSymptoms:"",stakeholders:[],enableNotifications:!0,enableMilestoneReminders:!0}),t.invalidateQueries({queryKey:["/api/incidents"]})},onError:x=>{e({title:"Error",description:x.message,variant:"destructive"})}}),m=u==null?void 0:u.find(x=>x.id===n),y=()=>{o.trim()&&s.stakeholders&&(a(x=>({...x,stakeholders:[...x.stakeholders||[],o.trim()]})),l(""))},b=x=>{a(N=>{var w;return{...N,stakeholders:((w=N.stakeholders)==null?void 0:w.filter(k=>k!==x))||[]}})},g=()=>{if(!n||!s){e({title:"Error",description:"Please select an incident and fill all required fields",variant:"destructive"});return}v.mutate({...s,incidentId:n})};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Workflow Integration"}),r.jsx("p",{className:"text-muted-foreground",children:"Initiate comprehensive analysis workflows for existing incidents"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"h-5 w-5"}),"Select Incident"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs(Be,{value:(n==null?void 0:n.toString())||"",onValueChange:x=>i(parseInt(x)),"data-testid":"select-incident",children:[r.jsx(qe,{children:r.jsx(Ue,{placeholder:"Choose incident to analyze..."})}),r.jsx(Ve,{children:f?r.jsxs(ee,{value:"loading",disabled:!0,children:[r.jsx(Dm,{className:"h-4 w-4 animate-spin mr-2"}),"Loading incidents..."]}):u==null?void 0:u.map(x=>r.jsx(ee,{value:x.id.toString(),children:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("span",{children:["INC_",x.id.toString().padStart(6,"0")]}),r.jsx(J,{variant:x.priority==="Critical"?"destructive":x.priority==="High"?"default":"secondary",children:x.priority})]})},x.id))})]}),m&&r.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium",children:m.title||"Untitled Incident"}),r.jsx(J,{children:m.workflowStatus})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:m.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Equipment:"})," ",m.equipmentGroup," - ",m.equipmentType]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Location:"})," ",m.location]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Reported by:"})," ",m.reportedBy]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Date:"})," ",np(new Date(m.incidentDateTime),"PPP")]})]})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Workflow Configuration"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Workflow Type"}),r.jsxs(Be,{value:s.workflowType,onValueChange:x=>a(N=>({...N,workflowType:x})),"data-testid":"select-workflow-type",children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsx(Ve,{children:r.jsx(ee,{value:"Standard",children:"Standard (24h)"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Priority"}),r.jsxs(Be,{value:s.priority,onValueChange:x=>a(N=>({...N,priority:x})),"data-testid":"select-priority",children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"Low",children:"Low"}),r.jsx(ee,{value:"Medium",children:"Medium"}),r.jsx(ee,{value:"High",children:"High"}),r.jsx(ee,{value:"Critical",children:"Critical"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Documentation Level"}),r.jsxs(Be,{value:s.documentationLevel,onValueChange:x=>a(N=>({...N,documentationLevel:x})),"data-testid":"select-documentation-level",children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"Basic",children:"Basic"}),r.jsx(ee,{value:"Standard",children:"Standard"}),r.jsx(ee,{value:"Comprehensive",children:"Comprehensive"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Analysis Depth"}),r.jsxs(Be,{value:s.analysisDepth,onValueChange:x=>a(N=>({...N,analysisDepth:x})),"data-testid":"select-analysis-depth",children:[r.jsx(qe,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(ee,{value:"Surface",children:"Surface"}),r.jsx(ee,{value:"Standard",children:"Standard"}),r.jsx(ee,{value:"Deep",children:"Deep"})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xr,{checked:s.requiresApproval,onCheckedChange:x=>a(N=>({...N,requiresApproval:x})),"data-testid":"switch-requires-approval"}),r.jsx("label",{className:"text-sm font-medium",children:"Requires Approval"})]})]})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"h-5 w-5"}),"Observed Symptoms"]})}),r.jsx(Q,{children:r.jsx(We,{placeholder:"Describe the observed symptoms and manifestations...",value:s.observedSymptoms,onChange:x=>a(N=>({...N,observedSymptoms:x.target.value})),rows:4,"data-testid":"input-observed-symptoms"})})]}),r.jsxs(Y,{children:[r.jsx(X,{children:r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(xN,{className:"h-5 w-5"}),"Stakeholders & Notifications"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"email",placeholder:"Add stakeholder email...",value:o,onChange:x=>l(x.target.value),onKeyPress:x=>x.key==="Enter"&&y(),className:"flex-1 px-3 py-2 border rounded-md","data-testid":"input-stakeholder-email"}),r.jsx(W,{onClick:y,variant:"outline","data-testid":"button-add-stakeholder",children:"Add"})]}),s.stakeholders&&s.stakeholders.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:s.stakeholders.map(x=>r.jsxs(J,{variant:"secondary",className:"cursor-pointer",onClick:()=>b(x),"data-testid":`stakeholder-${x}`,children:[x," ×"]},x))}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xr,{checked:s.enableNotifications,onCheckedChange:x=>a(N=>({...N,enableNotifications:x})),"data-testid":"switch-enable-notifications"}),r.jsx("label",{className:"text-sm font-medium",children:"Enable Notifications"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xr,{checked:s.enableMilestoneReminders,onCheckedChange:x=>a(N=>({...N,enableMilestoneReminders:x})),"data-testid":"switch-enable-reminders"}),r.jsx("label",{className:"text-sm font-medium",children:"Enable Milestone Reminders"})]})]})]})]})]}),n&&r.jsxs(Y,{children:[r.jsx(X,{children:r.jsx(Z,{children:"Notification Preview"})}),r.jsxs(Q,{children:[r.jsx("div",{className:"flex gap-2 mb-4",children:r.jsx(W,{variant:"outline",onClick:()=>d(!c),disabled:h,"data-testid":"button-preview-notifications",children:h?r.jsxs(r.Fragment,{children:[r.jsx(Dm,{className:"h-4 w-4 animate-spin mr-2"}),"Loading Preview..."]}):"Preview Notifications"})}),c&&p&&r.jsx(Kt,{children:r.jsx(Yt,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Recipients:"})," ",p.recipients.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Subject:"})," ",p.subject]}),r.jsx("div",{className:"border rounded p-2 bg-muted",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:p.content}})})]})})})]})]}),r.jsx("div",{className:"flex justify-end gap-4",children:r.jsx(W,{onClick:g,disabled:!n||v.isPending,className:"min-w-[200px]","data-testid":"button-initiate-workflow",children:v.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Dm,{className:"h-4 w-4 animate-spin mr-2"}),"Initiating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Initiate Workflow Process"]})})})]})}function Zwe(){return console.log("Current route:",window.location.pathname+window.location.search),console.log("Full URL:",window.location.href),j.useEffect(()=>{JU().catch(console.error)},[]),r.jsxs(D6,{children:[r.jsx(dt,{path:"/",component:oge}),r.jsx(dt,{path:"/new",component:Oye}),r.jsx(dt,{path:"/investigation/:id/type",component:Tye}),r.jsx(dt,{path:"/investigation/:id/evidence",component:$P}),r.jsx(dt,{path:"/investigation/:id",component:Sye}),r.jsx(dt,{path:"/admin",component:SP}),r.jsx(dt,{path:"/admin-settings",component:SP}),r.jsx(dt,{path:"/admin/evidence",component:aO}),r.jsx(dt,{path:"/admin/integrations",component:fO}),r.jsx(dt,{path:"/admin/taxonomy",component:Vwe}),r.jsx(dt,{path:"/incident-reporting",component:Pwe}),r.jsx(dt,{path:"/workflow/integration",component:Xwe}),r.jsx(dt,{path:"/analysis-engine",component:dO}),r.jsx(dt,{path:"/ai-powered-rca",component:uO}),r.jsx(dt,{path:"/analysis-history",component:pO}),r.jsx(dt,{path:"/admin/evidence-library",component:k0e}),r.jsx(dt,{path:"/admin/evidence-management",component:Qy}),r.jsx(dt,{path:"/admin/evidence-library-management",component:aO}),r.jsx(dt,{path:"/admin/fault-reference-library",component:Uwe}),r.jsx(dt,{path:"/evidence-analysis-demo",component:dO}),r.jsx(dt,{path:"/rca-analysis-demo",component:uO}),r.jsx(dt,{path:"/workflow-integration-demo",component:fO}),r.jsx(dt,{path:"/data-integration-demo",component:Qwe}),r.jsx(dt,{path:"/deployment-ready",component:pO}),r.jsx(dt,{path:"/evidence-library-management",component:Qy}),r.jsx(dt,{path:"/evidence-library",component:Qy}),r.jsx(dt,{path:"/debug",component:Bwe}),r.jsx(dt,{path:"/admin/analysis-engine",component:()=>(window.location.href="/analysis-engine",null)}),r.jsx(dt,{path:"/admin/ai-powered-rca",component:()=>(window.location.href="/ai-powered-rca",null)}),r.jsx(dt,{path:"/admin/analysis",component:()=>(window.location.href="/analysis-engine",null)}),r.jsx(dt,{path:"/admin/ai",component:()=>(window.location.href="/ai-powered-rca",null)}),r.jsx(dt,{path:"/equipment-selection",component:Twe}),r.jsx(dt,{path:"/evidence-checklist",component:Rwe}),r.jsx(dt,{path:"/evidence-collection",component:$P}),r.jsx(dt,{path:"/human-review",component:lO}),r.jsx(dt,{path:"/incidents/:id/human-review",component:lO}),r.jsx(dt,{path:"/incidents/:id/analysis",component:cO}),r.jsx(dt,{path:"/ai-analysis",component:cO}),r.jsx(dt,{path:"/engineer-review",component:$we}),r.jsx(dt,{path:"/nlp-analysis",component:Dwe}),r.jsx(dt,{path:"/incidents/:id/fallback-analysis",component:Mwe}),r.jsx(dt,{path:"/summary-report/:incidentId",component:Fwe}),r.jsx(dt,{path:"/analysis-details/:incidentId",component:Lwe}),r.jsx(dt,{component:zwe})]})}function Jwe(){return r.jsx(YU,{children:r.jsx(r8,{client:Ot,children:r.jsxs(MR,{children:[r.jsx(xB,{}),r.jsx(Zwe,{})]})})})}$_(document.getElementById("root")).render(r.jsx(Jwe,{}));
